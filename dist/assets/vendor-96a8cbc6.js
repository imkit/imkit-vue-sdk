var Ui=Object.defineProperty;var $i=(n,e,r)=>e in n?Ui(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r;var Qn=(n,e,r)=>($i(n,typeof e!="symbol"?e+"":e,r),r),Mr=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)};var Qt=(n,e,r)=>(Mr(n,e,"read from private field"),r?r.call(n):e.get(n)),Pn=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},qt=(n,e,r,s)=>(Mr(n,e,"write to private field"),s?s.call(n,r):e.set(n,r),r),Yn=(n,e,r,s)=>({set _(a){qt(n,e,a,r)},get _(){return Qt(n,e,s)}});function makeMap(n,e){const r=Object.create(null),s=n.split(",");for(let a=0;a<s.length;a++)r[s[a]]=!0;return e?a=>!!r[a.toLowerCase()]:a=>!!r[a]}function normalizeStyle(n){if(isArray$2(n)){const e={};for(let r=0;r<n.length;r++){const s=n[r],a=isString$2(s)?parseStringStyle(s):normalizeStyle(s);if(a)for(const l in a)e[l]=a[l]}return e}else{if(isString$2(n))return n;if(isObject$6(n))return n}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(n){const e={};return n.replace(styleCommentRE,"").split(listDelimiterRE).forEach(r=>{if(r){const s=r.split(propertyDelimiterRE);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function normalizeClass(n){let e="";if(isString$2(n))e=n;else if(isArray$2(n))for(let r=0;r<n.length;r++){const s=normalizeClass(n[r]);s&&(e+=s+" ")}else if(isObject$6(n))for(const r in n)n[r]&&(e+=r+" ");return e.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(n){return!!n||n===""}const toDisplayString$1=n=>isString$2(n)?n:n==null?"":isArray$2(n)||isObject$6(n)&&(n.toString===objectToString$1||!isFunction$4(n.toString))?JSON.stringify(n,replacer,2):String(n),replacer=(n,e)=>e&&e.__v_isRef?replacer(n,e.value):isMap(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[s,a])=>(r[`${s} =>`]=a,r),{})}:isSet(e)?{[`Set(${e.size})`]:[...e.values()]}:isObject$6(e)&&!isArray$2(e)&&!isPlainObject$2(e)?String(e):e,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=n=>onRE.test(n),isModelListener=n=>n.startsWith("onUpdate:"),extend$2=Object.assign,remove$2=(n,e)=>{const r=n.indexOf(e);r>-1&&n.splice(r,1)},hasOwnProperty$3=Object.prototype.hasOwnProperty,hasOwn$1=(n,e)=>hasOwnProperty$3.call(n,e),isArray$2=Array.isArray,isMap=n=>toTypeString$1(n)==="[object Map]",isSet=n=>toTypeString$1(n)==="[object Set]",isFunction$4=n=>typeof n=="function",isString$2=n=>typeof n=="string",isSymbol=n=>typeof n=="symbol",isObject$6=n=>n!==null&&typeof n=="object",isPromise$2=n=>isObject$6(n)&&isFunction$4(n.then)&&isFunction$4(n.catch),objectToString$1=Object.prototype.toString,toTypeString$1=n=>objectToString$1.call(n),toRawType=n=>toTypeString$1(n).slice(8,-1),isPlainObject$2=n=>toTypeString$1(n)==="[object Object]",isIntegerKey=n=>isString$2(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=n=>{const e=Object.create(null);return r=>e[r]||(e[r]=n(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(n=>n.replace(camelizeRE,(e,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(n=>n.replace(hyphenateRE,"-$1").toLowerCase()),capitalize$2=cacheStringFunction(n=>n.charAt(0).toUpperCase()+n.slice(1)),toHandlerKey=cacheStringFunction(n=>n?`on${capitalize$2(n)}`:""),hasChanged=(n,e)=>!Object.is(n,e),invokeArrayFns=(n,e)=>{for(let r=0;r<n.length;r++)n[r](e)},def=(n,e,r)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:r})},looseToNumber=n=>{const e=parseFloat(n);return isNaN(e)?n:e},toNumber=n=>{const e=isString$2(n)?Number(n):NaN;return isNaN(e)?n:e};let _globalThis$1;const getGlobalThis$1=()=>_globalThis$1||(_globalThis$1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=r}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this._active){let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.scopes)for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(n){return new EffectScope(n)}function recordEffectScope(n,e=activeEffectScope){e&&e.active&&e.effects.push(n)}function getCurrentScope(){return activeEffectScope}const createDep=n=>{const e=new Set(n);return e.w=0,e.n=0,e},wasTracked=n=>(n.w&trackOpBit)>0,newTracked=n=>(n.n&trackOpBit)>0,initDepMarkers=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=trackOpBit},finalizeDepMarkers=n=>{const{deps:e}=n;if(e.length){let r=0;for(let s=0;s<e.length;s++){const a=e[s];wasTracked(a)&&!newTracked(a)?a.delete(n):e[r++]=a,a.w&=~trackOpBit,a.n&=~trackOpBit}e.length=r}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(e,r=null,s){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,s)}run(){if(!this.active)return this.fn();let e=activeEffect,r=shouldTrack;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(n){const{deps:e}=n;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(n);e.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const n=trackStack.pop();shouldTrack=n===void 0?!0:n}function track(n,e,r){if(shouldTrack&&activeEffect){let s=targetMap.get(n);s||targetMap.set(n,s=new Map);let a=s.get(r);a||s.set(r,a=createDep()),trackEffects(a)}}function trackEffects(n,e){let r=!1;effectTrackDepth<=maxMarkerBits?newTracked(n)||(n.n|=trackOpBit,r=!wasTracked(n)):r=!n.has(activeEffect),r&&(n.add(activeEffect),activeEffect.deps.push(n))}function trigger$1(n,e,r,s,a,l){const f=targetMap.get(n);if(!f)return;let c=[];if(e==="clear")c=[...f.values()];else if(r==="length"&&isArray$2(n)){const d=Number(s);f.forEach((g,b)=>{(b==="length"||b>=d)&&c.push(g)})}else switch(r!==void 0&&c.push(f.get(r)),e){case"add":isArray$2(n)?isIntegerKey(r)&&c.push(f.get("length")):(c.push(f.get(ITERATE_KEY)),isMap(n)&&c.push(f.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$2(n)||(c.push(f.get(ITERATE_KEY)),isMap(n)&&c.push(f.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(n)&&c.push(f.get(ITERATE_KEY));break}if(c.length===1)c[0]&&triggerEffects(c[0]);else{const d=[];for(const g of c)g&&d.push(...g);triggerEffects(createDep(d))}}function triggerEffects(n,e){const r=isArray$2(n)?n:[...n];for(const s of r)s.computed&&triggerEffect(s);for(const s of r)s.computed||triggerEffect(s)}function triggerEffect(n,e){(n!==activeEffect||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}function getDepFromReactive(n,e){var r;return(r=targetMap.get(n))===null||r===void 0?void 0:r.get(e)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...r){const s=toRaw(this);for(let l=0,f=this.length;l<f;l++)track(s,"get",l+"");const a=s[e](...r);return a===-1||a===!1?s[e](...r.map(toRaw)):a}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...r){pauseTracking();const s=toRaw(this)[e].apply(this,r);return resetTracking(),s}}),n}function hasOwnProperty$2(n){const e=toRaw(this);return track(e,"has",n),e.hasOwnProperty(n)}function createGetter(n=!1,e=!1){return function(s,a,l){if(a==="__v_isReactive")return!n;if(a==="__v_isReadonly")return n;if(a==="__v_isShallow")return e;if(a==="__v_raw"&&l===(n?e?shallowReadonlyMap:readonlyMap:e?shallowReactiveMap:reactiveMap).get(s))return s;const f=isArray$2(s);if(!n){if(f&&hasOwn$1(arrayInstrumentations,a))return Reflect.get(arrayInstrumentations,a,l);if(a==="hasOwnProperty")return hasOwnProperty$2}const c=Reflect.get(s,a,l);return(isSymbol(a)?builtInSymbols.has(a):isNonTrackableKeys(a))||(n||track(s,"get",a),e)?c:isRef(c)?f&&isIntegerKey(a)?c:c.value:isObject$6(c)?n?readonly(c):reactive(c):c}}const set$1$1=createSetter(),shallowSet=createSetter(!0);function createSetter(n=!1){return function(r,s,a,l){let f=r[s];if(isReadonly(f)&&isRef(f)&&!isRef(a))return!1;if(!n&&(!isShallow(a)&&!isReadonly(a)&&(f=toRaw(f),a=toRaw(a)),!isArray$2(r)&&isRef(f)&&!isRef(a)))return f.value=a,!0;const c=isArray$2(r)&&isIntegerKey(s)?Number(s)<r.length:hasOwn$1(r,s),d=Reflect.set(r,s,a,l);return r===toRaw(l)&&(c?hasChanged(a,f)&&trigger$1(r,"set",s,a):trigger$1(r,"add",s,a)),d}}function deleteProperty(n,e){const r=hasOwn$1(n,e);n[e];const s=Reflect.deleteProperty(n,e);return s&&r&&trigger$1(n,"delete",e,void 0),s}function has$1(n,e){const r=Reflect.has(n,e);return(!isSymbol(e)||!builtInSymbols.has(e))&&track(n,"has",e),r}function ownKeys$3(n){return track(n,"iterate",isArray$2(n)?"length":ITERATE_KEY),Reflect.ownKeys(n)}const mutableHandlers={get:get$1,set:set$1$1,deleteProperty,has:has$1,ownKeys:ownKeys$3},readonlyHandlers={get:readonlyGet,set(n,e){return!0},deleteProperty(n,e){return!0}},shallowReactiveHandlers=extend$2({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=n=>n,getProto=n=>Reflect.getPrototypeOf(n);function get$2(n,e,r=!1,s=!1){n=n.__v_raw;const a=toRaw(n),l=toRaw(e);r||(e!==l&&track(a,"get",e),track(a,"get",l));const{has:f}=getProto(a),c=s?toShallow:r?toReadonly:toReactive;if(f.call(a,e))return c(n.get(e));if(f.call(a,l))return c(n.get(l));n!==a&&n.get(e)}function has(n,e=!1){const r=this.__v_raw,s=toRaw(r),a=toRaw(n);return e||(n!==a&&track(s,"has",n),track(s,"has",a)),n===a?r.has(n):r.has(n)||r.has(a)}function size(n,e=!1){return n=n.__v_raw,!e&&track(toRaw(n),"iterate",ITERATE_KEY),Reflect.get(n,"size",n)}function add(n){n=toRaw(n);const e=toRaw(this);return getProto(e).has.call(e,n)||(e.add(n),trigger$1(e,"add",n,n)),this}function set$2(n,e){e=toRaw(e);const r=toRaw(this),{has:s,get:a}=getProto(r);let l=s.call(r,n);l||(n=toRaw(n),l=s.call(r,n));const f=a.call(r,n);return r.set(n,e),l?hasChanged(e,f)&&trigger$1(r,"set",n,e):trigger$1(r,"add",n,e),this}function deleteEntry(n){const e=toRaw(this),{has:r,get:s}=getProto(e);let a=r.call(e,n);a||(n=toRaw(n),a=r.call(e,n)),s&&s.call(e,n);const l=e.delete(n);return a&&trigger$1(e,"delete",n,void 0),l}function clear(){const n=toRaw(this),e=n.size!==0,r=n.clear();return e&&trigger$1(n,"clear",void 0,void 0),r}function createForEach(n,e){return function(s,a){const l=this,f=l.__v_raw,c=toRaw(f),d=e?toShallow:n?toReadonly:toReactive;return!n&&track(c,"iterate",ITERATE_KEY),f.forEach((g,b)=>s.call(a,d(g),d(b),l))}}function createIterableMethod(n,e,r){return function(...s){const a=this.__v_raw,l=toRaw(a),f=isMap(l),c=n==="entries"||n===Symbol.iterator&&f,d=n==="keys"&&f,g=a[n](...s),b=r?toShallow:e?toReadonly:toReactive;return!e&&track(l,"iterate",d?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:m,done:_}=g.next();return _?{value:m,done:_}:{value:c?[b(m[0]),b(m[1])]:b(m),done:_}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(n){return function(...e){return n==="delete"?!1:this}}function createInstrumentations(){const n={get(l){return get$2(this,l)},get size(){return size(this)},has,add,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},e={get(l){return get$2(this,l,!1,!0)},get size(){return size(this)},has,add,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},r={get(l){return get$2(this,l,!0)},get size(){return size(this,!0)},has(l){return has.call(this,l,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},s={get(l){return get$2(this,l,!0,!0)},get size(){return size(this,!0)},has(l){return has.call(this,l,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{n[l]=createIterableMethod(l,!1,!1),r[l]=createIterableMethod(l,!0,!1),e[l]=createIterableMethod(l,!1,!0),s[l]=createIterableMethod(l,!0,!0)}),[n,r,e,s]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(n,e){const r=e?n?shallowReadonlyInstrumentations:shallowInstrumentations:n?readonlyInstrumentations:mutableInstrumentations;return(s,a,l)=>a==="__v_isReactive"?!n:a==="__v_isReadonly"?n:a==="__v_raw"?s:Reflect.get(hasOwn$1(r,a)&&a in s?r:s,a,l)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(n){return n.__v_skip||!Object.isExtensible(n)?0:targetTypeMap(toRawType(n))}function reactive(n){return isReadonly(n)?n:createReactiveObject(n,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(n){return createReactiveObject(n,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(n){return createReactiveObject(n,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(n,e,r,s,a){if(!isObject$6(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const l=a.get(n);if(l)return l;const f=getTargetType(n);if(f===0)return n;const c=new Proxy(n,f===2?s:r);return a.set(n,c),c}function isReactive(n){return isReadonly(n)?isReactive(n.__v_raw):!!(n&&n.__v_isReactive)}function isReadonly(n){return!!(n&&n.__v_isReadonly)}function isShallow(n){return!!(n&&n.__v_isShallow)}function isProxy(n){return isReactive(n)||isReadonly(n)}function toRaw(n){const e=n&&n.__v_raw;return e?toRaw(e):n}function markRaw(n){return def(n,"__v_skip",!0),n}const toReactive=n=>isObject$6(n)?reactive(n):n,toReadonly=n=>isObject$6(n)?readonly(n):n;function trackRefValue(n){shouldTrack&&activeEffect&&(n=toRaw(n),trackEffects(n.dep||(n.dep=createDep())))}function triggerRefValue(n,e){n=toRaw(n);const r=n.dep;r&&triggerEffects(r)}function isRef(n){return!!(n&&n.__v_isRef===!0)}function ref(n){return createRef(n,!1)}function shallowRef(n){return createRef(n,!0)}function createRef(n,e){return isRef(n)?n:new RefImpl(n,e)}class RefImpl{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:toRaw(e),this._value=r?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){const r=this.__v_isShallow||isShallow(e)||isReadonly(e);e=r?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:toReactive(e),triggerRefValue(this))}}function unref(n){return isRef(n)?n.value:n}const shallowUnwrapHandlers={get:(n,e,r)=>unref(Reflect.get(n,e,r)),set:(n,e,r,s)=>{const a=n[e];return isRef(a)&&!isRef(r)?(a.value=r,!0):Reflect.set(n,e,r,s)}};function proxyRefs(n){return isReactive(n)?n:new Proxy(n,shallowUnwrapHandlers)}class ObjectRefImpl{constructor(e,r,s){this._object=e,this._key=r,this._defaultValue=s,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}function toRef(n,e,r){const s=n[e];return isRef(s)?s:new ObjectRefImpl(n,e,r)}var _a$1;class ComputedRefImpl{constructor(e,r,s,a){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[_a$1]=!1,this._dirty=!0,this.effect=new ReactiveEffect(e,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=s}get value(){const e=toRaw(this);return trackRefValue(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}_a$1="__v_isReadonly";function computed$1(n,e,r=!1){let s,a;const l=isFunction$4(n);return l?(s=n,a=NOOP):(s=n.get,a=n.set),new ComputedRefImpl(s,a,l||!a,r)}function warn$1(n,...e){}function callWithErrorHandling(n,e,r,s){let a;try{a=s?n(...s):n()}catch(l){handleError(l,e,r)}return a}function callWithAsyncErrorHandling(n,e,r,s){if(isFunction$4(n)){const l=callWithErrorHandling(n,e,r,s);return l&&isPromise$2(l)&&l.catch(f=>{handleError(f,e,r)}),l}const a=[];for(let l=0;l<n.length;l++)a.push(callWithAsyncErrorHandling(n[l],e,r,s));return a}function handleError(n,e,r,s=!0){const a=e?e.vnode:null;if(e){let l=e.parent;const f=e.proxy,c=r;for(;l;){const g=l.ec;if(g){for(let b=0;b<g.length;b++)if(g[b](n,f,c)===!1)return}l=l.parent}const d=e.appContext.config.errorHandler;if(d){callWithErrorHandling(d,null,10,[n,f,c]);return}}logError(n,r,a,s)}function logError(n,e,r,s=!0){console.error(n)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick$1(n){const e=currentFlushPromise||resolvedPromise;return n?e.then(this?n.bind(this):n):e}function findInsertionIndex(n){let e=flushIndex+1,r=queue.length;for(;e<r;){const s=e+r>>>1;getId$1(queue[s])<n?e=s+1:r=s}return e}function queueJob(n){(!queue.length||!queue.includes(n,isFlushing&&n.allowRecurse?flushIndex+1:flushIndex))&&(n.id==null?queue.push(n):queue.splice(findInsertionIndex(n.id),0,n),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(n){const e=queue.indexOf(n);e>flushIndex&&queue.splice(e,1)}function queuePostFlushCb(n){isArray$2(n)?pendingPostFlushCbs.push(...n):(!activePostFlushCbs||!activePostFlushCbs.includes(n,n.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(n),queueFlush()}function flushPreFlushCbs(n,e=isFlushing?flushIndex+1:0){for(;e<queue.length;e++){const r=queue[e];r&&r.pre&&(queue.splice(e,1),e--,r())}}function flushPostFlushCbs(n){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,activePostFlushCbs.sort((r,s)=>getId$1(r)-getId$1(s)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId$1=n=>n.id==null?1/0:n.id,comparator=(n,e)=>{const r=getId$1(n)-getId$1(e);if(r===0){if(n.pre&&!e.pre)return-1;if(e.pre&&!n.pre)return 1}return r};function flushJobs(n){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const e=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const r=queue[flushIndex];r&&r.active!==!1&&callWithErrorHandling(r,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(n,e,...r){if(n.isUnmounted)return;const s=n.vnode.props||EMPTY_OBJ;let a=r;const l=e.startsWith("update:"),f=l&&e.slice(7);if(f&&f in s){const b=`${f==="modelValue"?"model":f}Modifiers`,{number:m,trim:_}=s[b]||EMPTY_OBJ;_&&(a=r.map(x=>isString$2(x)?x.trim():x)),m&&(a=r.map(looseToNumber))}let c,d=s[c=toHandlerKey(e)]||s[c=toHandlerKey(camelize(e))];!d&&l&&(d=s[c=toHandlerKey(hyphenate(e))]),d&&callWithAsyncErrorHandling(d,n,6,a);const g=s[c+"Once"];if(g){if(!n.emitted)n.emitted={};else if(n.emitted[c])return;n.emitted[c]=!0,callWithAsyncErrorHandling(g,n,6,a)}}function normalizeEmitsOptions(n,e,r=!1){const s=e.emitsCache,a=s.get(n);if(a!==void 0)return a;const l=n.emits;let f={},c=!1;if(!isFunction$4(n)){const d=g=>{const b=normalizeEmitsOptions(g,e,!0);b&&(c=!0,extend$2(f,b))};!r&&e.mixins.length&&e.mixins.forEach(d),n.extends&&d(n.extends),n.mixins&&n.mixins.forEach(d)}return!l&&!c?(isObject$6(n)&&s.set(n,null),null):(isArray$2(l)?l.forEach(d=>f[d]=null):extend$2(f,l),isObject$6(n)&&s.set(n,f),f)}function isEmitListener(n,e){return!n||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn$1(n,e[0].toLowerCase()+e.slice(1))||hasOwn$1(n,hyphenate(e))||hasOwn$1(n,e))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(n){const e=currentRenderingInstance;return currentRenderingInstance=n,currentScopeId=n&&n.type.__scopeId||null,e}function pushScopeId(n){currentScopeId=n}function popScopeId(){currentScopeId=null}const withScopeId=n=>withCtx;function withCtx(n,e=currentRenderingInstance,r){if(!e||n._n)return n;const s=(...a)=>{s._d&&setBlockTracking(-1);const l=setCurrentRenderingInstance(e);let f;try{f=n(...a)}finally{setCurrentRenderingInstance(l),s._d&&setBlockTracking(1)}return f};return s._n=!0,s._c=!0,s._d=!0,s}function markAttrsAccessed(){}function renderComponentRoot(n){const{type:e,vnode:r,proxy:s,withProxy:a,props:l,propsOptions:[f],slots:c,attrs:d,emit:g,render:b,renderCache:m,data:_,setupState:x,ctx:k,inheritAttrs:q}=n;let j,ne;const se=setCurrentRenderingInstance(n);try{if(r.shapeFlag&4){const ue=a||s;j=normalizeVNode(b.call(ue,ue,m,l,x,_,k)),ne=d}else{const ue=e;j=normalizeVNode(ue.length>1?ue(l,{attrs:d,slots:c,emit:g}):ue(l,null)),ne=e.props?d:getFunctionalFallthrough(d)}}catch(ue){blockStack.length=0,handleError(ue,n,1),j=createVNode(Comment$1)}let le=j;if(ne&&q!==!1){const ue=Object.keys(ne),{shapeFlag:he}=le;ue.length&&he&7&&(f&&ue.some(isModelListener)&&(ne=filterModelListeners(ne,f)),le=cloneVNode(le,ne))}return r.dirs&&(le=cloneVNode(le),le.dirs=le.dirs?le.dirs.concat(r.dirs):r.dirs),r.transition&&(le.transition=r.transition),j=le,setCurrentRenderingInstance(se),j}const getFunctionalFallthrough=n=>{let e;for(const r in n)(r==="class"||r==="style"||isOn(r))&&((e||(e={}))[r]=n[r]);return e},filterModelListeners=(n,e)=>{const r={};for(const s in n)(!isModelListener(s)||!(s.slice(9)in e))&&(r[s]=n[s]);return r};function shouldUpdateComponent(n,e,r){const{props:s,children:a,component:l}=n,{props:f,children:c,patchFlag:d}=e,g=l.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&d>=0){if(d&1024)return!0;if(d&16)return s?hasPropsChanged(s,f,g):!!f;if(d&8){const b=e.dynamicProps;for(let m=0;m<b.length;m++){const _=b[m];if(f[_]!==s[_]&&!isEmitListener(g,_))return!0}}}else return(a||c)&&(!c||!c.$stable)?!0:s===f?!1:s?f?hasPropsChanged(s,f,g):!0:!!f;return!1}function hasPropsChanged(n,e,r){const s=Object.keys(e);if(s.length!==Object.keys(n).length)return!0;for(let a=0;a<s.length;a++){const l=s[a];if(e[l]!==n[l]&&!isEmitListener(r,l))return!0}return!1}function updateHOCHostEl({vnode:n,parent:e},r){for(;e&&e.subTree===n;)(n=e.vnode).el=r,e=e.parent}const isSuspense=n=>n.__isSuspense;function queueEffectWithSuspense(n,e){e&&e.pendingBranch?isArray$2(n)?e.effects.push(...n):e.effects.push(n):queuePostFlushCb(n)}function provide(n,e){if(currentInstance){let r=currentInstance.provides;const s=currentInstance.parent&&currentInstance.parent.provides;s===r&&(r=currentInstance.provides=Object.create(s)),r[n]=e}}function inject(n,e,r=!1){const s=currentInstance||currentRenderingInstance;if(s){const a=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(a&&n in a)return a[n];if(arguments.length>1)return r&&isFunction$4(e)?e.call(s.proxy):e}}const INITIAL_WATCHER_VALUE={};function watch(n,e,r){return doWatch(n,e,r)}function doWatch(n,e,{immediate:r,deep:s,flush:a,onTrack:l,onTrigger:f}=EMPTY_OBJ){const c=getCurrentScope()===(currentInstance==null?void 0:currentInstance.scope)?currentInstance:null;let d,g=!1,b=!1;if(isRef(n)?(d=()=>n.value,g=isShallow(n)):isReactive(n)?(d=()=>n,s=!0):isArray$2(n)?(b=!0,g=n.some(le=>isReactive(le)||isShallow(le)),d=()=>n.map(le=>{if(isRef(le))return le.value;if(isReactive(le))return traverse(le);if(isFunction$4(le))return callWithErrorHandling(le,c,2)})):isFunction$4(n)?e?d=()=>callWithErrorHandling(n,c,2):d=()=>{if(!(c&&c.isUnmounted))return m&&m(),callWithAsyncErrorHandling(n,c,3,[_])}:d=NOOP,e&&s){const le=d;d=()=>traverse(le())}let m,_=le=>{m=ne.onStop=()=>{callWithErrorHandling(le,c,4)}},x;if(isInSSRComponentSetup)if(_=NOOP,e?r&&callWithAsyncErrorHandling(e,c,3,[d(),b?[]:void 0,_]):d(),a==="sync"){const le=useSSRContext();x=le.__watcherHandles||(le.__watcherHandles=[])}else return NOOP;let k=b?new Array(n.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const q=()=>{if(ne.active)if(e){const le=ne.run();(s||g||(b?le.some((ue,he)=>hasChanged(ue,k[he])):hasChanged(le,k)))&&(m&&m(),callWithAsyncErrorHandling(e,c,3,[le,k===INITIAL_WATCHER_VALUE?void 0:b&&k[0]===INITIAL_WATCHER_VALUE?[]:k,_]),k=le)}else ne.run()};q.allowRecurse=!!e;let j;a==="sync"?j=q:a==="post"?j=()=>queuePostRenderEffect(q,c&&c.suspense):(q.pre=!0,c&&(q.id=c.uid),j=()=>queueJob(q));const ne=new ReactiveEffect(d,j);e?r?q():k=ne.run():a==="post"?queuePostRenderEffect(ne.run.bind(ne),c&&c.suspense):ne.run();const se=()=>{ne.stop(),c&&c.scope&&remove$2(c.scope.effects,ne)};return x&&x.push(se),se}function instanceWatch(n,e,r){const s=this.proxy,a=isString$2(n)?n.includes(".")?createPathGetter(s,n):()=>s[n]:n.bind(s,s);let l;isFunction$4(e)?l=e:(l=e.handler,r=e);const f=currentInstance;setCurrentInstance(this);const c=doWatch(a,l.bind(s),r);return f?setCurrentInstance(f):unsetCurrentInstance(),c}function createPathGetter(n,e){const r=e.split(".");return()=>{let s=n;for(let a=0;a<r.length&&s;a++)s=s[r[a]];return s}}function traverse(n,e){if(!isObject$6(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),isRef(n))traverse(n.value,e);else if(isArray$2(n))for(let r=0;r<n.length;r++)traverse(n[r],e);else if(isSet(n)||isMap(n))n.forEach(r=>{traverse(r,e)});else if(isPlainObject$2(n))for(const r in n)traverse(n[r],e);return n}function useTransitionState(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{n.isMounted=!0}),onBeforeUnmount(()=>{n.isUnmounting=!0}),n}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(n,{slots:e}){const r=getCurrentInstance(),s=useTransitionState();let a;return()=>{const l=e.default&&getTransitionRawChildren(e.default(),!0);if(!l||!l.length)return;let f=l[0];if(l.length>1){for(const q of l)if(q.type!==Comment$1){f=q;break}}const c=toRaw(n),{mode:d}=c;if(s.isLeaving)return emptyPlaceholder(f);const g=getKeepAliveChild(f);if(!g)return emptyPlaceholder(f);const b=resolveTransitionHooks(g,c,s,r);setTransitionHooks(g,b);const m=r.subTree,_=m&&getKeepAliveChild(m);let x=!1;const{getTransitionKey:k}=g.type;if(k){const q=k();a===void 0?a=q:q!==a&&(a=q,x=!0)}if(_&&_.type!==Comment$1&&(!isSameVNodeType(g,_)||x)){const q=resolveTransitionHooks(_,c,s,r);if(setTransitionHooks(_,q),d==="out-in")return s.isLeaving=!0,q.afterLeave=()=>{s.isLeaving=!1,r.update.active!==!1&&r.update()},emptyPlaceholder(f);d==="in-out"&&g.type!==Comment$1&&(q.delayLeave=(j,ne,se)=>{const le=getLeavingNodesForType(s,_);le[String(_.key)]=_,j._leaveCb=()=>{ne(),j._leaveCb=void 0,delete b.delayedLeave},b.delayedLeave=se})}return f}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(n,e){const{leavingVNodes:r}=n;let s=r.get(e.type);return s||(s=Object.create(null),r.set(e.type,s)),s}function resolveTransitionHooks(n,e,r,s){const{appear:a,mode:l,persisted:f=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:g,onEnterCancelled:b,onBeforeLeave:m,onLeave:_,onAfterLeave:x,onLeaveCancelled:k,onBeforeAppear:q,onAppear:j,onAfterAppear:ne,onAppearCancelled:se}=e,le=String(n.key),ue=getLeavingNodesForType(r,n),he=(_e,ye)=>{_e&&callWithAsyncErrorHandling(_e,s,9,ye)},ge=(_e,ye)=>{const be=ye[1];he(_e,ye),isArray$2(_e)?_e.every(He=>He.length<=1)&&be():_e.length<=1&&be()},ve={mode:l,persisted:f,beforeEnter(_e){let ye=c;if(!r.isMounted)if(a)ye=q||c;else return;_e._leaveCb&&_e._leaveCb(!0);const be=ue[le];be&&isSameVNodeType(n,be)&&be.el._leaveCb&&be.el._leaveCb(),he(ye,[_e])},enter(_e){let ye=d,be=g,He=b;if(!r.isMounted)if(a)ye=j||d,be=ne||g,He=se||b;else return;let Oe=!1;const Fe=_e._enterCb=De=>{Oe||(Oe=!0,De?he(He,[_e]):he(be,[_e]),ve.delayedLeave&&ve.delayedLeave(),_e._enterCb=void 0)};ye?ge(ye,[_e,Fe]):Fe()},leave(_e,ye){const be=String(n.key);if(_e._enterCb&&_e._enterCb(!0),r.isUnmounting)return ye();he(m,[_e]);let He=!1;const Oe=_e._leaveCb=Fe=>{He||(He=!0,ye(),Fe?he(k,[_e]):he(x,[_e]),_e._leaveCb=void 0,ue[be]===n&&delete ue[be])};ue[be]=n,_?ge(_,[_e,Oe]):Oe()},clone(_e){return resolveTransitionHooks(_e,e,r,s)}};return ve}function emptyPlaceholder(n){if(isKeepAlive(n))return n=cloneVNode(n),n.children=null,n}function getKeepAliveChild(n){return isKeepAlive(n)?n.children?n.children[0]:void 0:n}function setTransitionHooks(n,e){n.shapeFlag&6&&n.component?setTransitionHooks(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function getTransitionRawChildren(n,e=!1,r){let s=[],a=0;for(let l=0;l<n.length;l++){let f=n[l];const c=r==null?f.key:String(r)+String(f.key!=null?f.key:l);f.type===Fragment?(f.patchFlag&128&&a++,s=s.concat(getTransitionRawChildren(f.children,e,c))):(e||f.type!==Comment$1)&&s.push(c!=null?cloneVNode(f,{key:c}):f)}if(a>1)for(let l=0;l<s.length;l++)s[l].patchFlag=-2;return s}function defineComponent(n){return isFunction$4(n)?{setup:n,name:n.name}:n}const isAsyncWrapper=n=>!!n.type.__asyncLoader,isKeepAlive=n=>n.type.__isKeepAlive;function onActivated(n,e){registerKeepAliveHook(n,"a",e)}function onDeactivated(n,e){registerKeepAliveHook(n,"da",e)}function registerKeepAliveHook(n,e,r=currentInstance){const s=n.__wdc||(n.__wdc=()=>{let a=r;for(;a;){if(a.isDeactivated)return;a=a.parent}return n()});if(injectHook(e,s,r),r){let a=r.parent;for(;a&&a.parent;)isKeepAlive(a.parent.vnode)&&injectToKeepAliveRoot(s,e,r,a),a=a.parent}}function injectToKeepAliveRoot(n,e,r,s){const a=injectHook(e,n,s,!0);onUnmounted(()=>{remove$2(s[e],a)},r)}function injectHook(n,e,r=currentInstance,s=!1){if(r){const a=r[n]||(r[n]=[]),l=e.__weh||(e.__weh=(...f)=>{if(r.isUnmounted)return;pauseTracking(),setCurrentInstance(r);const c=callWithAsyncErrorHandling(e,r,n,f);return unsetCurrentInstance(),resetTracking(),c});return s?a.unshift(l):a.push(l),l}}const createHook=n=>(e,r=currentInstance)=>(!isInSSRComponentSetup||n==="sp")&&injectHook(n,(...s)=>e(...s),r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(n,e=currentInstance){injectHook("ec",n,e)}function withDirectives(n,e){const r=currentRenderingInstance;if(r===null)return n;const s=getExposeProxy(r)||r.proxy,a=n.dirs||(n.dirs=[]);for(let l=0;l<e.length;l++){let[f,c,d,g=EMPTY_OBJ]=e[l];f&&(isFunction$4(f)&&(f={mounted:f,updated:f}),f.deep&&traverse(c),a.push({dir:f,instance:s,value:c,oldValue:void 0,arg:d,modifiers:g}))}return n}function invokeDirectiveHook(n,e,r,s){const a=n.dirs,l=e&&e.dirs;for(let f=0;f<a.length;f++){const c=a[f];l&&(c.oldValue=l[f].value);let d=c.dir[s];d&&(pauseTracking(),callWithAsyncErrorHandling(d,r,8,[n.el,c,n,e]),resetTracking())}}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(n,e){return resolveAsset(COMPONENTS,n,!0,e)||n}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveDynamicComponent(n){return isString$2(n)?resolveAsset(COMPONENTS,n,!1)||n:n||NULL_DYNAMIC_COMPONENT}function resolveDirective(n){return resolveAsset(DIRECTIVES,n)}function resolveAsset(n,e,r=!0,s=!1){const a=currentRenderingInstance||currentInstance;if(a){const l=a.type;if(n===COMPONENTS){const c=getComponentName(l,!1);if(c&&(c===e||c===camelize(e)||c===capitalize$2(camelize(e))))return l}const f=resolve(a[n]||l[n],e)||resolve(a.appContext[n],e);return!f&&s?l:f}}function resolve(n,e){return n&&(n[e]||n[camelize(e)]||n[capitalize$2(camelize(e))])}function renderList(n,e,r,s){let a;const l=r&&r[s];if(isArray$2(n)||isString$2(n)){a=new Array(n.length);for(let f=0,c=n.length;f<c;f++)a[f]=e(n[f],f,void 0,l&&l[f])}else if(typeof n=="number"){a=new Array(n);for(let f=0;f<n;f++)a[f]=e(f+1,f,void 0,l&&l[f])}else if(isObject$6(n))if(n[Symbol.iterator])a=Array.from(n,(f,c)=>e(f,c,void 0,l&&l[c]));else{const f=Object.keys(n);a=new Array(f.length);for(let c=0,d=f.length;c<d;c++){const g=f[c];a[c]=e(n[g],g,c,l&&l[c])}}else a=[];return r&&(r[s]=a),a}function createSlots(n,e){for(let r=0;r<e.length;r++){const s=e[r];if(isArray$2(s))for(let a=0;a<s.length;a++)n[s[a].name]=s[a].fn;else s&&(n[s.name]=s.key?(...a)=>{const l=s.fn(...a);return l&&(l.key=s.key),l}:s.fn)}return n}function renderSlot(n,e,r={},s,a){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return e!=="default"&&(r.name=e),createVNode("slot",r,s&&s());let l=n[e];l&&l._c&&(l._d=!1),openBlock();const f=l&&ensureValidVNode(l(r)),c=createBlock(Fragment,{key:r.key||f&&f.key||`_${e}`},f||(s?s():[]),f&&n._===1?64:-2);return!a&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),l&&l._c&&(l._d=!0),c}function ensureValidVNode(n){return n.some(e=>isVNode$1(e)?!(e.type===Comment$1||e.type===Fragment&&!ensureValidVNode(e.children)):!0)?n:null}function toHandlers(n,e){const r={};for(const s in n)r[e&&/[A-Z]/.test(s)?`on:${s}`:toHandlerKey(s)]=n[s];return r}const getPublicInstance=n=>n?isStatefulComponent(n)?getExposeProxy(n)||n.proxy:getPublicInstance(n.parent):null,publicPropertiesMap=extend$2(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>getPublicInstance(n.parent),$root:n=>getPublicInstance(n.root),$emit:n=>n.emit,$options:n=>resolveMergedOptions(n),$forceUpdate:n=>n.f||(n.f=()=>queueJob(n.update)),$nextTick:n=>n.n||(n.n=nextTick$1.bind(n.proxy)),$watch:n=>instanceWatch.bind(n)}),hasSetupBinding=(n,e)=>n!==EMPTY_OBJ&&!n.__isScriptSetup&&hasOwn$1(n,e),PublicInstanceProxyHandlers={get({_:n},e){const{ctx:r,setupState:s,data:a,props:l,accessCache:f,type:c,appContext:d}=n;let g;if(e[0]!=="$"){const x=f[e];if(x!==void 0)switch(x){case 1:return s[e];case 2:return a[e];case 4:return r[e];case 3:return l[e]}else{if(hasSetupBinding(s,e))return f[e]=1,s[e];if(a!==EMPTY_OBJ&&hasOwn$1(a,e))return f[e]=2,a[e];if((g=n.propsOptions[0])&&hasOwn$1(g,e))return f[e]=3,l[e];if(r!==EMPTY_OBJ&&hasOwn$1(r,e))return f[e]=4,r[e];shouldCacheAccess&&(f[e]=0)}}const b=publicPropertiesMap[e];let m,_;if(b)return e==="$attrs"&&track(n,"get",e),b(n);if((m=c.__cssModules)&&(m=m[e]))return m;if(r!==EMPTY_OBJ&&hasOwn$1(r,e))return f[e]=4,r[e];if(_=d.config.globalProperties,hasOwn$1(_,e))return _[e]},set({_:n},e,r){const{data:s,setupState:a,ctx:l}=n;return hasSetupBinding(a,e)?(a[e]=r,!0):s!==EMPTY_OBJ&&hasOwn$1(s,e)?(s[e]=r,!0):hasOwn$1(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(l[e]=r,!0)},has({_:{data:n,setupState:e,accessCache:r,ctx:s,appContext:a,propsOptions:l}},f){let c;return!!r[f]||n!==EMPTY_OBJ&&hasOwn$1(n,f)||hasSetupBinding(e,f)||(c=l[0])&&hasOwn$1(c,f)||hasOwn$1(s,f)||hasOwn$1(publicPropertiesMap,f)||hasOwn$1(a.config.globalProperties,f)},defineProperty(n,e,r){return r.get!=null?n._.accessCache[e]=0:hasOwn$1(r,"value")&&this.set(n,e,r.value,null),Reflect.defineProperty(n,e,r)}};let shouldCacheAccess=!0;function applyOptions(n){const e=resolveMergedOptions(n),r=n.proxy,s=n.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook$1(e.beforeCreate,n,"bc");const{data:a,computed:l,methods:f,watch:c,provide:d,inject:g,created:b,beforeMount:m,mounted:_,beforeUpdate:x,updated:k,activated:q,deactivated:j,beforeDestroy:ne,beforeUnmount:se,destroyed:le,unmounted:ue,render:he,renderTracked:ge,renderTriggered:ve,errorCaptured:_e,serverPrefetch:ye,expose:be,inheritAttrs:He,components:Oe,directives:Fe,filters:De}=e;if(g&&resolveInjections(g,s,null,n.appContext.config.unwrapInjectedRef),f)for(const Ge in f){const Je=f[Ge];isFunction$4(Je)&&(s[Ge]=Je.bind(r))}if(a){const Ge=a.call(r,r);isObject$6(Ge)&&(n.data=reactive(Ge))}if(shouldCacheAccess=!0,l)for(const Ge in l){const Je=l[Ge],Ue=isFunction$4(Je)?Je.bind(r,r):isFunction$4(Je.get)?Je.get.bind(r,r):NOOP,pe=!isFunction$4(Je)&&isFunction$4(Je.set)?Je.set.bind(r):NOOP,ae=computed({get:Ue,set:pe});Object.defineProperty(s,Ge,{enumerable:!0,configurable:!0,get:()=>ae.value,set:Se=>ae.value=Se})}if(c)for(const Ge in c)createWatcher(c[Ge],s,r,Ge);if(d){const Ge=isFunction$4(d)?d.call(r):d;Reflect.ownKeys(Ge).forEach(Je=>{provide(Je,Ge[Je])})}b&&callHook$1(b,n,"c");function ze(Ge,Je){isArray$2(Je)?Je.forEach(Ue=>Ge(Ue.bind(r))):Je&&Ge(Je.bind(r))}if(ze(onBeforeMount,m),ze(onMounted,_),ze(onBeforeUpdate,x),ze(onUpdated,k),ze(onActivated,q),ze(onDeactivated,j),ze(onErrorCaptured,_e),ze(onRenderTracked,ge),ze(onRenderTriggered,ve),ze(onBeforeUnmount,se),ze(onUnmounted,ue),ze(onServerPrefetch,ye),isArray$2(be))if(be.length){const Ge=n.exposed||(n.exposed={});be.forEach(Je=>{Object.defineProperty(Ge,Je,{get:()=>r[Je],set:Ue=>r[Je]=Ue})})}else n.exposed||(n.exposed={});he&&n.render===NOOP&&(n.render=he),He!=null&&(n.inheritAttrs=He),Oe&&(n.components=Oe),Fe&&(n.directives=Fe)}function resolveInjections(n,e,r=NOOP,s=!1){isArray$2(n)&&(n=normalizeInject(n));for(const a in n){const l=n[a];let f;isObject$6(l)?"default"in l?f=inject(l.from||a,l.default,!0):f=inject(l.from||a):f=inject(l),isRef(f)&&s?Object.defineProperty(e,a,{enumerable:!0,configurable:!0,get:()=>f.value,set:c=>f.value=c}):e[a]=f}}function callHook$1(n,e,r){callWithAsyncErrorHandling(isArray$2(n)?n.map(s=>s.bind(e.proxy)):n.bind(e.proxy),e,r)}function createWatcher(n,e,r,s){const a=s.includes(".")?createPathGetter(r,s):()=>r[s];if(isString$2(n)){const l=e[n];isFunction$4(l)&&watch(a,l)}else if(isFunction$4(n))watch(a,n.bind(r));else if(isObject$6(n))if(isArray$2(n))n.forEach(l=>createWatcher(l,e,r,s));else{const l=isFunction$4(n.handler)?n.handler.bind(r):e[n.handler];isFunction$4(l)&&watch(a,l,n)}}function resolveMergedOptions(n){const e=n.type,{mixins:r,extends:s}=e,{mixins:a,optionsCache:l,config:{optionMergeStrategies:f}}=n.appContext,c=l.get(e);let d;return c?d=c:!a.length&&!r&&!s?d=e:(d={},a.length&&a.forEach(g=>mergeOptions$4(d,g,f,!0)),mergeOptions$4(d,e,f)),isObject$6(e)&&l.set(e,d),d}function mergeOptions$4(n,e,r,s=!1){const{mixins:a,extends:l}=e;l&&mergeOptions$4(n,l,r,!0),a&&a.forEach(f=>mergeOptions$4(n,f,r,!0));for(const f in e)if(!(s&&f==="expose")){const c=internalOptionMergeStrats[f]||r&&r[f];n[f]=c?c(n[f],e[f]):e[f]}return n}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(n,e){return e?n?function(){return extend$2(isFunction$4(n)?n.call(this,this):n,isFunction$4(e)?e.call(this,this):e)}:e:n}function mergeInject(n,e){return mergeObjectOptions(normalizeInject(n),normalizeInject(e))}function normalizeInject(n){if(isArray$2(n)){const e={};for(let r=0;r<n.length;r++)e[n[r]]=n[r];return e}return n}function mergeAsArray(n,e){return n?[...new Set([].concat(n,e))]:e}function mergeObjectOptions(n,e){return n?extend$2(extend$2(Object.create(null),n),e):e}function mergeWatchOptions(n,e){if(!n)return e;if(!e)return n;const r=extend$2(Object.create(null),n);for(const s in e)r[s]=mergeAsArray(n[s],e[s]);return r}function initProps(n,e,r,s=!1){const a={},l={};def(l,InternalObjectKey,1),n.propsDefaults=Object.create(null),setFullProps(n,e,a,l);for(const f in n.propsOptions[0])f in a||(a[f]=void 0);r?n.props=s?a:shallowReactive(a):n.type.props?n.props=a:n.props=l,n.attrs=l}function updateProps(n,e,r,s){const{props:a,attrs:l,vnode:{patchFlag:f}}=n,c=toRaw(a),[d]=n.propsOptions;let g=!1;if((s||f>0)&&!(f&16)){if(f&8){const b=n.vnode.dynamicProps;for(let m=0;m<b.length;m++){let _=b[m];if(isEmitListener(n.emitsOptions,_))continue;const x=e[_];if(d)if(hasOwn$1(l,_))x!==l[_]&&(l[_]=x,g=!0);else{const k=camelize(_);a[k]=resolvePropValue(d,c,k,x,n,!1)}else x!==l[_]&&(l[_]=x,g=!0)}}}else{setFullProps(n,e,a,l)&&(g=!0);let b;for(const m in c)(!e||!hasOwn$1(e,m)&&((b=hyphenate(m))===m||!hasOwn$1(e,b)))&&(d?r&&(r[m]!==void 0||r[b]!==void 0)&&(a[m]=resolvePropValue(d,c,m,void 0,n,!0)):delete a[m]);if(l!==c)for(const m in l)(!e||!hasOwn$1(e,m))&&(delete l[m],g=!0)}g&&trigger$1(n,"set","$attrs")}function setFullProps(n,e,r,s){const[a,l]=n.propsOptions;let f=!1,c;if(e)for(let d in e){if(isReservedProp(d))continue;const g=e[d];let b;a&&hasOwn$1(a,b=camelize(d))?!l||!l.includes(b)?r[b]=g:(c||(c={}))[b]=g:isEmitListener(n.emitsOptions,d)||(!(d in s)||g!==s[d])&&(s[d]=g,f=!0)}if(l){const d=toRaw(r),g=c||EMPTY_OBJ;for(let b=0;b<l.length;b++){const m=l[b];r[m]=resolvePropValue(a,d,m,g[m],n,!hasOwn$1(g,m))}}return f}function resolvePropValue(n,e,r,s,a,l){const f=n[r];if(f!=null){const c=hasOwn$1(f,"default");if(c&&s===void 0){const d=f.default;if(f.type!==Function&&isFunction$4(d)){const{propsDefaults:g}=a;r in g?s=g[r]:(setCurrentInstance(a),s=g[r]=d.call(null,e),unsetCurrentInstance())}else s=d}f[0]&&(l&&!c?s=!1:f[1]&&(s===""||s===hyphenate(r))&&(s=!0))}return s}function normalizePropsOptions(n,e,r=!1){const s=e.propsCache,a=s.get(n);if(a)return a;const l=n.props,f={},c=[];let d=!1;if(!isFunction$4(n)){const b=m=>{d=!0;const[_,x]=normalizePropsOptions(m,e,!0);extend$2(f,_),x&&c.push(...x)};!r&&e.mixins.length&&e.mixins.forEach(b),n.extends&&b(n.extends),n.mixins&&n.mixins.forEach(b)}if(!l&&!d)return isObject$6(n)&&s.set(n,EMPTY_ARR),EMPTY_ARR;if(isArray$2(l))for(let b=0;b<l.length;b++){const m=camelize(l[b]);validatePropName(m)&&(f[m]=EMPTY_OBJ)}else if(l)for(const b in l){const m=camelize(b);if(validatePropName(m)){const _=l[b],x=f[m]=isArray$2(_)||isFunction$4(_)?{type:_}:Object.assign({},_);if(x){const k=getTypeIndex(Boolean,x.type),q=getTypeIndex(String,x.type);x[0]=k>-1,x[1]=q<0||k<q,(k>-1||hasOwn$1(x,"default"))&&c.push(m)}}}const g=[f,c];return isObject$6(n)&&s.set(n,g),g}function validatePropName(n){return n[0]!=="$"}function getType(n){const e=n&&n.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:n===null?"null":""}function isSameType(n,e){return getType(n)===getType(e)}function getTypeIndex(n,e){return isArray$2(e)?e.findIndex(r=>isSameType(r,n)):isFunction$4(e)&&isSameType(e,n)?0:-1}const isInternalKey=n=>n[0]==="_"||n==="$stable",normalizeSlotValue=n=>isArray$2(n)?n.map(normalizeVNode):[normalizeVNode(n)],normalizeSlot=(n,e,r)=>{if(e._n)return e;const s=withCtx((...a)=>normalizeSlotValue(e(...a)),r);return s._c=!1,s},normalizeObjectSlots=(n,e,r)=>{const s=n._ctx;for(const a in n){if(isInternalKey(a))continue;const l=n[a];if(isFunction$4(l))e[a]=normalizeSlot(a,l,s);else if(l!=null){const f=normalizeSlotValue(l);e[a]=()=>f}}},normalizeVNodeSlots=(n,e)=>{const r=normalizeSlotValue(e);n.slots.default=()=>r},initSlots=(n,e)=>{if(n.vnode.shapeFlag&32){const r=e._;r?(n.slots=toRaw(e),def(e,"_",r)):normalizeObjectSlots(e,n.slots={})}else n.slots={},e&&normalizeVNodeSlots(n,e);def(n.slots,InternalObjectKey,1)},updateSlots=(n,e,r)=>{const{vnode:s,slots:a}=n;let l=!0,f=EMPTY_OBJ;if(s.shapeFlag&32){const c=e._;c?r&&c===1?l=!1:(extend$2(a,e),!r&&c===1&&delete a._):(l=!e.$stable,normalizeObjectSlots(e,a)),f=e}else e&&(normalizeVNodeSlots(n,e),f={default:1});if(l)for(const c in a)!isInternalKey(c)&&!(c in f)&&delete a[c]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(n,e){return function(s,a=null){isFunction$4(s)||(s=Object.assign({},s)),a!=null&&!isObject$6(a)&&(a=null);const l=createAppContext(),f=new Set;let c=!1;const d=l.app={_uid:uid$1++,_component:s,_props:a,_container:null,_context:l,_instance:null,version:version$8,get config(){return l.config},set config(g){},use(g,...b){return f.has(g)||(g&&isFunction$4(g.install)?(f.add(g),g.install(d,...b)):isFunction$4(g)&&(f.add(g),g(d,...b))),d},mixin(g){return l.mixins.includes(g)||l.mixins.push(g),d},component(g,b){return b?(l.components[g]=b,d):l.components[g]},directive(g,b){return b?(l.directives[g]=b,d):l.directives[g]},mount(g,b,m){if(!c){const _=createVNode(s,a);return _.appContext=l,b&&e?e(_,g):n(_,g,m),c=!0,d._container=g,g.__vue_app__=d,getExposeProxy(_.component)||_.component.proxy}},unmount(){c&&(n(null,d._container),delete d._container.__vue_app__)},provide(g,b){return l.provides[g]=b,d}};return d}}function setRef(n,e,r,s,a=!1){if(isArray$2(n)){n.forEach((_,x)=>setRef(_,e&&(isArray$2(e)?e[x]:e),r,s,a));return}if(isAsyncWrapper(s)&&!a)return;const l=s.shapeFlag&4?getExposeProxy(s.component)||s.component.proxy:s.el,f=a?null:l,{i:c,r:d}=n,g=e&&e.r,b=c.refs===EMPTY_OBJ?c.refs={}:c.refs,m=c.setupState;if(g!=null&&g!==d&&(isString$2(g)?(b[g]=null,hasOwn$1(m,g)&&(m[g]=null)):isRef(g)&&(g.value=null)),isFunction$4(d))callWithErrorHandling(d,c,12,[f,b]);else{const _=isString$2(d),x=isRef(d);if(_||x){const k=()=>{if(n.f){const q=_?hasOwn$1(m,d)?m[d]:b[d]:d.value;a?isArray$2(q)&&remove$2(q,l):isArray$2(q)?q.includes(l)||q.push(l):_?(b[d]=[l],hasOwn$1(m,d)&&(m[d]=b[d])):(d.value=[l],n.k&&(b[n.k]=d.value))}else _?(b[d]=f,hasOwn$1(m,d)&&(m[d]=f)):x&&(d.value=f,n.k&&(b[n.k]=f))};f?(k.id=-1,queuePostRenderEffect(k,r)):k()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(n){return baseCreateRenderer(n)}function baseCreateRenderer(n,e){const r=getGlobalThis$1();r.__VUE__=!0;const{insert:s,remove:a,patchProp:l,createElement:f,createText:c,createComment:d,setText:g,setElementText:b,parentNode:m,nextSibling:_,setScopeId:x=NOOP,insertStaticContent:k}=n,q=(Ee,de,ce,we=null,Be=null,Ie=null,Ye=!1,Ke=null,Re=!!de.dynamicChildren)=>{if(Ee===de)return;Ee&&!isSameVNodeType(Ee,de)&&(we=$e(Ee),Se(Ee,Be,Ie,!0),Ee=null),de.patchFlag===-2&&(Re=!1,de.dynamicChildren=null);const{type:je,ref:Ce,shapeFlag:Ne}=de;switch(je){case Text$1:j(Ee,de,ce,we);break;case Comment$1:ne(Ee,de,ce,we);break;case Static:Ee==null&&se(de,ce,we,Ye);break;case Fragment:Oe(Ee,de,ce,we,Be,Ie,Ye,Ke,Re);break;default:Ne&1?he(Ee,de,ce,we,Be,Ie,Ye,Ke,Re):Ne&6?Fe(Ee,de,ce,we,Be,Ie,Ye,Ke,Re):(Ne&64||Ne&128)&&je.process(Ee,de,ce,we,Be,Ie,Ye,Ke,Re,et)}Ce!=null&&Be&&setRef(Ce,Ee&&Ee.ref,Ie,de||Ee,!de)},j=(Ee,de,ce,we)=>{if(Ee==null)s(de.el=c(de.children),ce,we);else{const Be=de.el=Ee.el;de.children!==Ee.children&&g(Be,de.children)}},ne=(Ee,de,ce,we)=>{Ee==null?s(de.el=d(de.children||""),ce,we):de.el=Ee.el},se=(Ee,de,ce,we)=>{[Ee.el,Ee.anchor]=k(Ee.children,de,ce,we,Ee.el,Ee.anchor)},le=({el:Ee,anchor:de},ce,we)=>{let Be;for(;Ee&&Ee!==de;)Be=_(Ee),s(Ee,ce,we),Ee=Be;s(de,ce,we)},ue=({el:Ee,anchor:de})=>{let ce;for(;Ee&&Ee!==de;)ce=_(Ee),a(Ee),Ee=ce;a(de)},he=(Ee,de,ce,we,Be,Ie,Ye,Ke,Re)=>{Ye=Ye||de.type==="svg",Ee==null?ge(de,ce,we,Be,Ie,Ye,Ke,Re):ye(Ee,de,Be,Ie,Ye,Ke,Re)},ge=(Ee,de,ce,we,Be,Ie,Ye,Ke)=>{let Re,je;const{type:Ce,props:Ne,shapeFlag:Te,transition:ke,dirs:rt}=Ee;if(Re=Ee.el=f(Ee.type,Ie,Ne&&Ne.is,Ne),Te&8?b(Re,Ee.children):Te&16&&_e(Ee.children,Re,null,we,Be,Ie&&Ce!=="foreignObject",Ye,Ke),rt&&invokeDirectiveHook(Ee,null,we,"created"),ve(Re,Ee,Ee.scopeId,Ye,we),Ne){for(const ot in Ne)ot!=="value"&&!isReservedProp(ot)&&l(Re,ot,null,Ne[ot],Ie,Ee.children,we,Be,Xe);"value"in Ne&&l(Re,"value",null,Ne.value),(je=Ne.onVnodeBeforeMount)&&invokeVNodeHook(je,we,Ee)}rt&&invokeDirectiveHook(Ee,null,we,"beforeMount");const lt=(!Be||Be&&!Be.pendingBranch)&&ke&&!ke.persisted;lt&&ke.beforeEnter(Re),s(Re,de,ce),((je=Ne&&Ne.onVnodeMounted)||lt||rt)&&queuePostRenderEffect(()=>{je&&invokeVNodeHook(je,we,Ee),lt&&ke.enter(Re),rt&&invokeDirectiveHook(Ee,null,we,"mounted")},Be)},ve=(Ee,de,ce,we,Be)=>{if(ce&&x(Ee,ce),we)for(let Ie=0;Ie<we.length;Ie++)x(Ee,we[Ie]);if(Be){let Ie=Be.subTree;if(de===Ie){const Ye=Be.vnode;ve(Ee,Ye,Ye.scopeId,Ye.slotScopeIds,Be.parent)}}},_e=(Ee,de,ce,we,Be,Ie,Ye,Ke,Re=0)=>{for(let je=Re;je<Ee.length;je++){const Ce=Ee[je]=Ke?cloneIfMounted(Ee[je]):normalizeVNode(Ee[je]);q(null,Ce,de,ce,we,Be,Ie,Ye,Ke)}},ye=(Ee,de,ce,we,Be,Ie,Ye)=>{const Ke=de.el=Ee.el;let{patchFlag:Re,dynamicChildren:je,dirs:Ce}=de;Re|=Ee.patchFlag&16;const Ne=Ee.props||EMPTY_OBJ,Te=de.props||EMPTY_OBJ;let ke;ce&&toggleRecurse(ce,!1),(ke=Te.onVnodeBeforeUpdate)&&invokeVNodeHook(ke,ce,de,Ee),Ce&&invokeDirectiveHook(de,Ee,ce,"beforeUpdate"),ce&&toggleRecurse(ce,!0);const rt=Be&&de.type!=="foreignObject";if(je?be(Ee.dynamicChildren,je,Ke,ce,we,rt,Ie):Ye||Je(Ee,de,Ke,null,ce,we,rt,Ie,!1),Re>0){if(Re&16)He(Ke,de,Ne,Te,ce,we,Be);else if(Re&2&&Ne.class!==Te.class&&l(Ke,"class",null,Te.class,Be),Re&4&&l(Ke,"style",Ne.style,Te.style,Be),Re&8){const lt=de.dynamicProps;for(let ot=0;ot<lt.length;ot++){const ft=lt[ot],vt=Ne[ft],ct=Te[ft];(ct!==vt||ft==="value")&&l(Ke,ft,vt,ct,Be,Ee.children,ce,we,Xe)}}Re&1&&Ee.children!==de.children&&b(Ke,de.children)}else!Ye&&je==null&&He(Ke,de,Ne,Te,ce,we,Be);((ke=Te.onVnodeUpdated)||Ce)&&queuePostRenderEffect(()=>{ke&&invokeVNodeHook(ke,ce,de,Ee),Ce&&invokeDirectiveHook(de,Ee,ce,"updated")},we)},be=(Ee,de,ce,we,Be,Ie,Ye)=>{for(let Ke=0;Ke<de.length;Ke++){const Re=Ee[Ke],je=de[Ke],Ce=Re.el&&(Re.type===Fragment||!isSameVNodeType(Re,je)||Re.shapeFlag&70)?m(Re.el):ce;q(Re,je,Ce,null,we,Be,Ie,Ye,!0)}},He=(Ee,de,ce,we,Be,Ie,Ye)=>{if(ce!==we){if(ce!==EMPTY_OBJ)for(const Ke in ce)!isReservedProp(Ke)&&!(Ke in we)&&l(Ee,Ke,ce[Ke],null,Ye,de.children,Be,Ie,Xe);for(const Ke in we){if(isReservedProp(Ke))continue;const Re=we[Ke],je=ce[Ke];Re!==je&&Ke!=="value"&&l(Ee,Ke,je,Re,Ye,de.children,Be,Ie,Xe)}"value"in we&&l(Ee,"value",ce.value,we.value)}},Oe=(Ee,de,ce,we,Be,Ie,Ye,Ke,Re)=>{const je=de.el=Ee?Ee.el:c(""),Ce=de.anchor=Ee?Ee.anchor:c("");let{patchFlag:Ne,dynamicChildren:Te,slotScopeIds:ke}=de;ke&&(Ke=Ke?Ke.concat(ke):ke),Ee==null?(s(je,ce,we),s(Ce,ce,we),_e(de.children,ce,Ce,Be,Ie,Ye,Ke,Re)):Ne>0&&Ne&64&&Te&&Ee.dynamicChildren?(be(Ee.dynamicChildren,Te,ce,Be,Ie,Ye,Ke),(de.key!=null||Be&&de===Be.subTree)&&traverseStaticChildren(Ee,de,!0)):Je(Ee,de,ce,Ce,Be,Ie,Ye,Ke,Re)},Fe=(Ee,de,ce,we,Be,Ie,Ye,Ke,Re)=>{de.slotScopeIds=Ke,Ee==null?de.shapeFlag&512?Be.ctx.activate(de,ce,we,Ye,Re):De(de,ce,we,Be,Ie,Ye,Re):We(Ee,de,Re)},De=(Ee,de,ce,we,Be,Ie,Ye)=>{const Ke=Ee.component=createComponentInstance(Ee,we,Be);if(isKeepAlive(Ee)&&(Ke.ctx.renderer=et),setupComponent(Ke),Ke.asyncDep){if(Be&&Be.registerDep(Ke,ze),!Ee.el){const Re=Ke.subTree=createVNode(Comment$1);ne(null,Re,de,ce)}return}ze(Ke,Ee,de,ce,Be,Ie,Ye)},We=(Ee,de,ce)=>{const we=de.component=Ee.component;if(shouldUpdateComponent(Ee,de,ce))if(we.asyncDep&&!we.asyncResolved){Ge(we,de,ce);return}else we.next=de,invalidateJob(we.update),we.update();else de.el=Ee.el,we.vnode=de},ze=(Ee,de,ce,we,Be,Ie,Ye)=>{const Ke=()=>{if(Ee.isMounted){let{next:Ce,bu:Ne,u:Te,parent:ke,vnode:rt}=Ee,lt=Ce,ot;toggleRecurse(Ee,!1),Ce?(Ce.el=rt.el,Ge(Ee,Ce,Ye)):Ce=rt,Ne&&invokeArrayFns(Ne),(ot=Ce.props&&Ce.props.onVnodeBeforeUpdate)&&invokeVNodeHook(ot,ke,Ce,rt),toggleRecurse(Ee,!0);const ft=renderComponentRoot(Ee),vt=Ee.subTree;Ee.subTree=ft,q(vt,ft,m(vt.el),$e(vt),Ee,Be,Ie),Ce.el=ft.el,lt===null&&updateHOCHostEl(Ee,ft.el),Te&&queuePostRenderEffect(Te,Be),(ot=Ce.props&&Ce.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(ot,ke,Ce,rt),Be)}else{let Ce;const{el:Ne,props:Te}=de,{bm:ke,m:rt,parent:lt}=Ee,ot=isAsyncWrapper(de);if(toggleRecurse(Ee,!1),ke&&invokeArrayFns(ke),!ot&&(Ce=Te&&Te.onVnodeBeforeMount)&&invokeVNodeHook(Ce,lt,de),toggleRecurse(Ee,!0),Ne&&it){const ft=()=>{Ee.subTree=renderComponentRoot(Ee),it(Ne,Ee.subTree,Ee,Be,null)};ot?de.type.__asyncLoader().then(()=>!Ee.isUnmounted&&ft()):ft()}else{const ft=Ee.subTree=renderComponentRoot(Ee);q(null,ft,ce,we,Ee,Be,Ie),de.el=ft.el}if(rt&&queuePostRenderEffect(rt,Be),!ot&&(Ce=Te&&Te.onVnodeMounted)){const ft=de;queuePostRenderEffect(()=>invokeVNodeHook(Ce,lt,ft),Be)}(de.shapeFlag&256||lt&&isAsyncWrapper(lt.vnode)&&lt.vnode.shapeFlag&256)&&Ee.a&&queuePostRenderEffect(Ee.a,Be),Ee.isMounted=!0,de=ce=we=null}},Re=Ee.effect=new ReactiveEffect(Ke,()=>queueJob(je),Ee.scope),je=Ee.update=()=>Re.run();je.id=Ee.uid,toggleRecurse(Ee,!0),je()},Ge=(Ee,de,ce)=>{de.component=Ee;const we=Ee.vnode.props;Ee.vnode=de,Ee.next=null,updateProps(Ee,de.props,we,ce),updateSlots(Ee,de.children,ce),pauseTracking(),flushPreFlushCbs(),resetTracking()},Je=(Ee,de,ce,we,Be,Ie,Ye,Ke,Re=!1)=>{const je=Ee&&Ee.children,Ce=Ee?Ee.shapeFlag:0,Ne=de.children,{patchFlag:Te,shapeFlag:ke}=de;if(Te>0){if(Te&128){pe(je,Ne,ce,we,Be,Ie,Ye,Ke,Re);return}else if(Te&256){Ue(je,Ne,ce,we,Be,Ie,Ye,Ke,Re);return}}ke&8?(Ce&16&&Xe(je,Be,Ie),Ne!==je&&b(ce,Ne)):Ce&16?ke&16?pe(je,Ne,ce,we,Be,Ie,Ye,Ke,Re):Xe(je,Be,Ie,!0):(Ce&8&&b(ce,""),ke&16&&_e(Ne,ce,we,Be,Ie,Ye,Ke,Re))},Ue=(Ee,de,ce,we,Be,Ie,Ye,Ke,Re)=>{Ee=Ee||EMPTY_ARR,de=de||EMPTY_ARR;const je=Ee.length,Ce=de.length,Ne=Math.min(je,Ce);let Te;for(Te=0;Te<Ne;Te++){const ke=de[Te]=Re?cloneIfMounted(de[Te]):normalizeVNode(de[Te]);q(Ee[Te],ke,ce,null,Be,Ie,Ye,Ke,Re)}je>Ce?Xe(Ee,Be,Ie,!0,!1,Ne):_e(de,ce,we,Be,Ie,Ye,Ke,Re,Ne)},pe=(Ee,de,ce,we,Be,Ie,Ye,Ke,Re)=>{let je=0;const Ce=de.length;let Ne=Ee.length-1,Te=Ce-1;for(;je<=Ne&&je<=Te;){const ke=Ee[je],rt=de[je]=Re?cloneIfMounted(de[je]):normalizeVNode(de[je]);if(isSameVNodeType(ke,rt))q(ke,rt,ce,null,Be,Ie,Ye,Ke,Re);else break;je++}for(;je<=Ne&&je<=Te;){const ke=Ee[Ne],rt=de[Te]=Re?cloneIfMounted(de[Te]):normalizeVNode(de[Te]);if(isSameVNodeType(ke,rt))q(ke,rt,ce,null,Be,Ie,Ye,Ke,Re);else break;Ne--,Te--}if(je>Ne){if(je<=Te){const ke=Te+1,rt=ke<Ce?de[ke].el:we;for(;je<=Te;)q(null,de[je]=Re?cloneIfMounted(de[je]):normalizeVNode(de[je]),ce,rt,Be,Ie,Ye,Ke,Re),je++}}else if(je>Te)for(;je<=Ne;)Se(Ee[je],Be,Ie,!0),je++;else{const ke=je,rt=je,lt=new Map;for(je=rt;je<=Te;je++){const pt=de[je]=Re?cloneIfMounted(de[je]):normalizeVNode(de[je]);pt.key!=null&&lt.set(pt.key,je)}let ot,ft=0;const vt=Te-rt+1;let ct=!1,ht=0;const _t=new Array(vt);for(je=0;je<vt;je++)_t[je]=0;for(je=ke;je<=Ne;je++){const pt=Ee[je];if(ft>=vt){Se(pt,Be,Ie,!0);continue}let mt;if(pt.key!=null)mt=lt.get(pt.key);else for(ot=rt;ot<=Te;ot++)if(_t[ot-rt]===0&&isSameVNodeType(pt,de[ot])){mt=ot;break}mt===void 0?Se(pt,Be,Ie,!0):(_t[mt-rt]=je+1,mt>=ht?ht=mt:ct=!0,q(pt,de[mt],ce,null,Be,Ie,Ye,Ke,Re),ft++)}const bt=ct?getSequence(_t):EMPTY_ARR;for(ot=bt.length-1,je=vt-1;je>=0;je--){const pt=rt+je,mt=de[pt],Tt=pt+1<Ce?de[pt+1].el:we;_t[je]===0?q(null,mt,ce,Tt,Be,Ie,Ye,Ke,Re):ct&&(ot<0||je!==bt[ot]?ae(mt,ce,Tt,2):ot--)}}},ae=(Ee,de,ce,we,Be=null)=>{const{el:Ie,type:Ye,transition:Ke,children:Re,shapeFlag:je}=Ee;if(je&6){ae(Ee.component.subTree,de,ce,we);return}if(je&128){Ee.suspense.move(de,ce,we);return}if(je&64){Ye.move(Ee,de,ce,et);return}if(Ye===Fragment){s(Ie,de,ce);for(let Ne=0;Ne<Re.length;Ne++)ae(Re[Ne],de,ce,we);s(Ee.anchor,de,ce);return}if(Ye===Static){le(Ee,de,ce);return}if(we!==2&&je&1&&Ke)if(we===0)Ke.beforeEnter(Ie),s(Ie,de,ce),queuePostRenderEffect(()=>Ke.enter(Ie),Be);else{const{leave:Ne,delayLeave:Te,afterLeave:ke}=Ke,rt=()=>s(Ie,de,ce),lt=()=>{Ne(Ie,()=>{rt(),ke&&ke()})};Te?Te(Ie,rt,lt):lt()}else s(Ie,de,ce)},Se=(Ee,de,ce,we=!1,Be=!1)=>{const{type:Ie,props:Ye,ref:Ke,children:Re,dynamicChildren:je,shapeFlag:Ce,patchFlag:Ne,dirs:Te}=Ee;if(Ke!=null&&setRef(Ke,null,ce,Ee,!0),Ce&256){de.ctx.deactivate(Ee);return}const ke=Ce&1&&Te,rt=!isAsyncWrapper(Ee);let lt;if(rt&&(lt=Ye&&Ye.onVnodeBeforeUnmount)&&invokeVNodeHook(lt,de,Ee),Ce&6)xe(Ee.component,ce,we);else{if(Ce&128){Ee.suspense.unmount(ce,we);return}ke&&invokeDirectiveHook(Ee,null,de,"beforeUnmount"),Ce&64?Ee.type.remove(Ee,de,ce,Be,et,we):je&&(Ie!==Fragment||Ne>0&&Ne&64)?Xe(je,de,ce,!1,!0):(Ie===Fragment&&Ne&384||!Be&&Ce&16)&&Xe(Re,de,ce),we&&Pe(Ee)}(rt&&(lt=Ye&&Ye.onVnodeUnmounted)||ke)&&queuePostRenderEffect(()=>{lt&&invokeVNodeHook(lt,de,Ee),ke&&invokeDirectiveHook(Ee,null,de,"unmounted")},ce)},Pe=Ee=>{const{type:de,el:ce,anchor:we,transition:Be}=Ee;if(de===Fragment){qe(ce,we);return}if(de===Static){ue(Ee);return}const Ie=()=>{a(ce),Be&&!Be.persisted&&Be.afterLeave&&Be.afterLeave()};if(Ee.shapeFlag&1&&Be&&!Be.persisted){const{leave:Ye,delayLeave:Ke}=Be,Re=()=>Ye(ce,Ie);Ke?Ke(Ee.el,Ie,Re):Re()}else Ie()},qe=(Ee,de)=>{let ce;for(;Ee!==de;)ce=_(Ee),a(Ee),Ee=ce;a(de)},xe=(Ee,de,ce)=>{const{bum:we,scope:Be,update:Ie,subTree:Ye,um:Ke}=Ee;we&&invokeArrayFns(we),Be.stop(),Ie&&(Ie.active=!1,Se(Ye,Ee,de,ce)),Ke&&queuePostRenderEffect(Ke,de),queuePostRenderEffect(()=>{Ee.isUnmounted=!0},de),de&&de.pendingBranch&&!de.isUnmounted&&Ee.asyncDep&&!Ee.asyncResolved&&Ee.suspenseId===de.pendingId&&(de.deps--,de.deps===0&&de.resolve())},Xe=(Ee,de,ce,we=!1,Be=!1,Ie=0)=>{for(let Ye=Ie;Ye<Ee.length;Ye++)Se(Ee[Ye],de,ce,we,Be)},$e=Ee=>Ee.shapeFlag&6?$e(Ee.component.subTree):Ee.shapeFlag&128?Ee.suspense.next():_(Ee.anchor||Ee.el),Ze=(Ee,de,ce)=>{Ee==null?de._vnode&&Se(de._vnode,null,null,!0):q(de._vnode||null,Ee,de,null,null,null,ce),flushPreFlushCbs(),flushPostFlushCbs(),de._vnode=Ee},et={p:q,um:Se,m:ae,r:Pe,mt:De,mc:_e,pc:Je,pbc:be,n:$e,o:n};let nt,it;return e&&([nt,it]=e(et)),{render:Ze,hydrate:nt,createApp:createAppAPI(Ze,nt)}}function toggleRecurse({effect:n,update:e},r){n.allowRecurse=e.allowRecurse=r}function traverseStaticChildren(n,e,r=!1){const s=n.children,a=e.children;if(isArray$2(s)&&isArray$2(a))for(let l=0;l<s.length;l++){const f=s[l];let c=a[l];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=a[l]=cloneIfMounted(a[l]),c.el=f.el),r||traverseStaticChildren(f,c)),c.type===Text$1&&(c.el=f.el)}}function getSequence(n){const e=n.slice(),r=[0];let s,a,l,f,c;const d=n.length;for(s=0;s<d;s++){const g=n[s];if(g!==0){if(a=r[r.length-1],n[a]<g){e[s]=a,r.push(s);continue}for(l=0,f=r.length-1;l<f;)c=l+f>>1,n[r[c]]<g?l=c+1:f=c;g<n[r[l]]&&(l>0&&(e[s]=r[l-1]),r[l]=s)}}for(l=r.length,f=r[l-1];l-- >0;)r[l]=f,f=e[f];return r}const isTeleport=n=>n.__isTeleport,Fragment=Symbol(void 0),Text$1=Symbol(void 0),Comment$1=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(n=!1){blockStack.push(currentBlock=n?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(n){isBlockTreeEnabled+=n}function setupBlock(n){return n.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(n),n}function createElementBlock(n,e,r,s,a,l){return setupBlock(createBaseVNode(n,e,r,s,a,l,!0))}function createBlock(n,e,r,s,a){return setupBlock(createVNode(n,e,r,s,a,!0))}function isVNode$1(n){return n?n.__v_isVNode===!0:!1}function isSameVNodeType(n,e){return n.type===e.type&&n.key===e.key}const InternalObjectKey="__vInternal",normalizeKey=({key:n})=>n??null,normalizeRef=({ref:n,ref_key:e,ref_for:r})=>n!=null?isString$2(n)||isRef(n)||isFunction$4(n)?{i:currentRenderingInstance,r:n,k:e,f:!!r}:n:null;function createBaseVNode(n,e=null,r=null,s=0,a=null,l=n===Fragment?0:1,f=!1,c=!1){const d={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:s,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return c?(normalizeChildren(d,r),l&128&&n.normalize(d)):r&&(d.shapeFlag|=isString$2(r)?8:16),isBlockTreeEnabled>0&&!f&&currentBlock&&(d.patchFlag>0||l&6)&&d.patchFlag!==32&&currentBlock.push(d),d}const createVNode=_createVNode;function _createVNode(n,e=null,r=null,s=0,a=null,l=!1){if((!n||n===NULL_DYNAMIC_COMPONENT)&&(n=Comment$1),isVNode$1(n)){const c=cloneVNode(n,e,!0);return r&&normalizeChildren(c,r),isBlockTreeEnabled>0&&!l&&currentBlock&&(c.shapeFlag&6?currentBlock[currentBlock.indexOf(n)]=c:currentBlock.push(c)),c.patchFlag|=-2,c}if(isClassComponent(n)&&(n=n.__vccOpts),e){e=guardReactiveProps(e);let{class:c,style:d}=e;c&&!isString$2(c)&&(e.class=normalizeClass(c)),isObject$6(d)&&(isProxy(d)&&!isArray$2(d)&&(d=extend$2({},d)),e.style=normalizeStyle(d))}const f=isString$2(n)?1:isSuspense(n)?128:isTeleport(n)?64:isObject$6(n)?4:isFunction$4(n)?2:0;return createBaseVNode(n,e,r,s,a,f,l,!0)}function guardReactiveProps(n){return n?isProxy(n)||InternalObjectKey in n?extend$2({},n):n:null}function cloneVNode(n,e,r=!1){const{props:s,ref:a,patchFlag:l,children:f}=n,c=e?mergeProps(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:c,key:c&&normalizeKey(c),ref:e&&e.ref?r&&a?isArray$2(a)?a.concat(normalizeRef(e)):[a,normalizeRef(e)]:normalizeRef(e):a,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:f,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Fragment?l===-1?16:l|16:l,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&cloneVNode(n.ssContent),ssFallback:n.ssFallback&&cloneVNode(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function createTextVNode(n=" ",e=0){return createVNode(Text$1,null,n,e)}function createCommentVNode(n="",e=!1){return e?(openBlock(),createBlock(Comment$1,null,n)):createVNode(Comment$1,null,n)}function normalizeVNode(n){return n==null||typeof n=="boolean"?createVNode(Comment$1):isArray$2(n)?createVNode(Fragment,null,n.slice()):typeof n=="object"?cloneIfMounted(n):createVNode(Text$1,null,String(n))}function cloneIfMounted(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:cloneVNode(n)}function normalizeChildren(n,e){let r=0;const{shapeFlag:s}=n;if(e==null)e=null;else if(isArray$2(e))r=16;else if(typeof e=="object")if(s&65){const a=e.default;a&&(a._c&&(a._d=!1),normalizeChildren(n,a()),a._c&&(a._d=!0));return}else{r=32;const a=e._;!a&&!(InternalObjectKey in e)?e._ctx=currentRenderingInstance:a===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else isFunction$4(e)?(e={default:e,_ctx:currentRenderingInstance},r=32):(e=String(e),s&64?(r=16,e=[createTextVNode(e)]):r=8);n.children=e,n.shapeFlag|=r}function mergeProps(...n){const e={};for(let r=0;r<n.length;r++){const s=n[r];for(const a in s)if(a==="class")e.class!==s.class&&(e.class=normalizeClass([e.class,s.class]));else if(a==="style")e.style=normalizeStyle([e.style,s.style]);else if(isOn(a)){const l=e[a],f=s[a];f&&l!==f&&!(isArray$2(l)&&l.includes(f))&&(e[a]=l?[].concat(l,f):f)}else a!==""&&(e[a]=s[a])}return e}function invokeVNodeHook(n,e,r,s=null){callWithAsyncErrorHandling(n,e,7,[r,s])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(n,e,r){const s=n.type,a=(e?e.appContext:n.appContext)||emptyAppContext,l={uid:uid++,vnode:n,type:s,parent:e,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(s,a),emitsOptions:normalizeEmitsOptions(s,a),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:s.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=e?e.root:l,l.emit=emit.bind(null,l),n.ce&&n.ce(l),l}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=n=>{currentInstance=n,n.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(n){return n.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(n,e=!1){isInSSRComponentSetup=e;const{props:r,children:s}=n.vnode,a=isStatefulComponent(n);initProps(n,r,a,e),initSlots(n,s);const l=a?setupStatefulComponent(n,e):void 0;return isInSSRComponentSetup=!1,l}function setupStatefulComponent(n,e){const r=n.type;n.accessCache=Object.create(null),n.proxy=markRaw(new Proxy(n.ctx,PublicInstanceProxyHandlers));const{setup:s}=r;if(s){const a=n.setupContext=s.length>1?createSetupContext(n):null;setCurrentInstance(n),pauseTracking();const l=callWithErrorHandling(s,n,0,[n.props,a]);if(resetTracking(),unsetCurrentInstance(),isPromise$2(l)){if(l.then(unsetCurrentInstance,unsetCurrentInstance),e)return l.then(f=>{handleSetupResult(n,f,e)}).catch(f=>{handleError(f,n,0)});n.asyncDep=l}else handleSetupResult(n,l,e)}else finishComponentSetup(n,e)}function handleSetupResult(n,e,r){isFunction$4(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:isObject$6(e)&&(n.setupState=proxyRefs(e)),finishComponentSetup(n,r)}let compile;function finishComponentSetup(n,e,r){const s=n.type;if(!n.render){if(!e&&compile&&!s.render){const a=s.template||resolveMergedOptions(n).template;if(a){const{isCustomElement:l,compilerOptions:f}=n.appContext.config,{delimiters:c,compilerOptions:d}=s,g=extend$2(extend$2({isCustomElement:l,delimiters:c},f),d);s.render=compile(a,g)}}n.render=s.render||NOOP}setCurrentInstance(n),pauseTracking(),applyOptions(n),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(n){return new Proxy(n.attrs,{get(e,r){return track(n,"get","$attrs"),e[r]}})}function createSetupContext(n){const e=s=>{n.exposed=s||{}};let r;return{get attrs(){return r||(r=createAttrsProxy(n))},slots:n.slots,emit:n.emit,expose:e}}function getExposeProxy(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(proxyRefs(markRaw(n.exposed)),{get(e,r){if(r in e)return e[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](n)},has(e,r){return r in e||r in publicPropertiesMap}}))}function getComponentName(n,e=!0){return isFunction$4(n)?n.displayName||n.name:n.name||e&&n.__name}function isClassComponent(n){return isFunction$4(n)&&"__vccOpts"in n}const computed=(n,e)=>computed$1(n,e,isInSSRComponentSetup);function h(n,e,r){const s=arguments.length;return s===2?isObject$6(e)&&!isArray$2(e)?isVNode$1(e)?createVNode(n,null,[e]):createVNode(n,e):createVNode(n,null,e):(s>3?r=Array.prototype.slice.call(arguments,2):s===3&&isVNode$1(r)&&(r=[r]),createVNode(n,e,r))}const ssrContextKey=Symbol(""),useSSRContext=()=>inject(ssrContextKey),version$8="3.2.47",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(n,e,r)=>{e.insertBefore(n,r||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,r,s)=>{const a=e?doc.createElementNS(svgNS,n):doc.createElement(n,r?{is:r}:void 0);return n==="select"&&s&&s.multiple!=null&&a.setAttribute("multiple",s.multiple),a},createText:n=>doc.createTextNode(n),createComment:n=>doc.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>doc.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,r,s,a,l){const f=r?r.previousSibling:e.lastChild;if(a&&(a===l||a.nextSibling))for(;e.insertBefore(a.cloneNode(!0),r),!(a===l||!(a=a.nextSibling)););else{templateContainer.innerHTML=s?`<svg>${n}</svg>`:n;const c=templateContainer.content;if(s){const d=c.firstChild;for(;d.firstChild;)c.appendChild(d.firstChild);c.removeChild(d)}e.insertBefore(c,r)}return[f?f.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function patchClass(n,e,r){const s=n._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?n.removeAttribute("class"):r?n.setAttribute("class",e):n.className=e}function patchStyle(n,e,r){const s=n.style,a=isString$2(r);if(r&&!a){if(e&&!isString$2(e))for(const l in e)r[l]==null&&setStyle$1(s,l,"");for(const l in r)setStyle$1(s,l,r[l])}else{const l=s.display;a?e!==r&&(s.cssText=r):e&&n.removeAttribute("style"),"_vod"in n&&(s.display=l)}}const importantRE=/\s*!important$/;function setStyle$1(n,e,r){if(isArray$2(r))r.forEach(s=>setStyle$1(n,e,s));else if(r==null&&(r=""),e.startsWith("--"))n.setProperty(e,r);else{const s=autoPrefix(n,e);importantRE.test(r)?n.setProperty(hyphenate(s),r.replace(importantRE,""),"important"):n[s]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(n,e){const r=prefixCache[e];if(r)return r;let s=camelize(e);if(s!=="filter"&&s in n)return prefixCache[e]=s;s=capitalize$2(s);for(let a=0;a<prefixes.length;a++){const l=prefixes[a]+s;if(l in n)return prefixCache[e]=l}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(n,e,r,s,a){if(s&&e.startsWith("xlink:"))r==null?n.removeAttributeNS(xlinkNS,e.slice(6,e.length)):n.setAttributeNS(xlinkNS,e,r);else{const l=isSpecialBooleanAttr(e);r==null||l&&!includeBooleanAttr(r)?n.removeAttribute(e):n.setAttribute(e,l?"":r)}}function patchDOMProp(n,e,r,s,a,l,f){if(e==="innerHTML"||e==="textContent"){s&&f(s,a,l),n[e]=r??"";return}if(e==="value"&&n.tagName!=="PROGRESS"&&!n.tagName.includes("-")){n._value=r;const d=r??"";(n.value!==d||n.tagName==="OPTION")&&(n.value=d),r==null&&n.removeAttribute(e);return}let c=!1;if(r===""||r==null){const d=typeof n[e];d==="boolean"?r=includeBooleanAttr(r):r==null&&d==="string"?(r="",c=!0):d==="number"&&(r=0,c=!0)}try{n[e]=r}catch{}c&&n.removeAttribute(e)}function addEventListener$1(n,e,r,s){n.addEventListener(e,r,s)}function removeEventListener$1(n,e,r,s){n.removeEventListener(e,r,s)}function patchEvent(n,e,r,s,a=null){const l=n._vei||(n._vei={}),f=l[e];if(s&&f)f.value=s;else{const[c,d]=parseName(e);if(s){const g=l[e]=createInvoker(s,a);addEventListener$1(n,c,g,d)}else f&&(removeEventListener$1(n,c,f,d),l[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(n){let e;if(optionsModifierRE.test(n)){e={};let s;for(;s=n.match(optionsModifierRE);)n=n.slice(0,n.length-s[0].length),e[s[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):hyphenate(n.slice(2)),e]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(n,e){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(s,r.value),e,5,[s])};return r.value=n,r.attached=getNow(),r}function patchStopImmediatePropagation(n,e){if(isArray$2(e)){const r=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{r.call(n),n._stopped=!0},e.map(s=>a=>!a._stopped&&s&&s(a))}else return e}const nativeOnRE=/^on[a-z]/,patchProp=(n,e,r,s,a=!1,l,f,c,d)=>{e==="class"?patchClass(n,s,a):e==="style"?patchStyle(n,r,s):isOn(e)?isModelListener(e)||patchEvent(n,e,r,s,f):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(n,e,s,a))?patchDOMProp(n,e,s,l,f,c,d):(e==="true-value"?n._trueValue=s:e==="false-value"&&(n._falseValue=s),patchAttr(n,e,s,a))};function shouldSetAsProp(n,e,r,s){return s?!!(e==="innerHTML"||e==="textContent"||e in n&&nativeOnRE.test(e)&&isFunction$4(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||nativeOnRE.test(e)&&isString$2(r)?!1:e in n}const TRANSITION="transition",ANIMATION="animation",Transition=(n,{slots:e})=>h(BaseTransition,resolveTransitionProps(n),e);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Transition.props=extend$2({},BaseTransition.props,DOMTransitionPropsValidators);const callHook=(n,e=[])=>{isArray$2(n)?n.forEach(r=>r(...e)):n&&n(...e)},hasExplicitCallback=n=>n?isArray$2(n)?n.some(e=>e.length>1):n.length>1:!1;function resolveTransitionProps(n){const e={};for(const Oe in n)Oe in DOMTransitionPropsValidators||(e[Oe]=n[Oe]);if(n.css===!1)return e;const{name:r="v",type:s,duration:a,enterFromClass:l=`${r}-enter-from`,enterActiveClass:f=`${r}-enter-active`,enterToClass:c=`${r}-enter-to`,appearFromClass:d=l,appearActiveClass:g=f,appearToClass:b=c,leaveFromClass:m=`${r}-leave-from`,leaveActiveClass:_=`${r}-leave-active`,leaveToClass:x=`${r}-leave-to`}=n,k=normalizeDuration(a),q=k&&k[0],j=k&&k[1],{onBeforeEnter:ne,onEnter:se,onEnterCancelled:le,onLeave:ue,onLeaveCancelled:he,onBeforeAppear:ge=ne,onAppear:ve=se,onAppearCancelled:_e=le}=e,ye=(Oe,Fe,De)=>{removeTransitionClass(Oe,Fe?b:c),removeTransitionClass(Oe,Fe?g:f),De&&De()},be=(Oe,Fe)=>{Oe._isLeaving=!1,removeTransitionClass(Oe,m),removeTransitionClass(Oe,x),removeTransitionClass(Oe,_),Fe&&Fe()},He=Oe=>(Fe,De)=>{const We=Oe?ve:se,ze=()=>ye(Fe,Oe,De);callHook(We,[Fe,ze]),nextFrame(()=>{removeTransitionClass(Fe,Oe?d:l),addTransitionClass(Fe,Oe?b:c),hasExplicitCallback(We)||whenTransitionEnds(Fe,s,q,ze)})};return extend$2(e,{onBeforeEnter(Oe){callHook(ne,[Oe]),addTransitionClass(Oe,l),addTransitionClass(Oe,f)},onBeforeAppear(Oe){callHook(ge,[Oe]),addTransitionClass(Oe,d),addTransitionClass(Oe,g)},onEnter:He(!1),onAppear:He(!0),onLeave(Oe,Fe){Oe._isLeaving=!0;const De=()=>be(Oe,Fe);addTransitionClass(Oe,m),forceReflow(),addTransitionClass(Oe,_),nextFrame(()=>{Oe._isLeaving&&(removeTransitionClass(Oe,m),addTransitionClass(Oe,x),hasExplicitCallback(ue)||whenTransitionEnds(Oe,s,j,De))}),callHook(ue,[Oe,De])},onEnterCancelled(Oe){ye(Oe,!1),callHook(le,[Oe])},onAppearCancelled(Oe){ye(Oe,!0),callHook(_e,[Oe])},onLeaveCancelled(Oe){be(Oe),callHook(he,[Oe])}})}function normalizeDuration(n){if(n==null)return null;if(isObject$6(n))return[NumberOf(n.enter),NumberOf(n.leave)];{const e=NumberOf(n);return[e,e]}}function NumberOf(n){return toNumber(n)}function addTransitionClass(n,e){e.split(/\s+/).forEach(r=>r&&n.classList.add(r)),(n._vtc||(n._vtc=new Set)).add(e)}function removeTransitionClass(n,e){e.split(/\s+/).forEach(s=>s&&n.classList.remove(s));const{_vtc:r}=n;r&&(r.delete(e),r.size||(n._vtc=void 0))}function nextFrame(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let endId=0;function whenTransitionEnds(n,e,r,s){const a=n._endId=++endId,l=()=>{a===n._endId&&s()};if(r)return setTimeout(l,r);const{type:f,timeout:c,propCount:d}=getTransitionInfo(n,e);if(!f)return s();const g=f+"end";let b=0;const m=()=>{n.removeEventListener(g,_),l()},_=x=>{x.target===n&&++b>=d&&m()};setTimeout(()=>{b<d&&m()},c+1),n.addEventListener(g,_)}function getTransitionInfo(n,e){const r=window.getComputedStyle(n),s=k=>(r[k]||"").split(", "),a=s(`${TRANSITION}Delay`),l=s(`${TRANSITION}Duration`),f=getTimeout(a,l),c=s(`${ANIMATION}Delay`),d=s(`${ANIMATION}Duration`),g=getTimeout(c,d);let b=null,m=0,_=0;e===TRANSITION?f>0&&(b=TRANSITION,m=f,_=l.length):e===ANIMATION?g>0&&(b=ANIMATION,m=g,_=d.length):(m=Math.max(f,g),b=m>0?f>g?TRANSITION:ANIMATION:null,_=b?b===TRANSITION?l.length:d.length:0);const x=b===TRANSITION&&/\b(transform|all)(,|$)/.test(s(`${TRANSITION}Property`).toString());return{type:b,timeout:m,propCount:_,hasTransform:x}}function getTimeout(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((r,s)=>toMs(r)+toMs(n[s])))}function toMs(n){return Number(n.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const getModelAssigner=n=>{const e=n.props["onUpdate:modelValue"]||!1;return isArray$2(e)?r=>invokeArrayFns(e,r):e};function onCompositionStart(n){n.target.composing=!0}function onCompositionEnd(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const vModelText={created(n,{modifiers:{lazy:e,trim:r,number:s}},a){n._assign=getModelAssigner(a);const l=s||a.props&&a.props.type==="number";addEventListener$1(n,e?"change":"input",f=>{if(f.target.composing)return;let c=n.value;r&&(c=c.trim()),l&&(c=looseToNumber(c)),n._assign(c)}),r&&addEventListener$1(n,"change",()=>{n.value=n.value.trim()}),e||(addEventListener$1(n,"compositionstart",onCompositionStart),addEventListener$1(n,"compositionend",onCompositionEnd),addEventListener$1(n,"change",onCompositionEnd))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,modifiers:{lazy:r,trim:s,number:a}},l){if(n._assign=getModelAssigner(l),n.composing||document.activeElement===n&&n.type!=="range"&&(r||s&&n.value.trim()===e||(a||n.type==="number")&&looseToNumber(n.value)===e))return;const f=e??"";n.value!==f&&(n.value=f)}},systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>systemModifiers.some(r=>n[`${r}Key`]&&!e.includes(r))},withModifiers=(n,e)=>(r,...s)=>{for(let a=0;a<e.length;a++){const l=modifierGuards[e[a]];if(l&&l(r,e))return}return n(r,...s)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(n,e)=>r=>{if(!("key"in r))return;const s=hyphenate(r.key);if(e.some(a=>a===s||keyNames[a]===s))return n(r)},vShow={beforeMount(n,{value:e},{transition:r}){n._vod=n.style.display==="none"?"":n.style.display,r&&e?r.beforeEnter(n):setDisplay(n,e)},mounted(n,{value:e},{transition:r}){r&&e&&r.enter(n)},updated(n,{value:e,oldValue:r},{transition:s}){!e!=!r&&(s?e?(s.beforeEnter(n),setDisplay(n,!0),s.enter(n)):s.leave(n,()=>{setDisplay(n,!1)}):setDisplay(n,e))},beforeUnmount(n,{value:e}){setDisplay(n,e)}};function setDisplay(n,e){n.style.display=e?n._vod:"none"}const rendererOptions=extend$2({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...n)=>{const e=ensureRenderer().createApp(...n),{mount:r}=e;return e.mount=s=>{const a=normalizeContainer(s);if(!a)return;const l=e._component;!isFunction$4(l)&&!l.render&&!l.template&&(l.template=a.innerHTML),a.innerHTML="";const f=r(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),f},e};function normalizeContainer(n){return isString$2(n)?document.querySelector(n):n}function getDevtoolsGlobalHook(){return getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__}function getTarget(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const isProxyAvailable=typeof Proxy=="function",HOOK_SETUP="devtools-plugin:setup",HOOK_PLUGIN_SETTINGS_SET="plugin:settings:set";let supported,perf;function isPerformanceSupported(){var n;return supported!==void 0||(typeof window<"u"&&window.performance?(supported=!0,perf=window.performance):typeof global<"u"&&(!((n=global.perf_hooks)===null||n===void 0)&&n.performance)?(supported=!0,perf=global.perf_hooks.performance):supported=!1),supported}function now(){return isPerformanceSupported()?perf.now():Date.now()}class ApiProxy{constructor(e,r){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=r;const s={};if(e.settings)for(const f in e.settings){const c=e.settings[f];s[f]=c.defaultValue}const a=`__vue-devtools-plugin-settings__${e.id}`;let l=Object.assign({},s);try{const f=localStorage.getItem(a),c=JSON.parse(f);Object.assign(l,c)}catch{}this.fallbacks={getSettings(){return l},setSettings(f){try{localStorage.setItem(a,JSON.stringify(f))}catch{}l=f},now(){return now()}},r&&r.on(HOOK_PLUGIN_SETTINGS_SET,(f,c)=>{f===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(f,c)=>this.target?this.target.on[c]:(...d)=>{this.onQueue.push({method:c,args:d})}}),this.proxiedTarget=new Proxy({},{get:(f,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...d)=>(this.targetQueue.push({method:c,args:d,resolve:()=>{}}),this.fallbacks[c](...d)):(...d)=>new Promise(g=>{this.targetQueue.push({method:c,args:d,resolve:g})})})}async setRealTarget(e){this.target=e;for(const r of this.onQueue)this.target.on[r.method](...r.args);for(const r of this.targetQueue)r.resolve(await this.target[r.method](...r.args))}}function setupDevtoolsPlugin(n,e){const r=n,s=getTarget(),a=getDevtoolsGlobalHook(),l=isProxyAvailable&&r.enableEarlyProxy;if(a&&(s.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!l))a.emit(HOOK_SETUP,n,e);else{const f=l?new ApiProxy(r,a):null;(s.__VUE_DEVTOOLS_PLUGINS__=s.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:r,setupFn:e,proxy:f}),f&&e(f.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var storeKey="store";function useStore(n){return n===void 0&&(n=null),inject(n!==null?n:storeKey)}function forEachValue(n,e){Object.keys(n).forEach(function(r){return e(n[r],r)})}function isObject$5(n){return n!==null&&typeof n=="object"}function isPromise$1(n){return n&&typeof n.then=="function"}function partial(n,e){return function(){return n(e)}}function genericSubscribe(n,e,r){return e.indexOf(n)<0&&(r&&r.prepend?e.unshift(n):e.push(n)),function(){var s=e.indexOf(n);s>-1&&e.splice(s,1)}}function resetStore(n,e){n._actions=Object.create(null),n._mutations=Object.create(null),n._wrappedGetters=Object.create(null),n._modulesNamespaceMap=Object.create(null);var r=n.state;installModule(n,r,[],n._modules.root,!0),resetStoreState(n,r,e)}function resetStoreState(n,e,r){var s=n._state,a=n._scope;n.getters={},n._makeLocalGettersCache=Object.create(null);var l=n._wrappedGetters,f={},c={},d=effectScope(!0);d.run(function(){forEachValue(l,function(g,b){f[b]=partial(g,n),c[b]=computed(function(){return f[b]()}),Object.defineProperty(n.getters,b,{get:function(){return c[b].value},enumerable:!0})})}),n._state=reactive({data:e}),n._scope=d,n.strict&&enableStrictMode(n),s&&r&&n._withCommit(function(){s.data=null}),a&&a.stop()}function installModule(n,e,r,s,a){var l=!r.length,f=n._modules.getNamespace(r);if(s.namespaced&&(n._modulesNamespaceMap[f],n._modulesNamespaceMap[f]=s),!l&&!a){var c=getNestedState(e,r.slice(0,-1)),d=r[r.length-1];n._withCommit(function(){c[d]=s.state})}var g=s.context=makeLocalContext(n,f,r);s.forEachMutation(function(b,m){var _=f+m;registerMutation(n,_,b,g)}),s.forEachAction(function(b,m){var _=b.root?m:f+m,x=b.handler||b;registerAction(n,_,x,g)}),s.forEachGetter(function(b,m){var _=f+m;registerGetter(n,_,b,g)}),s.forEachChild(function(b,m){installModule(n,e,r.concat(m),b,a)})}function makeLocalContext(n,e,r){var s=e==="",a={dispatch:s?n.dispatch:function(l,f,c){var d=unifyObjectStyle(l,f,c),g=d.payload,b=d.options,m=d.type;return(!b||!b.root)&&(m=e+m),n.dispatch(m,g)},commit:s?n.commit:function(l,f,c){var d=unifyObjectStyle(l,f,c),g=d.payload,b=d.options,m=d.type;(!b||!b.root)&&(m=e+m),n.commit(m,g,b)}};return Object.defineProperties(a,{getters:{get:s?function(){return n.getters}:function(){return makeLocalGetters(n,e)}},state:{get:function(){return getNestedState(n.state,r)}}}),a}function makeLocalGetters(n,e){if(!n._makeLocalGettersCache[e]){var r={},s=e.length;Object.keys(n.getters).forEach(function(a){if(a.slice(0,s)===e){var l=a.slice(s);Object.defineProperty(r,l,{get:function(){return n.getters[a]},enumerable:!0})}}),n._makeLocalGettersCache[e]=r}return n._makeLocalGettersCache[e]}function registerMutation(n,e,r,s){var a=n._mutations[e]||(n._mutations[e]=[]);a.push(function(f){r.call(n,s.state,f)})}function registerAction(n,e,r,s){var a=n._actions[e]||(n._actions[e]=[]);a.push(function(f){var c=r.call(n,{dispatch:s.dispatch,commit:s.commit,getters:s.getters,state:s.state,rootGetters:n.getters,rootState:n.state},f);return isPromise$1(c)||(c=Promise.resolve(c)),n._devtoolHook?c.catch(function(d){throw n._devtoolHook.emit("vuex:error",d),d}):c})}function registerGetter(n,e,r,s){n._wrappedGetters[e]||(n._wrappedGetters[e]=function(l){return r(s.state,s.getters,l.state,l.getters)})}function enableStrictMode(n){watch(function(){return n._state.data},function(){},{deep:!0,flush:"sync"})}function getNestedState(n,e){return e.reduce(function(r,s){return r[s]},n)}function unifyObjectStyle(n,e,r){return isObject$5(n)&&n.type&&(r=e,e=n,n=n.type),{type:n,payload:e,options:r}}var LABEL_VUEX_BINDINGS="vuex bindings",MUTATIONS_LAYER_ID="vuex:mutations",ACTIONS_LAYER_ID="vuex:actions",INSPECTOR_ID="vuex",actionId=0;function addDevtools(n,e){setupDevtoolsPlugin({id:"org.vuejs.vuex",app:n,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[LABEL_VUEX_BINDINGS]},function(r){r.addTimelineLayer({id:MUTATIONS_LAYER_ID,label:"Vuex Mutations",color:COLOR_LIME_500}),r.addTimelineLayer({id:ACTIONS_LAYER_ID,label:"Vuex Actions",color:COLOR_LIME_500}),r.addInspector({id:INSPECTOR_ID,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),r.on.getInspectorTree(function(s){if(s.app===n&&s.inspectorId===INSPECTOR_ID)if(s.filter){var a=[];flattenStoreForInspectorTree(a,e._modules.root,s.filter,""),s.rootNodes=a}else s.rootNodes=[formatStoreForInspectorTree(e._modules.root,"")]}),r.on.getInspectorState(function(s){if(s.app===n&&s.inspectorId===INSPECTOR_ID){var a=s.nodeId;makeLocalGetters(e,a),s.state=formatStoreForInspectorState(getStoreModule(e._modules,a),a==="root"?e.getters:e._makeLocalGettersCache,a)}}),r.on.editInspectorState(function(s){if(s.app===n&&s.inspectorId===INSPECTOR_ID){var a=s.nodeId,l=s.path;a!=="root"&&(l=a.split("/").filter(Boolean).concat(l)),e._withCommit(function(){s.set(e._state.data,l,s.state.value)})}}),e.subscribe(function(s,a){var l={};s.payload&&(l.payload=s.payload),l.state=a,r.notifyComponentUpdate(),r.sendInspectorTree(INSPECTOR_ID),r.sendInspectorState(INSPECTOR_ID),r.addTimelineEvent({layerId:MUTATIONS_LAYER_ID,event:{time:Date.now(),title:s.type,data:l}})}),e.subscribeAction({before:function(s,a){var l={};s.payload&&(l.payload=s.payload),s._id=actionId++,s._time=Date.now(),l.state=a,r.addTimelineEvent({layerId:ACTIONS_LAYER_ID,event:{time:s._time,title:s.type,groupId:s._id,subtitle:"start",data:l}})},after:function(s,a){var l={},f=Date.now()-s._time;l.duration={_custom:{type:"duration",display:f+"ms",tooltip:"Action duration",value:f}},s.payload&&(l.payload=s.payload),l.state=a,r.addTimelineEvent({layerId:ACTIONS_LAYER_ID,event:{time:Date.now(),title:s.type,groupId:s._id,subtitle:"end",data:l}})}})})}var COLOR_LIME_500=8702998,COLOR_DARK=6710886,COLOR_WHITE$1=16777215,TAG_NAMESPACED={label:"namespaced",textColor:COLOR_WHITE$1,backgroundColor:COLOR_DARK};function extractNameFromPath(n){return n&&n!=="root"?n.split("/").slice(-2,-1)[0]:"Root"}function formatStoreForInspectorTree(n,e){return{id:e||"root",label:extractNameFromPath(e),tags:n.namespaced?[TAG_NAMESPACED]:[],children:Object.keys(n._children).map(function(r){return formatStoreForInspectorTree(n._children[r],e+r+"/")})}}function flattenStoreForInspectorTree(n,e,r,s){s.includes(r)&&n.push({id:s||"root",label:s.endsWith("/")?s.slice(0,s.length-1):s||"Root",tags:e.namespaced?[TAG_NAMESPACED]:[]}),Object.keys(e._children).forEach(function(a){flattenStoreForInspectorTree(n,e._children[a],r,s+a+"/")})}function formatStoreForInspectorState(n,e,r){e=r==="root"?e:e[r];var s=Object.keys(e),a={state:Object.keys(n.state).map(function(f){return{key:f,editable:!0,value:n.state[f]}})};if(s.length){var l=transformPathsToObjectTree(e);a.getters=Object.keys(l).map(function(f){return{key:f.endsWith("/")?extractNameFromPath(f):f,editable:!1,value:canThrow(function(){return l[f]})}})}return a}function transformPathsToObjectTree(n){var e={};return Object.keys(n).forEach(function(r){var s=r.split("/");if(s.length>1){var a=e,l=s.pop();s.forEach(function(f){a[f]||(a[f]={_custom:{value:{},display:f,tooltip:"Module",abstract:!0}}),a=a[f]._custom.value}),a[l]=canThrow(function(){return n[r]})}else e[r]=canThrow(function(){return n[r]})}),e}function getStoreModule(n,e){var r=e.split("/").filter(function(s){return s});return r.reduce(function(s,a,l){var f=s[a];if(!f)throw new Error('Missing module "'+a+'" for path "'+e+'".');return l===r.length-1?f:f._children},e==="root"?n:n.root._children)}function canThrow(n){try{return n()}catch(e){return e}}var Module=function(e,r){this.runtime=r,this._children=Object.create(null),this._rawModule=e;var s=e.state;this.state=(typeof s=="function"?s():s)||{}},prototypeAccessors$1={namespaced:{configurable:!0}};prototypeAccessors$1.namespaced.get=function(){return!!this._rawModule.namespaced};Module.prototype.addChild=function(e,r){this._children[e]=r};Module.prototype.removeChild=function(e){delete this._children[e]};Module.prototype.getChild=function(e){return this._children[e]};Module.prototype.hasChild=function(e){return e in this._children};Module.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};Module.prototype.forEachChild=function(e){forEachValue(this._children,e)};Module.prototype.forEachGetter=function(e){this._rawModule.getters&&forEachValue(this._rawModule.getters,e)};Module.prototype.forEachAction=function(e){this._rawModule.actions&&forEachValue(this._rawModule.actions,e)};Module.prototype.forEachMutation=function(e){this._rawModule.mutations&&forEachValue(this._rawModule.mutations,e)};Object.defineProperties(Module.prototype,prototypeAccessors$1);var ModuleCollection=function(e){this.register([],e,!1)};ModuleCollection.prototype.get=function(e){return e.reduce(function(r,s){return r.getChild(s)},this.root)};ModuleCollection.prototype.getNamespace=function(e){var r=this.root;return e.reduce(function(s,a){return r=r.getChild(a),s+(r.namespaced?a+"/":"")},"")};ModuleCollection.prototype.update=function(e){update$1([],this.root,e)};ModuleCollection.prototype.register=function(e,r,s){var a=this;s===void 0&&(s=!0);var l=new Module(r,s);if(e.length===0)this.root=l;else{var f=this.get(e.slice(0,-1));f.addChild(e[e.length-1],l)}r.modules&&forEachValue(r.modules,function(c,d){a.register(e.concat(d),c,s)})};ModuleCollection.prototype.unregister=function(e){var r=this.get(e.slice(0,-1)),s=e[e.length-1],a=r.getChild(s);a&&a.runtime&&r.removeChild(s)};ModuleCollection.prototype.isRegistered=function(e){var r=this.get(e.slice(0,-1)),s=e[e.length-1];return r?r.hasChild(s):!1};function update$1(n,e,r){if(e.update(r),r.modules)for(var s in r.modules){if(!e.getChild(s))return;update$1(n.concat(s),e.getChild(s),r.modules[s])}}function createStore$4(n){return new Store$1(n)}var Store$1=function(e){var r=this;e===void 0&&(e={});var s=e.plugins;s===void 0&&(s=[]);var a=e.strict;a===void 0&&(a=!1);var l=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new ModuleCollection(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=l;var f=this,c=this,d=c.dispatch,g=c.commit;this.dispatch=function(_,x){return d.call(f,_,x)},this.commit=function(_,x,k){return g.call(f,_,x,k)},this.strict=a;var b=this._modules.root.state;installModule(this,b,[],this._modules.root),resetStoreState(this,b),s.forEach(function(m){return m(r)})},prototypeAccessors={state:{configurable:!0}};Store$1.prototype.install=function(e,r){e.provide(r||storeKey,this),e.config.globalProperties.$store=this;var s=this._devtools!==void 0?this._devtools:!1;s&&addDevtools(e,this)};prototypeAccessors.state.get=function(){return this._state.data};prototypeAccessors.state.set=function(n){};Store$1.prototype.commit=function(e,r,s){var a=this,l=unifyObjectStyle(e,r,s),f=l.type,c=l.payload,d={type:f,payload:c},g=this._mutations[f];g&&(this._withCommit(function(){g.forEach(function(m){m(c)})}),this._subscribers.slice().forEach(function(b){return b(d,a.state)}))};Store$1.prototype.dispatch=function(e,r){var s=this,a=unifyObjectStyle(e,r),l=a.type,f=a.payload,c={type:l,payload:f},d=this._actions[l];if(d){try{this._actionSubscribers.slice().filter(function(b){return b.before}).forEach(function(b){return b.before(c,s.state)})}catch{}var g=d.length>1?Promise.all(d.map(function(b){return b(f)})):d[0](f);return new Promise(function(b,m){g.then(function(_){try{s._actionSubscribers.filter(function(x){return x.after}).forEach(function(x){return x.after(c,s.state)})}catch{}b(_)},function(_){try{s._actionSubscribers.filter(function(x){return x.error}).forEach(function(x){return x.error(c,s.state,_)})}catch{}m(_)})})}};Store$1.prototype.subscribe=function(e,r){return genericSubscribe(e,this._subscribers,r)};Store$1.prototype.subscribeAction=function(e,r){var s=typeof e=="function"?{before:e}:e;return genericSubscribe(s,this._actionSubscribers,r)};Store$1.prototype.watch=function(e,r,s){var a=this;return watch(function(){return e(a.state,a.getters)},r,Object.assign({},s))};Store$1.prototype.replaceState=function(e){var r=this;this._withCommit(function(){r._state.data=e})};Store$1.prototype.registerModule=function(e,r,s){s===void 0&&(s={}),typeof e=="string"&&(e=[e]),this._modules.register(e,r),installModule(this,this.state,e,this._modules.get(e),s.preserveState),resetStoreState(this,this.state)};Store$1.prototype.unregisterModule=function(e){var r=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var s=getNestedState(r.state,e.slice(0,-1));delete s[e[e.length-1]]}),resetStore(this)};Store$1.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};Store$1.prototype.hotUpdate=function(e){this._modules.update(e),resetStore(this,!0)};Store$1.prototype._withCommit=function(e){var r=this._committing;this._committing=!0,e(),this._committing=r};Object.defineProperties(Store$1.prototype,prototypeAccessors);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function getAugmentedNamespace(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var r=function s(){if(this instanceof s){var a=[null];a.push.apply(a,arguments);var l=Function.bind.apply(e,a);return new l}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var a=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(r,s,a.get?a:{enumerable:!0,get:function(){return n[s]}})}),r}var dayjs_minExports={},dayjs_min={get exports(){return dayjs_minExports},set exports(n){dayjs_minExports=n}};(function(n,e){(function(r,s){n.exports=s()})(commonjsGlobal,function(){var r=1e3,s=6e4,a=36e5,l="millisecond",f="second",c="minute",d="hour",g="day",b="week",m="month",_="quarter",x="year",k="date",q="Invalid Date",j=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ne=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,se={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Fe){var De=["th","st","nd","rd"],We=Fe%100;return"["+Fe+(De[(We-20)%10]||De[We]||De[0])+"]"}},le=function(Fe,De,We){var ze=String(Fe);return!ze||ze.length>=De?Fe:""+Array(De+1-ze.length).join(We)+Fe},ue={s:le,z:function(Fe){var De=-Fe.utcOffset(),We=Math.abs(De),ze=Math.floor(We/60),Ge=We%60;return(De<=0?"+":"-")+le(ze,2,"0")+":"+le(Ge,2,"0")},m:function Fe(De,We){if(De.date()<We.date())return-Fe(We,De);var ze=12*(We.year()-De.year())+(We.month()-De.month()),Ge=De.clone().add(ze,m),Je=We-Ge<0,Ue=De.clone().add(ze+(Je?-1:1),m);return+(-(ze+(We-Ge)/(Je?Ge-Ue:Ue-Ge))||0)},a:function(Fe){return Fe<0?Math.ceil(Fe)||0:Math.floor(Fe)},p:function(Fe){return{M:m,y:x,w:b,d:g,D:k,h:d,m:c,s:f,ms:l,Q:_}[Fe]||String(Fe||"").toLowerCase().replace(/s$/,"")},u:function(Fe){return Fe===void 0}},he="en",ge={};ge[he]=se;var ve=function(Fe){return Fe instanceof He},_e=function Fe(De,We,ze){var Ge;if(!De)return he;if(typeof De=="string"){var Je=De.toLowerCase();ge[Je]&&(Ge=Je),We&&(ge[Je]=We,Ge=Je);var Ue=De.split("-");if(!Ge&&Ue.length>1)return Fe(Ue[0])}else{var pe=De.name;ge[pe]=De,Ge=pe}return!ze&&Ge&&(he=Ge),Ge||!ze&&he},ye=function(Fe,De){if(ve(Fe))return Fe.clone();var We=typeof De=="object"?De:{};return We.date=Fe,We.args=arguments,new He(We)},be=ue;be.l=_e,be.i=ve,be.w=function(Fe,De){return ye(Fe,{locale:De.$L,utc:De.$u,x:De.$x,$offset:De.$offset})};var He=function(){function Fe(We){this.$L=_e(We.locale,null,!0),this.parse(We)}var De=Fe.prototype;return De.parse=function(We){this.$d=function(ze){var Ge=ze.date,Je=ze.utc;if(Ge===null)return new Date(NaN);if(be.u(Ge))return new Date;if(Ge instanceof Date)return new Date(Ge);if(typeof Ge=="string"&&!/Z$/i.test(Ge)){var Ue=Ge.match(j);if(Ue){var pe=Ue[2]-1||0,ae=(Ue[7]||"0").substring(0,3);return Je?new Date(Date.UTC(Ue[1],pe,Ue[3]||1,Ue[4]||0,Ue[5]||0,Ue[6]||0,ae)):new Date(Ue[1],pe,Ue[3]||1,Ue[4]||0,Ue[5]||0,Ue[6]||0,ae)}}return new Date(Ge)}(We),this.$x=We.x||{},this.init()},De.init=function(){var We=this.$d;this.$y=We.getFullYear(),this.$M=We.getMonth(),this.$D=We.getDate(),this.$W=We.getDay(),this.$H=We.getHours(),this.$m=We.getMinutes(),this.$s=We.getSeconds(),this.$ms=We.getMilliseconds()},De.$utils=function(){return be},De.isValid=function(){return this.$d.toString()!==q},De.isSame=function(We,ze){var Ge=ye(We);return this.startOf(ze)<=Ge&&Ge<=this.endOf(ze)},De.isAfter=function(We,ze){return ye(We)<this.startOf(ze)},De.isBefore=function(We,ze){return this.endOf(ze)<ye(We)},De.$g=function(We,ze,Ge){return be.u(We)?this[ze]:this.set(Ge,We)},De.unix=function(){return Math.floor(this.valueOf()/1e3)},De.valueOf=function(){return this.$d.getTime()},De.startOf=function(We,ze){var Ge=this,Je=!!be.u(ze)||ze,Ue=be.p(We),pe=function(Ze,et){var nt=be.w(Ge.$u?Date.UTC(Ge.$y,et,Ze):new Date(Ge.$y,et,Ze),Ge);return Je?nt:nt.endOf(g)},ae=function(Ze,et){return be.w(Ge.toDate()[Ze].apply(Ge.toDate("s"),(Je?[0,0,0,0]:[23,59,59,999]).slice(et)),Ge)},Se=this.$W,Pe=this.$M,qe=this.$D,xe="set"+(this.$u?"UTC":"");switch(Ue){case x:return Je?pe(1,0):pe(31,11);case m:return Je?pe(1,Pe):pe(0,Pe+1);case b:var Xe=this.$locale().weekStart||0,$e=(Se<Xe?Se+7:Se)-Xe;return pe(Je?qe-$e:qe+(6-$e),Pe);case g:case k:return ae(xe+"Hours",0);case d:return ae(xe+"Minutes",1);case c:return ae(xe+"Seconds",2);case f:return ae(xe+"Milliseconds",3);default:return this.clone()}},De.endOf=function(We){return this.startOf(We,!1)},De.$set=function(We,ze){var Ge,Je=be.p(We),Ue="set"+(this.$u?"UTC":""),pe=(Ge={},Ge[g]=Ue+"Date",Ge[k]=Ue+"Date",Ge[m]=Ue+"Month",Ge[x]=Ue+"FullYear",Ge[d]=Ue+"Hours",Ge[c]=Ue+"Minutes",Ge[f]=Ue+"Seconds",Ge[l]=Ue+"Milliseconds",Ge)[Je],ae=Je===g?this.$D+(ze-this.$W):ze;if(Je===m||Je===x){var Se=this.clone().set(k,1);Se.$d[pe](ae),Se.init(),this.$d=Se.set(k,Math.min(this.$D,Se.daysInMonth())).$d}else pe&&this.$d[pe](ae);return this.init(),this},De.set=function(We,ze){return this.clone().$set(We,ze)},De.get=function(We){return this[be.p(We)]()},De.add=function(We,ze){var Ge,Je=this;We=Number(We);var Ue=be.p(ze),pe=function(Pe){var qe=ye(Je);return be.w(qe.date(qe.date()+Math.round(Pe*We)),Je)};if(Ue===m)return this.set(m,this.$M+We);if(Ue===x)return this.set(x,this.$y+We);if(Ue===g)return pe(1);if(Ue===b)return pe(7);var ae=(Ge={},Ge[c]=s,Ge[d]=a,Ge[f]=r,Ge)[Ue]||1,Se=this.$d.getTime()+We*ae;return be.w(Se,this)},De.subtract=function(We,ze){return this.add(-1*We,ze)},De.format=function(We){var ze=this,Ge=this.$locale();if(!this.isValid())return Ge.invalidDate||q;var Je=We||"YYYY-MM-DDTHH:mm:ssZ",Ue=be.z(this),pe=this.$H,ae=this.$m,Se=this.$M,Pe=Ge.weekdays,qe=Ge.months,xe=function(et,nt,it,Ee){return et&&(et[nt]||et(ze,Je))||it[nt].slice(0,Ee)},Xe=function(et){return be.s(pe%12||12,et,"0")},$e=Ge.meridiem||function(et,nt,it){var Ee=et<12?"AM":"PM";return it?Ee.toLowerCase():Ee},Ze={YY:String(this.$y).slice(-2),YYYY:this.$y,M:Se+1,MM:be.s(Se+1,2,"0"),MMM:xe(Ge.monthsShort,Se,qe,3),MMMM:xe(qe,Se),D:this.$D,DD:be.s(this.$D,2,"0"),d:String(this.$W),dd:xe(Ge.weekdaysMin,this.$W,Pe,2),ddd:xe(Ge.weekdaysShort,this.$W,Pe,3),dddd:Pe[this.$W],H:String(pe),HH:be.s(pe,2,"0"),h:Xe(1),hh:Xe(2),a:$e(pe,ae,!0),A:$e(pe,ae,!1),m:String(ae),mm:be.s(ae,2,"0"),s:String(this.$s),ss:be.s(this.$s,2,"0"),SSS:be.s(this.$ms,3,"0"),Z:Ue};return Je.replace(ne,function(et,nt){return nt||Ze[et]||Ue.replace(":","")})},De.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},De.diff=function(We,ze,Ge){var Je,Ue=be.p(ze),pe=ye(We),ae=(pe.utcOffset()-this.utcOffset())*s,Se=this-pe,Pe=be.m(this,pe);return Pe=(Je={},Je[x]=Pe/12,Je[m]=Pe,Je[_]=Pe/3,Je[b]=(Se-ae)/6048e5,Je[g]=(Se-ae)/864e5,Je[d]=Se/a,Je[c]=Se/s,Je[f]=Se/r,Je)[Ue]||Se,Ge?Pe:be.a(Pe)},De.daysInMonth=function(){return this.endOf(m).$D},De.$locale=function(){return ge[this.$L]},De.locale=function(We,ze){if(!We)return this.$L;var Ge=this.clone(),Je=_e(We,ze,!0);return Je&&(Ge.$L=Je),Ge},De.clone=function(){return be.w(this.$d,this)},De.toDate=function(){return new Date(this.valueOf())},De.toJSON=function(){return this.isValid()?this.toISOString():null},De.toISOString=function(){return this.$d.toISOString()},De.toString=function(){return this.$d.toUTCString()},Fe}(),Oe=He.prototype;return ye.prototype=Oe,[["$ms",l],["$s",f],["$m",c],["$H",d],["$W",g],["$M",m],["$y",x],["$D",k]].forEach(function(Fe){Oe[Fe[1]]=function(De){return this.$g(De,Fe[0],Fe[1])}}),ye.extend=function(Fe,De){return Fe.$i||(Fe(De,He,ye),Fe.$i=!0),ye},ye.locale=_e,ye.isDayjs=ve,ye.unix=function(Fe){return ye(1e3*Fe)},ye.en=ge[he],ye.Ls=ge,ye.p={},ye})})(dayjs_min);let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const byteToHex=[];for(let n=0;n<256;++n)byteToHex.push((n+256).toString(16).slice(1));function unsafeStringify(n,e=0){return(byteToHex[n[e+0]]+byteToHex[n[e+1]]+byteToHex[n[e+2]]+byteToHex[n[e+3]]+"-"+byteToHex[n[e+4]]+byteToHex[n[e+5]]+"-"+byteToHex[n[e+6]]+byteToHex[n[e+7]]+"-"+byteToHex[n[e+8]]+byteToHex[n[e+9]]+"-"+byteToHex[n[e+10]]+byteToHex[n[e+11]]+byteToHex[n[e+12]]+byteToHex[n[e+13]]+byteToHex[n[e+14]]+byteToHex[n[e+15]]).toLowerCase()}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4(n,e,r){if(native.randomUUID&&!e&&!n)return native.randomUUID();n=n||{};const s=n.random||(n.rng||rng)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){r=r||0;for(let a=0;a<16;++a)e[r+a]=s[a];return e}return unsafeStringify(s)}/*!
  * shared v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const inBrowser=typeof window<"u",hasSymbol=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",makeSymbol=n=>hasSymbol?Symbol(n):n,generateFormatCacheKey=(n,e,r)=>friendlyJSONstringify({l:n,k:e,s:r}),friendlyJSONstringify=n=>JSON.stringify(n).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),isNumber$1=n=>typeof n=="number"&&isFinite(n),isDate$1=n=>toTypeString(n)==="[object Date]",isRegExp$1=n=>toTypeString(n)==="[object RegExp]",isEmptyObject=n=>isPlainObject$1(n)&&Object.keys(n).length===0;function warn(n,e){typeof console<"u"&&(console.warn("[intlify] "+n),e&&console.warn(e.stack))}const assign$2=Object.assign;let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function escapeHtml(n){return n.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const hasOwnProperty$1=Object.prototype.hasOwnProperty;function hasOwn(n,e){return hasOwnProperty$1.call(n,e)}const isArray$1=Array.isArray,isFunction$3=n=>typeof n=="function",isString$1=n=>typeof n=="string",isBoolean$2=n=>typeof n=="boolean",isObject$4=n=>n!==null&&typeof n=="object",objectToString=Object.prototype.toString,toTypeString=n=>objectToString.call(n),isPlainObject$1=n=>toTypeString(n)==="[object Object]",toDisplayString=n=>n==null?"":isArray$1(n)||isPlainObject$1(n)&&n.toString===objectToString?JSON.stringify(n,null,2):String(n);/*!
  * message-compiler v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const CompileErrorCodes={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,__EXTEND_POINT__:15};function createCompileError(n,e,r={}){const{domain:s,messages:a,args:l}=r,f=n,c=new SyntaxError(String(f));return c.code=n,e&&(c.location=e),c.domain=s,c}function defaultOnError(n){throw n}function createPosition(n,e,r){return{line:n,column:e,offset:r}}function createLocation(n,e,r){const s={start:n,end:e};return r!=null&&(s.source=r),s}const CHAR_SP=" ",CHAR_CR="\r",CHAR_LF=`
`,CHAR_LS=String.fromCharCode(8232),CHAR_PS=String.fromCharCode(8233);function createScanner(n){const e=n;let r=0,s=1,a=1,l=0;const f=ve=>e[ve]===CHAR_CR&&e[ve+1]===CHAR_LF,c=ve=>e[ve]===CHAR_LF,d=ve=>e[ve]===CHAR_PS,g=ve=>e[ve]===CHAR_LS,b=ve=>f(ve)||c(ve)||d(ve)||g(ve),m=()=>r,_=()=>s,x=()=>a,k=()=>l,q=ve=>f(ve)||d(ve)||g(ve)?CHAR_LF:e[ve],j=()=>q(r),ne=()=>q(r+l);function se(){return l=0,b(r)&&(s++,a=0),f(r)&&r++,r++,a++,e[r]}function le(){return f(r+l)&&l++,l++,e[r+l]}function ue(){r=0,s=1,a=1,l=0}function he(ve=0){l=ve}function ge(){const ve=r+l;for(;ve!==r;)se();l=0}return{index:m,line:_,column:x,peekOffset:k,charAt:q,currentChar:j,currentPeek:ne,next:se,peek:le,reset:ue,resetPeek:he,skipToPeek:ge}}const EOF=void 0,LITERAL_DELIMITER="'",ERROR_DOMAIN$1="tokenizer";function createTokenizer(n,e={}){const r=e.location!==!1,s=createScanner(n),a=()=>s.index(),l=()=>createPosition(s.line(),s.column(),s.index()),f=l(),c=a(),d={currentType:14,offset:c,startLoc:f,endLoc:f,lastType:14,lastOffset:c,lastStartLoc:f,lastEndLoc:f,braceNest:0,inLinked:!1,text:""},g=()=>d,{onError:b}=e;function m(de,ce,we,...Be){const Ie=g();if(ce.column+=we,ce.offset+=we,b){const Ye=createLocation(Ie.startLoc,ce),Ke=createCompileError(de,Ye,{domain:ERROR_DOMAIN$1,args:Be});b(Ke)}}function _(de,ce,we){de.endLoc=l(),de.currentType=ce;const Be={type:ce};return r&&(Be.loc=createLocation(de.startLoc,de.endLoc)),we!=null&&(Be.value=we),Be}const x=de=>_(de,14);function k(de,ce){return de.currentChar()===ce?(de.next(),ce):(m(CompileErrorCodes.EXPECTED_TOKEN,l(),0,ce),"")}function q(de){let ce="";for(;de.currentPeek()===CHAR_SP||de.currentPeek()===CHAR_LF;)ce+=de.currentPeek(),de.peek();return ce}function j(de){const ce=q(de);return de.skipToPeek(),ce}function ne(de){if(de===EOF)return!1;const ce=de.charCodeAt(0);return ce>=97&&ce<=122||ce>=65&&ce<=90||ce===95}function se(de){if(de===EOF)return!1;const ce=de.charCodeAt(0);return ce>=48&&ce<=57}function le(de,ce){const{currentType:we}=ce;if(we!==2)return!1;q(de);const Be=ne(de.currentPeek());return de.resetPeek(),Be}function ue(de,ce){const{currentType:we}=ce;if(we!==2)return!1;q(de);const Be=de.currentPeek()==="-"?de.peek():de.currentPeek(),Ie=se(Be);return de.resetPeek(),Ie}function he(de,ce){const{currentType:we}=ce;if(we!==2)return!1;q(de);const Be=de.currentPeek()===LITERAL_DELIMITER;return de.resetPeek(),Be}function ge(de,ce){const{currentType:we}=ce;if(we!==8)return!1;q(de);const Be=de.currentPeek()===".";return de.resetPeek(),Be}function ve(de,ce){const{currentType:we}=ce;if(we!==9)return!1;q(de);const Be=ne(de.currentPeek());return de.resetPeek(),Be}function _e(de,ce){const{currentType:we}=ce;if(!(we===8||we===12))return!1;q(de);const Be=de.currentPeek()===":";return de.resetPeek(),Be}function ye(de,ce){const{currentType:we}=ce;if(we!==10)return!1;const Be=()=>{const Ye=de.currentPeek();return Ye==="{"?ne(de.peek()):Ye==="@"||Ye==="%"||Ye==="|"||Ye===":"||Ye==="."||Ye===CHAR_SP||!Ye?!1:Ye===CHAR_LF?(de.peek(),Be()):ne(Ye)},Ie=Be();return de.resetPeek(),Ie}function be(de){q(de);const ce=de.currentPeek()==="|";return de.resetPeek(),ce}function He(de){const ce=q(de),we=de.currentPeek()==="%"&&de.peek()==="{";return de.resetPeek(),{isModulo:we,hasSpace:ce.length>0}}function Oe(de,ce=!0){const we=(Ie=!1,Ye="",Ke=!1)=>{const Re=de.currentPeek();return Re==="{"?Ye==="%"?!1:Ie:Re==="@"||!Re?Ye==="%"?!0:Ie:Re==="%"?(de.peek(),we(Ie,"%",!0)):Re==="|"?Ye==="%"||Ke?!0:!(Ye===CHAR_SP||Ye===CHAR_LF):Re===CHAR_SP?(de.peek(),we(!0,CHAR_SP,Ke)):Re===CHAR_LF?(de.peek(),we(!0,CHAR_LF,Ke)):!0},Be=we();return ce&&de.resetPeek(),Be}function Fe(de,ce){const we=de.currentChar();return we===EOF?EOF:ce(we)?(de.next(),we):null}function De(de){return Fe(de,we=>{const Be=we.charCodeAt(0);return Be>=97&&Be<=122||Be>=65&&Be<=90||Be>=48&&Be<=57||Be===95||Be===36})}function We(de){return Fe(de,we=>{const Be=we.charCodeAt(0);return Be>=48&&Be<=57})}function ze(de){return Fe(de,we=>{const Be=we.charCodeAt(0);return Be>=48&&Be<=57||Be>=65&&Be<=70||Be>=97&&Be<=102})}function Ge(de){let ce="",we="";for(;ce=We(de);)we+=ce;return we}function Je(de){j(de);const ce=de.currentChar();return ce!=="%"&&m(CompileErrorCodes.EXPECTED_TOKEN,l(),0,ce),de.next(),"%"}function Ue(de){let ce="";for(;;){const we=de.currentChar();if(we==="{"||we==="}"||we==="@"||we==="|"||!we)break;if(we==="%")if(Oe(de))ce+=we,de.next();else break;else if(we===CHAR_SP||we===CHAR_LF)if(Oe(de))ce+=we,de.next();else{if(be(de))break;ce+=we,de.next()}else ce+=we,de.next()}return ce}function pe(de){j(de);let ce="",we="";for(;ce=De(de);)we+=ce;return de.currentChar()===EOF&&m(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,l(),0),we}function ae(de){j(de);let ce="";return de.currentChar()==="-"?(de.next(),ce+=`-${Ge(de)}`):ce+=Ge(de),de.currentChar()===EOF&&m(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,l(),0),ce}function Se(de){j(de),k(de,"'");let ce="",we="";const Be=Ye=>Ye!==LITERAL_DELIMITER&&Ye!==CHAR_LF;for(;ce=Fe(de,Be);)ce==="\\"?we+=Pe(de):we+=ce;const Ie=de.currentChar();return Ie===CHAR_LF||Ie===EOF?(m(CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,l(),0),Ie===CHAR_LF&&(de.next(),k(de,"'")),we):(k(de,"'"),we)}function Pe(de){const ce=de.currentChar();switch(ce){case"\\":case"'":return de.next(),`\\${ce}`;case"u":return qe(de,ce,4);case"U":return qe(de,ce,6);default:return m(CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE,l(),0,ce),""}}function qe(de,ce,we){k(de,ce);let Be="";for(let Ie=0;Ie<we;Ie++){const Ye=ze(de);if(!Ye){m(CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE,l(),0,`\\${ce}${Be}${de.currentChar()}`);break}Be+=Ye}return`\\${ce}${Be}`}function xe(de){j(de);let ce="",we="";const Be=Ie=>Ie!=="{"&&Ie!=="}"&&Ie!==CHAR_SP&&Ie!==CHAR_LF;for(;ce=Fe(de,Be);)we+=ce;return we}function Xe(de){let ce="",we="";for(;ce=De(de);)we+=ce;return we}function $e(de){const ce=(we=!1,Be)=>{const Ie=de.currentChar();return Ie==="{"||Ie==="%"||Ie==="@"||Ie==="|"||!Ie||Ie===CHAR_SP?Be:Ie===CHAR_LF?(Be+=Ie,de.next(),ce(we,Be)):(Be+=Ie,de.next(),ce(!0,Be))};return ce(!1,"")}function Ze(de){j(de);const ce=k(de,"|");return j(de),ce}function et(de,ce){let we=null;switch(de.currentChar()){case"{":return ce.braceNest>=1&&m(CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER,l(),0),de.next(),we=_(ce,2,"{"),j(de),ce.braceNest++,we;case"}":return ce.braceNest>0&&ce.currentType===2&&m(CompileErrorCodes.EMPTY_PLACEHOLDER,l(),0),de.next(),we=_(ce,3,"}"),ce.braceNest--,ce.braceNest>0&&j(de),ce.inLinked&&ce.braceNest===0&&(ce.inLinked=!1),we;case"@":return ce.braceNest>0&&m(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,l(),0),we=nt(de,ce)||x(ce),ce.braceNest=0,we;default:let Ie=!0,Ye=!0,Ke=!0;if(be(de))return ce.braceNest>0&&m(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,l(),0),we=_(ce,1,Ze(de)),ce.braceNest=0,ce.inLinked=!1,we;if(ce.braceNest>0&&(ce.currentType===5||ce.currentType===6||ce.currentType===7))return m(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,l(),0),ce.braceNest=0,it(de,ce);if(Ie=le(de,ce))return we=_(ce,5,pe(de)),j(de),we;if(Ye=ue(de,ce))return we=_(ce,6,ae(de)),j(de),we;if(Ke=he(de,ce))return we=_(ce,7,Se(de)),j(de),we;if(!Ie&&!Ye&&!Ke)return we=_(ce,13,xe(de)),m(CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER,l(),0,we.value),j(de),we;break}return we}function nt(de,ce){const{currentType:we}=ce;let Be=null;const Ie=de.currentChar();switch((we===8||we===9||we===12||we===10)&&(Ie===CHAR_LF||Ie===CHAR_SP)&&m(CompileErrorCodes.INVALID_LINKED_FORMAT,l(),0),Ie){case"@":return de.next(),Be=_(ce,8,"@"),ce.inLinked=!0,Be;case".":return j(de),de.next(),_(ce,9,".");case":":return j(de),de.next(),_(ce,10,":");default:return be(de)?(Be=_(ce,1,Ze(de)),ce.braceNest=0,ce.inLinked=!1,Be):ge(de,ce)||_e(de,ce)?(j(de),nt(de,ce)):ve(de,ce)?(j(de),_(ce,12,Xe(de))):ye(de,ce)?(j(de),Ie==="{"?et(de,ce)||Be:_(ce,11,$e(de))):(we===8&&m(CompileErrorCodes.INVALID_LINKED_FORMAT,l(),0),ce.braceNest=0,ce.inLinked=!1,it(de,ce))}}function it(de,ce){let we={type:14};if(ce.braceNest>0)return et(de,ce)||x(ce);if(ce.inLinked)return nt(de,ce)||x(ce);switch(de.currentChar()){case"{":return et(de,ce)||x(ce);case"}":return m(CompileErrorCodes.UNBALANCED_CLOSING_BRACE,l(),0),de.next(),_(ce,3,"}");case"@":return nt(de,ce)||x(ce);default:if(be(de))return we=_(ce,1,Ze(de)),ce.braceNest=0,ce.inLinked=!1,we;const{isModulo:Ie,hasSpace:Ye}=He(de);if(Ie)return Ye?_(ce,0,Ue(de)):_(ce,4,Je(de));if(Oe(de))return _(ce,0,Ue(de));break}return we}function Ee(){const{currentType:de,offset:ce,startLoc:we,endLoc:Be}=d;return d.lastType=de,d.lastOffset=ce,d.lastStartLoc=we,d.lastEndLoc=Be,d.offset=a(),d.startLoc=l(),s.currentChar()===EOF?_(d,14):it(s,d)}return{nextToken:Ee,currentOffset:a,currentPosition:l,context:g}}const ERROR_DOMAIN="parser",KNOWN_ESCAPES=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function fromEscapeSequence(n,e,r){switch(n){case"\\\\":return"\\";case"\\'":return"'";default:{const s=parseInt(e||r,16);return s<=55295||s>=57344?String.fromCodePoint(s):"�"}}}function createParser(n={}){const e=n.location!==!1,{onError:r}=n;function s(ne,se,le,ue,...he){const ge=ne.currentPosition();if(ge.offset+=ue,ge.column+=ue,r){const ve=createLocation(le,ge),_e=createCompileError(se,ve,{domain:ERROR_DOMAIN,args:he});r(_e)}}function a(ne,se,le){const ue={type:ne,start:se,end:se};return e&&(ue.loc={start:le,end:le}),ue}function l(ne,se,le,ue){ne.end=se,ue&&(ne.type=ue),e&&ne.loc&&(ne.loc.end=le)}function f(ne,se){const le=ne.context(),ue=a(3,le.offset,le.startLoc);return ue.value=se,l(ue,ne.currentOffset(),ne.currentPosition()),ue}function c(ne,se){const le=ne.context(),{lastOffset:ue,lastStartLoc:he}=le,ge=a(5,ue,he);return ge.index=parseInt(se,10),ne.nextToken(),l(ge,ne.currentOffset(),ne.currentPosition()),ge}function d(ne,se){const le=ne.context(),{lastOffset:ue,lastStartLoc:he}=le,ge=a(4,ue,he);return ge.key=se,ne.nextToken(),l(ge,ne.currentOffset(),ne.currentPosition()),ge}function g(ne,se){const le=ne.context(),{lastOffset:ue,lastStartLoc:he}=le,ge=a(9,ue,he);return ge.value=se.replace(KNOWN_ESCAPES,fromEscapeSequence),ne.nextToken(),l(ge,ne.currentOffset(),ne.currentPosition()),ge}function b(ne){const se=ne.nextToken(),le=ne.context(),{lastOffset:ue,lastStartLoc:he}=le,ge=a(8,ue,he);return se.type!==12?(s(ne,CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER,le.lastStartLoc,0),ge.value="",l(ge,ue,he),{nextConsumeToken:se,node:ge}):(se.value==null&&s(ne,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,le.lastStartLoc,0,getTokenCaption(se)),ge.value=se.value||"",l(ge,ne.currentOffset(),ne.currentPosition()),{node:ge})}function m(ne,se){const le=ne.context(),ue=a(7,le.offset,le.startLoc);return ue.value=se,l(ue,ne.currentOffset(),ne.currentPosition()),ue}function _(ne){const se=ne.context(),le=a(6,se.offset,se.startLoc);let ue=ne.nextToken();if(ue.type===9){const he=b(ne);le.modifier=he.node,ue=he.nextConsumeToken||ne.nextToken()}switch(ue.type!==10&&s(ne,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,se.lastStartLoc,0,getTokenCaption(ue)),ue=ne.nextToken(),ue.type===2&&(ue=ne.nextToken()),ue.type){case 11:ue.value==null&&s(ne,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,se.lastStartLoc,0,getTokenCaption(ue)),le.key=m(ne,ue.value||"");break;case 5:ue.value==null&&s(ne,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,se.lastStartLoc,0,getTokenCaption(ue)),le.key=d(ne,ue.value||"");break;case 6:ue.value==null&&s(ne,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,se.lastStartLoc,0,getTokenCaption(ue)),le.key=c(ne,ue.value||"");break;case 7:ue.value==null&&s(ne,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,se.lastStartLoc,0,getTokenCaption(ue)),le.key=g(ne,ue.value||"");break;default:s(ne,CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY,se.lastStartLoc,0);const he=ne.context(),ge=a(7,he.offset,he.startLoc);return ge.value="",l(ge,he.offset,he.startLoc),le.key=ge,l(le,he.offset,he.startLoc),{nextConsumeToken:ue,node:le}}return l(le,ne.currentOffset(),ne.currentPosition()),{node:le}}function x(ne){const se=ne.context(),le=se.currentType===1?ne.currentOffset():se.offset,ue=se.currentType===1?se.endLoc:se.startLoc,he=a(2,le,ue);he.items=[];let ge=null;do{const ye=ge||ne.nextToken();switch(ge=null,ye.type){case 0:ye.value==null&&s(ne,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,se.lastStartLoc,0,getTokenCaption(ye)),he.items.push(f(ne,ye.value||""));break;case 6:ye.value==null&&s(ne,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,se.lastStartLoc,0,getTokenCaption(ye)),he.items.push(c(ne,ye.value||""));break;case 5:ye.value==null&&s(ne,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,se.lastStartLoc,0,getTokenCaption(ye)),he.items.push(d(ne,ye.value||""));break;case 7:ye.value==null&&s(ne,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,se.lastStartLoc,0,getTokenCaption(ye)),he.items.push(g(ne,ye.value||""));break;case 8:const be=_(ne);he.items.push(be.node),ge=be.nextConsumeToken||null;break}}while(se.currentType!==14&&se.currentType!==1);const ve=se.currentType===1?se.lastOffset:ne.currentOffset(),_e=se.currentType===1?se.lastEndLoc:ne.currentPosition();return l(he,ve,_e),he}function k(ne,se,le,ue){const he=ne.context();let ge=ue.items.length===0;const ve=a(1,se,le);ve.cases=[],ve.cases.push(ue);do{const _e=x(ne);ge||(ge=_e.items.length===0),ve.cases.push(_e)}while(he.currentType!==14);return ge&&s(ne,CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL,le,0),l(ve,ne.currentOffset(),ne.currentPosition()),ve}function q(ne){const se=ne.context(),{offset:le,startLoc:ue}=se,he=x(ne);return se.currentType===14?he:k(ne,le,ue,he)}function j(ne){const se=createTokenizer(ne,assign$2({},n)),le=se.context(),ue=a(0,le.offset,le.startLoc);return e&&ue.loc&&(ue.loc.source=ne),ue.body=q(se),le.currentType!==14&&s(se,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,le.lastStartLoc,0,ne[le.offset]||""),l(ue,se.currentOffset(),se.currentPosition()),ue}return{parse:j}}function getTokenCaption(n){if(n.type===14)return"EOF";const e=(n.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"…":e}function createTransformer(n,e={}){const r={ast:n,helpers:new Set};return{context:()=>r,helper:l=>(r.helpers.add(l),l)}}function traverseNodes(n,e){for(let r=0;r<n.length;r++)traverseNode(n[r],e)}function traverseNode(n,e){switch(n.type){case 1:traverseNodes(n.cases,e),e.helper("plural");break;case 2:traverseNodes(n.items,e);break;case 6:traverseNode(n.key,e),e.helper("linked"),e.helper("type");break;case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function transform$1(n,e={}){const r=createTransformer(n);r.helper("normalize"),n.body&&traverseNode(n.body,r);const s=r.context();n.helpers=Array.from(s.helpers)}function createCodeGenerator(n,e){const{sourceMap:r,filename:s,breakLineCode:a,needIndent:l}=e,f={source:n.loc.source,filename:s,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:a,needIndent:l,indentLevel:0},c=()=>f;function d(q,j){f.code+=q}function g(q,j=!0){const ne=j?a:"";d(l?ne+"  ".repeat(q):ne)}function b(q=!0){const j=++f.indentLevel;q&&g(j)}function m(q=!0){const j=--f.indentLevel;q&&g(j)}function _(){g(f.indentLevel)}return{context:c,push:d,indent:b,deindent:m,newline:_,helper:q=>`_${q}`,needIndent:()=>f.needIndent}}function generateLinkedNode(n,e){const{helper:r}=n;n.push(`${r("linked")}(`),generateNode(n,e.key),e.modifier?(n.push(", "),generateNode(n,e.modifier),n.push(", _type")):n.push(", undefined, _type"),n.push(")")}function generateMessageNode(n,e){const{helper:r,needIndent:s}=n;n.push(`${r("normalize")}([`),n.indent(s());const a=e.items.length;for(let l=0;l<a&&(generateNode(n,e.items[l]),l!==a-1);l++)n.push(", ");n.deindent(s()),n.push("])")}function generatePluralNode(n,e){const{helper:r,needIndent:s}=n;if(e.cases.length>1){n.push(`${r("plural")}([`),n.indent(s());const a=e.cases.length;for(let l=0;l<a&&(generateNode(n,e.cases[l]),l!==a-1);l++)n.push(", ");n.deindent(s()),n.push("])")}}function generateResource(n,e){e.body?generateNode(n,e.body):n.push("null")}function generateNode(n,e){const{helper:r}=n;switch(e.type){case 0:generateResource(n,e);break;case 1:generatePluralNode(n,e);break;case 2:generateMessageNode(n,e);break;case 6:generateLinkedNode(n,e);break;case 8:n.push(JSON.stringify(e.value),e);break;case 7:n.push(JSON.stringify(e.value),e);break;case 5:n.push(`${r("interpolate")}(${r("list")}(${e.index}))`,e);break;case 4:n.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:n.push(JSON.stringify(e.value),e);break;case 3:n.push(JSON.stringify(e.value),e);break}}const generate=(n,e={})=>{const r=isString$1(e.mode)?e.mode:"normal",s=isString$1(e.filename)?e.filename:"message.intl",a=!!e.sourceMap,l=e.breakLineCode!=null?e.breakLineCode:r==="arrow"?";":`
`,f=e.needIndent?e.needIndent:r!=="arrow",c=n.helpers||[],d=createCodeGenerator(n,{mode:r,filename:s,sourceMap:a,breakLineCode:l,needIndent:f});d.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),d.indent(f),c.length>0&&(d.push(`const { ${c.map(m=>`${m}: _${m}`).join(", ")} } = ctx`),d.newline()),d.push("return "),generateNode(d,n),d.deindent(f),d.push("}");const{code:g,map:b}=d.context();return{ast:n,code:g,map:b?b.toJSON():void 0}};function baseCompile(n,e={}){const r=assign$2({},e),a=createParser(r).parse(n);return transform$1(a,r),generate(a,r)}/*!
  * devtools-if v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const IntlifyDevToolsHooks={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * core-base v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const pathStateMachine=[];pathStateMachine[0]={w:[0],i:[3,0],["["]:[4],o:[7]};pathStateMachine[1]={w:[1],["."]:[2],["["]:[4],o:[7]};pathStateMachine[2]={w:[2],i:[3,0],[0]:[3,0]};pathStateMachine[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};pathStateMachine[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};pathStateMachine[5]={["'"]:[4,0],o:8,l:[5,0]};pathStateMachine[6]={['"']:[4,0],o:8,l:[6,0]};const literalValueRE=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function isLiteral(n){return literalValueRE.test(n)}function stripQuotes(n){const e=n.charCodeAt(0),r=n.charCodeAt(n.length-1);return e===r&&(e===34||e===39)?n.slice(1,-1):n}function getPathCharType(n){if(n==null)return"o";switch(n.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return n;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function formatSubPath(n){const e=n.trim();return n.charAt(0)==="0"&&isNaN(parseInt(n))?!1:isLiteral(e)?stripQuotes(e):"*"+e}function parse$4(n){const e=[];let r=-1,s=0,a=0,l,f,c,d,g,b,m;const _=[];_[0]=()=>{f===void 0?f=c:f+=c},_[1]=()=>{f!==void 0&&(e.push(f),f=void 0)},_[2]=()=>{_[0](),a++},_[3]=()=>{if(a>0)a--,s=4,_[0]();else{if(a=0,f===void 0||(f=formatSubPath(f),f===!1))return!1;_[1]()}};function x(){const k=n[r+1];if(s===5&&k==="'"||s===6&&k==='"')return r++,c="\\"+k,_[0](),!0}for(;s!==null;)if(r++,l=n[r],!(l==="\\"&&x())){if(d=getPathCharType(l),m=pathStateMachine[s],g=m[d]||m.l||8,g===8||(s=g[0],g[1]!==void 0&&(b=_[g[1]],b&&(c=l,b()===!1))))return;if(s===7)return e}}const cache$1=new Map;function resolveWithKeyValue(n,e){return isObject$4(n)?n[e]:null}function resolveValue(n,e){if(!isObject$4(n))return null;let r=cache$1.get(e);if(r||(r=parse$4(e),r&&cache$1.set(e,r)),!r)return null;const s=r.length;let a=n,l=0;for(;l<s;){const f=a[r[l]];if(f===void 0)return null;a=f,l++}return a}const DEFAULT_MODIFIER=n=>n,DEFAULT_MESSAGE=n=>"",DEFAULT_MESSAGE_DATA_TYPE="text",DEFAULT_NORMALIZE=n=>n.length===0?"":n.join(""),DEFAULT_INTERPOLATE=toDisplayString;function pluralDefault(n,e){return n=Math.abs(n),e===2?n?n>1?1:0:1:n?Math.min(n,2):0}function getPluralIndex(n){const e=isNumber$1(n.pluralIndex)?n.pluralIndex:-1;return n.named&&(isNumber$1(n.named.count)||isNumber$1(n.named.n))?isNumber$1(n.named.count)?n.named.count:isNumber$1(n.named.n)?n.named.n:e:e}function normalizeNamed(n,e){e.count||(e.count=n),e.n||(e.n=n)}function createMessageContext(n={}){const e=n.locale,r=getPluralIndex(n),s=isObject$4(n.pluralRules)&&isString$1(e)&&isFunction$3(n.pluralRules[e])?n.pluralRules[e]:pluralDefault,a=isObject$4(n.pluralRules)&&isString$1(e)&&isFunction$3(n.pluralRules[e])?pluralDefault:void 0,l=ne=>ne[s(r,ne.length,a)],f=n.list||[],c=ne=>f[ne],d=n.named||{};isNumber$1(n.pluralIndex)&&normalizeNamed(r,d);const g=ne=>d[ne];function b(ne){const se=isFunction$3(n.messages)?n.messages(ne):isObject$4(n.messages)?n.messages[ne]:!1;return se||(n.parent?n.parent.message(ne):DEFAULT_MESSAGE)}const m=ne=>n.modifiers?n.modifiers[ne]:DEFAULT_MODIFIER,_=isPlainObject$1(n.processor)&&isFunction$3(n.processor.normalize)?n.processor.normalize:DEFAULT_NORMALIZE,x=isPlainObject$1(n.processor)&&isFunction$3(n.processor.interpolate)?n.processor.interpolate:DEFAULT_INTERPOLATE,k=isPlainObject$1(n.processor)&&isString$1(n.processor.type)?n.processor.type:DEFAULT_MESSAGE_DATA_TYPE,j={list:c,named:g,plural:l,linked:(ne,...se)=>{const[le,ue]=se;let he="text",ge="";se.length===1?isObject$4(le)?(ge=le.modifier||ge,he=le.type||he):isString$1(le)&&(ge=le||ge):se.length===2&&(isString$1(le)&&(ge=le||ge),isString$1(ue)&&(he=ue||he));let ve=b(ne)(j);return he==="vnode"&&isArray$1(ve)&&ge&&(ve=ve[0]),ge?m(ge)(ve,he):ve},message:b,type:k,interpolate:x,normalize:_};return j}let devtools=null;function setDevToolsHook(n){devtools=n}function initI18nDevTools(n,e,r){devtools&&devtools.emit(IntlifyDevToolsHooks.I18nInit,{timestamp:Date.now(),i18n:n,version:e,meta:r})}const translateDevTools=createDevToolsHook(IntlifyDevToolsHooks.FunctionTranslate);function createDevToolsHook(n){return e=>devtools&&devtools.emit(n,e)}function fallbackWithSimple(n,e,r){return[...new Set([r,...isArray$1(e)?e:isObject$4(e)?Object.keys(e):isString$1(e)?[e]:[r]])]}function fallbackWithLocaleChain(n,e,r){const s=isString$1(r)?r:DEFAULT_LOCALE,a=n;a.__localeChainCache||(a.__localeChainCache=new Map);let l=a.__localeChainCache.get(s);if(!l){l=[];let f=[r];for(;isArray$1(f);)f=appendBlockToChain(l,f,e);const c=isArray$1(e)||!isPlainObject$1(e)?e:e.default?e.default:null;f=isString$1(c)?[c]:c,isArray$1(f)&&appendBlockToChain(l,f,!1),a.__localeChainCache.set(s,l)}return l}function appendBlockToChain(n,e,r){let s=!0;for(let a=0;a<e.length&&isBoolean$2(s);a++){const l=e[a];isString$1(l)&&(s=appendLocaleToChain(n,e[a],r))}return s}function appendLocaleToChain(n,e,r){let s;const a=e.split("-");do{const l=a.join("-");s=appendItemToChain(n,l,r),a.splice(-1,1)}while(a.length&&s===!0);return s}function appendItemToChain(n,e,r){let s=!1;if(!n.includes(e)&&(s=!0,e)){s=e[e.length-1]!=="!";const a=e.replace(/!/g,"");n.push(a),(isArray$1(r)||isPlainObject$1(r))&&r[a]&&(s=r[a])}return s}const VERSION$3="9.2.2",NOT_REOSLVED=-1,DEFAULT_LOCALE="en-US",MISSING_RESOLVE_VALUE="",capitalize$1=n=>`${n.charAt(0).toLocaleUpperCase()}${n.substr(1)}`;function getDefaultLinkedModifiers(){return{upper:(n,e)=>e==="text"&&isString$1(n)?n.toUpperCase():e==="vnode"&&isObject$4(n)&&"__v_isVNode"in n?n.children.toUpperCase():n,lower:(n,e)=>e==="text"&&isString$1(n)?n.toLowerCase():e==="vnode"&&isObject$4(n)&&"__v_isVNode"in n?n.children.toLowerCase():n,capitalize:(n,e)=>e==="text"&&isString$1(n)?capitalize$1(n):e==="vnode"&&isObject$4(n)&&"__v_isVNode"in n?capitalize$1(n.children):n}}let _compiler;function registerMessageCompiler(n){_compiler=n}let _resolver;function registerMessageResolver(n){_resolver=n}let _fallbacker;function registerLocaleFallbacker(n){_fallbacker=n}let _additionalMeta=null;const setAdditionalMeta=n=>{_additionalMeta=n},getAdditionalMeta=()=>_additionalMeta;let _fallbackContext=null;const setFallbackContext=n=>{_fallbackContext=n},getFallbackContext=()=>_fallbackContext;let _cid=0;function createCoreContext(n={}){const e=isString$1(n.version)?n.version:VERSION$3,r=isString$1(n.locale)?n.locale:DEFAULT_LOCALE,s=isArray$1(n.fallbackLocale)||isPlainObject$1(n.fallbackLocale)||isString$1(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:r,a=isPlainObject$1(n.messages)?n.messages:{[r]:{}},l=isPlainObject$1(n.datetimeFormats)?n.datetimeFormats:{[r]:{}},f=isPlainObject$1(n.numberFormats)?n.numberFormats:{[r]:{}},c=assign$2({},n.modifiers||{},getDefaultLinkedModifiers()),d=n.pluralRules||{},g=isFunction$3(n.missing)?n.missing:null,b=isBoolean$2(n.missingWarn)||isRegExp$1(n.missingWarn)?n.missingWarn:!0,m=isBoolean$2(n.fallbackWarn)||isRegExp$1(n.fallbackWarn)?n.fallbackWarn:!0,_=!!n.fallbackFormat,x=!!n.unresolving,k=isFunction$3(n.postTranslation)?n.postTranslation:null,q=isPlainObject$1(n.processor)?n.processor:null,j=isBoolean$2(n.warnHtmlMessage)?n.warnHtmlMessage:!0,ne=!!n.escapeParameter,se=isFunction$3(n.messageCompiler)?n.messageCompiler:_compiler,le=isFunction$3(n.messageResolver)?n.messageResolver:_resolver||resolveWithKeyValue,ue=isFunction$3(n.localeFallbacker)?n.localeFallbacker:_fallbacker||fallbackWithSimple,he=isObject$4(n.fallbackContext)?n.fallbackContext:void 0,ge=isFunction$3(n.onWarn)?n.onWarn:warn,ve=n,_e=isObject$4(ve.__datetimeFormatters)?ve.__datetimeFormatters:new Map,ye=isObject$4(ve.__numberFormatters)?ve.__numberFormatters:new Map,be=isObject$4(ve.__meta)?ve.__meta:{};_cid++;const He={version:e,cid:_cid,locale:r,fallbackLocale:s,messages:a,modifiers:c,pluralRules:d,missing:g,missingWarn:b,fallbackWarn:m,fallbackFormat:_,unresolving:x,postTranslation:k,processor:q,warnHtmlMessage:j,escapeParameter:ne,messageCompiler:se,messageResolver:le,localeFallbacker:ue,fallbackContext:he,onWarn:ge,__meta:be};return He.datetimeFormats=l,He.numberFormats=f,He.__datetimeFormatters=_e,He.__numberFormatters=ye,__INTLIFY_PROD_DEVTOOLS__&&initI18nDevTools(He,e,be),He}function handleMissing(n,e,r,s,a){const{missing:l,onWarn:f}=n;if(l!==null){const c=l(n,r,e,a);return isString$1(c)?c:e}else return e}function updateFallbackLocale(n,e,r){const s=n;s.__localeChainCache=new Map,n.localeFallbacker(n,r,e)}const defaultOnCacheKey=n=>n;let compileCache=Object.create(null);function compileToFunction(n,e={}){{const s=(e.onCacheKey||defaultOnCacheKey)(n),a=compileCache[s];if(a)return a;let l=!1;const f=e.onError||defaultOnError;e.onError=g=>{l=!0,f(g)};const{code:c}=baseCompile(n,e),d=new Function(`return ${c}`)();return l?d:compileCache[s]=d}}let code$1=CompileErrorCodes.__EXTEND_POINT__;const inc$1=()=>++code$1,CoreErrorCodes={INVALID_ARGUMENT:code$1,INVALID_DATE_ARGUMENT:inc$1(),INVALID_ISO_DATE_ARGUMENT:inc$1(),__EXTEND_POINT__:inc$1()};function createCoreError(n){return createCompileError(n,null,void 0)}const NOOP_MESSAGE_FUNCTION=()=>"",isMessageFunction=n=>isFunction$3(n);function translate(n,...e){const{fallbackFormat:r,postTranslation:s,unresolving:a,messageCompiler:l,fallbackLocale:f,messages:c}=n,[d,g]=parseTranslateArgs(...e),b=isBoolean$2(g.missingWarn)?g.missingWarn:n.missingWarn,m=isBoolean$2(g.fallbackWarn)?g.fallbackWarn:n.fallbackWarn,_=isBoolean$2(g.escapeParameter)?g.escapeParameter:n.escapeParameter,x=!!g.resolvedMessage,k=isString$1(g.default)||isBoolean$2(g.default)?isBoolean$2(g.default)?l?d:()=>d:g.default:r?l?d:()=>d:"",q=r||k!=="",j=isString$1(g.locale)?g.locale:n.locale;_&&escapeParams(g);let[ne,se,le]=x?[d,j,c[j]||{}]:resolveMessageFormat(n,d,j,f,m,b),ue=ne,he=d;if(!x&&!(isString$1(ue)||isMessageFunction(ue))&&q&&(ue=k,he=ue),!x&&(!(isString$1(ue)||isMessageFunction(ue))||!isString$1(se)))return a?NOT_REOSLVED:d;let ge=!1;const ve=()=>{ge=!0},_e=isMessageFunction(ue)?ue:compileMessageFormat(n,d,se,ue,he,ve);if(ge)return ue;const ye=getMessageContextOptions(n,se,le,g),be=createMessageContext(ye),He=evaluateMessage(n,_e,be),Oe=s?s(He,d):He;if(__INTLIFY_PROD_DEVTOOLS__){const Fe={timestamp:Date.now(),key:isString$1(d)?d:isMessageFunction(ue)?ue.key:"",locale:se||(isMessageFunction(ue)?ue.locale:""),format:isString$1(ue)?ue:isMessageFunction(ue)?ue.source:"",message:Oe};Fe.meta=assign$2({},n.__meta,getAdditionalMeta()||{}),translateDevTools(Fe)}return Oe}function escapeParams(n){isArray$1(n.list)?n.list=n.list.map(e=>isString$1(e)?escapeHtml(e):e):isObject$4(n.named)&&Object.keys(n.named).forEach(e=>{isString$1(n.named[e])&&(n.named[e]=escapeHtml(n.named[e]))})}function resolveMessageFormat(n,e,r,s,a,l){const{messages:f,onWarn:c,messageResolver:d,localeFallbacker:g}=n,b=g(n,s,r);let m={},_,x=null;const k="translate";for(let q=0;q<b.length&&(_=b[q],m=f[_]||{},(x=d(m,e))===null&&(x=m[e]),!(isString$1(x)||isFunction$3(x)));q++){const j=handleMissing(n,e,_,l,k);j!==e&&(x=j)}return[x,_,m]}function compileMessageFormat(n,e,r,s,a,l){const{messageCompiler:f,warnHtmlMessage:c}=n;if(isMessageFunction(s)){const g=s;return g.locale=g.locale||r,g.key=g.key||e,g}if(f==null){const g=()=>s;return g.locale=r,g.key=e,g}const d=f(s,getCompileOptions(n,r,a,s,c,l));return d.locale=r,d.key=e,d.source=s,d}function evaluateMessage(n,e,r){return e(r)}function parseTranslateArgs(...n){const[e,r,s]=n,a={};if(!isString$1(e)&&!isNumber$1(e)&&!isMessageFunction(e))throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);const l=isNumber$1(e)?String(e):(isMessageFunction(e),e);return isNumber$1(r)?a.plural=r:isString$1(r)?a.default=r:isPlainObject$1(r)&&!isEmptyObject(r)?a.named=r:isArray$1(r)&&(a.list=r),isNumber$1(s)?a.plural=s:isString$1(s)?a.default=s:isPlainObject$1(s)&&assign$2(a,s),[l,a]}function getCompileOptions(n,e,r,s,a,l){return{warnHtmlMessage:a,onError:f=>{throw l&&l(f),f},onCacheKey:f=>generateFormatCacheKey(e,r,f)}}function getMessageContextOptions(n,e,r,s){const{modifiers:a,pluralRules:l,messageResolver:f,fallbackLocale:c,fallbackWarn:d,missingWarn:g,fallbackContext:b}=n,_={locale:e,modifiers:a,pluralRules:l,messages:x=>{let k=f(r,x);if(k==null&&b){const[,,q]=resolveMessageFormat(b,x,e,c,d,g);k=f(q,x)}if(isString$1(k)){let q=!1;const ne=compileMessageFormat(n,x,e,k,x,()=>{q=!0});return q?NOOP_MESSAGE_FUNCTION:ne}else return isMessageFunction(k)?k:NOOP_MESSAGE_FUNCTION}};return n.processor&&(_.processor=n.processor),s.list&&(_.list=s.list),s.named&&(_.named=s.named),isNumber$1(s.plural)&&(_.pluralIndex=s.plural),_}function datetime(n,...e){const{datetimeFormats:r,unresolving:s,fallbackLocale:a,onWarn:l,localeFallbacker:f}=n,{__datetimeFormatters:c}=n,[d,g,b,m]=parseDateTimeArgs(...e),_=isBoolean$2(b.missingWarn)?b.missingWarn:n.missingWarn;isBoolean$2(b.fallbackWarn)?b.fallbackWarn:n.fallbackWarn;const x=!!b.part,k=isString$1(b.locale)?b.locale:n.locale,q=f(n,a,k);if(!isString$1(d)||d==="")return new Intl.DateTimeFormat(k,m).format(g);let j={},ne,se=null;const le="datetime format";for(let ge=0;ge<q.length&&(ne=q[ge],j=r[ne]||{},se=j[d],!isPlainObject$1(se));ge++)handleMissing(n,d,ne,_,le);if(!isPlainObject$1(se)||!isString$1(ne))return s?NOT_REOSLVED:d;let ue=`${ne}__${d}`;isEmptyObject(m)||(ue=`${ue}__${JSON.stringify(m)}`);let he=c.get(ue);return he||(he=new Intl.DateTimeFormat(ne,assign$2({},se,m)),c.set(ue,he)),x?he.formatToParts(g):he.format(g)}const DATETIME_FORMAT_OPTIONS_KEYS=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function parseDateTimeArgs(...n){const[e,r,s,a]=n,l={};let f={},c;if(isString$1(e)){const d=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!d)throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT);const g=d[3]?d[3].trim().startsWith("T")?`${d[1].trim()}${d[3].trim()}`:`${d[1].trim()}T${d[3].trim()}`:d[1].trim();c=new Date(g);try{c.toISOString()}catch{throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT)}}else if(isDate$1(e)){if(isNaN(e.getTime()))throw createCoreError(CoreErrorCodes.INVALID_DATE_ARGUMENT);c=e}else if(isNumber$1(e))c=e;else throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);return isString$1(r)?l.key=r:isPlainObject$1(r)&&Object.keys(r).forEach(d=>{DATETIME_FORMAT_OPTIONS_KEYS.includes(d)?f[d]=r[d]:l[d]=r[d]}),isString$1(s)?l.locale=s:isPlainObject$1(s)&&(f=s),isPlainObject$1(a)&&(f=a),[l.key||"",c,l,f]}function clearDateTimeFormat(n,e,r){const s=n;for(const a in r){const l=`${e}__${a}`;s.__datetimeFormatters.has(l)&&s.__datetimeFormatters.delete(l)}}function number(n,...e){const{numberFormats:r,unresolving:s,fallbackLocale:a,onWarn:l,localeFallbacker:f}=n,{__numberFormatters:c}=n,[d,g,b,m]=parseNumberArgs(...e),_=isBoolean$2(b.missingWarn)?b.missingWarn:n.missingWarn;isBoolean$2(b.fallbackWarn)?b.fallbackWarn:n.fallbackWarn;const x=!!b.part,k=isString$1(b.locale)?b.locale:n.locale,q=f(n,a,k);if(!isString$1(d)||d==="")return new Intl.NumberFormat(k,m).format(g);let j={},ne,se=null;const le="number format";for(let ge=0;ge<q.length&&(ne=q[ge],j=r[ne]||{},se=j[d],!isPlainObject$1(se));ge++)handleMissing(n,d,ne,_,le);if(!isPlainObject$1(se)||!isString$1(ne))return s?NOT_REOSLVED:d;let ue=`${ne}__${d}`;isEmptyObject(m)||(ue=`${ue}__${JSON.stringify(m)}`);let he=c.get(ue);return he||(he=new Intl.NumberFormat(ne,assign$2({},se,m)),c.set(ue,he)),x?he.formatToParts(g):he.format(g)}const NUMBER_FORMAT_OPTIONS_KEYS=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function parseNumberArgs(...n){const[e,r,s,a]=n,l={};let f={};if(!isNumber$1(e))throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);const c=e;return isString$1(r)?l.key=r:isPlainObject$1(r)&&Object.keys(r).forEach(d=>{NUMBER_FORMAT_OPTIONS_KEYS.includes(d)?f[d]=r[d]:l[d]=r[d]}),isString$1(s)?l.locale=s:isPlainObject$1(s)&&(f=s),isPlainObject$1(a)&&(f=a),[l.key||"",c,l,f]}function clearNumberFormat(n,e,r){const s=n;for(const a in r){const l=`${e}__${a}`;s.__numberFormatters.has(l)&&s.__numberFormatters.delete(l)}}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(getGlobalThis().__INTLIFY_PROD_DEVTOOLS__=!1);/*!
  * vue-i18n v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const VERSION$2="9.2.2";function initFeatureFlags(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(getGlobalThis().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(getGlobalThis().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(getGlobalThis().__INTLIFY_PROD_DEVTOOLS__=!1)}let code=CompileErrorCodes.__EXTEND_POINT__;const inc=()=>++code,I18nErrorCodes={UNEXPECTED_RETURN_TYPE:code,INVALID_ARGUMENT:inc(),MUST_BE_CALL_SETUP_TOP:inc(),NOT_INSLALLED:inc(),NOT_AVAILABLE_IN_LEGACY_MODE:inc(),REQUIRED_VALUE:inc(),INVALID_VALUE:inc(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:inc(),NOT_INSLALLED_WITH_PROVIDE:inc(),UNEXPECTED_ERROR:inc(),NOT_COMPATIBLE_LEGACY_VUE_I18N:inc(),BRIDGE_SUPPORT_VUE_2_ONLY:inc(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:inc(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:inc(),__EXTEND_POINT__:inc()};function createI18nError(n,...e){return createCompileError(n,null,void 0)}const TransrateVNodeSymbol=makeSymbol("__transrateVNode"),DatetimePartsSymbol=makeSymbol("__datetimeParts"),NumberPartsSymbol=makeSymbol("__numberParts"),SetPluralRulesSymbol=makeSymbol("__setPluralRules");makeSymbol("__intlifyMeta");const InejctWithOption=makeSymbol("__injectWithOption");function handleFlatJson(n){if(!isObject$4(n))return n;for(const e in n)if(hasOwn(n,e))if(!e.includes("."))isObject$4(n[e])&&handleFlatJson(n[e]);else{const r=e.split("."),s=r.length-1;let a=n;for(let l=0;l<s;l++)r[l]in a||(a[r[l]]={}),a=a[r[l]];a[r[s]]=n[e],delete n[e],isObject$4(a[r[s]])&&handleFlatJson(a[r[s]])}return n}function getLocaleMessages(n,e){const{messages:r,__i18n:s,messageResolver:a,flatJson:l}=e,f=isPlainObject$1(r)?r:isArray$1(s)?{}:{[n]:{}};if(isArray$1(s)&&s.forEach(c=>{if("locale"in c&&"resource"in c){const{locale:d,resource:g}=c;d?(f[d]=f[d]||{},deepCopy(g,f[d])):deepCopy(g,f)}else isString$1(c)&&deepCopy(JSON.parse(c),f)}),a==null&&l)for(const c in f)hasOwn(f,c)&&handleFlatJson(f[c]);return f}const isNotObjectOrIsArray=n=>!isObject$4(n)||isArray$1(n);function deepCopy(n,e){if(isNotObjectOrIsArray(n)||isNotObjectOrIsArray(e))throw createI18nError(I18nErrorCodes.INVALID_VALUE);for(const r in n)hasOwn(n,r)&&(isNotObjectOrIsArray(n[r])||isNotObjectOrIsArray(e[r])?e[r]=n[r]:deepCopy(n[r],e[r]))}function getComponentOptions(n){return n.type}function adjustI18nResources(n,e,r){let s=isObject$4(e.messages)?e.messages:{};"__i18nGlobal"in r&&(s=getLocaleMessages(n.locale.value,{messages:s,__i18n:r.__i18nGlobal}));const a=Object.keys(s);a.length&&a.forEach(l=>{n.mergeLocaleMessage(l,s[l])});{if(isObject$4(e.datetimeFormats)){const l=Object.keys(e.datetimeFormats);l.length&&l.forEach(f=>{n.mergeDateTimeFormat(f,e.datetimeFormats[f])})}if(isObject$4(e.numberFormats)){const l=Object.keys(e.numberFormats);l.length&&l.forEach(f=>{n.mergeNumberFormat(f,e.numberFormats[f])})}}}function createTextNode(n){return createVNode(Text$1,null,n,0)}const DEVTOOLS_META="__INTLIFY_META__";let composerID=0;function defineCoreMissingHandler(n){return(e,r,s,a)=>n(r,s,getCurrentInstance()||void 0,a)}const getMetaInfo=()=>{const n=getCurrentInstance();let e=null;return n&&(e=getComponentOptions(n)[DEVTOOLS_META])?{[DEVTOOLS_META]:e}:null};function createComposer(n={},e){const{__root:r}=n,s=r===void 0;let a=isBoolean$2(n.inheritLocale)?n.inheritLocale:!0;const l=ref(r&&a?r.locale.value:isString$1(n.locale)?n.locale:DEFAULT_LOCALE),f=ref(r&&a?r.fallbackLocale.value:isString$1(n.fallbackLocale)||isArray$1(n.fallbackLocale)||isPlainObject$1(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:l.value),c=ref(getLocaleMessages(l.value,n)),d=ref(isPlainObject$1(n.datetimeFormats)?n.datetimeFormats:{[l.value]:{}}),g=ref(isPlainObject$1(n.numberFormats)?n.numberFormats:{[l.value]:{}});let b=r?r.missingWarn:isBoolean$2(n.missingWarn)||isRegExp$1(n.missingWarn)?n.missingWarn:!0,m=r?r.fallbackWarn:isBoolean$2(n.fallbackWarn)||isRegExp$1(n.fallbackWarn)?n.fallbackWarn:!0,_=r?r.fallbackRoot:isBoolean$2(n.fallbackRoot)?n.fallbackRoot:!0,x=!!n.fallbackFormat,k=isFunction$3(n.missing)?n.missing:null,q=isFunction$3(n.missing)?defineCoreMissingHandler(n.missing):null,j=isFunction$3(n.postTranslation)?n.postTranslation:null,ne=r?r.warnHtmlMessage:isBoolean$2(n.warnHtmlMessage)?n.warnHtmlMessage:!0,se=!!n.escapeParameter;const le=r?r.modifiers:isPlainObject$1(n.modifiers)?n.modifiers:{};let ue=n.pluralRules||r&&r.pluralRules,he;he=(()=>{s&&setFallbackContext(null);const Ce={version:VERSION$2,locale:l.value,fallbackLocale:f.value,messages:c.value,modifiers:le,pluralRules:ue,missing:q===null?void 0:q,missingWarn:b,fallbackWarn:m,fallbackFormat:x,unresolving:!0,postTranslation:j===null?void 0:j,warnHtmlMessage:ne,escapeParameter:se,messageResolver:n.messageResolver,__meta:{framework:"vue"}};Ce.datetimeFormats=d.value,Ce.numberFormats=g.value,Ce.__datetimeFormatters=isPlainObject$1(he)?he.__datetimeFormatters:void 0,Ce.__numberFormatters=isPlainObject$1(he)?he.__numberFormatters:void 0;const Ne=createCoreContext(Ce);return s&&setFallbackContext(Ne),Ne})(),updateFallbackLocale(he,l.value,f.value);function ve(){return[l.value,f.value,c.value,d.value,g.value]}const _e=computed({get:()=>l.value,set:Ce=>{l.value=Ce,he.locale=l.value}}),ye=computed({get:()=>f.value,set:Ce=>{f.value=Ce,he.fallbackLocale=f.value,updateFallbackLocale(he,l.value,Ce)}}),be=computed(()=>c.value),He=computed(()=>d.value),Oe=computed(()=>g.value);function Fe(){return isFunction$3(j)?j:null}function De(Ce){j=Ce,he.postTranslation=Ce}function We(){return k}function ze(Ce){Ce!==null&&(q=defineCoreMissingHandler(Ce)),k=Ce,he.missing=q}const Ge=(Ce,Ne,Te,ke,rt,lt)=>{ve();let ot;if(__INTLIFY_PROD_DEVTOOLS__)try{setAdditionalMeta(getMetaInfo()),s||(he.fallbackContext=r?getFallbackContext():void 0),ot=Ce(he)}finally{setAdditionalMeta(null),s||(he.fallbackContext=void 0)}else ot=Ce(he);if(isNumber$1(ot)&&ot===NOT_REOSLVED){const[ft,vt]=Ne();return r&&_?ke(r):rt(ft)}else{if(lt(ot))return ot;throw createI18nError(I18nErrorCodes.UNEXPECTED_RETURN_TYPE)}};function Je(...Ce){return Ge(Ne=>Reflect.apply(translate,null,[Ne,...Ce]),()=>parseTranslateArgs(...Ce),"translate",Ne=>Reflect.apply(Ne.t,Ne,[...Ce]),Ne=>Ne,Ne=>isString$1(Ne))}function Ue(...Ce){const[Ne,Te,ke]=Ce;if(ke&&!isObject$4(ke))throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);return Je(Ne,Te,assign$2({resolvedMessage:!0},ke||{}))}function pe(...Ce){return Ge(Ne=>Reflect.apply(datetime,null,[Ne,...Ce]),()=>parseDateTimeArgs(...Ce),"datetime format",Ne=>Reflect.apply(Ne.d,Ne,[...Ce]),()=>MISSING_RESOLVE_VALUE,Ne=>isString$1(Ne))}function ae(...Ce){return Ge(Ne=>Reflect.apply(number,null,[Ne,...Ce]),()=>parseNumberArgs(...Ce),"number format",Ne=>Reflect.apply(Ne.n,Ne,[...Ce]),()=>MISSING_RESOLVE_VALUE,Ne=>isString$1(Ne))}function Se(Ce){return Ce.map(Ne=>isString$1(Ne)||isNumber$1(Ne)||isBoolean$2(Ne)?createTextNode(String(Ne)):Ne)}const qe={normalize:Se,interpolate:Ce=>Ce,type:"vnode"};function xe(...Ce){return Ge(Ne=>{let Te;const ke=Ne;try{ke.processor=qe,Te=Reflect.apply(translate,null,[ke,...Ce])}finally{ke.processor=null}return Te},()=>parseTranslateArgs(...Ce),"translate",Ne=>Ne[TransrateVNodeSymbol](...Ce),Ne=>[createTextNode(Ne)],Ne=>isArray$1(Ne))}function Xe(...Ce){return Ge(Ne=>Reflect.apply(number,null,[Ne,...Ce]),()=>parseNumberArgs(...Ce),"number format",Ne=>Ne[NumberPartsSymbol](...Ce),()=>[],Ne=>isString$1(Ne)||isArray$1(Ne))}function $e(...Ce){return Ge(Ne=>Reflect.apply(datetime,null,[Ne,...Ce]),()=>parseDateTimeArgs(...Ce),"datetime format",Ne=>Ne[DatetimePartsSymbol](...Ce),()=>[],Ne=>isString$1(Ne)||isArray$1(Ne))}function Ze(Ce){ue=Ce,he.pluralRules=ue}function et(Ce,Ne){const Te=isString$1(Ne)?Ne:l.value,ke=Ee(Te);return he.messageResolver(ke,Ce)!==null}function nt(Ce){let Ne=null;const Te=fallbackWithLocaleChain(he,f.value,l.value);for(let ke=0;ke<Te.length;ke++){const rt=c.value[Te[ke]]||{},lt=he.messageResolver(rt,Ce);if(lt!=null){Ne=lt;break}}return Ne}function it(Ce){const Ne=nt(Ce);return Ne??(r?r.tm(Ce)||{}:{})}function Ee(Ce){return c.value[Ce]||{}}function de(Ce,Ne){c.value[Ce]=Ne,he.messages=c.value}function ce(Ce,Ne){c.value[Ce]=c.value[Ce]||{},deepCopy(Ne,c.value[Ce]),he.messages=c.value}function we(Ce){return d.value[Ce]||{}}function Be(Ce,Ne){d.value[Ce]=Ne,he.datetimeFormats=d.value,clearDateTimeFormat(he,Ce,Ne)}function Ie(Ce,Ne){d.value[Ce]=assign$2(d.value[Ce]||{},Ne),he.datetimeFormats=d.value,clearDateTimeFormat(he,Ce,Ne)}function Ye(Ce){return g.value[Ce]||{}}function Ke(Ce,Ne){g.value[Ce]=Ne,he.numberFormats=g.value,clearNumberFormat(he,Ce,Ne)}function Re(Ce,Ne){g.value[Ce]=assign$2(g.value[Ce]||{},Ne),he.numberFormats=g.value,clearNumberFormat(he,Ce,Ne)}composerID++,r&&inBrowser&&(watch(r.locale,Ce=>{a&&(l.value=Ce,he.locale=Ce,updateFallbackLocale(he,l.value,f.value))}),watch(r.fallbackLocale,Ce=>{a&&(f.value=Ce,he.fallbackLocale=Ce,updateFallbackLocale(he,l.value,f.value))}));const je={id:composerID,locale:_e,fallbackLocale:ye,get inheritLocale(){return a},set inheritLocale(Ce){a=Ce,Ce&&r&&(l.value=r.locale.value,f.value=r.fallbackLocale.value,updateFallbackLocale(he,l.value,f.value))},get availableLocales(){return Object.keys(c.value).sort()},messages:be,get modifiers(){return le},get pluralRules(){return ue||{}},get isGlobal(){return s},get missingWarn(){return b},set missingWarn(Ce){b=Ce,he.missingWarn=b},get fallbackWarn(){return m},set fallbackWarn(Ce){m=Ce,he.fallbackWarn=m},get fallbackRoot(){return _},set fallbackRoot(Ce){_=Ce},get fallbackFormat(){return x},set fallbackFormat(Ce){x=Ce,he.fallbackFormat=x},get warnHtmlMessage(){return ne},set warnHtmlMessage(Ce){ne=Ce,he.warnHtmlMessage=Ce},get escapeParameter(){return se},set escapeParameter(Ce){se=Ce,he.escapeParameter=Ce},t:Je,getLocaleMessage:Ee,setLocaleMessage:de,mergeLocaleMessage:ce,getPostTranslationHandler:Fe,setPostTranslationHandler:De,getMissingHandler:We,setMissingHandler:ze,[SetPluralRulesSymbol]:Ze};return je.datetimeFormats=He,je.numberFormats=Oe,je.rt=Ue,je.te=et,je.tm=it,je.d=pe,je.n=ae,je.getDateTimeFormat=we,je.setDateTimeFormat=Be,je.mergeDateTimeFormat=Ie,je.getNumberFormat=Ye,je.setNumberFormat=Ke,je.mergeNumberFormat=Re,je[InejctWithOption]=n.__injectWithOption,je[TransrateVNodeSymbol]=xe,je[DatetimePartsSymbol]=$e,je[NumberPartsSymbol]=Xe,je}function convertComposerOptions(n){const e=isString$1(n.locale)?n.locale:DEFAULT_LOCALE,r=isString$1(n.fallbackLocale)||isArray$1(n.fallbackLocale)||isPlainObject$1(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:e,s=isFunction$3(n.missing)?n.missing:void 0,a=isBoolean$2(n.silentTranslationWarn)||isRegExp$1(n.silentTranslationWarn)?!n.silentTranslationWarn:!0,l=isBoolean$2(n.silentFallbackWarn)||isRegExp$1(n.silentFallbackWarn)?!n.silentFallbackWarn:!0,f=isBoolean$2(n.fallbackRoot)?n.fallbackRoot:!0,c=!!n.formatFallbackMessages,d=isPlainObject$1(n.modifiers)?n.modifiers:{},g=n.pluralizationRules,b=isFunction$3(n.postTranslation)?n.postTranslation:void 0,m=isString$1(n.warnHtmlInMessage)?n.warnHtmlInMessage!=="off":!0,_=!!n.escapeParameterHtml,x=isBoolean$2(n.sync)?n.sync:!0;let k=n.messages;if(isPlainObject$1(n.sharedMessages)){const he=n.sharedMessages;k=Object.keys(he).reduce((ve,_e)=>{const ye=ve[_e]||(ve[_e]={});return assign$2(ye,he[_e]),ve},k||{})}const{__i18n:q,__root:j,__injectWithOption:ne}=n,se=n.datetimeFormats,le=n.numberFormats,ue=n.flatJson;return{locale:e,fallbackLocale:r,messages:k,flatJson:ue,datetimeFormats:se,numberFormats:le,missing:s,missingWarn:a,fallbackWarn:l,fallbackRoot:f,fallbackFormat:c,modifiers:d,pluralRules:g,postTranslation:b,warnHtmlMessage:m,escapeParameter:_,messageResolver:n.messageResolver,inheritLocale:x,__i18n:q,__root:j,__injectWithOption:ne}}function createVueI18n(n={},e){{const r=createComposer(convertComposerOptions(n)),s={id:r.id,get locale(){return r.locale.value},set locale(a){r.locale.value=a},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(a){r.fallbackLocale.value=a},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(a){},get missing(){return r.getMissingHandler()},set missing(a){r.setMissingHandler(a)},get silentTranslationWarn(){return isBoolean$2(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(a){r.missingWarn=isBoolean$2(a)?!a:a},get silentFallbackWarn(){return isBoolean$2(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(a){r.fallbackWarn=isBoolean$2(a)?!a:a},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(a){r.fallbackFormat=a},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(a){r.setPostTranslationHandler(a)},get sync(){return r.inheritLocale},set sync(a){r.inheritLocale=a},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(a){r.warnHtmlMessage=a!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(a){r.escapeParameter=a},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(a){},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...a){const[l,f,c]=a,d={};let g=null,b=null;if(!isString$1(l))throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);const m=l;return isString$1(f)?d.locale=f:isArray$1(f)?g=f:isPlainObject$1(f)&&(b=f),isArray$1(c)?g=c:isPlainObject$1(c)&&(b=c),Reflect.apply(r.t,r,[m,g||b||{},d])},rt(...a){return Reflect.apply(r.rt,r,[...a])},tc(...a){const[l,f,c]=a,d={plural:1};let g=null,b=null;if(!isString$1(l))throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);const m=l;return isString$1(f)?d.locale=f:isNumber$1(f)?d.plural=f:isArray$1(f)?g=f:isPlainObject$1(f)&&(b=f),isString$1(c)?d.locale=c:isArray$1(c)?g=c:isPlainObject$1(c)&&(b=c),Reflect.apply(r.t,r,[m,g||b||{},d])},te(a,l){return r.te(a,l)},tm(a){return r.tm(a)},getLocaleMessage(a){return r.getLocaleMessage(a)},setLocaleMessage(a,l){r.setLocaleMessage(a,l)},mergeLocaleMessage(a,l){r.mergeLocaleMessage(a,l)},d(...a){return Reflect.apply(r.d,r,[...a])},getDateTimeFormat(a){return r.getDateTimeFormat(a)},setDateTimeFormat(a,l){r.setDateTimeFormat(a,l)},mergeDateTimeFormat(a,l){r.mergeDateTimeFormat(a,l)},n(...a){return Reflect.apply(r.n,r,[...a])},getNumberFormat(a){return r.getNumberFormat(a)},setNumberFormat(a,l){r.setNumberFormat(a,l)},mergeNumberFormat(a,l){r.mergeNumberFormat(a,l)},getChoiceIndex(a,l){return-1},__onComponentInstanceCreated(a){const{componentInstanceCreatedListener:l}=n;l&&l(a,s)}};return s}}const baseFormatProps={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:n=>n==="parent"||n==="global",default:"parent"},i18n:{type:Object}};function getInterpolateArg({slots:n},e){return e.length===1&&e[0]==="default"?(n.default?n.default():[]).reduce((s,a)=>s=[...s,...isArray$1(a.children)?a.children:[a]],[]):e.reduce((r,s)=>{const a=n[s];return a&&(r[s]=a()),r},{})}function getFragmentableTag(n){return Fragment}const Translation={name:"i18n-t",props:assign$2({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:n=>isNumber$1(n)||!isNaN(n)}},baseFormatProps),setup(n,e){const{slots:r,attrs:s}=e,a=n.i18n||useI18n({useScope:n.scope,__useComponent:!0});return()=>{const l=Object.keys(r).filter(m=>m!=="_"),f={};n.locale&&(f.locale=n.locale),n.plural!==void 0&&(f.plural=isString$1(n.plural)?+n.plural:n.plural);const c=getInterpolateArg(e,l),d=a[TransrateVNodeSymbol](n.keypath,c,f),g=assign$2({},s),b=isString$1(n.tag)||isObject$4(n.tag)?n.tag:getFragmentableTag();return h(b,g,d)}}};function isVNode(n){return isArray$1(n)&&!isString$1(n[0])}function renderFormatter(n,e,r,s){const{slots:a,attrs:l}=e;return()=>{const f={part:!0};let c={};n.locale&&(f.locale=n.locale),isString$1(n.format)?f.key=n.format:isObject$4(n.format)&&(isString$1(n.format.key)&&(f.key=n.format.key),c=Object.keys(n.format).reduce((_,x)=>r.includes(x)?assign$2({},_,{[x]:n.format[x]}):_,{}));const d=s(n.value,f,c);let g=[f.key];isArray$1(d)?g=d.map((_,x)=>{const k=a[_.type],q=k?k({[_.type]:_.value,index:x,parts:d}):[_.value];return isVNode(q)&&(q[0].key=`${_.type}-${x}`),q}):isString$1(d)&&(g=[d]);const b=assign$2({},l),m=isString$1(n.tag)||isObject$4(n.tag)?n.tag:getFragmentableTag();return h(m,b,g)}}const NumberFormat={name:"i18n-n",props:assign$2({value:{type:Number,required:!0},format:{type:[String,Object]}},baseFormatProps),setup(n,e){const r=n.i18n||useI18n({useScope:"parent",__useComponent:!0});return renderFormatter(n,e,NUMBER_FORMAT_OPTIONS_KEYS,(...s)=>r[NumberPartsSymbol](...s))}},DatetimeFormat={name:"i18n-d",props:assign$2({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},baseFormatProps),setup(n,e){const r=n.i18n||useI18n({useScope:"parent",__useComponent:!0});return renderFormatter(n,e,DATETIME_FORMAT_OPTIONS_KEYS,(...s)=>r[DatetimePartsSymbol](...s))}};function getComposer$2(n,e){const r=n;if(n.mode==="composition")return r.__getInstance(e)||n.global;{const s=r.__getInstance(e);return s!=null?s.__composer:n.global.__composer}}function vTDirective(n){const e=f=>{const{instance:c,modifiers:d,value:g}=f;if(!c||!c.$)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const b=getComposer$2(n,c.$),m=parseValue(g);return[Reflect.apply(b.t,b,[...makeParams(m)]),b]};return{created:(f,c)=>{const[d,g]=e(c);inBrowser&&n.global===g&&(f.__i18nWatcher=watch(g.locale,()=>{c.instance&&c.instance.$forceUpdate()})),f.__composer=g,f.textContent=d},unmounted:f=>{inBrowser&&f.__i18nWatcher&&(f.__i18nWatcher(),f.__i18nWatcher=void 0,delete f.__i18nWatcher),f.__composer&&(f.__composer=void 0,delete f.__composer)},beforeUpdate:(f,{value:c})=>{if(f.__composer){const d=f.__composer,g=parseValue(c);f.textContent=Reflect.apply(d.t,d,[...makeParams(g)])}},getSSRProps:f=>{const[c]=e(f);return{textContent:c}}}}function parseValue(n){if(isString$1(n))return{path:n};if(isPlainObject$1(n)){if(!("path"in n))throw createI18nError(I18nErrorCodes.REQUIRED_VALUE,"path");return n}else throw createI18nError(I18nErrorCodes.INVALID_VALUE)}function makeParams(n){const{path:e,locale:r,args:s,choice:a,plural:l}=n,f={},c=s||{};return isString$1(r)&&(f.locale=r),isNumber$1(a)&&(f.plural=a),isNumber$1(l)&&(f.plural=l),[e,c,f]}function apply(n,e,...r){const s=isPlainObject$1(r[0])?r[0]:{},a=!!s.useI18nComponentName;(isBoolean$2(s.globalInstall)?s.globalInstall:!0)&&(n.component(a?"i18n":Translation.name,Translation),n.component(NumberFormat.name,NumberFormat),n.component(DatetimeFormat.name,DatetimeFormat)),n.directive("t",vTDirective(e))}function defineMixin(n,e,r){return{beforeCreate(){const s=getCurrentInstance();if(!s)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const a=this.$options;if(a.i18n){const l=a.i18n;a.__i18n&&(l.__i18n=a.__i18n),l.__root=e,this===this.$root?this.$i18n=mergeToRoot(n,l):(l.__injectWithOption=!0,this.$i18n=createVueI18n(l))}else a.__i18n?this===this.$root?this.$i18n=mergeToRoot(n,a):this.$i18n=createVueI18n({__i18n:a.__i18n,__injectWithOption:!0,__root:e}):this.$i18n=n;a.__i18nGlobal&&adjustI18nResources(e,a,a),n.__onComponentInstanceCreated(this.$i18n),r.__setInstance(s,this.$i18n),this.$t=(...l)=>this.$i18n.t(...l),this.$rt=(...l)=>this.$i18n.rt(...l),this.$tc=(...l)=>this.$i18n.tc(...l),this.$te=(l,f)=>this.$i18n.te(l,f),this.$d=(...l)=>this.$i18n.d(...l),this.$n=(...l)=>this.$i18n.n(...l),this.$tm=l=>this.$i18n.tm(l)},mounted(){},unmounted(){const s=getCurrentInstance();if(!s)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,r.__deleteInstance(s),delete this.$i18n}}}function mergeToRoot(n,e){n.locale=e.locale||n.locale,n.fallbackLocale=e.fallbackLocale||n.fallbackLocale,n.missing=e.missing||n.missing,n.silentTranslationWarn=e.silentTranslationWarn||n.silentFallbackWarn,n.silentFallbackWarn=e.silentFallbackWarn||n.silentFallbackWarn,n.formatFallbackMessages=e.formatFallbackMessages||n.formatFallbackMessages,n.postTranslation=e.postTranslation||n.postTranslation,n.warnHtmlInMessage=e.warnHtmlInMessage||n.warnHtmlInMessage,n.escapeParameterHtml=e.escapeParameterHtml||n.escapeParameterHtml,n.sync=e.sync||n.sync,n.__composer[SetPluralRulesSymbol](e.pluralizationRules||n.pluralizationRules);const r=getLocaleMessages(n.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(r).forEach(s=>n.mergeLocaleMessage(s,r[s])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(s=>n.mergeDateTimeFormat(s,e.datetimeFormats[s])),e.numberFormats&&Object.keys(e.numberFormats).forEach(s=>n.mergeNumberFormat(s,e.numberFormats[s])),n}const I18nInjectionKey=makeSymbol("global-vue-i18n");function createI18n(n={},e){const r=__VUE_I18N_LEGACY_API__&&isBoolean$2(n.legacy)?n.legacy:__VUE_I18N_LEGACY_API__,s=isBoolean$2(n.globalInjection)?n.globalInjection:!0,a=__VUE_I18N_LEGACY_API__&&r?!!n.allowComposition:!0,l=new Map,[f,c]=createGlobal(n,r),d=makeSymbol("");function g(_){return l.get(_)||null}function b(_,x){l.set(_,x)}function m(_){l.delete(_)}{const _={get mode(){return __VUE_I18N_LEGACY_API__&&r?"legacy":"composition"},get allowComposition(){return a},async install(x,...k){x.__VUE_I18N_SYMBOL__=d,x.provide(x.__VUE_I18N_SYMBOL__,_),!r&&s&&injectGlobalFields(x,_.global),__VUE_I18N_FULL_INSTALL__&&apply(x,_,...k),__VUE_I18N_LEGACY_API__&&r&&x.mixin(defineMixin(c,c.__composer,_));const q=x.unmount;x.unmount=()=>{_.dispose(),q()}},get global(){return c},dispose(){f.stop()},__instances:l,__getInstance:g,__setInstance:b,__deleteInstance:m};return _}}function useI18n(n={}){const e=getCurrentInstance();if(e==null)throw createI18nError(I18nErrorCodes.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw createI18nError(I18nErrorCodes.NOT_INSLALLED);const r=getI18nInstance(e),s=getGlobalComposer(r),a=getComponentOptions(e),l=getScope(n,a);if(__VUE_I18N_LEGACY_API__&&r.mode==="legacy"&&!n.__useComponent){if(!r.allowComposition)throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_IN_LEGACY_MODE);return useI18nForLegacy(e,l,s,n)}if(l==="global")return adjustI18nResources(s,n,a),s;if(l==="parent"){let d=getComposer(r,e,n.__useComponent);return d==null&&(d=s),d}const f=r;let c=f.__getInstance(e);if(c==null){const d=assign$2({},n);"__i18n"in a&&(d.__i18n=a.__i18n),s&&(d.__root=s),c=createComposer(d),setupLifeCycle(f,e),f.__setInstance(e,c)}return c}function createGlobal(n,e,r){const s=effectScope();{const a=__VUE_I18N_LEGACY_API__&&e?s.run(()=>createVueI18n(n)):s.run(()=>createComposer(n));if(a==null)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);return[s,a]}}function getI18nInstance(n){{const e=inject(n.isCE?I18nInjectionKey:n.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw createI18nError(n.isCE?I18nErrorCodes.NOT_INSLALLED_WITH_PROVIDE:I18nErrorCodes.UNEXPECTED_ERROR);return e}}function getScope(n,e){return isEmptyObject(n)?"__i18n"in e?"local":"global":n.useScope?n.useScope:"local"}function getGlobalComposer(n){return n.mode==="composition"?n.global:n.global.__composer}function getComposer(n,e,r=!1){let s=null;const a=e.root;let l=e.parent;for(;l!=null;){const f=n;if(n.mode==="composition")s=f.__getInstance(l);else if(__VUE_I18N_LEGACY_API__){const c=f.__getInstance(l);c!=null&&(s=c.__composer,r&&s&&!s[InejctWithOption]&&(s=null))}if(s!=null||a===l)break;l=l.parent}return s}function setupLifeCycle(n,e,r){onMounted(()=>{},e),onUnmounted(()=>{n.__deleteInstance(e)},e)}function useI18nForLegacy(n,e,r,s={}){const a=e==="local",l=shallowRef(null);if(a&&n.proxy&&!(n.proxy.$options.i18n||n.proxy.$options.__i18n))throw createI18nError(I18nErrorCodes.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const f=isBoolean$2(s.inheritLocale)?s.inheritLocale:!0,c=ref(a&&f?r.locale.value:isString$1(s.locale)?s.locale:DEFAULT_LOCALE),d=ref(a&&f?r.fallbackLocale.value:isString$1(s.fallbackLocale)||isArray$1(s.fallbackLocale)||isPlainObject$1(s.fallbackLocale)||s.fallbackLocale===!1?s.fallbackLocale:c.value),g=ref(getLocaleMessages(c.value,s)),b=ref(isPlainObject$1(s.datetimeFormats)?s.datetimeFormats:{[c.value]:{}}),m=ref(isPlainObject$1(s.numberFormats)?s.numberFormats:{[c.value]:{}}),_=a?r.missingWarn:isBoolean$2(s.missingWarn)||isRegExp$1(s.missingWarn)?s.missingWarn:!0,x=a?r.fallbackWarn:isBoolean$2(s.fallbackWarn)||isRegExp$1(s.fallbackWarn)?s.fallbackWarn:!0,k=a?r.fallbackRoot:isBoolean$2(s.fallbackRoot)?s.fallbackRoot:!0,q=!!s.fallbackFormat,j=isFunction$3(s.missing)?s.missing:null,ne=isFunction$3(s.postTranslation)?s.postTranslation:null,se=a?r.warnHtmlMessage:isBoolean$2(s.warnHtmlMessage)?s.warnHtmlMessage:!0,le=!!s.escapeParameter,ue=a?r.modifiers:isPlainObject$1(s.modifiers)?s.modifiers:{},he=s.pluralRules||a&&r.pluralRules;function ge(){return[c.value,d.value,g.value,b.value,m.value]}const ve=computed({get:()=>l.value?l.value.locale.value:c.value,set:ce=>{l.value&&(l.value.locale.value=ce),c.value=ce}}),_e=computed({get:()=>l.value?l.value.fallbackLocale.value:d.value,set:ce=>{l.value&&(l.value.fallbackLocale.value=ce),d.value=ce}}),ye=computed(()=>l.value?l.value.messages.value:g.value),be=computed(()=>b.value),He=computed(()=>m.value);function Oe(){return l.value?l.value.getPostTranslationHandler():ne}function Fe(ce){l.value&&l.value.setPostTranslationHandler(ce)}function De(){return l.value?l.value.getMissingHandler():j}function We(ce){l.value&&l.value.setMissingHandler(ce)}function ze(ce){return ge(),ce()}function Ge(...ce){return l.value?ze(()=>Reflect.apply(l.value.t,null,[...ce])):ze(()=>"")}function Je(...ce){return l.value?Reflect.apply(l.value.rt,null,[...ce]):""}function Ue(...ce){return l.value?ze(()=>Reflect.apply(l.value.d,null,[...ce])):ze(()=>"")}function pe(...ce){return l.value?ze(()=>Reflect.apply(l.value.n,null,[...ce])):ze(()=>"")}function ae(ce){return l.value?l.value.tm(ce):{}}function Se(ce,we){return l.value?l.value.te(ce,we):!1}function Pe(ce){return l.value?l.value.getLocaleMessage(ce):{}}function qe(ce,we){l.value&&(l.value.setLocaleMessage(ce,we),g.value[ce]=we)}function xe(ce,we){l.value&&l.value.mergeLocaleMessage(ce,we)}function Xe(ce){return l.value?l.value.getDateTimeFormat(ce):{}}function $e(ce,we){l.value&&(l.value.setDateTimeFormat(ce,we),b.value[ce]=we)}function Ze(ce,we){l.value&&l.value.mergeDateTimeFormat(ce,we)}function et(ce){return l.value?l.value.getNumberFormat(ce):{}}function nt(ce,we){l.value&&(l.value.setNumberFormat(ce,we),m.value[ce]=we)}function it(ce,we){l.value&&l.value.mergeNumberFormat(ce,we)}const Ee={get id(){return l.value?l.value.id:-1},locale:ve,fallbackLocale:_e,messages:ye,datetimeFormats:be,numberFormats:He,get inheritLocale(){return l.value?l.value.inheritLocale:f},set inheritLocale(ce){l.value&&(l.value.inheritLocale=ce)},get availableLocales(){return l.value?l.value.availableLocales:Object.keys(g.value)},get modifiers(){return l.value?l.value.modifiers:ue},get pluralRules(){return l.value?l.value.pluralRules:he},get isGlobal(){return l.value?l.value.isGlobal:!1},get missingWarn(){return l.value?l.value.missingWarn:_},set missingWarn(ce){l.value&&(l.value.missingWarn=ce)},get fallbackWarn(){return l.value?l.value.fallbackWarn:x},set fallbackWarn(ce){l.value&&(l.value.missingWarn=ce)},get fallbackRoot(){return l.value?l.value.fallbackRoot:k},set fallbackRoot(ce){l.value&&(l.value.fallbackRoot=ce)},get fallbackFormat(){return l.value?l.value.fallbackFormat:q},set fallbackFormat(ce){l.value&&(l.value.fallbackFormat=ce)},get warnHtmlMessage(){return l.value?l.value.warnHtmlMessage:se},set warnHtmlMessage(ce){l.value&&(l.value.warnHtmlMessage=ce)},get escapeParameter(){return l.value?l.value.escapeParameter:le},set escapeParameter(ce){l.value&&(l.value.escapeParameter=ce)},t:Ge,getPostTranslationHandler:Oe,setPostTranslationHandler:Fe,getMissingHandler:De,setMissingHandler:We,rt:Je,d:Ue,n:pe,tm:ae,te:Se,getLocaleMessage:Pe,setLocaleMessage:qe,mergeLocaleMessage:xe,getDateTimeFormat:Xe,setDateTimeFormat:$e,mergeDateTimeFormat:Ze,getNumberFormat:et,setNumberFormat:nt,mergeNumberFormat:it};function de(ce){ce.locale.value=c.value,ce.fallbackLocale.value=d.value,Object.keys(g.value).forEach(we=>{ce.mergeLocaleMessage(we,g.value[we])}),Object.keys(b.value).forEach(we=>{ce.mergeDateTimeFormat(we,b.value[we])}),Object.keys(m.value).forEach(we=>{ce.mergeNumberFormat(we,m.value[we])}),ce.escapeParameter=le,ce.fallbackFormat=q,ce.fallbackRoot=k,ce.fallbackWarn=x,ce.missingWarn=_,ce.warnHtmlMessage=se}return onBeforeMount(()=>{if(n.proxy==null||n.proxy.$i18n==null)throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const ce=l.value=n.proxy.$i18n.__composer;e==="global"?(c.value=ce.locale.value,d.value=ce.fallbackLocale.value,g.value=ce.messages.value,b.value=ce.datetimeFormats.value,m.value=ce.numberFormats.value):a&&de(ce)}),Ee}const globalExportProps=["locale","fallbackLocale","availableLocales"],globalExportMethods=["t","rt","d","n","tm"];function injectGlobalFields(n,e){const r=Object.create(null);globalExportProps.forEach(s=>{const a=Object.getOwnPropertyDescriptor(e,s);if(!a)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const l=isRef(a.value)?{get(){return a.value.value},set(f){a.value.value=f}}:{get(){return a.get&&a.get()}};Object.defineProperty(r,s,l)}),n.config.globalProperties.$i18n=r,globalExportMethods.forEach(s=>{const a=Object.getOwnPropertyDescriptor(e,s);if(!a||!a.value)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);Object.defineProperty(n.config.globalProperties,`$${s}`,a)})}registerMessageCompiler(compileToFunction);registerMessageResolver(resolveValue);registerLocaleFallbacker(fallbackWithLocaleChain);initFeatureFlags();if(__INTLIFY_PROD_DEVTOOLS__){const n=getGlobalThis();n.__INTLIFY__=!0,setDevToolsHook(n.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}var version$7="4.0.0";function isUndefined$1(n){return n===void 0}function isBoolean$1(n){return typeof n=="boolean"}function defaults$3(n,e){for(var r in e)e.hasOwnProperty(r)&&isUndefined$1(n[r])&&(n[r]=e[r]);return n}function ellipsis(n,e,r){var s;return n.length>e&&(r==null?(r="&hellip;",s=3):s=r.length,n=n.substring(0,e-s)+r),n}function remove$1(n,e){for(var r=n.length-1;r>=0;r--)n[r]===e&&n.splice(r,1)}function removeWithPredicate(n,e){for(var r=n.length-1;r>=0;r--)e(n[r])===!0&&n.splice(r,1)}function assertNever(n){throw new Error("Unhandled case for value: '".concat(n,"'"))}var letterRe=/[A-Za-z]/,digitRe=/[\d]/,whitespaceRe=/\s/,quoteRe=/['"]/,controlCharsRe=/[\x00-\x1F\x7F]/,alphaCharsStr=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,emojiStr=/\u2700-\u27bf\udde6-\uddff\ud800-\udbff\udc00-\udfff\ufe0e\ufe0f\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ud83c\udffb-\udfff\u200d\u3299\u3297\u303d\u3030\u24c2\ud83c\udd70-\udd71\udd7e-\udd7f\udd8e\udd91-\udd9a\udde6-\uddff\ude01-\ude02\ude1a\ude2f\ude32-\ude3a\ude50-\ude51\u203c\u2049\u25aa-\u25ab\u25b6\u25c0\u25fb-\u25fe\u00a9\u00ae\u2122\u2139\udc04\u2600-\u26FF\u2b05\u2b06\u2b07\u2b1b\u2b1c\u2b50\u2b55\u231a\u231b\u2328\u23cf\u23e9-\u23f3\u23f8-\u23fa\udccf\u2935\u2934\u2190-\u21ff/.source,marksStr=/\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F/.source,alphaCharsAndMarksStr=alphaCharsStr+emojiStr+marksStr,decimalNumbersStr=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source,alphaNumericAndMarksCharsStr=alphaCharsAndMarksStr+decimalNumbersStr,alphaNumericAndMarksRe=new RegExp("[".concat(alphaNumericAndMarksCharsStr,"]")),HtmlTag=function(){function n(e){e===void 0&&(e={}),this.tagName="",this.attrs={},this.innerHTML="",this.tagName=e.tagName||"",this.attrs=e.attrs||{},this.innerHTML=e.innerHtml||e.innerHTML||""}return n.prototype.setTagName=function(e){return this.tagName=e,this},n.prototype.getTagName=function(){return this.tagName||""},n.prototype.setAttr=function(e,r){var s=this.getAttrs();return s[e]=r,this},n.prototype.getAttr=function(e){return this.getAttrs()[e]},n.prototype.setAttrs=function(e){return Object.assign(this.getAttrs(),e),this},n.prototype.getAttrs=function(){return this.attrs||(this.attrs={})},n.prototype.setClass=function(e){return this.setAttr("class",e)},n.prototype.addClass=function(e){for(var r=this.getClass(),s=r?r.split(whitespaceRe):[],a=e.split(whitespaceRe),l;l=a.shift();)s.indexOf(l)===-1&&s.push(l);return this.getAttrs().class=s.join(" "),this},n.prototype.removeClass=function(e){for(var r=this.getClass(),s=r?r.split(whitespaceRe):[],a=e.split(whitespaceRe),l;s.length&&(l=a.shift());){var f=s.indexOf(l);f!==-1&&s.splice(f,1)}return this.getAttrs().class=s.join(" "),this},n.prototype.getClass=function(){return this.getAttrs().class||""},n.prototype.hasClass=function(e){return(" "+this.getClass()+" ").indexOf(" "+e+" ")!==-1},n.prototype.setInnerHTML=function(e){return this.innerHTML=e,this},n.prototype.setInnerHtml=function(e){return this.setInnerHTML(e)},n.prototype.getInnerHTML=function(){return this.innerHTML||""},n.prototype.getInnerHtml=function(){return this.getInnerHTML()},n.prototype.toAnchorString=function(){var e=this.getTagName(),r=this.buildAttrsStr();return r=r?" "+r:"",["<",e,r,">",this.getInnerHtml(),"</",e,">"].join("")},n.prototype.buildAttrsStr=function(){if(!this.attrs)return"";var e=this.getAttrs(),r=[];for(var s in e)e.hasOwnProperty(s)&&r.push(s+'="'+e[s]+'"');return r.join(" ")},n}();function truncateSmart(n,e,r){var s,a;r==null?(r="&hellip;",a=3,s=8):(a=r.length,s=r.length);var l=function(se){var le={},ue=se,he=ue.match(/^([a-z]+):\/\//i);return he&&(le.scheme=he[1],ue=ue.substr(he[0].length)),he=ue.match(/^(.*?)(?=(\?|#|\/|$))/i),he&&(le.host=he[1],ue=ue.substr(he[0].length)),he=ue.match(/^\/(.*?)(?=(\?|#|$))/i),he&&(le.path=he[1],ue=ue.substr(he[0].length)),he=ue.match(/^\?(.*?)(?=(#|$))/i),he&&(le.query=he[1],ue=ue.substr(he[0].length)),he=ue.match(/^#(.*?)$/i),he&&(le.fragment=he[1]),le},f=function(se){var le="";return se.scheme&&se.host&&(le+=se.scheme+"://"),se.host&&(le+=se.host),se.path&&(le+="/"+se.path),se.query&&(le+="?"+se.query),se.fragment&&(le+="#"+se.fragment),le},c=function(se,le){var ue=le/2,he=Math.ceil(ue),ge=-1*Math.floor(ue),ve="";return ge<0&&(ve=se.substr(ge)),se.substr(0,he)+r+ve};if(n.length<=e)return n;var d=e-a,g=l(n);if(g.query){var b=g.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);b&&(g.query=g.query.substr(0,b[1].length),n=f(g))}if(n.length<=e||(g.host&&(g.host=g.host.replace(/^www\./,""),n=f(g)),n.length<=e))return n;var m="";if(g.host&&(m+=g.host),m.length>=d)return g.host.length==e?(g.host.substr(0,e-a)+r).substr(0,d+s):c(m,d).substr(0,d+s);var _="";if(g.path&&(_+="/"+g.path),g.query&&(_+="?"+g.query),_)if((m+_).length>=d){if((m+_).length==e)return(m+_).substr(0,e);var x=d-m.length;return(m+c(_,x)).substr(0,d+s)}else m+=_;if(g.fragment){var k="#"+g.fragment;if((m+k).length>=d){if((m+k).length==e)return(m+k).substr(0,e);var q=d-m.length;return(m+c(k,q)).substr(0,d+s)}else m+=k}if(g.scheme&&g.host){var j=g.scheme+"://";if((m+j).length<d)return(j+m).substr(0,e)}if(m.length<=e)return m;var ne="";return d>0&&(ne=m.substr(-1*Math.floor(d/2))),(m.substr(0,Math.ceil(d/2))+r+ne).substr(0,d+s)}function truncateMiddle(n,e,r){if(n.length<=e)return n;var s,a;r==null?(r="&hellip;",s=8,a=3):(s=r.length,a=r.length);var l=e-a,f="";return l>0&&(f=n.substr(-1*Math.floor(l/2))),(n.substr(0,Math.ceil(l/2))+r+f).substr(0,l+s)}function truncateEnd(n,e,r){return ellipsis(n,e,r)}var AnchorTagBuilder=function(){function n(e){e===void 0&&(e={}),this.newWindow=!1,this.truncate={},this.className="",this.newWindow=e.newWindow||!1,this.truncate=e.truncate||{},this.className=e.className||""}return n.prototype.build=function(e){return new HtmlTag({tagName:"a",attrs:this.createAttrs(e),innerHtml:this.processAnchorText(e.getAnchorText())})},n.prototype.createAttrs=function(e){var r={href:e.getAnchorHref()},s=this.createCssClass(e);return s&&(r.class=s),this.newWindow&&(r.target="_blank",r.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<e.getAnchorText().length&&(r.title=e.getAnchorHref()),r},n.prototype.createCssClass=function(e){var r=this.className;if(r){for(var s=[r],a=e.getCssClassSuffixes(),l=0,f=a.length;l<f;l++)s.push(r+"-"+a[l]);return s.join(" ")}else return""},n.prototype.processAnchorText=function(e){return e=this.doTruncate(e),e},n.prototype.doTruncate=function(e){var r=this.truncate;if(!r||!r.length)return e;var s=r.length,a=r.location;return a==="smart"?truncateSmart(e,s):a==="middle"?truncateMiddle(e,s):truncateEnd(e,s)},n}(),extendStatics=function(n,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},extendStatics(n,e)};function __extends(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");extendStatics(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var __assign=function(){return __assign=Object.assign||function(e){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},__assign.apply(this,arguments)},AbstractMatch=function(){function n(e){this._=null,this.matchedText="",this.offset=0,this.tagBuilder=e.tagBuilder,this.matchedText=e.matchedText,this.offset=e.offset}return n.prototype.getMatchedText=function(){return this.matchedText},n.prototype.setOffset=function(e){this.offset=e},n.prototype.getOffset=function(){return this.offset},n.prototype.getCssClassSuffixes=function(){return[this.type]},n.prototype.buildTag=function(){return this.tagBuilder.build(this)},n}(),tldRegexStr="(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|vermögensberatung|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbah1a3hjkrd|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermögensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--mgbcpq6gpa1a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbaakc7dvf|xn--mgbc0a9azcg|xn--nqv7fs00ema|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--h2breg3eve|xn--jlq480n2rg|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|xn--rvc1e0am3e|international|lifeinsurance|travelchannel|wolterskluwer|xn--cckwcxetd|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--h2brj9c8c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|scholarships|versicherung|xn--3e0b707e|xn--45br5cyl|xn--4dbrk0ce|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbgu82a|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--3bst00m|xn--3ds443g|xn--3hcrj9c|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--mgbbh1a|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--otu796d|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|சிங்கப்பூர்|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nextdirect|properties|protection|prudential|realestate|republican|restaurant|schaeffler|tatamotors|technology|university|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--q7ce6a|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|institute|insurance|kuokgroup|lancaster|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|passagens|pramerica|richardli|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--ngbrx|xn--nqv7f|xn--p1acf|xn--qxa6a|xn--tckwe|xn--vhquv|yodobashi|موريتانيا|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|builders|business|capetown|catering|catholic|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|etisalat|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|merckmsd|mortgage|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|training|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|السعودية|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|channel|charity|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lanxess|lasalle|latrobe|leclerc|limited|lincoln|markets|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|singles|staples|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|католик|اتصالات|البحرين|الجزائر|العليان|پاکستان|كاثوليك|இந்தியா|abarth|abbott|abbvie|africa|agency|airbus|airtel|alipay|alsace|alstom|amazon|anquan|aramco|author|bayern|beauty|berlin|bharti|bostik|boston|broker|camera|career|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|webcam|xihuan|yachts|yandex|zappos|москва|онлайн|ابوظبي|ارامكو|الاردن|المغرب|امارات|فلسطين|مليسيا|भारतम्|இலங்கை|ファッション|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|drive|dubai|earth|edeka|email|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|irish|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|loans|locus|lotte|lotto|macys|mango|media|miami|money|movie|music|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|ישראל|ایران|بازار|بھارت|سودان|سورية|همراه|भारोत|संगठन|বাংলা|భారత్|ഭാരതം|嘉里大酒店|aarp|able|adac|aero|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kids|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|read|reit|rent|rest|rich|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|дети|сайт|بارت|بيتك|ڀارت|تونس|شبكة|عراق|عمان|موقع|भारत|ভারত|ভাৰত|ਭਾਰਤ|ભારત|ଭାରତ|ಭಾರತ|ලංකා|アマゾン|グーグル|クラウド|ポイント|组织机构|電訊盈科|香格里拉|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceo|cfa|cfd|com|cpa|crs|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gay|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|llp|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|spa|srl|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|бел|ком|қаз|мкд|мон|орг|рус|срб|укр|հայ|קום|عرب|قطر|كوم|مصر|कॉम|नेट|คอม|ไทย|ລາວ|ストア|セール|みんな|中文网|亚马逊|天主教|我爱你|新加坡|淡马锡|诺基亚|飞利浦|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ελ|ευ|бг|ею|рф|გე|닷넷|닷컴|삼성|한국|コム|世界|中信|中国|中國|企业|佛山|信息|健康|八卦|公司|公益|台湾|台灣|商城|商店|商标|嘉里|在线|大拿|娱乐|家電|广东|微博|慈善|手机|招聘|政务|政府|新闻|时尚|書籍|机构|游戏|澳門|点看|移动|网址|网店|网站|网络|联通|谷歌|购物|通販|集团|食品|餐厅|香港)",tldRegex=new RegExp("^"+tldRegexStr+"$"),urlSuffixStartCharsRe=/[\/?#]/,urlSuffixAllowedSpecialCharsRe=/[-+&@#/%=~_()|'$*\[\]{}\u2713]/,urlSuffixNotAllowedAsLastCharRe=/[?!:,.;^]/,httpSchemeRe=/https?:\/\//i,httpSchemePrefixRe=new RegExp("^"+httpSchemeRe.source,"i"),urlSuffixedCharsNotAllowedAtEndRe=new RegExp(urlSuffixNotAllowedAsLastCharRe.source+"$"),invalidSchemeRe=/^(javascript|vbscript):/i,schemeUrlRe=/^[A-Za-z][-.+A-Za-z0-9]*:(\/\/)?([^:/]*)/,tldUrlHostRe=/^(?:\/\/)?([^/#?:]+)/;function isSchemeStartChar(n){return letterRe.test(n)}function isSchemeChar(n){return letterRe.test(n)||digitRe.test(n)||n==="+"||n==="-"||n==="."}function isDomainLabelStartChar(n){return alphaNumericAndMarksRe.test(n)}function isDomainLabelChar(n){return n==="_"||isDomainLabelStartChar(n)}function isPathChar(n){return alphaNumericAndMarksRe.test(n)||urlSuffixAllowedSpecialCharsRe.test(n)||urlSuffixNotAllowedAsLastCharRe.test(n)}function isUrlSuffixStartChar(n){return urlSuffixStartCharsRe.test(n)}function isKnownTld(n){return tldRegex.test(n.toLowerCase())}function isValidSchemeUrl(n){if(invalidSchemeRe.test(n))return!1;var e=n.match(schemeUrlRe);if(!e)return!1;var r=!!e[1],s=e[2];return r?!0:!(s.indexOf(".")===-1||!letterRe.test(s))}function isValidTldMatch(n){var e=n.match(tldUrlHostRe);if(!e)return!1;var r=e[0],s=r.split(".");if(s.length<2)return!1;var a=s[s.length-1];return!!isKnownTld(a)}var ipV4Re=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipV4PartRe=/[:/?#]/;function isValidIpV4Address(n){var e=n.split(ipV4PartRe,1)[0];return ipV4Re.test(e)}var wwwPrefixRegex=/^(https?:\/\/)?(www\.)?/i,protocolRelativeRegex=/^\/\//,UrlMatch=function(n){__extends(e,n);function e(r){var s=n.call(this,r)||this;return s.type="url",s.url="",s.urlMatchType="scheme",s.protocolRelativeMatch=!1,s.stripPrefix={scheme:!0,www:!0},s.stripTrailingSlash=!0,s.decodePercentEncoding=!0,s.protocolPrepended=!1,s.urlMatchType=r.urlMatchType,s.url=r.url,s.protocolRelativeMatch=r.protocolRelativeMatch,s.stripPrefix=r.stripPrefix,s.stripTrailingSlash=r.stripTrailingSlash,s.decodePercentEncoding=r.decodePercentEncoding,s}return e.prototype.getType=function(){return"url"},e.prototype.getUrlMatchType=function(){return this.urlMatchType},e.prototype.getUrl=function(){var r=this.url;return!this.protocolRelativeMatch&&this.urlMatchType!=="scheme"&&!this.protocolPrepended&&(r=this.url="http://"+r,this.protocolPrepended=!0),r},e.prototype.getAnchorHref=function(){var r=this.getUrl();return r.replace(/&amp;/g,"&")},e.prototype.getAnchorText=function(){var r=this.getMatchedText();return this.protocolRelativeMatch&&(r=stripProtocolRelativePrefix(r)),this.stripPrefix.scheme&&(r=stripSchemePrefix(r)),this.stripPrefix.www&&(r=stripWwwPrefix(r)),this.stripTrailingSlash&&(r=removeTrailingSlash(r)),this.decodePercentEncoding&&(r=removePercentEncoding(r)),r},e}(AbstractMatch);function stripSchemePrefix(n){return n.replace(httpSchemePrefixRe,"")}function stripWwwPrefix(n){return n.replace(wwwPrefixRegex,"$1")}function stripProtocolRelativePrefix(n){return n.replace(protocolRelativeRegex,"")}function removeTrailingSlash(n){return n.charAt(n.length-1)==="/"&&(n=n.slice(0,-1)),n}function removePercentEncoding(n){var e=n.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;");try{return decodeURIComponent(e)}catch{return e}}var mailtoSchemePrefixRe=/^mailto:/i,emailLocalPartCharRegex=new RegExp("[".concat(alphaNumericAndMarksCharsStr,"!#$%&'*+/=?^_`{|}~-]"));function isEmailLocalPartStartChar(n){return alphaNumericAndMarksRe.test(n)}function isEmailLocalPartChar(n){return emailLocalPartCharRegex.test(n)}function isValidEmail(n){var e=n.split(".").pop()||"";return isKnownTld(e)}var EmailMatch=function(n){__extends(e,n);function e(r){var s=n.call(this,r)||this;return s.type="email",s.email="",s.email=r.email,s}return e.prototype.getType=function(){return"email"},e.prototype.getEmail=function(){return this.email},e.prototype.getAnchorHref=function(){return"mailto:"+this.email},e.prototype.getAnchorText=function(){return this.email},e}(AbstractMatch);function isHashtagTextChar(n){return n==="_"||alphaNumericAndMarksRe.test(n)}function isValidHashtag(n){return n.length<=140}var hashtagServices=["twitter","facebook","instagram","tiktok"],HashtagMatch=function(n){__extends(e,n);function e(r){var s=n.call(this,r)||this;return s.type="hashtag",s.serviceName="twitter",s.hashtag="",s.serviceName=r.serviceName,s.hashtag=r.hashtag,s}return e.prototype.getType=function(){return"hashtag"},e.prototype.getServiceName=function(){return this.serviceName},e.prototype.getHashtag=function(){return this.hashtag},e.prototype.getAnchorHref=function(){var r=this.serviceName,s=this.hashtag;switch(r){case"twitter":return"https://twitter.com/hashtag/"+s;case"facebook":return"https://www.facebook.com/hashtag/"+s;case"instagram":return"https://instagram.com/explore/tags/"+s;case"tiktok":return"https://www.tiktok.com/tag/"+s;default:throw assertNever(r),new Error("Invalid hashtag service: ".concat(r))}},e.prototype.getAnchorText=function(){return"#"+this.hashtag},e.prototype.getCssClassSuffixes=function(){var r=n.prototype.getCssClassSuffixes.call(this),s=this.getServiceName();return s&&r.push(s),r},e}(AbstractMatch),mentionRegexes={twitter:/^@\w{1,15}$/,instagram:/^@[_\w]{1,30}$/,soundcloud:/^@[-a-z0-9_]{3,25}$/,tiktok:/^@[.\w]{1,23}[\w]$/},mentionTextCharRe=/[-\w.]/;function isMentionTextChar(n){return mentionTextCharRe.test(n)}function isValidMention(n,e){var r=mentionRegexes[e];return r.test(n)}var mentionServices=["twitter","instagram","soundcloud","tiktok"],MentionMatch=function(n){__extends(e,n);function e(r){var s=n.call(this,r)||this;return s.type="mention",s.serviceName="twitter",s.mention="",s.mention=r.mention,s.serviceName=r.serviceName,s}return e.prototype.getType=function(){return"mention"},e.prototype.getMention=function(){return this.mention},e.prototype.getServiceName=function(){return this.serviceName},e.prototype.getAnchorHref=function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;case"tiktok":return"https://www.tiktok.com/@"+this.mention;default:throw new Error("Unknown service name to point mention to: "+this.serviceName)}},e.prototype.getAnchorText=function(){return"@"+this.mention},e.prototype.getCssClassSuffixes=function(){var r=n.prototype.getCssClassSuffixes.call(this),s=this.getServiceName();return s&&r.push(s),r},e}(AbstractMatch),separatorCharRe=/[-. ]/,hasDelimCharsRe=/[-. ()]/,controlCharRe=/[,;]/,mostPhoneNumbers=/(?:(?:(?:(\+)?\d{1,3}[-. ]?)?\(?\d{3}\)?[-. ]?\d{3}[-. ]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-. ]?(?:\d[-. ]?){6,12}\d+))([,;]+[0-9]+#?)*/,japanesePhoneRe=/(0([1-9]-?[1-9]\d{3}|[1-9]{2}-?\d{3}|[1-9]{2}\d{1}-?\d{2}|[1-9]{2}\d{2}-?\d{1})-?\d{4}|0[789]0-?\d{4}-?\d{4}|050-?\d{4}-?\d{4})/,validPhoneNumberRe=new RegExp("^".concat(mostPhoneNumbers.source,"|").concat(japanesePhoneRe.source,"$"));function isPhoneNumberSeparatorChar(n){return separatorCharRe.test(n)}function isPhoneNumberControlChar(n){return controlCharRe.test(n)}function isValidPhoneNumber(n){var e=n.charAt(0)==="+"||hasDelimCharsRe.test(n);return e&&validPhoneNumberRe.test(n)}var PhoneMatch=function(n){__extends(e,n);function e(r){var s=n.call(this,r)||this;return s.type="phone",s.number="",s.plusSign=!1,s.number=r.number,s.plusSign=r.plusSign,s}return e.prototype.getType=function(){return"phone"},e.prototype.getPhoneNumber=function(){return this.number},e.prototype.getNumber=function(){return this.getPhoneNumber()},e.prototype.getAnchorHref=function(){return"tel:"+(this.plusSign?"+":"")+this.number},e.prototype.getAnchorText=function(){return this.matchedText},e}(AbstractMatch);function parseMatches(n,e){for(var r=e.tagBuilder,s=e.stripPrefix,a=e.stripTrailingSlash,l=e.decodePercentEncoding,f=e.hashtagServiceName,c=e.mentionServiceName,d=[],g=n.length,b=[],m=0;m<g;m++){var _=n.charAt(m);if(b.length===0)j(_);else for(var x=b.length-1;x>=0;x--){var k=b[x];switch(k.state){case 11:ge(k,_);break;case 12:ve(k,_);break;case 0:ne(k,_);break;case 1:se(k,_);break;case 2:le(k,_);break;case 3:ue(k,_);break;case 4:he(k,_);break;case 5:_e(k,_);break;case 6:ye(k,_);break;case 7:be(k,_);break;case 13:He(k,_);break;case 14:Oe(k,_);break;case 8:Fe(k,_);break;case 9:De(k,_);break;case 10:We(k,_);break;case 15:ze(k,_);break;case 16:Ge(k,_);break;case 17:Je(k,_);break;case 18:Ue(k,_);break;case 19:pe(k,_);break;case 20:ae(k,_);break;case 21:Se(k,_);break;case 22:Pe(k,_);break;case 23:qe(k,_);break;case 24:xe(k,_);break;case 25:Xe(k,_);break;case 26:$e(k,_);break;case 27:Ze(k,_);break;case 28:et(k,_);break;case 29:nt(k,_);break;case 30:it(k,_);break;case 31:Ee(k,_);break;case 32:ce(k,_);break;case 33:we(k,_);break;case 34:Be(k,_);break;case 35:Ie(k,_);break;case 36:Ye(k,_);break;case 37:de(k,_);break;case 38:Ke(k,_);break;case 39:Re(k,_);break;case 40:je(k,_);break;case 41:Ce(k,_);break;default:assertNever(k.state)}}}for(var q=b.length-1;q>=0;q--)b.forEach(function(Te){return Ne(Te)});return d;function j(Te){if(Te==="#")b.push(createHashtagStateMachine(m,28));else if(Te==="@")b.push(createMentionStateMachine(m,30));else if(Te==="/")b.push(createTldUrlStateMachine(m,11));else if(Te==="+")b.push(createPhoneNumberStateMachine(m,37));else if(Te==="(")b.push(createPhoneNumberStateMachine(m,32));else{if(digitRe.test(Te)&&(b.push(createPhoneNumberStateMachine(m,38)),b.push(createIpV4UrlStateMachine(m,13))),isEmailLocalPartStartChar(Te)){var ke=Te.toLowerCase()==="m"?15:22;b.push(createEmailStateMachine(m,ke))}isSchemeStartChar(Te)&&b.push(createSchemeUrlStateMachine(m,0)),alphaNumericAndMarksRe.test(Te)&&b.push(createTldUrlStateMachine(m,5))}}function ne(Te,ke){ke===":"?Te.state=2:ke==="-"?Te.state=1:isSchemeChar(ke)||remove$1(b,Te)}function se(Te,ke){ke==="-"||(ke==="/"?(remove$1(b,Te),b.push(createTldUrlStateMachine(m,11))):isSchemeChar(ke)?Te.state=0:remove$1(b,Te))}function le(Te,ke){ke==="/"?Te.state=3:ke==="."?remove$1(b,Te):isDomainLabelStartChar(ke)?(Te.state=5,isSchemeStartChar(ke)&&b.push(createSchemeUrlStateMachine(m,0))):remove$1(b,Te)}function ue(Te,ke){ke==="/"?Te.state=4:isPathChar(ke)?(Te.state=10,Te.acceptStateReached=!0):Ne(Te)}function he(Te,ke){ke==="/"?Te.state=10:isDomainLabelStartChar(ke)?(Te.state=5,Te.acceptStateReached=!0):remove$1(b,Te)}function ge(Te,ke){ke==="/"?Te.state=12:remove$1(b,Te)}function ve(Te,ke){isDomainLabelStartChar(ke)?Te.state=5:remove$1(b,Te)}function _e(Te,ke){ke==="."?Te.state=7:ke==="-"?Te.state=6:ke===":"?Te.state=8:isUrlSuffixStartChar(ke)?Te.state=10:isDomainLabelChar(ke)||Ne(Te)}function ye(Te,ke){ke==="-"||(ke==="."?Ne(Te):isDomainLabelStartChar(ke)?Te.state=5:Ne(Te))}function be(Te,ke){ke==="."?Ne(Te):isDomainLabelStartChar(ke)?(Te.state=5,Te.acceptStateReached=!0):Ne(Te)}function He(Te,ke){ke==="."?Te.state=14:ke===":"?Te.state=8:digitRe.test(ke)||(isUrlSuffixStartChar(ke)?Te.state=10:alphaNumericAndMarksRe.test(ke)?remove$1(b,Te):Ne(Te))}function Oe(Te,ke){digitRe.test(ke)?(Te.octetsEncountered++,Te.octetsEncountered===4&&(Te.acceptStateReached=!0),Te.state=13):Ne(Te)}function Fe(Te,ke){digitRe.test(ke)?Te.state=9:Ne(Te)}function De(Te,ke){digitRe.test(ke)||(isUrlSuffixStartChar(ke)?Te.state=10:Ne(Te))}function We(Te,ke){isPathChar(ke)||Ne(Te)}function ze(Te,ke){ke.toLowerCase()==="a"?Te.state=16:Pe(Te,ke)}function Ge(Te,ke){ke.toLowerCase()==="i"?Te.state=17:Pe(Te,ke)}function Je(Te,ke){ke.toLowerCase()==="l"?Te.state=18:Pe(Te,ke)}function Ue(Te,ke){ke.toLowerCase()==="t"?Te.state=19:Pe(Te,ke)}function pe(Te,ke){ke.toLowerCase()==="o"?Te.state=20:Pe(Te,ke)}function ae(Te,ke){ke.toLowerCase()===":"?Te.state=21:Pe(Te,ke)}function Se(Te,ke){isEmailLocalPartChar(ke)?Te.state=22:remove$1(b,Te)}function Pe(Te,ke){ke==="."?Te.state=23:ke==="@"?Te.state=24:isEmailLocalPartChar(ke)?Te.state=22:remove$1(b,Te)}function qe(Te,ke){ke==="."||ke==="@"?remove$1(b,Te):isEmailLocalPartChar(ke)?Te.state=22:remove$1(b,Te)}function xe(Te,ke){isDomainLabelStartChar(ke)?Te.state=25:remove$1(b,Te)}function Xe(Te,ke){ke==="."?Te.state=27:ke==="-"?Te.state=26:isDomainLabelChar(ke)||Ne(Te)}function $e(Te,ke){ke==="-"||ke==="."?Ne(Te):isDomainLabelChar(ke)?Te.state=25:Ne(Te)}function Ze(Te,ke){ke==="."||ke==="-"?Ne(Te):isDomainLabelStartChar(ke)?(Te.state=25,Te.acceptStateReached=!0):Ne(Te)}function et(Te,ke){isHashtagTextChar(ke)?(Te.state=29,Te.acceptStateReached=!0):remove$1(b,Te)}function nt(Te,ke){isHashtagTextChar(ke)||Ne(Te)}function it(Te,ke){isMentionTextChar(ke)?(Te.state=31,Te.acceptStateReached=!0):remove$1(b,Te)}function Ee(Te,ke){isMentionTextChar(ke)||(alphaNumericAndMarksRe.test(ke)?remove$1(b,Te):Ne(Te))}function de(Te,ke){digitRe.test(ke)?Te.state=38:(remove$1(b,Te),j(ke))}function ce(Te,ke){digitRe.test(ke)?Te.state=33:remove$1(b,Te),j(ke)}function we(Te,ke){digitRe.test(ke)?Te.state=34:remove$1(b,Te)}function Be(Te,ke){digitRe.test(ke)?Te.state=35:remove$1(b,Te)}function Ie(Te,ke){ke===")"?Te.state=36:remove$1(b,Te)}function Ye(Te,ke){digitRe.test(ke)?Te.state=38:isPhoneNumberSeparatorChar(ke)?Te.state=39:remove$1(b,Te)}function Ke(Te,ke){Te.acceptStateReached=!0,isPhoneNumberControlChar(ke)?Te.state=40:ke==="#"?Te.state=41:digitRe.test(ke)||(ke==="("?Te.state=32:isPhoneNumberSeparatorChar(ke)?Te.state=39:(Ne(Te),isSchemeStartChar(ke)&&b.push(createSchemeUrlStateMachine(m,0))))}function Re(Te,ke){digitRe.test(ke)?Te.state=38:ke==="("?Te.state=32:(Ne(Te),j(ke))}function je(Te,ke){isPhoneNumberControlChar(ke)||(ke==="#"?Te.state=41:digitRe.test(ke)?Te.state=38:Ne(Te))}function Ce(Te,ke){isPhoneNumberControlChar(ke)?Te.state=40:digitRe.test(ke)?remove$1(b,Te):Ne(Te)}function Ne(Te){if(remove$1(b,Te),!!Te.acceptStateReached){var ke=Te.startIdx,rt=n.slice(Te.startIdx,m);if(rt=excludeUnbalancedTrailingBracesAndPunctuation(rt),Te.type==="url"){var lt=n.charAt(Te.startIdx-1);if(lt==="@")return;var ot=Te.matchType;if(ot==="scheme"){var ft=httpSchemeRe.exec(rt);if(ft&&(ke=ke+ft.index,rt=rt.slice(ft.index)),!isValidSchemeUrl(rt))return}else if(ot==="tld"){if(!isValidTldMatch(rt))return}else if(ot==="ipV4"){if(!isValidIpV4Address(rt))return}else assertNever(ot);d.push(new UrlMatch({tagBuilder:r,matchedText:rt,offset:ke,urlMatchType:ot,url:rt,protocolRelativeMatch:rt.slice(0,2)==="//",stripPrefix:s,stripTrailingSlash:a,decodePercentEncoding:l}))}else if(Te.type==="email")isValidEmail(rt)&&d.push(new EmailMatch({tagBuilder:r,matchedText:rt,offset:ke,email:rt.replace(mailtoSchemePrefixRe,"")}));else if(Te.type==="hashtag")isValidHashtag(rt)&&d.push(new HashtagMatch({tagBuilder:r,matchedText:rt,offset:ke,serviceName:f,hashtag:rt.slice(1)}));else if(Te.type==="mention")isValidMention(rt,c)&&d.push(new MentionMatch({tagBuilder:r,matchedText:rt,offset:ke,serviceName:c,mention:rt.slice(1)}));else if(Te.type==="phone"){if(rt=rt.replace(/ +$/g,""),isValidPhoneNumber(rt)){var vt=rt.replace(/[^0-9,;#]/g,"");d.push(new PhoneMatch({tagBuilder:r,matchedText:rt,offset:ke,number:vt,plusSign:rt.charAt(0)==="+"}))}}else assertNever(Te)}}}var openBraceRe=/[\(\{\[]/,closeBraceRe=/[\)\}\]]/,oppositeBrace={")":"(","}":"{","]":"["};function excludeUnbalancedTrailingBracesAndPunctuation(n){for(var e={"(":0,"{":0,"[":0},r=0;r<n.length;r++){var s=n.charAt(r);openBraceRe.test(s)?e[s]++:closeBraceRe.test(s)&&e[oppositeBrace[s]]--}for(var a=n.length-1,l;a>=0;)if(l=n.charAt(a),closeBraceRe.test(l)){var f=oppositeBrace[l];if(e[f]<0)e[f]++,a--;else break}else if(urlSuffixedCharsNotAllowedAtEndRe.test(l))a--;else break;return n.slice(0,a+1)}function createSchemeUrlStateMachine(n,e){return{type:"url",startIdx:n,state:e,acceptStateReached:!1,matchType:"scheme"}}function createTldUrlStateMachine(n,e){return{type:"url",startIdx:n,state:e,acceptStateReached:!1,matchType:"tld"}}function createIpV4UrlStateMachine(n,e){return{type:"url",startIdx:n,state:e,acceptStateReached:!1,matchType:"ipV4",octetsEncountered:1}}function createEmailStateMachine(n,e){return{type:"email",startIdx:n,state:e,acceptStateReached:!1}}function createHashtagStateMachine(n,e){return{type:"hashtag",startIdx:n,state:e,acceptStateReached:!1}}function createMentionStateMachine(n,e){return{type:"mention",startIdx:n,state:e,acceptStateReached:!1}}function createPhoneNumberStateMachine(n,e){return{type:"phone",startIdx:n,state:e,acceptStateReached:!1}}function parseHtml(n,e){for(var r=e.onOpenTag,s=e.onCloseTag,a=e.onText,l=e.onComment,f=e.onDoctype,c=new CurrentTag,d=0,g=n.length,b=0,m=0,_=c;d<g;){var x=n.charAt(d);switch(b){case 0:k(x);break;case 1:q(x);break;case 2:ne(x);break;case 3:j(x);break;case 4:se(x);break;case 5:le(x);break;case 6:ue(x);break;case 7:he(x);break;case 8:ge(x);break;case 9:ve(x);break;case 10:_e(x);break;case 11:ye(x);break;case 12:be(x);break;case 13:He();break;case 14:Oe(x);break;case 15:Fe(x);break;case 16:De(x);break;case 17:We(x);break;case 18:ze(x);break;case 19:Ge(x);break;case 20:Je(x);break;default:assertNever(b)}d++}m<d&&Se();function k(xe){xe==="<"&&pe()}function q(xe){xe==="!"?b=13:xe==="/"?(b=2,_=new CurrentTag(__assign(__assign({},_),{isClosing:!0}))):xe==="<"?pe():letterRe.test(xe)?(b=3,_=new CurrentTag(__assign(__assign({},_),{isOpening:!0}))):(b=0,_=c)}function j(xe){whitespaceRe.test(xe)?(_=new CurrentTag(__assign(__assign({},_),{name:Pe()})),b=4):xe==="<"?pe():xe==="/"?(_=new CurrentTag(__assign(__assign({},_),{name:Pe()})),b=12):xe===">"?(_=new CurrentTag(__assign(__assign({},_),{name:Pe()})),ae()):!letterRe.test(xe)&&!digitRe.test(xe)&&xe!==":"&&Ue()}function ne(xe){xe===">"?Ue():letterRe.test(xe)?b=3:Ue()}function se(xe){whitespaceRe.test(xe)||(xe==="/"?b=12:xe===">"?ae():xe==="<"?pe():xe==="="||quoteRe.test(xe)||controlCharsRe.test(xe)?Ue():b=5)}function le(xe){whitespaceRe.test(xe)?b=6:xe==="/"?b=12:xe==="="?b=7:xe===">"?ae():xe==="<"?pe():quoteRe.test(xe)&&Ue()}function ue(xe){whitespaceRe.test(xe)||(xe==="/"?b=12:xe==="="?b=7:xe===">"?ae():xe==="<"?pe():quoteRe.test(xe)?Ue():b=5)}function he(xe){whitespaceRe.test(xe)||(xe==='"'?b=8:xe==="'"?b=9:/[>=`]/.test(xe)?Ue():xe==="<"?pe():b=10)}function ge(xe){xe==='"'&&(b=11)}function ve(xe){xe==="'"&&(b=11)}function _e(xe){whitespaceRe.test(xe)?b=4:xe===">"?ae():xe==="<"&&pe()}function ye(xe){whitespaceRe.test(xe)?b=4:xe==="/"?b=12:xe===">"?ae():xe==="<"?pe():(b=4,qe())}function be(xe){xe===">"?(_=new CurrentTag(__assign(__assign({},_),{isClosing:!0})),ae()):b=4}function He(xe){n.substr(d,2)==="--"?(d+=2,_=new CurrentTag(__assign(__assign({},_),{type:"comment"})),b=14):n.substr(d,7).toUpperCase()==="DOCTYPE"?(d+=7,_=new CurrentTag(__assign(__assign({},_),{type:"doctype"})),b=20):Ue()}function Oe(xe){xe==="-"?b=15:xe===">"?Ue():b=16}function Fe(xe){xe==="-"?b=18:xe===">"?Ue():b=16}function De(xe){xe==="-"&&(b=17)}function We(xe){xe==="-"?b=18:b=16}function ze(xe){xe===">"?ae():xe==="!"?b=19:xe==="-"||(b=16)}function Ge(xe){xe==="-"?b=17:xe===">"?ae():b=16}function Je(xe){xe===">"?ae():xe==="<"&&pe()}function Ue(){b=0,_=c}function pe(){b=1,_=new CurrentTag({idx:d})}function ae(){var xe=n.slice(m,_.idx);xe&&a(xe,m),_.type==="comment"?l(_.idx):_.type==="doctype"?f(_.idx):(_.isOpening&&r(_.name,_.idx),_.isClosing&&s(_.name,_.idx)),Ue(),m=d+1}function Se(){var xe=n.slice(m,d);a(xe,m),m=d+1}function Pe(){var xe=_.idx+(_.isClosing?2:1);return n.slice(xe,d).toLowerCase()}function qe(){d--}}var CurrentTag=function(){function n(e){e===void 0&&(e={}),this.idx=e.idx!==void 0?e.idx:-1,this.type=e.type||"tag",this.name=e.name||"",this.isOpening=!!e.isOpening,this.isClosing=!!e.isClosing}return n}(),Autolinker=function(){function n(e){e===void 0&&(e={}),this.version=n.version,this.urls={},this.email=!0,this.phone=!0,this.hashtag=!1,this.mention=!1,this.newWindow=!0,this.stripPrefix={scheme:!0,www:!0},this.stripTrailingSlash=!0,this.decodePercentEncoding=!0,this.truncate={length:0,location:"end"},this.className="",this.replaceFn=null,this.context=void 0,this.sanitizeHtml=!1,this.tagBuilder=null,this.urls=normalizeUrlsCfg(e.urls),this.email=isBoolean$1(e.email)?e.email:this.email,this.phone=isBoolean$1(e.phone)?e.phone:this.phone,this.hashtag=e.hashtag||this.hashtag,this.mention=e.mention||this.mention,this.newWindow=isBoolean$1(e.newWindow)?e.newWindow:this.newWindow,this.stripPrefix=normalizeStripPrefixCfg(e.stripPrefix),this.stripTrailingSlash=isBoolean$1(e.stripTrailingSlash)?e.stripTrailingSlash:this.stripTrailingSlash,this.decodePercentEncoding=isBoolean$1(e.decodePercentEncoding)?e.decodePercentEncoding:this.decodePercentEncoding,this.sanitizeHtml=e.sanitizeHtml||!1;var r=this.mention;if(r!==!1&&mentionServices.indexOf(r)===-1)throw new Error("invalid `mention` cfg '".concat(r,"' - see docs"));var s=this.hashtag;if(s!==!1&&hashtagServices.indexOf(s)===-1)throw new Error("invalid `hashtag` cfg '".concat(s,"' - see docs"));this.truncate=normalizeTruncateCfg(e.truncate),this.className=e.className||this.className,this.replaceFn=e.replaceFn||this.replaceFn,this.context=e.context||this}return n.link=function(e,r){var s=new n(r);return s.link(e)},n.parse=function(e,r){var s=new n(r);return s.parse(e)},n.prototype.parse=function(e){var r=this,s=["a","style","script"],a=0,l=[];return parseHtml(e,{onOpenTag:function(f){s.indexOf(f)>=0&&a++},onText:function(f,c){if(a===0){var d=/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,g=f.split(d),b=c;g.forEach(function(m,_){if(_%2===0){var x=r.parseText(m,b);l.push.apply(l,x)}b+=m.length})}},onCloseTag:function(f){s.indexOf(f)>=0&&(a=Math.max(a-1,0))},onComment:function(f){},onDoctype:function(f){}}),l=this.compactMatches(l),l=this.removeUnwantedMatches(l),l},n.prototype.compactMatches=function(e){e.sort(function(d,g){return d.getOffset()-g.getOffset()});for(var r=0;r<e.length-1;){var s=e[r],a=s.getOffset(),l=s.getMatchedText().length,f=a+l;if(r+1<e.length){if(e[r+1].getOffset()===a){var c=e[r+1].getMatchedText().length>l?r:r+1;e.splice(c,1);continue}if(e[r+1].getOffset()<f){e.splice(r+1,1);continue}}r++}return e},n.prototype.removeUnwantedMatches=function(e){return this.hashtag||removeWithPredicate(e,function(r){return r.getType()==="hashtag"}),this.email||removeWithPredicate(e,function(r){return r.getType()==="email"}),this.phone||removeWithPredicate(e,function(r){return r.getType()==="phone"}),this.mention||removeWithPredicate(e,function(r){return r.getType()==="mention"}),this.urls.schemeMatches||removeWithPredicate(e,function(r){return r.getType()==="url"&&r.getUrlMatchType()==="scheme"}),this.urls.tldMatches||removeWithPredicate(e,function(r){return r.getType()==="url"&&r.getUrlMatchType()==="tld"}),this.urls.ipV4Matches||removeWithPredicate(e,function(r){return r.getType()==="url"&&r.getUrlMatchType()==="ipV4"}),e},n.prototype.parseText=function(e,r){r===void 0&&(r=0),r=r||0;for(var s=parseMatches(e,{tagBuilder:this.getTagBuilder(),stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding,hashtagServiceName:this.hashtag,mentionServiceName:this.mention||"twitter"}),a=0,l=s.length;a<l;a++)s[a].setOffset(r+s[a].getOffset());return s},n.prototype.link=function(e){if(!e)return"";this.sanitizeHtml&&(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"));for(var r=this.parse(e),s=[],a=0,l=0,f=r.length;l<f;l++){var c=r[l];s.push(e.substring(a,c.getOffset())),s.push(this.createMatchReturnVal(c)),a=c.getOffset()+c.getMatchedText().length}return s.push(e.substring(a)),s.join("")},n.prototype.createMatchReturnVal=function(e){var r;if(this.replaceFn&&(r=this.replaceFn.call(this.context,e)),typeof r=="string")return r;if(r===!1)return e.getMatchedText();if(r instanceof HtmlTag)return r.toAnchorString();var s=e.buildTag();return s.toAnchorString()},n.prototype.getTagBuilder=function(){var e=this.tagBuilder;return e||(e=this.tagBuilder=new AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),e},n.version=version$7,n}();function normalizeUrlsCfg(n){return n==null&&(n=!0),isBoolean$1(n)?{schemeMatches:n,tldMatches:n,ipV4Matches:n}:{schemeMatches:isBoolean$1(n.schemeMatches)?n.schemeMatches:!0,tldMatches:isBoolean$1(n.tldMatches)?n.tldMatches:!0,ipV4Matches:isBoolean$1(n.ipV4Matches)?n.ipV4Matches:!0}}function normalizeStripPrefixCfg(n){return n==null&&(n=!0),isBoolean$1(n)?{scheme:n,www:n}:{scheme:isBoolean$1(n.scheme)?n.scheme:!0,www:isBoolean$1(n.www)?n.www:!0}}function normalizeTruncateCfg(n){return typeof n=="number"?{length:n,location:"end"}:defaults$3(n||{},{length:Number.POSITIVE_INFINITY,location:"end"})}var localizedFormatExports={},localizedFormat$1={get exports(){return localizedFormatExports},set exports(n){localizedFormatExports=n}};(function(n,e){(function(r,s){n.exports=s()})(commonjsGlobal,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(s,a,l){var f=a.prototype,c=f.format;l.en.formats=r,f.format=function(d){d===void 0&&(d="YYYY-MM-DDTHH:mm:ssZ");var g=this.$locale().formats,b=function(m,_){return m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(x,k,q){var j=q&&q.toUpperCase();return k||_[q]||r[q]||_[j].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(ne,se,le){return se||le.slice(1)})})}(d,g===void 0?{}:g);return c.call(this,b)}}})})(localizedFormat$1);const localizedFormat=localizedFormatExports;var isYesterdayExports={},isYesterday$1={get exports(){return isYesterdayExports},set exports(n){isYesterdayExports=n}};(function(n,e){(function(r,s){n.exports=s()})(commonjsGlobal,function(){return function(r,s,a){s.prototype.isYesterday=function(){var l="YYYY-MM-DD",f=a().subtract(1,"day");return this.format(l)===f.format(l)}}})})(isYesterday$1);const isYesterday=isYesterdayExports;function _typeof(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(e){return typeof e}:_typeof=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(n)}function asyncGeneratorStep(n,e,r,s,a,l,f){try{var c=n[l](f),d=c.value}catch(g){r(g);return}c.done?e(d):Promise.resolve(d).then(s,a)}function _asyncToGenerator(n){return function(){var e=this,r=arguments;return new Promise(function(s,a){var l=n.apply(e,r);function f(d){asyncGeneratorStep(l,s,a,f,c,"next",d)}function c(d){asyncGeneratorStep(l,s,a,f,c,"throw",d)}f(void 0)})}}function _classCallCheck$1(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(n,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}function _createClass$1(n,e,r){return e&&_defineProperties$1(n.prototype,e),r&&_defineProperties$1(n,r),n}function _defineProperty$2(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function ownKeys$2(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,s)}return r}function _objectSpread2$2(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$2(Object(r),!0).forEach(function(s){_defineProperty$2(n,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):ownKeys$2(Object(r)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(r,s))})}return n}function _toConsumableArray$1(n){return _arrayWithoutHoles$1(n)||_iterableToArray$1(n)||_unsupportedIterableToArray$2(n)||_nonIterableSpread$1()}function _arrayWithoutHoles$1(n){if(Array.isArray(n))return _arrayLikeToArray$2(n)}function _iterableToArray$1(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function _unsupportedIterableToArray$2(n,e){if(n){if(typeof n=="string")return _arrayLikeToArray$2(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$2(n,e)}}function _arrayLikeToArray$2(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=n[r];return s}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var FOCUSABLE_ELEMENTS_QUERY='button:not([disabled]), select:not([disabled]), a[href]:not([disabled]), area[href]:not([disabled]), [contentEditable=""]:not([disabled]), [contentEditable="true"]:not([disabled]), [contentEditable="TRUE"]:not([disabled]), textarea:not([disabled]), iframe:not([disabled]), input:not([disabled]), summary:not([disabled]), [tabindex]:not([tabindex="-1"])',isTabPressed=function(e){return e.key==="Tab"||e.keyCode===9},querySelectorAll=function(e,r){return _toConsumableArray$1(e.querySelectorAll(r)||[])},queryFocusableElements=function(e){return querySelectorAll(e,FOCUSABLE_ELEMENTS_QUERY)},isFocused=function(e){return e==document.activeElement},isNothingFocused=function(){return!document.activeElement},FocusTrap=function(){function n(){_classCallCheck$1(this,n),this.root=null,this.elements=[],this.onKeyDown=this.onKeyDown.bind(this),this.enable=this.enable.bind(this),this.disable=this.disable.bind(this),this.firstElement=this.firstElement.bind(this),this.lastElement=this.lastElement.bind(this)}return _createClass$1(n,[{key:"lastElement",value:function(){return this.elements[this.elements.length-1]||null}},{key:"firstElement",value:function(){return this.elements[0]||null}},{key:"onKeyDown",value:function(r){if(isTabPressed(r)){if(r.shiftKey){isFocused(this.firstElement())&&(this.lastElement().focus(),r.preventDefault());return}if(isNothingFocused()||isFocused(this.lastElement())){this.firstElement().focus(),r.preventDefault();return}}}},{key:"enabled",value:function(){return!!this.root}},{key:"enable",value:function(r){r&&(this.root=r,this.elements=queryFocusableElements(this.root),this.root.addEventListener("keydown",this.onKeyDown))}},{key:"disable",value:function(){this.root.removeEventListener("keydown",this.onKeyDown),this.root=null}}]),n}(),setStyle=function(e,r,s){var a=e.style[r];return e.style[r]=s,function(){e.style[r]=a}},getPosition=function(e){var r=e.targetTouches?e.targetTouches[0]:e,s=r.clientX,a=r.clientY;return{x:s,y:a}},capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},clamp$1=function(e,r,s){return typeof e!="number"&&(e=Math.min(r,s)||r),typeof s!="number"&&(s=Math.max(r,e)),Math.min(Math.max(r,e),s)},trimPx=function(e){return e&&Number(e.replace(/px$/,""))||0},validDragElement=function(e,r,s){if(s==="")return!0;var a=_toConsumableArray$1(r.querySelectorAll(s));return a.includes(e.target)},pointerType={down:{pc:"mousedown",m:"touchstart"},move:{pc:"mousemove",m:"touchmove"},up:{pc:"mouseup",m:"touchend"}},addListener=function(e,r,s){r&&r.addEventListener(pointerType[e].pc,s),r&&r.addEventListener(pointerType[e].m,s,{passive:!1})},removeListener=function(e,r,s){r&&r.removeEventListener(pointerType[e].pc,s),r&&r.removeEventListener(pointerType[e].m,s)},hasPassiveEvents=!1;if(typeof window<"u"){var passiveTestOptions={get passive(){hasPassiveEvents=!0}};window.addEventListener("testPassive",null,passiveTestOptions),window.removeEventListener("testPassive",null,passiveTestOptions)}var isIosDevice=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),locks=[],documentListenerAdded=!1,clientY=0,initialClientY=-1,previousBodyOverflowSetting,previousBodyPaddingRight,hasScrollbar=function(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;var r=window.getComputedStyle(e);return["auto","scroll"].includes(r.overflowY)&&e.scrollHeight>e.clientHeight},shouldScroll=function(e,r){return!(e.scrollTop===0&&r<0||e.scrollTop+e.clientHeight+r>=e.scrollHeight&&r>0)},composedPath=function(e){for(var r=[];e;){if(r.push(e),e.classList.contains("vfm"))return r;e=e.parentElement}return r},hasAnyScrollableEl=function(e,r){var s=!1,a=composedPath(e);return a.forEach(function(l){hasScrollbar(l)&&shouldScroll(l,r)&&(s=!0)}),s},allowTouchMove=function(e){return locks.some(function(){return hasAnyScrollableEl(e,-clientY)})},preventDefault=function(e){var r=e||window.event;return allowTouchMove(r.target)||r.touches.length>1?!0:(r.preventDefault&&r.preventDefault(),!1)},setOverflowHidden=function(e){if(previousBodyPaddingRight===void 0){var r=!!e&&e.reserveScrollBarGap===!0,s=window.innerWidth-document.documentElement.clientWidth;if(r&&s>0){var a=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);previousBodyPaddingRight=document.body.style.paddingRight,document.body.style.paddingRight="".concat(a+s,"px")}}previousBodyOverflowSetting===void 0&&(previousBodyOverflowSetting=document.body.style.overflow,document.body.style.overflow="hidden")},restoreOverflowSetting=function(){previousBodyPaddingRight!==void 0&&(document.body.style.paddingRight=previousBodyPaddingRight,previousBodyPaddingRight=void 0),previousBodyOverflowSetting!==void 0&&(document.body.style.overflow=previousBodyOverflowSetting,previousBodyOverflowSetting=void 0)},isTargetElementTotallyScrolled=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},handleScroll=function(e,r){return clientY=e.targetTouches[0].clientY-initialClientY,allowTouchMove(e.target)?!1:r&&r.scrollTop===0&&clientY>0||isTargetElementTotallyScrolled(r)&&clientY<0?preventDefault(e):(e.stopPropagation(),!0)},disableBodyScroll=function(e,r){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!locks.some(function(a){return a.targetElement===e})){var s={targetElement:e,options:r||{}};locks=[].concat(_toConsumableArray$1(locks),[s]),isIosDevice?(e.ontouchstart=function(a){a.targetTouches.length===1&&(initialClientY=a.targetTouches[0].clientY)},e.ontouchmove=function(a){a.targetTouches.length===1&&handleScroll(a,e)},documentListenerAdded||(document.addEventListener("touchmove",preventDefault,hasPassiveEvents?{passive:!1}:void 0),documentListenerAdded=!0)):setOverflowHidden(r)}},enableBodyScroll=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}locks=locks.filter(function(r){return r.targetElement!==e}),isIosDevice?(e.ontouchstart=null,e.ontouchmove=null,documentListenerAdded&&locks.length===0&&(document.removeEventListener("touchmove",preventDefault,hasPassiveEvents?{passive:!1}:void 0),documentListenerAdded=!1)):locks.length||restoreOverflowSetting()},noop$3=function(){},TransitionState={Enter:"enter",Entering:"entering",Leave:"leave",Leaving:"leavng"},resizeCursor={t:"ns-resize",tr:"nesw-resize",r:"ew-resize",br:"nwse-resize",b:"ns-resize",bl:"nesw-resize",l:"ew-resize",tl:"nwse-resize"},script$1={props:{name:{type:String,default:null},modelValue:{type:Boolean,default:!1},ssr:{type:Boolean,default:!0},classes:{type:[String,Object,Array],default:""},overlayClass:{type:[String,Object,Array],default:""},contentClass:{type:[String,Object,Array],default:""},styles:{type:[Object,Array],default:function(){return{}}},overlayStyle:{type:[Object,Array],default:function(){return{}}},contentStyle:{type:[Object,Array],default:function(){return{}}},lockScroll:{type:Boolean,default:!0},hideOverlay:{type:Boolean,default:!1},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!1},preventClick:{type:Boolean,default:!1},attach:{type:null,default:!1,validator:function(e){var r=_typeof(e);return r==="boolean"||r==="string"?!0:e.nodeType===Node.ELEMENT_NODE}},transition:{type:[String,Object],default:"vfm"},overlayTransition:{type:[String,Object],default:"vfm"},keepOverlay:{type:Boolean,default:!1},zIndexAuto:{type:Boolean,default:!0},zIndexBase:{type:[String,Number],default:1e3},zIndex:{type:[Boolean,String,Number],default:!1},focusRetain:{type:Boolean,default:!0},focusTrap:{type:Boolean,default:!1},fitParent:{type:Boolean,default:!0},drag:{type:Boolean,default:!1},dragSelector:{type:String,default:""},keepChangedStyle:{type:Boolean,default:!1},resize:{type:Boolean,default:!1},resizeDirections:{type:Array,default:function(){return["t","tr","r","br","b","bl","l","tl"]},validator:function(e){return["t","tr","r","br","b","bl","l","tl"].filter(function(r){return e.indexOf(r)!==-1}).length===e.length}},minWidth:{type:Number,default:0},minHeight:{type:Number,default:0},maxWidth:{type:Number,default:1/0},maxHeight:{type:Number,default:1/0}},emits:["update:modelValue","click-outside","before-open","opened","before-close","closed","_before-open","_opened","_closed","drag:start","drag:move","drag:end","resize:start","resize:move","resize:end"],setup:function(e,r){var s=r.emit,a=Symbol("vfm"),l=ref(null),f=ref(null),c=ref(null),d=ref(null),g=ref(null),b=ref(null),m=ref(null),_=new FocusTrap,x=ref(!1),k=reactive({modal:!1,overlay:!1,resize:!1}),q=ref(null),j=ref(null),ne=ref(!1),se=ref({}),le=ref({}),ue=ref(null),he=ref(null),ge=noop$3,ve=noop$3,_e=computed(function(){return typeof e.overlayTransition=="string"?{name:e.overlayTransition}:_objectSpread2$2({},e.overlayTransition)}),ye=computed(function(){return typeof e.transition=="string"?{name:e.transition}:_objectSpread2$2({},e.transition)}),be=computed(function(){return(e.hideOverlay||q.value===TransitionState.Leave)&&j.value===TransitionState.Leave}),He=computed(function(){return e.zIndex===!1?e.zIndexAuto?+e.zIndexBase+2*(m.value||0):!1:e.zIndex}),Oe=computed(function(){return _objectSpread2$2({},He.value!==!1&&{zIndex:He.value})}),Fe=computed(function(){var Ce=[le.value];return Array.isArray(e.contentStyle)?Ce.push.apply(Ce,_toConsumableArray$1(e.contentStyle)):Ce.push(e.contentStyle),Ce});watch(function(){return e.modelValue},function(Ce){if(ne.value){ne.value=!1;return}if(We(),!Ce){if(de("before-close",!0)){ve("hide");return}ze()}}),watch(function(){return e.lockScroll},Ge),watch(function(){return e.hideOverlay},function(Ce){e.modelValue&&!Ce&&(k.overlay=!0)}),watch(function(){return e.attach},We),watch(be,function(Ce){Ce&&(x.value=!1,f.value.style.display="none")},{flush:"post"}),watch(function(){return e.drag},function(Ce){x.value&&(Ce?Ie():Ye())}),watch(function(){return e.resize},function(Ce){x.value&&(Ce?Ke():Re())}),watch(function(){return e.keepChangedStyle},function(Ce){Ce||(le.value={})}),onMounted(function(){e.api.modals.push(De()),We()}),onBeforeUnmount(function(){var Ce;ze(),e.lockScroll&&f.value&&enableBodyScroll(f.value),l==null||(Ce=l.value)===null||Ce===void 0||Ce.remove();var Ne=e.api.modals.findIndex(function(Te){return Te.uid===a});e.api.modals.splice(Ne,1)});function De(){return{uid:a,props:e,emit:s,vfmContainer:f,vfmContent:c,vfmResize:d,vfmOverlayTransition:g,vfmTransition:b,getAttachElement:Je,modalStackIndex:m,visibility:k,handleLockScroll:Ge,$focusTrap:_,toggle:we,params:se}}function We(){if(e.modelValue){if(s("_before-open",Ee({type:"_before-open"})),de("before-open",!1)){ve("show");return}var Ce=Je();if(Ce||e.attach===!1){if(e.attach!==!1)if(l.value)Ce.appendChild(l.value);else{x.value=!0,nextTick$1(function(){We()});return}var Ne=e.api.openedModals.findIndex(function(Te){return Te.uid===a});Ne!==-1&&e.api.openedModals.splice(Ne,1),e.api.openedModals.push(De()),m.value=e.api.openedModals.length-1,Ge(),e.api.openedModals.filter(function(Te){return Te.uid!==a}).forEach(function(Te,ke){Te.getAttachElement()===Ce&&(Te.modalStackIndex.value=ke,!Te.props.keepOverlay&&(Te.visibility.overlay=!1))}),x.value=!0,Ue()}else Ce!==!1&&console.warn("Unable to locate target ".concat(e.attach))}}function ze(){var Ce=e.api.openedModals.findIndex(function(Te){return Te.uid===a});if(Ce!==-1&&e.api.openedModals.splice(Ce,1),e.api.openedModals.length>0){var Ne=e.api.openedModals[e.api.openedModals.length-1];Ne.props.focusTrap&&Ne.$focusTrap.firstElement().focus(),(Ne.props.focusRetain||Ne.props.focusTrap)&&Ne.vfmContainer.value.focus(),!Ne.props.hideOverlay&&(Ne.visibility.overlay=!0)}e.drag&&Ye(),e.resize&&Re(),ue.value=null,pe()}function Ge(){e.modelValue&&nextTick$1(function(){e.lockScroll?disableBodyScroll(f.value,{reserveScrollBarGap:!0}):enableBodyScroll(f.value)})}function Je(){var Ce;return e.attach===!1?Ce=!1:typeof e.attach=="string"?window?Ce=window.document.querySelector(e.attach):Ce=!1:Ce=e.attach,Ce}function Ue(){k.overlay=!0,k.modal=!0}function pe(){k.overlay=!1,k.modal=!1}function ae(){q.value=TransitionState.Entering}function Se(){q.value=TransitionState.Enter}function Pe(){q.value=TransitionState.Leaving}function qe(){q.value=TransitionState.Leave}function xe(){j.value=TransitionState.Entering}function Xe(){j.value=TransitionState.Enter,(e.focusRetain||e.focusTrap)&&f.value.focus(),e.focusTrap&&_.enable(f.value),e.drag&&Ie(),e.resize&&Ke(),s("_opened"),s("opened",Ee({type:"opened"})),ge("show")}function $e(){j.value=TransitionState.Leaving,_.enabled()&&_.disable()}function Ze(){j.value=TransitionState.Leave,m.value=null,e.lockScroll&&enableBodyScroll(f.value),e.keepChangedStyle||(le.value={});var Ce=!1,Ne=Ee({type:"closed",stop:function(){Ce=!0}});s("_closed"),s("closed",Ne),ge("hide"),!Ce&&(se.value={})}function et(Ce){he.value=Ce==null?void 0:Ce.target}function nt(){he.value===f.value&&ue.value!=="resize:move"&&(s("click-outside",Ee({type:"click-outside"})),e.clickToClose&&s("update:modelValue",!1))}function it(){x.value&&e.escToClose&&s("update:modelValue",!1)}function Ee(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return _objectSpread2$2({ref:De()},Ce)}function de(Ce,Ne){var Te=!1,ke=Ee({type:Ce,stop:function(){Te=!0}});return s(Ce,ke),Te?(ne.value=!0,nextTick$1(function(){s("update:modelValue",Ne)}),!0):!1}function ce(Ce,Ne,Te){ue.value="".concat(Ne,":").concat(Te),s(ue.value,Ce)}function we(Ce,Ne){var Te=arguments;return new Promise(function(ke,rt){ge=function(ft){ke(ft),ge=noop$3},ve=function(ft){rt(ft),ve=noop$3};var lt=typeof Ce=="boolean"?Ce:!e.modelValue;lt&&Te.length===2&&(se.value=Ne),s("update:modelValue",lt)})}function Be(Ce){Ce.stopPropagation();var Ne="resize",Te="drag",ke=Ce.target.getAttribute("direction"),rt;if(ke)rt=Ne;else if(validDragElement(Ce,c.value,e.dragSelector))rt=Te;else return;ce(Ce,rt,"start");var lt=getPosition(Ce),ot=f.value.getBoundingClientRect(),ft=c.value.getBoundingClientRect(),vt=window.getComputedStyle(c.value).position==="absolute",ct={top:trimPx(le.value.top),left:trimPx(le.value.left)},ht=function(){if(e.fitParent){var mt={absolute:function(){return{minTop:0,minLeft:0,maxTop:ot.height-ft.height,maxLeft:ot.width-ft.width}},relative:function(){return{minTop:ct.top+ot.top-ft.top,minLeft:ct.left+ot.left-ft.left,maxTop:ct.top+ot.bottom-ft.bottom,maxLeft:ct.left+ot.right-ft.right}}};return vt?mt.absolute():mt.relative()}else return{}}(),_t=rt===Ne&&setStyle(document.body,"cursor",resizeCursor[ke]),bt=function(Tt){Tt.stopPropagation(),ce(Tt,rt,"move");var $t=getPosition(Tt),kt={x:$t.x-lt.x,y:$t.y-lt.y};rt===Ne&&(kt=je(ke,kt,ot,ft,vt));var Ft,Bt;vt?(Ft=ft.top-ot.top+kt.y,Bt=ft.left-ot.left+kt.x):(Ft=ct.top+kt.y,Bt=ct.left+kt.x),rt===Te&&e.fitParent&&(Ft=clamp$1(ht.minTop,Ft,ht.maxTop),Bt=clamp$1(ht.minLeft,Bt,ht.maxLeft));var wt=_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({position:"relative",top:Ft+"px",left:Bt+"px",margin:"unset",touchAction:"none"},vt&&{position:"absolute",transform:"unset",width:ft.width+"px",height:ft.height+"px"}),kt.width&&{width:kt.width+"px"}),kt.height&&{height:kt.height+"px"});le.value=_objectSpread2$2(_objectSpread2$2({},le.value),wt)},pt=function mt(Tt){Tt.stopPropagation(),rt===Ne&&_t&&_t(),setTimeout(function(){ce(Tt,rt,"end")}),removeListener("move",document,bt),removeListener("up",document,mt)};addListener("move",document,bt),addListener("up",document,pt)}function Ie(){addListener("down",c.value,Be),le.value.touchAction="none"}function Ye(){removeListener("down",c.value,Be)}function Ke(){k.resize=!0,nextTick$1(function(){addListener("down",d.value,Be)})}function Re(){removeListener("down",d.value,Be),k.resize=!1}function je(Ce,Ne,Te,ke,rt){var lt=function(ht){var _t,bt=Ne[ht.axis];bt=e.fitParent?clamp$1(ht.min,bt,ht.max):bt;var pt=clamp$1(ht.minEdge,ht.getEdge(bt),ht.maxEdge);return bt=ht.getOffsetAxis(pt,rt),_t={},_defineProperty$2(_t,ht.edgeName,pt),_defineProperty$2(_t,ht.axis,bt),_t},ot=function(ht,_t,bt,pt){var mt=ke[_t],Tt=Te[ht]-ke[ht],$t=capitalize(_t);return{axis:bt,edgeName:_t,min:pt?Tt:-mt,max:pt?mt:Tt,minEdge:e["min".concat($t)],maxEdge:e["max".concat($t)],getEdge:function(Ft){return ke[_t]-Ft*(pt?1:-1)},getOffsetAxis:function(Ft,Bt){var wt=ke[_t]-Ft;return Bt?pt?wt:0:(pt?1:-1)*wt/2}}},ft={t:["top","height","y",!0],b:["bottom","height","y",!1],l:["left","width","x",!0],r:["right","width","x",!1]},vt={x:0,y:0};return Ce.split("").forEach(function(ct){var ht=ot.apply(void 0,_toConsumableArray$1(ft[ct]));vt=_objectSpread2$2(_objectSpread2$2({},vt),lt(ht))}),vt}return{root:l,vfmContainer:f,vfmContent:c,vfmResize:d,vfmOverlayTransition:g,vfmTransition:b,computedOverlayTransition:_e,computedTransition:ye,visible:x,visibility:k,params:se,calculateZIndex:He,bindStyle:Oe,bindContentStyle:Fe,beforeOverlayEnter:ae,afterOverlayEnter:Se,beforeOverlayLeave:Pe,afterOverlayLeave:qe,beforeModalEnter:xe,afterModalEnter:Xe,beforeModalLeave:$e,afterModalLeave:Ze,onMousedown:et,onMouseupContainer:nt,onEsc:it}}},_withId=withScopeId();pushScopeId("data-v-2836fdb5");var _hoisted_1$1$1={key:0,ref:"vfmResize",class:"vfm__resize vfm--absolute vfm--inset vfm--prevent-none vfm--select-none vfm--touch-none"};popScopeId();var render$1=_withId(function(n,e,r,s,a,l){return r.ssr||s.visible?withDirectives((openBlock(),createBlock("div",{key:0,ref:"root",style:s.bindStyle,class:["vfm vfm--inset",[r.attach===!1?"vfm--fixed":"vfm--absolute",{"vfm--prevent-none":r.preventClick}]],onKeydown:e[4]||(e[4]=withKeys(function(){return s.onEsc&&s.onEsc.apply(s,arguments)},["esc"]))},[createVNode(Transition,mergeProps(s.computedOverlayTransition,{onBeforeEnter:s.beforeOverlayEnter,onAfterEnter:s.afterOverlayEnter,onBeforeLeave:s.beforeOverlayLeave,onAfterLeave:s.afterOverlayLeave}),{default:_withId(function(){return[!r.hideOverlay&&s.visibility.overlay?(openBlock(),createBlock("div",{key:0,class:["vfm__overlay vfm--overlay vfm--absolute vfm--inset",r.overlayClass],style:r.overlayStyle},null,6)):createCommentVNode("v-if",!0)]}),_:1},16,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"]),createVNode(Transition,mergeProps(s.computedTransition,{onBeforeEnter:s.beforeModalEnter,onAfterEnter:s.afterModalEnter,onBeforeLeave:s.beforeModalLeave,onAfterLeave:s.afterModalLeave}),{default:_withId(function(){return[withDirectives(createVNode("div",{ref:"vfmContainer",class:["vfm__container vfm--absolute vfm--inset vfm--outline-none",r.classes],style:r.styles,"aria-expanded":s.visibility.modal.toString(),role:"dialog","aria-modal":"true",tabindex:"-1",onMouseup:e[2]||(e[2]=withModifiers(function(){return s.onMouseupContainer&&s.onMouseupContainer.apply(s,arguments)},["self"])),onMousedown:e[3]||(e[3]=withModifiers(function(){return s.onMousedown&&s.onMousedown.apply(s,arguments)},["self"]))},[createVNode("div",{ref:"vfmContent",class:["vfm__content",[r.contentClass,{"vfm--prevent-auto":r.preventClick}]],style:s.bindContentStyle,onMousedown:e[1]||(e[1]=function(f){return s.onMousedown(null)})},[renderSlot(n.$slots,"default",{params:s.params,close:function(){return n.$emit("update:modelValue",!1)}}),s.visibility.resize&&s.visibility.modal?(openBlock(),createBlock("div",_hoisted_1$1$1,[(openBlock(!0),createBlock(Fragment,null,renderList(r.resizeDirections,function(f){return openBlock(),createBlock("div",{key:f,direction:f,class:["vfm--resize-".concat(f),"vfm--absolute vfm--prevent-auto"]},null,10,["direction"])}),128))],512)):createCommentVNode("v-if",!0)],38)],46,["aria-expanded"]),[[vShow,s.visibility.modal]])]}),_:3},16,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],38)),[[vShow,!r.ssr||s.visible]]):createCommentVNode("v-if",!0)});function styleInject$1(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(!n||typeof document>"u")){var s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",r==="top"&&s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}}var css_248z$1=`
.vfm--fixed[data-v-2836fdb5] {
  position: fixed;
}
.vfm--absolute[data-v-2836fdb5] {
  position: absolute;
}
.vfm--inset[data-v-2836fdb5] {
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.vfm--overlay[data-v-2836fdb5] {
  background-color: rgba(0, 0, 0, 0.5);
}
.vfm--prevent-none[data-v-2836fdb5] {
  pointer-events: none;
}
.vfm--prevent-auto[data-v-2836fdb5] {
  pointer-events: auto;
}
.vfm--outline-none[data-v-2836fdb5]:focus {
  outline: none;
}
.vfm-enter-active[data-v-2836fdb5],
.vfm-leave-active[data-v-2836fdb5] {
  transition: opacity 0.2s;
}
.vfm-enter-from[data-v-2836fdb5],
.vfm-leave-to[data-v-2836fdb5] {
  opacity: 0;
}
.vfm--touch-none[data-v-2836fdb5] {
  touch-action: none;
}
.vfm--select-none[data-v-2836fdb5] {
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}
.vfm--resize-tr[data-v-2836fdb5],
.vfm--resize-br[data-v-2836fdb5],
.vfm--resize-bl[data-v-2836fdb5],
.vfm--resize-tl[data-v-2836fdb5] {
  width: 12px;
  height: 12px;
  z-index: 10;
}
.vfm--resize-t[data-v-2836fdb5] {
  top: -6px;
  left: 0;
  width: 100%;
  height: 12px;
  cursor: ns-resize;
}
.vfm--resize-tr[data-v-2836fdb5] {
  top: -6px;
  right: -6px;
  cursor: nesw-resize;
}
.vfm--resize-r[data-v-2836fdb5] {
  top: 0;
  right: -6px;
  width: 12px;
  height: 100%;
  cursor: ew-resize;
}
.vfm--resize-br[data-v-2836fdb5] {
  bottom: -6px;
  right: -6px;
  cursor: nwse-resize;
}
.vfm--resize-b[data-v-2836fdb5] {
  bottom: -6px;
  left: 0;
  width: 100%;
  height: 12px;
  cursor: ns-resize;
}
.vfm--resize-bl[data-v-2836fdb5] {
  bottom: -6px;
  left: -6px;
  cursor: nesw-resize;
}
.vfm--resize-l[data-v-2836fdb5] {
  top: 0;
  left: -6px;
  width: 12px;
  height: 100%;
  cursor: ew-resize;
}
.vfm--resize-tl[data-v-2836fdb5] {
  top: -6px;
  left: -6px;
  cursor: nwse-resize;
}
`;styleInject$1(css_248z$1);script$1.render=render$1;script$1.__scopeId="data-v-2836fdb5";script$1.__file="lib/VueFinalModal.vue";var script$2={props:{},methods:{slice:function(e){this.api.dynamicModals.splice(e,1)},beforeOpen:function(e,r,s){var a=this;return _asyncToGenerator(function*(){e.ref.params.value=r.params,yield a.$nextTick(),yield a.$nextTick(),r.value||(a.slice(s),r.reject("show"))})()},isString:function(e){return typeof e=="string"}}},_hoisted_1$5={class:"modals-container"};function render$2(n,e,r,s,a,l){return openBlock(),createBlock("div",_hoisted_1$5,[(openBlock(!0),createBlock(Fragment,null,renderList(n.api.dynamicModals,function(f,c){return openBlock(),createBlock(resolveDynamicComponent(f.component),mergeProps({key:f.id},f.bind,{modelValue:f.value,"onUpdate:modelValue":function(g){return f.value=g}},toHandlers(f.on),{on_closed:function(g){return l.slice(c)},on_beforeOpen:function(g){return l.beforeOpen(g,f)},on_opened:f.opened}),createSlots({_:2},[renderList(f.slots,function(d,g){return{name:g,fn:withCtx(function(){return[createCommentVNode(" eslint-disable vue/no-v-html "),l.isString(d)?(openBlock(),createBlock("div",{key:0,innerHTML:d},null,8,["innerHTML"])):(openBlock(),createBlock(resolveDynamicComponent(d.component),mergeProps({key:1},d.bind,toHandlers(d.on||{})),null,16))]})}})]),1040,["modelValue","onUpdate:modelValue","on_closed","on_beforeOpen","on_opened"])}),128))])}script$2.render=render$2;script$2.__file="lib/ModalsContainer.vue";function defineApi(){var n=null;return{show:function(r){for(var s=this,a=arguments.length,l=new Array(a>1?a-1:0),f=1;f<a;f++)l[f-1]=arguments[f];switch(_typeof(r)){case"string":return this.toggle.apply(this,[r,!0].concat(l));case"object":return Promise.allSettled([new Promise(function(c,d){var g={value:!0,id:Symbol("dynamicModal"),component:n,bind:{},slots:{},on:{},params:l[0],reject:d,opened:function(){c("show")}};s.dynamicModals.push(shallowReactive(Object.assign(g,r)))})])}},hide:function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return this.toggle(s,!1)},hideAll:function(){return this.hide.apply(this,_toConsumableArray$1(this.openedModals.map(function(r){return r.props.name})))},toggle:function(r){for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];var f=Array.isArray(r)?this.get.apply(this,_toConsumableArray$1(r)):this.get(r);return Promise.allSettled(f.map(function(c){return c.toggle.apply(c,a)}))},get:function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return this.modals.filter(function(l){return s.includes(l.props.name)})},dynamicModals:shallowReactive([]),openedModals:[],modals:[],_setDefaultModal:function(r){n=r}}}function bindApi(n,e){var r=_objectSpread2$2(_objectSpread2$2({},n),{},{props:_objectSpread2$2({},n.props)});return Object.assign(r.props,{api:{type:Object,default:function(){return e}}}),r}function defineModal(n){var e=bindApi(script$1,n);return n._setDefaultModal(e),e}function defineContainer(n){return bindApi(script$2,n)}var _count=0,_key="$vfm",_componentName="VueFinalModal",_dynamicContainerName="ModalsContainer",defineVfm=function(){var e,r=defineApi();return e={},_defineProperty$2(e,_key,r),_defineProperty$2(e,_componentName,defineModal(r)),_defineProperty$2(e,_dynamicContainerName,defineContainer(r)),e},_vfm=defineVfm(),$vfm=_vfm.$vfm;_vfm.VueFinalModal;var ModalsContainer=_vfm.ModalsContainer,installVfm=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=_count===0?_vfm:defineVfm(),a=s.$vfm,l=s.VueFinalModal,f=s.ModalsContainer;_count+=1;var c=r.key||_key,d=r.componentName||_componentName,g=r.dynamicContainerName||_dynamicContainerName;Object.defineProperty(e.config.globalProperties,c,{get:function(){return a}}),e.provide(c,a),e.component(d,l),e.component(g,f)},vfmPlugin=function(e){return{install:function(s,a){var l=Object.assign({},e,a);installVfm(s,l)}}};vfmPlugin.install=installVfm;function ownKeys$1(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,s)}return r}function _objectSpread2$1(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(r),!0).forEach(function(s){_defineProperty$1(n,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(r,s))})}return n}function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}function _createClass(n,e,r){return e&&_defineProperties(n.prototype,e),r&&_defineProperties(n,r),n}function _defineProperty$1(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function _toConsumableArray(n){return _arrayWithoutHoles(n)||_iterableToArray(n)||_unsupportedIterableToArray$1(n)||_nonIterableSpread()}function _arrayWithoutHoles(n){if(Array.isArray(n))return _arrayLikeToArray$1(n)}function _iterableToArray(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function _unsupportedIterableToArray$1(n,e){if(n){if(typeof n=="string")return _arrayLikeToArray$1(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$1(n,e)}}function _arrayLikeToArray$1(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=n[r];return s}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var DIRECTION_TYPE={FRONT:"FRONT",BEHIND:"BEHIND"},CALC_TYPE={INIT:"INIT",FIXED:"FIXED",DYNAMIC:"DYNAMIC"},LEADING_BUFFER=2,Virtual=function(){function n(e,r){_classCallCheck(this,n),this.init(e,r)}return _createClass(n,[{key:"init",value:function(r,s){this.param=r,this.callUpdate=s,this.sizes=new Map,this.firstRangeTotalSize=0,this.firstRangeAverageSize=0,this.lastCalcIndex=0,this.fixedSizeValue=0,this.calcType=CALC_TYPE.INIT,this.offset=0,this.direction="",this.range=Object.create(null),r&&this.checkRange(0,r.keeps-1)}},{key:"destroy",value:function(){this.init(null,null)}},{key:"getRange",value:function(){var r=Object.create(null);return r.start=this.range.start,r.end=this.range.end,r.padFront=this.range.padFront,r.padBehind=this.range.padBehind,r}},{key:"isBehind",value:function(){return this.direction===DIRECTION_TYPE.BEHIND}},{key:"isFront",value:function(){return this.direction===DIRECTION_TYPE.FRONT}},{key:"getOffset",value:function(r){return(r<1?0:this.getIndexOffset(r))+this.param.slotHeaderSize}},{key:"updateParam",value:function(r,s){var a=this;this.param&&r in this.param&&(r==="uniqueIds"&&this.sizes.forEach(function(l,f){s.includes(f)||a.sizes.delete(f)}),this.param[r]=s)}},{key:"saveSize",value:function(r,s){this.sizes.set(r,s),this.calcType===CALC_TYPE.INIT?(this.fixedSizeValue=s,this.calcType=CALC_TYPE.FIXED):this.calcType===CALC_TYPE.FIXED&&this.fixedSizeValue!==s&&(this.calcType=CALC_TYPE.DYNAMIC,delete this.fixedSizeValue),this.calcType!==CALC_TYPE.FIXED&&typeof this.firstRangeTotalSize<"u"&&(this.sizes.size<Math.min(this.param.keeps,this.param.uniqueIds.length)?(this.firstRangeTotalSize=_toConsumableArray(this.sizes.values()).reduce(function(a,l){return a+l},0),this.firstRangeAverageSize=Math.round(this.firstRangeTotalSize/this.sizes.size)):delete this.firstRangeTotalSize)}},{key:"handleDataSourcesChange",value:function(){var r=this.range.start;this.isFront()?r=r-LEADING_BUFFER:this.isBehind()&&(r=r+LEADING_BUFFER),r=Math.max(r,0),this.updateRange(this.range.start,this.getEndByStart(r))}},{key:"handleSlotSizeChange",value:function(){this.handleDataSourcesChange()}},{key:"handleScroll",value:function(r){this.direction=r<this.offset?DIRECTION_TYPE.FRONT:DIRECTION_TYPE.BEHIND,this.offset=r,this.param&&(this.direction===DIRECTION_TYPE.FRONT?this.handleFront():this.direction===DIRECTION_TYPE.BEHIND&&this.handleBehind())}},{key:"handleFront",value:function(){var r=this.getScrollOvers();if(!(r>this.range.start)){var s=Math.max(r-this.param.buffer,0);this.checkRange(s,this.getEndByStart(s))}}},{key:"handleBehind",value:function(){var r=this.getScrollOvers();r<this.range.start+this.param.buffer||this.checkRange(r,this.getEndByStart(r))}},{key:"getScrollOvers",value:function(){var r=this.offset-this.param.slotHeaderSize;if(r<=0)return 0;if(this.isFixedType())return Math.floor(r/this.fixedSizeValue);for(var s=0,a=0,l=0,f=this.param.uniqueIds.length;s<=f;){if(a=s+Math.floor((f-s)/2),l=this.getIndexOffset(a),l===r)return a;l<r?s=a+1:l>r&&(f=a-1)}return s>0?--s:0}},{key:"getIndexOffset",value:function(r){if(!r)return 0;for(var s=0,a=0,l=0;l<r;l++)a=this.sizes.get(this.param.uniqueIds[l]),s=s+(typeof a=="number"?a:this.getEstimateSize());return this.lastCalcIndex=Math.max(this.lastCalcIndex,r-1),this.lastCalcIndex=Math.min(this.lastCalcIndex,this.getLastIndex()),s}},{key:"isFixedType",value:function(){return this.calcType===CALC_TYPE.FIXED}},{key:"getLastIndex",value:function(){return this.param.uniqueIds.length-1}},{key:"checkRange",value:function(r,s){var a=this.param.keeps,l=this.param.uniqueIds.length;l<=a?(r=0,s=this.getLastIndex()):s-r<a-1&&(r=s-a+1),this.range.start!==r&&this.updateRange(r,s)}},{key:"updateRange",value:function(r,s){this.range.start=r,this.range.end=s,this.range.padFront=this.getPadFront(),this.range.padBehind=this.getPadBehind(),this.callUpdate(this.getRange())}},{key:"getEndByStart",value:function(r){var s=r+this.param.keeps-1,a=Math.min(s,this.getLastIndex());return a}},{key:"getPadFront",value:function(){return this.isFixedType()?this.fixedSizeValue*this.range.start:this.getIndexOffset(this.range.start)}},{key:"getPadBehind",value:function(){var r=this.range.end,s=this.getLastIndex();return this.isFixedType()?(s-r)*this.fixedSizeValue:this.lastCalcIndex===s?this.getIndexOffset(s)-this.getIndexOffset(r):(s-r)*this.getEstimateSize()}},{key:"getEstimateSize",value:function(){return this.isFixedType()?this.fixedSizeValue:this.firstRangeAverageSize||this.param.estimateSize}}]),n}(),VirtualProps={dataKey:{type:[String,Function],required:!0},dataSources:{type:Array,required:!0,default:function(){return[]}},dataComponent:{type:[Object,Function],required:!0},keeps:{type:Number,default:30},extraProps:{type:Object},estimateSize:{type:Number,default:50},direction:{type:String,default:"vertical"},start:{type:Number,default:0},offset:{type:Number,default:0},topThreshold:{type:Number,default:0},bottomThreshold:{type:Number,default:0},pageMode:{type:Boolean,default:!1},rootTag:{type:String,default:"div"},wrapTag:{type:String,default:"div"},wrapClass:{type:String,default:"wrap"},wrapStyle:{type:Object},itemTag:{type:String,default:"div"},itemClass:{type:String,default:""},itemClassAdd:{type:Function},itemStyle:{type:Object},headerTag:{type:String,default:"div"},headerClass:{type:String,default:""},headerStyle:{type:Object},footerTag:{type:String,default:"div"},footerClass:{type:String,default:""},footerStyle:{type:Object},itemScopedSlots:{type:Object}},ItemProps={index:{type:Number},event:{type:String},tag:{type:String},horizontal:{type:Boolean},source:{type:Object},component:{type:[Object,Function]},uniqueKey:{type:[String,Number]},extraProps:{type:Object},scopedSlots:{type:Object}},SlotProps={event:{type:String},uniqueKey:{type:String},tag:{type:String},horizontal:{type:Boolean}},useResizeChange=function(e,r,s){var a=null,l=computed(function(){return e.horizontal?"offsetWidth":"offsetHeight"}),f=function(){return r.value?r.value[l.value]:0},c=function(){var g=e.event,b=e.uniqueKey,m=e.hasInitial;s(g,b,f(),m)};onMounted(function(){typeof ResizeObserver<"u"&&(a=new ResizeObserver(function(){c()}),r.value&&a.observe(r.value))}),onUpdated(function(){c()}),onUnmounted(function(){a&&(a.disconnect(),a=null)})},Item=defineComponent({name:"VirtualListItem",props:ItemProps,emits:["itemResize"],setup:function(e,r){var s=r.emit,a=ref(null);return useResizeChange(e,a,s),function(){var l=e.tag,f=e.component,c=e.extraProps,d=c===void 0?{}:c,g=e.index,b=e.source,m=e.scopedSlots,_=m===void 0?{}:m,x=e.uniqueKey,k=_objectSpread2$1(_objectSpread2$1({},d),{},{source:b,index:g});return createVNode(l,{key:x,ref:a},{default:function(){return[createVNode(f,_objectSpread2$1(_objectSpread2$1({},k),{},{scopedSlots:_}),null)]}})}}}),Slot=defineComponent({name:"VirtualListSlot",props:SlotProps,emits:["slotResize"],setup:function(e,r){var s=r.slots,a=r.emit,l=ref(null);return useResizeChange(e,l,a),function(){var f,c=e.tag,d=e.uniqueKey;return createVNode(c,{ref:l,key:d},{default:function(){return[(f=s.default)===null||f===void 0?void 0:f.call(s)]}})}}}),EVENT_TYPE;(function(n){n.ITEM="itemResize",n.SLOT="slotResize"})(EVENT_TYPE||(EVENT_TYPE={}));var SLOT_TYPE;(function(n){n.HEADER="thead",n.FOOTER="tfoot"})(SLOT_TYPE||(SLOT_TYPE={}));var VirtualList=defineComponent({name:"VirtualList",props:VirtualProps,setup:function(e,r){var s=r.emit,a=r.slots,l=r.expose,f=e.direction==="horizontal",c=f?"scrollLeft":"scrollTop",d=ref(null),g=ref(),b=ref(null),m;watch(function(){return e.dataSources.length},function(){m.updateParam("uniqueIds",se()),m.handleDataSourcesChange()}),watch(function(){return e.keeps},function(Fe){m.updateParam("keeps",Fe),m.handleSlotSizeChange()}),watch(function(){return e.start},function(Fe){he(Fe)}),watch(function(){return e.offset},function(Fe){return ge(Fe)});var _=function(De){return m.sizes.get(De)},x=function(){return e.pageMode?document.documentElement[c]||document.body[c]:g.value?Math.ceil(g.value[c]):0},k=function(){var De=f?"clientWidth":"clientHeight";return e.pageMode?document.documentElement[De]||document.body[De]:g.value?Math.ceil(g.value[De]):0},q=function(){var De=f?"scrollWidth":"scrollHeight";return e.pageMode?document.documentElement[De]||document.body[De]:g.value?Math.ceil(g.value[De]):0},j=function(De,We,ze,Ge){s("scroll",Ge,m.getRange()),m.isFront()&&e.dataSources.length&&De-e.topThreshold<=0?s("totop"):m.isBehind()&&De+We+e.bottomThreshold>=ze&&s("tobottom")},ne=function(De){var We=x(),ze=k(),Ge=q();We<0||We+ze>Ge+1||!Ge||(m.handleScroll(We),j(We,ze,Ge,De))},se=function(){var De=e.dataKey,We=e.dataSources,ze=We===void 0?[]:We;return ze.map(function(Ge){return typeof De=="function"?De(Ge):Ge[De]})},le=function(De){d.value=De},ue=function(){m=new Virtual({slotHeaderSize:0,slotFooterSize:0,keeps:e.keeps,estimateSize:e.estimateSize,buffer:Math.round(e.keeps/3),uniqueIds:se()},le),d.value=m.getRange()},he=function(De){if(De>=e.dataSources.length-1)be();else{var We=m.getOffset(De);ge(We)}},ge=function(De){e.pageMode?(document.body[c]=De,document.documentElement[c]=De):g.value&&(g.value[c]=De)},ve=function(){for(var De=[],We=d.value,ze=We.start,Ge=We.end,Je=e.dataSources,Ue=e.dataKey,pe=e.itemClass,ae=e.itemTag,Se=e.itemStyle,Pe=e.extraProps,qe=e.dataComponent,xe=e.itemScopedSlots,Xe=ze;Xe<=Ge;Xe++){var $e=Je[Xe];if($e){var Ze=typeof Ue=="function"?Ue($e):$e[Ue];typeof Ze=="string"||typeof Ze=="number"?De.push(createVNode(Item,{index:Xe,tag:ae,event:EVENT_TYPE.ITEM,horizontal:f,uniqueKey:Ze,source:$e,extraProps:Pe,component:qe,scopedSlots:xe,style:Se,class:"".concat(pe).concat(e.itemClassAdd?" "+e.itemClassAdd(Xe):""),onItemResize:_e},null)):console.warn("Cannot get the data-key '".concat(Ue,"' from data-sources."))}else console.warn("Cannot get the index '".concat(Xe,"' from data-sources."))}return De},_e=function(De,We){m.saveSize(De,We),s("resized",De,We)},ye=function(De,We,ze){De===SLOT_TYPE.HEADER?m.updateParam("slotHeaderSize",We):De===SLOT_TYPE.FOOTER&&m.updateParam("slotFooterSize",We),ze&&m.handleSlotSizeChange()},be=function Fe(){if(b.value){var De=b.value[f?"offsetLeft":"offsetTop"];ge(De),setTimeout(function(){x()+k()<q()&&Fe()},3)}},He=function(){if(g.value){var De=g.value.getBoundingClientRect(),We=g.value.ownerDocument.defaultView,ze=f?De.left+We.pageXOffset:De.top+We.pageYOffset;m.updateParam("slotHeaderSize",ze)}},Oe=function(){return m.sizes.size};return onBeforeMount(function(){ue()}),onActivated(function(){ge(m.offset)}),onMounted(function(){e.start?he(e.start):e.offset&&ge(e.offset),e.pageMode&&(He(),document.addEventListener("scroll",ne,{passive:!1}))}),onUnmounted(function(){m.destroy(),e.pageMode&&document.removeEventListener("scroll",ne)}),l({scrollToBottom:be,getSizes:Oe,getSize:_,getOffset:x,getScrollSize:q,getClientSize:k,scrollToOffset:ge,scrollToIndex:he}),function(){var Fe=e.pageMode,De=e.rootTag,We=e.wrapTag,ze=e.wrapClass,Ge=e.wrapStyle,Je=e.headerTag,Ue=e.headerClass,pe=e.headerStyle,ae=e.footerTag,Se=e.footerClass,Pe=e.footerStyle,qe=d.value,xe=qe.padFront,Xe=qe.padBehind,$e={padding:f?"0px ".concat(Xe,"px 0px ").concat(xe,"px"):"".concat(xe,"px 0px ").concat(Xe,"px")},Ze=Ge?Object.assign({},Ge,$e):$e,et=a.header,nt=a.footer;return createVNode(De,{ref:g,onScroll:!Fe&&ne},{default:function(){return[et&&createVNode(Slot,{class:Ue,style:pe,tag:Je,event:EVENT_TYPE.SLOT,uniqueKey:SLOT_TYPE.HEADER,onSlotResize:ye},{default:function(){return[et()]}}),createVNode(We,{class:ze,style:Ze},{default:function(){return[ve()]}}),nt&&createVNode(Slot,{class:Se,style:Pe,tag:ae,event:EVENT_TYPE.SLOT,uniqueKey:SLOT_TYPE.FOOTER,onSlotResize:ye},{default:function(){return[nt()]}}),createVNode("div",{ref:b,style:{width:f?"0px":"100%",height:f?"100%":"0px"}},null)]}})}}});function throttle$1(n,e,r){var s=r||{},a=s.noTrailing,l=a===void 0?!1:a,f=s.noLeading,c=f===void 0?!1:f,d=s.debounceMode,g=d===void 0?void 0:d,b,m=!1,_=0;function x(){b&&clearTimeout(b)}function k(j){var ne=j||{},se=ne.upcomingOnly,le=se===void 0?!1:se;x(),m=!le}function q(){for(var j=arguments.length,ne=new Array(j),se=0;se<j;se++)ne[se]=arguments[se];var le=this,ue=Date.now()-_;if(m)return;function he(){_=Date.now(),e.apply(le,ne)}function ge(){b=void 0}!c&&g&&!b&&he(),x(),g===void 0&&ue>n?c?(_=Date.now(),l||(b=setTimeout(g?ge:he,n))):he():l!==!0&&(b=setTimeout(g?ge:he,g===void 0?n-ue:n))}return q.cancel=k,q}function debounce$2(n,e,r){var s=r||{},a=s.atBegin,l=a===void 0?!1:a;return throttle$1(n,e,{debounceMode:l!==!1})}function randomString(){return Math.random().toString(16).substring(2)}var script=defineComponent({props:{diameter:{type:Number,required:!1,default:200},totalSteps:{type:Number,required:!0,default:10},completedSteps:{type:Number,required:!0,default:0},startColor:{type:String,required:!1,default:"#00C58E"},stopColor:{type:String,required:!1,default:"#00E0A1"},innerStrokeColor:{type:String,required:!1,default:"#2F495E"},strokeWidth:{type:Number,required:!1,default:10},innerStrokeWidth:{type:Number,required:!1,default:10},strokeLinecap:{type:String,required:!1,default:"round"},animateSpeed:{type:Number,required:!1,default:1e3},fps:{type:Number,required:!1,default:60},timingFunc:{type:String,required:!1,default:"linear"},isClockwise:{type:Boolean,required:!1,default:!0}},setup(n){const e=reactive({fx:.99,fy:.5,cx:.5,cy:.5,r:.65}),r=`rg-${randomString()}`,s=ref(0),a=ref(0),l=ref(null),f=computed(()=>n.diameter/2),c=computed(()=>n.diameter-n.innerStrokeWidth*2),d=computed(()=>Math.PI*c.value),g=computed(()=>n.totalSteps===0?0:100/n.totalSteps),b=computed(()=>g.value*n.completedSteps),m=computed(()=>2*Math.PI/n.totalSteps),_=computed(()=>100/n.fps),x=computed(()=>n.animateSpeed/_.value),k=computed(()=>m.value/x.value),q=computed(()=>c.value/2),j=computed(()=>({height:`${n.diameter}px`,width:`${n.diameter}px`})),ne=computed(()=>({height:`${n.diameter}px`,width:`${n.diameter}px`,strokeWidth:`${n.strokeWidth}px`,strokeDashoffset:s.value,transition:`stroke-dashoffset ${n.animateSpeed}ms ${n.timingFunc}`})),se=computed(()=>({height:`${n.diameter}px`,width:`${n.diameter}px`,strokeWidth:`${n.innerStrokeWidth}px`})),le=computed(()=>({width:`${c.value}px`}));watch(()=>[n.diameter,n.totalSteps,n.completedSteps,n.strokeWidth],ve,{immediate:!0});function ue(_e){const be=.5+.5*Math.cos(_e),He=.5+.5*Math.sin(_e);return{x:be,y:He}}function he(){const _e=ue(a.value);_e.x&&_e.y&&(e.fx=_e.x,e.fy=_e.y)}function ge(){return n.isClockwise?1:-1}function ve(){s.value=(100-b.value)/100*d.value*ge(),l.value&&clearInterval(l.value);const _e=(n.completedSteps-1)*m.value;let ye=(a.value-_e)/k.value;const be=Math.abs(ye-x.value)/x.value,He=ye<x.value;l.value=setInterval(()=>{if(He&&ye>=x.value||!He&&ye<x.value){l.value&&clearInterval(l.value);return}a.value=_e+k.value*ye,he(),ye+=He?be:-be},_.value)}return{gradientAnimation:l,innerCircleRadius:q,radialGradientId:r,strokeDashoffset:s,innerCircleStyle:le,containerStyle:j,circumference:d,progressStyle:ne,currentAngle:a,strokeStyle:se,gradient:e,radius:f}}});const _hoisted_1$4=["width","height"],_hoisted_2$4=["id","fx","fy","cx","cy","r"],_hoisted_3$4=["stop-color"],_hoisted_4$4=["stop-color"],_hoisted_5$4=["r","cx","cy","stroke","stroke-dasharray","stroke-linecap"],_hoisted_6$3=["transform","r","cx","cy","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap"];function render(n,e,r,s,a,l){return openBlock(),createElementBlock("div",{class:"vrp__wrapper",style:normalizeStyle(n.containerStyle)},[createBaseVNode("div",{class:"vrp__inner",style:normalizeStyle(n.innerCircleStyle)},[renderSlot(n.$slots,"default")],4),(openBlock(),createElementBlock("svg",{width:n.diameter,height:n.diameter,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("defs",null,[createBaseVNode("radialGradient",{id:n.radialGradientId,fx:n.gradient.fx,fy:n.gradient.fy,cx:n.gradient.cx,cy:n.gradient.cy,r:n.gradient.r},[createBaseVNode("stop",{offset:"30%","stop-color":n.startColor},null,8,_hoisted_3$4),createBaseVNode("stop",{offset:"100%","stop-color":n.stopColor},null,8,_hoisted_4$4)],8,_hoisted_2$4)]),createBaseVNode("circle",{r:n.innerCircleRadius,cx:n.radius,cy:n.radius,fill:"transparent",stroke:n.innerStrokeColor,"stroke-dasharray":n.circumference,"stroke-dashoffset":"0","stroke-linecap":n.strokeLinecap,style:normalizeStyle(n.strokeStyle)},null,12,_hoisted_5$4),createBaseVNode("circle",{transform:"rotate(270, "+n.radius+","+n.radius+")",r:n.innerCircleRadius,cx:n.radius,cy:n.radius,fill:"transparent",stroke:`url('#${n.radialGradientId}')`,"stroke-dasharray":n.circumference,"stroke-dashoffset":n.circumference,"stroke-linecap":n.strokeLinecap,style:normalizeStyle(n.progressStyle)},null,12,_hoisted_6$3)],8,_hoisted_1$4))],4)}function styleInject(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(!n||typeof document>"u")){var s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",r==="top"&&s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}}var css_248z=`
.vrp__wrapper[data-v-6a0cf1f6] {\r
  position: relative;
}
.vrp__inner[data-v-6a0cf1f6] {\r
  position: absolute;\r
  top: 0;\r
  right: 0;\r
  bottom: 0;\r
  left: 0;\r
  border-radius: 50%;\r
  margin: 0 auto;\r
  display: flex;\r
  flex-direction: column;\r
  align-items: center;\r
  justify-content: center;
}\r
`;styleInject(css_248z);script.render=render;script.__scopeId="data-v-6a0cf1f6";var entry_esm=(()=>{const n=script;return n.install=e=>{e.component("RadialProgressBar",n)},n})(),win;typeof window<"u"?win=window:typeof commonjsGlobal<"u"?win=commonjsGlobal:typeof self<"u"?win=self:win={};var window_1=win;const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var topLevel=typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:{},minDoc=require$$0,doccy;typeof document<"u"?doccy=document:(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"],doccy||(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc));var document_1=doccy;function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},_extends$2.apply(this,arguments)}const _extends$3=Object.freeze(Object.defineProperty({__proto__:null,default:_extends$2},Symbol.toStringTag,{value:"Module"}));var keycodeExports={},keycode$1={get exports(){return keycodeExports},set exports(n){keycodeExports=n}};(function(n,e){function r(d){if(d&&typeof d=="object"){var g=d.which||d.keyCode||d.charCode;g&&(d=g)}if(typeof d=="number")return f[d];var b=String(d),m=s[b.toLowerCase()];if(m)return m;var m=a[b.toLowerCase()];if(m)return m;if(b.length===1)return b.charCodeAt(0)}r.isEventKey=function(g,b){if(g&&typeof g=="object"){var m=g.which||g.keyCode||g.charCode;if(m==null)return!1;if(typeof b=="string"){var _=s[b.toLowerCase()];if(_)return _===m;var _=a[b.toLowerCase()];if(_)return _===m}else if(typeof b=="number")return b===m;return!1}},e=n.exports=r;var s=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(l=97;l<123;l++)s[String.fromCharCode(l)]=l-32;for(var l=48;l<58;l++)s[l-48]=l;for(l=1;l<13;l++)s["f"+l]=l+111;for(l=0;l<10;l++)s["numpad "+l]=l+96;var f=e.names=e.title={};for(l in s)f[s[l]]=l;for(var c in a)s[c]=a[c]})(keycode$1,keycodeExports);const keycode=keycodeExports;function _assertThisInitialized(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _setPrototypeOf(n,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},_setPrototypeOf(n,e)}function _inheritsLoose(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,_setPrototypeOf(n,e)}var tuple=SafeParseTuple;function SafeParseTuple(n,e){var r,s=null;try{r=JSON.parse(n,e)}catch(a){s=a}return[s,r]}var libExports={},lib={get exports(){return libExports},set exports(n){libExports=n}};const require$$1=getAugmentedNamespace(_extends$3);var isFunction_1=isFunction$2,toString$3=Object.prototype.toString;function isFunction$2(n){if(!n)return!1;var e=toString$3.call(n);return e==="[object Function]"||typeof n=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(n===window.setTimeout||n===window.alert||n===window.confirm||n===window.prompt)}var window$3=window_1,httpResponseHandler=function(e,r){return r===void 0&&(r=!1),function(s,a,l){if(s){e(s);return}if(a.statusCode>=400&&a.statusCode<=599){var f=l;if(r)if(window$3.TextDecoder){var c=getCharset(a.headers&&a.headers["content-type"]);try{f=new TextDecoder(c).decode(l)}catch{}}else f=String.fromCharCode.apply(null,new Uint8Array(l));e({cause:f});return}e(null,l)}};function getCharset(n){return n===void 0&&(n=""),n.toLowerCase().split(";").reduce(function(e,r){var s=r.split("="),a=s[0],l=s[1];return a.trim()==="charset"?l.trim():e},"utf-8")}var httpHandler=httpResponseHandler,window$2=window_1,_extends$1=require$$1,isFunction$1=isFunction_1;createXHR.httpHandler=httpHandler;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var parseHeaders$1=function(e){var r={};return e&&e.trim().split(`
`).forEach(function(s){var a=s.indexOf(":"),l=s.slice(0,a).trim().toLowerCase(),f=s.slice(a+1).trim();typeof r[l]>"u"?r[l]=f:Array.isArray(r[l])?r[l].push(f):r[l]=[r[l],f]}),r};lib.exports=createXHR;libExports.default=createXHR;createXHR.XMLHttpRequest=window$2.XMLHttpRequest||noop$2;createXHR.XDomainRequest="withCredentials"in new createXHR.XMLHttpRequest?createXHR.XMLHttpRequest:window$2.XDomainRequest;forEachArray(["get","put","post","patch","head","delete"],function(n){createXHR[n==="delete"?"del":n]=function(e,r,s){return r=initParams(e,r,s),r.method=n.toUpperCase(),_createXHR(r)}});function forEachArray(n,e){for(var r=0;r<n.length;r++)e(n[r])}function isEmpty(n){for(var e in n)if(n.hasOwnProperty(e))return!1;return!0}function initParams(n,e,r){var s=n;return isFunction$1(e)?(r=e,typeof n=="string"&&(s={uri:n})):s=_extends$1({},e,{uri:n}),s.callback=r,s}function createXHR(n,e,r){return e=initParams(n,e,r),_createXHR(e)}function _createXHR(n){if(typeof n.callback>"u")throw new Error("callback argument missing");var e=!1,r=function(le,ue,he){e||(e=!0,n.callback(le,ue,he))};function s(){c.readyState===4&&setTimeout(f,0)}function a(){var se=void 0;if(c.response?se=c.response:se=c.responseText||getXml(c),q)try{se=JSON.parse(se)}catch{}return se}function l(se){return clearTimeout(j),se instanceof Error||(se=new Error(""+(se||"Unknown XMLHttpRequest Error"))),se.statusCode=0,r(se,ne)}function f(){if(!g){var se;clearTimeout(j),n.useXDR&&c.status===void 0?se=200:se=c.status===1223?204:c.status;var le=ne,ue=null;return se!==0?(le={body:a(),statusCode:se,method:m,headers:{},url:b,rawRequest:c},c.getAllResponseHeaders&&(le.headers=parseHeaders$1(c.getAllResponseHeaders()))):ue=new Error("Internal XMLHttpRequest Error"),r(ue,le,le.body)}}var c=n.xhr||null;c||(n.cors||n.useXDR?c=new createXHR.XDomainRequest:c=new createXHR.XMLHttpRequest);var d,g,b=c.url=n.uri||n.url,m=c.method=n.method||"GET",_=n.body||n.data,x=c.headers=n.headers||{},k=!!n.sync,q=!1,j,ne={body:void 0,headers:{},statusCode:0,method:m,url:b,rawRequest:c};if("json"in n&&n.json!==!1&&(q=!0,x.accept||x.Accept||(x.Accept="application/json"),m!=="GET"&&m!=="HEAD"&&(x["content-type"]||x["Content-Type"]||(x["Content-Type"]="application/json"),_=JSON.stringify(n.json===!0?_:n.json))),c.onreadystatechange=s,c.onload=f,c.onerror=l,c.onprogress=function(){},c.onabort=function(){g=!0},c.ontimeout=l,c.open(m,b,!k,n.username,n.password),k||(c.withCredentials=!!n.withCredentials),!k&&n.timeout>0&&(j=setTimeout(function(){if(!g){g=!0,c.abort("timeout");var se=new Error("XMLHttpRequest timeout");se.code="ETIMEDOUT",l(se)}},n.timeout)),c.setRequestHeader)for(d in x)x.hasOwnProperty(d)&&c.setRequestHeader(d,x[d]);else if(n.headers&&!isEmpty(n.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in n&&(c.responseType=n.responseType),"beforeSend"in n&&typeof n.beforeSend=="function"&&n.beforeSend(c),c.send(_||null),c}function getXml(n){try{if(n.responseType==="document")return n.responseXML;var e=n.responseXML&&n.responseXML.documentElement.nodeName==="parsererror";if(n.responseType===""&&!e)return n.responseXML}catch{}return null}function noop$2(){}var browserIndexExports={},browserIndex={get exports(){return browserIndexExports},set exports(n){browserIndexExports=n}},document$1=document_1,_objCreate=Object.create||function(){function n(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return n.prototype=e,new n}}();function ParsingError(n,e){this.name="ParsingError",this.code=n.code,this.message=e||n.message}ParsingError.prototype=_objCreate(Error.prototype);ParsingError.prototype.constructor=ParsingError;ParsingError.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function parseTimeStamp(n){function e(s,a,l,f){return(s|0)*3600+(a|0)*60+(l|0)+(f|0)/1e3}var r=n.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return r?r[3]?e(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?e(r[1],r[2],0,r[4]):e(0,r[1],r[2],r[4]):null}function Settings(){this.values=_objCreate(null)}Settings.prototype={set:function(n,e){!this.get(n)&&e!==""&&(this.values[n]=e)},get:function(n,e,r){return r?this.has(n)?this.values[n]:e[r]:this.has(n)?this.values[n]:e},has:function(n){return n in this.values},alt:function(n,e,r){for(var s=0;s<r.length;++s)if(e===r[s]){this.set(n,e);break}},integer:function(n,e){/^-?\d+$/.test(e)&&this.set(n,parseInt(e,10))},percent:function(n,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(n,e),!0):!1}};function parseOptions(n,e,r,s){var a=s?n.split(s):[n];for(var l in a)if(typeof a[l]=="string"){var f=a[l].split(r);if(f.length===2){var c=f[0].trim(),d=f[1].trim();e(c,d)}}}function parseCue(n,e,r){var s=n;function a(){var c=parseTimeStamp(n);if(c===null)throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed timestamp: "+s);return n=n.replace(/^[^\sa-zA-Z-]+/,""),c}function l(c,d){var g=new Settings;parseOptions(c,function(b,m){switch(b){case"region":for(var _=r.length-1;_>=0;_--)if(r[_].id===m){g.set(b,r[_].region);break}break;case"vertical":g.alt(b,m,["rl","lr"]);break;case"line":var x=m.split(","),k=x[0];g.integer(b,k),g.percent(b,k)&&g.set("snapToLines",!1),g.alt(b,k,["auto"]),x.length===2&&g.alt("lineAlign",x[1],["start","center","end"]);break;case"position":x=m.split(","),g.percent(b,x[0]),x.length===2&&g.alt("positionAlign",x[1],["start","center","end"]);break;case"size":g.percent(b,m);break;case"align":g.alt(b,m,["start","center","end","left","right"]);break}},/:/,/\s/),d.region=g.get("region",null),d.vertical=g.get("vertical","");try{d.line=g.get("line","auto")}catch{}d.lineAlign=g.get("lineAlign","start"),d.snapToLines=g.get("snapToLines",!0),d.size=g.get("size",100);try{d.align=g.get("align","center")}catch{d.align=g.get("align","middle")}try{d.position=g.get("position","auto")}catch{d.position=g.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},d.align)}d.positionAlign=g.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},d.align)}function f(){n=n.replace(/^\s+/,"")}if(f(),e.startTime=a(),f(),n.substr(0,3)!=="-->")throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+s);n=n.substr(3),f(),e.endTime=a(),f(),l(n,e)}var TEXTAREA_ELEMENT=document$1.createElement&&document$1.createElement("textarea"),TAG_NAME={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},DEFAULT_COLOR_CLASS={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},TAG_ANNOTATION={v:"title",lang:"lang"},NEEDS_PARENT={rt:"ruby"};function parseContent(n,e){function r(){if(!e)return null;function k(j){return e=e.substr(j.length),j}var q=e.match(/^([^<]*)(<[^>]*>?)?/);return k(q[1]?q[1]:q[2])}function s(k){return TEXTAREA_ELEMENT.innerHTML=k,k=TEXTAREA_ELEMENT.textContent,TEXTAREA_ELEMENT.textContent="",k}function a(k,q){return!NEEDS_PARENT[q.localName]||NEEDS_PARENT[q.localName]===k.localName}function l(k,q){var j=TAG_NAME[k];if(!j)return null;var ne=n.document.createElement(j),se=TAG_ANNOTATION[k];return se&&q&&(ne[se]=q.trim()),ne}for(var f=n.document.createElement("div"),c=f,d,g=[];(d=r())!==null;){if(d[0]==="<"){if(d[1]==="/"){g.length&&g[g.length-1]===d.substr(2).replace(">","")&&(g.pop(),c=c.parentNode);continue}var b=parseTimeStamp(d.substr(1,d.length-2)),m;if(b){m=n.document.createProcessingInstruction("timestamp",b),c.appendChild(m);continue}var _=d.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!_||(m=l(_[1],_[3]),!m)||!a(c,m))continue;if(_[2]){var x=_[2].split(".");x.forEach(function(k){var q=/^bg_/.test(k),j=q?k.slice(3):k;if(DEFAULT_COLOR_CLASS.hasOwnProperty(j)){var ne=q?"background-color":"color",se=DEFAULT_COLOR_CLASS[j];m.style[ne]=se}}),m.className=x.join(" ")}g.push(_[1]),c.appendChild(m),c=m;continue}c.appendChild(n.document.createTextNode(s(d)))}return f}var strongRTLRanges=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function isStrongRTLChar(n){for(var e=0;e<strongRTLRanges.length;e++){var r=strongRTLRanges[e];if(n>=r[0]&&n<=r[1])return!0}return!1}function determineBidi(n){var e=[],r="",s;if(!n||!n.childNodes)return"ltr";function a(c,d){for(var g=d.childNodes.length-1;g>=0;g--)c.push(d.childNodes[g])}function l(c){if(!c||!c.length)return null;var d=c.pop(),g=d.textContent||d.innerText;if(g){var b=g.match(/^.*(\n|\r)/);return b?(c.length=0,b[0]):g}if(d.tagName==="ruby")return l(c);if(d.childNodes)return a(c,d),l(c)}for(a(e,n);r=l(e);)for(var f=0;f<r.length;f++)if(s=r.charCodeAt(f),isStrongRTLChar(s))return"rtl";return"ltr"}function computeLinePos(n){if(typeof n.line=="number"&&(n.snapToLines||n.line>=0&&n.line<=100))return n.line;if(!n.track||!n.track.textTrackList||!n.track.textTrackList.mediaElement)return-1;for(var e=n.track,r=e.textTrackList,s=0,a=0;a<r.length&&r[a]!==e;a++)r[a].mode==="showing"&&s++;return++s*-1}function StyleBox(){}StyleBox.prototype.applyStyles=function(n,e){e=e||this.div;for(var r in n)n.hasOwnProperty(r)&&(e.style[r]=n[r])};StyleBox.prototype.formatStyle=function(n,e){return n===0?0:n+e};function CueStyleBox(n,e,r){StyleBox.call(this),this.cue=e,this.cueDiv=parseContent(n,e.text);var s={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(s,this.cueDiv),this.div=n.document.createElement("div"),s={direction:determineBidi(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(s),this.div.appendChild(this.cueDiv);var a=0;switch(e.positionAlign){case"start":a=e.position;break;case"center":a=e.position-e.size/2;break;case"end":a=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(a,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(a,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(l){this.applyStyles({top:this.formatStyle(l.top,"px"),bottom:this.formatStyle(l.bottom,"px"),left:this.formatStyle(l.left,"px"),right:this.formatStyle(l.right,"px"),height:this.formatStyle(l.height,"px"),width:this.formatStyle(l.width,"px")})}}CueStyleBox.prototype=_objCreate(StyleBox.prototype);CueStyleBox.prototype.constructor=CueStyleBox;function BoxPosition(n){var e,r,s,a;if(n.div){r=n.div.offsetHeight,s=n.div.offsetWidth,a=n.div.offsetTop;var l=(l=n.div.childNodes)&&(l=l[0])&&l.getClientRects&&l.getClientRects();n=n.div.getBoundingClientRect(),e=l?Math.max(l[0]&&l[0].height||0,n.height/l.length):0}this.left=n.left,this.right=n.right,this.top=n.top||a,this.height=n.height||r,this.bottom=n.bottom||a+(n.height||r),this.width=n.width||s,this.lineHeight=e!==void 0?e:n.lineHeight}BoxPosition.prototype.move=function(n,e){switch(e=e!==void 0?e:this.lineHeight,n){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};BoxPosition.prototype.overlaps=function(n){return this.left<n.right&&this.right>n.left&&this.top<n.bottom&&this.bottom>n.top};BoxPosition.prototype.overlapsAny=function(n){for(var e=0;e<n.length;e++)if(this.overlaps(n[e]))return!0;return!1};BoxPosition.prototype.within=function(n){return this.top>=n.top&&this.bottom<=n.bottom&&this.left>=n.left&&this.right<=n.right};BoxPosition.prototype.overlapsOppositeAxis=function(n,e){switch(e){case"+x":return this.left<n.left;case"-x":return this.right>n.right;case"+y":return this.top<n.top;case"-y":return this.bottom>n.bottom}};BoxPosition.prototype.intersectPercentage=function(n){var e=Math.max(0,Math.min(this.right,n.right)-Math.max(this.left,n.left)),r=Math.max(0,Math.min(this.bottom,n.bottom)-Math.max(this.top,n.top)),s=e*r;return s/(this.height*this.width)};BoxPosition.prototype.toCSSCompatValues=function(n){return{top:this.top-n.top,bottom:n.bottom-this.bottom,left:this.left-n.left,right:n.right-this.right,height:this.height,width:this.width}};BoxPosition.getSimpleBoxPosition=function(n){var e=n.div?n.div.offsetHeight:n.tagName?n.offsetHeight:0,r=n.div?n.div.offsetWidth:n.tagName?n.offsetWidth:0,s=n.div?n.div.offsetTop:n.tagName?n.offsetTop:0;n=n.div?n.div.getBoundingClientRect():n.tagName?n.getBoundingClientRect():n;var a={left:n.left,right:n.right,top:n.top||s,height:n.height||e,bottom:n.bottom||s+(n.height||e),width:n.width||r};return a};function moveBoxToLinePosition(n,e,r,s){function a(j,ne){for(var se,le=new BoxPosition(j),ue=1,he=0;he<ne.length;he++){for(;j.overlapsOppositeAxis(r,ne[he])||j.within(r)&&j.overlapsAny(s);)j.move(ne[he]);if(j.within(r))return j;var ge=j.intersectPercentage(r);ue>ge&&(se=new BoxPosition(j),ue=ge),j=new BoxPosition(le)}return se||le}var l=new BoxPosition(e),f=e.cue,c=computeLinePos(f),d=[];if(f.snapToLines){var g;switch(f.vertical){case"":d=["+y","-y"],g="height";break;case"rl":d=["+x","-x"],g="width";break;case"lr":d=["-x","+x"],g="width";break}var b=l.lineHeight,m=b*Math.round(c),_=r[g]+b,x=d[0];Math.abs(m)>_&&(m=m<0?-1:1,m*=Math.ceil(_/b)*b),c<0&&(m+=f.vertical===""?r.height:r.width,d=d.reverse()),l.move(x,m)}else{var k=l.lineHeight/r.height*100;switch(f.lineAlign){case"center":c-=k/2;break;case"end":c-=k;break}switch(f.vertical){case"":e.applyStyles({top:e.formatStyle(c,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(c,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(c,"%")});break}d=["+y","-x","+x","-y"],l=new BoxPosition(e)}var q=a(l,d);e.move(q.toCSSCompatValues(r))}function WebVTT$1(){}WebVTT$1.StringDecoder=function(){return{decode:function(n){if(!n)return"";if(typeof n!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(n))}}};WebVTT$1.convertCueToDOMTree=function(n,e){return!n||!e?null:parseContent(n,e)};var FONT_SIZE_PERCENT=.05,FONT_STYLE="sans-serif",CUE_BACKGROUND_PADDING="1.5%";WebVTT$1.processCues=function(n,e,r){if(!n||!e||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var s=n.document.createElement("div");s.style.position="absolute",s.style.left="0",s.style.right="0",s.style.top="0",s.style.bottom="0",s.style.margin=CUE_BACKGROUND_PADDING,r.appendChild(s);function a(b){for(var m=0;m<b.length;m++)if(b[m].hasBeenReset||!b[m].displayState)return!0;return!1}if(!a(e)){for(var l=0;l<e.length;l++)s.appendChild(e[l].displayState);return}var f=[],c=BoxPosition.getSimpleBoxPosition(s),d=Math.round(c.height*FONT_SIZE_PERCENT*100)/100,g={font:d+"px "+FONT_STYLE};(function(){for(var b,m,_=0;_<e.length;_++)m=e[_],b=new CueStyleBox(n,m,g),s.appendChild(b.div),moveBoxToLinePosition(n,b,c,f),m.displayState=b.div,f.push(BoxPosition.getSimpleBoxPosition(b))})()};WebVTT$1.Parser=function(n,e,r){r||(r=e,e={}),e||(e={}),this.window=n,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]};WebVTT$1.Parser.prototype={reportOrThrowError:function(n){if(n instanceof ParsingError)this.onparsingerror&&this.onparsingerror(n);else throw n},parse:function(n){var e=this;n&&(e.buffer+=e.decoder.decode(n,{stream:!0}));function r(){for(var b=e.buffer,m=0;m<b.length&&b[m]!=="\r"&&b[m]!==`
`;)++m;var _=b.substr(0,m);return b[m]==="\r"&&++m,b[m]===`
`&&++m,e.buffer=b.substr(m),_}function s(b){var m=new Settings;if(parseOptions(b,function(x,k){switch(x){case"id":m.set(x,k);break;case"width":m.percent(x,k);break;case"lines":m.integer(x,k);break;case"regionanchor":case"viewportanchor":var q=k.split(",");if(q.length!==2)break;var j=new Settings;if(j.percent("x",q[0]),j.percent("y",q[1]),!j.has("x")||!j.has("y"))break;m.set(x+"X",j.get("x")),m.set(x+"Y",j.get("y"));break;case"scroll":m.alt(x,k,["up"]);break}},/=/,/\s/),m.has("id")){var _=new(e.vttjs.VTTRegion||e.window.VTTRegion);_.width=m.get("width",100),_.lines=m.get("lines",3),_.regionAnchorX=m.get("regionanchorX",0),_.regionAnchorY=m.get("regionanchorY",100),_.viewportAnchorX=m.get("viewportanchorX",0),_.viewportAnchorY=m.get("viewportanchorY",100),_.scroll=m.get("scroll",""),e.onregion&&e.onregion(_),e.regionList.push({id:m.get("id"),region:_})}}function a(b){var m=new Settings;parseOptions(b,function(_,x){switch(_){case"MPEGT":m.integer(_+"S",x);break;case"LOCA":m.set(_+"L",parseTimeStamp(x));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:m.get("MPEGTS"),LOCAL:m.get("LOCAL")})}function l(b){b.match(/X-TIMESTAMP-MAP/)?parseOptions(b,function(m,_){switch(m){case"X-TIMESTAMP-MAP":a(_);break}},/=/):parseOptions(b,function(m,_){switch(m){case"Region":s(_);break}},/:/)}try{var f;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;f=r();var c=f.match(/^WEBVTT([ \t].*)?$/);if(!c||!c[0])throw new ParsingError(ParsingError.Errors.BadSignature);e.state="HEADER"}for(var d=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(d?d=!1:f=r(),e.state){case"HEADER":/:/.test(f)?l(f):f||(e.state="ID");continue;case"NOTE":f||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(f)){e.state="NOTE";break}if(!f)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",f.indexOf("-->")===-1){e.cue.id=f;continue}case"CUE":try{parseCue(f,e.cue,e.regionList)}catch(b){e.reportOrThrowError(b),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var g=f.indexOf("-->")!==-1;if(!f||g&&(d=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=f.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":f||(e.state="ID");continue}}}catch(b){e.reportOrThrowError(b),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var n=this;try{if(n.buffer+=n.decoder.decode(),(n.cue||n.state==="HEADER")&&(n.buffer+=`

`,n.parse()),n.state==="INITIAL")throw new ParsingError(ParsingError.Errors.BadSignature)}catch(e){n.reportOrThrowError(e)}return n.onflush&&n.onflush(),this}};var vtt=WebVTT$1,autoKeyword="auto",directionSetting={"":1,lr:1,rl:1},alignSetting={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function findDirectionSetting(n){if(typeof n!="string")return!1;var e=directionSetting[n.toLowerCase()];return e?n.toLowerCase():!1}function findAlignSetting(n){if(typeof n!="string")return!1;var e=alignSetting[n.toLowerCase()];return e?n.toLowerCase():!1}function VTTCue(n,e,r){this.hasBeenReset=!1;var s="",a=!1,l=n,f=e,c=r,d=null,g="",b=!0,m="auto",_="start",x="auto",k="auto",q=100,j="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return s},set:function(ne){s=""+ne}},pauseOnExit:{enumerable:!0,get:function(){return a},set:function(ne){a=!!ne}},startTime:{enumerable:!0,get:function(){return l},set:function(ne){if(typeof ne!="number")throw new TypeError("Start time must be set to a number.");l=ne,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return f},set:function(ne){if(typeof ne!="number")throw new TypeError("End time must be set to a number.");f=ne,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return c},set:function(ne){c=""+ne,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return d},set:function(ne){d=ne,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return g},set:function(ne){var se=findDirectionSetting(ne);if(se===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");g=se,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return b},set:function(ne){b=!!ne,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return m},set:function(ne){if(typeof ne!="number"&&ne!==autoKeyword)throw new SyntaxError("Line: an invalid number or illegal string was specified.");m=ne,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return _},set:function(ne){var se=findAlignSetting(ne);se?(_=se,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return x},set:function(ne){if(ne<0||ne>100)throw new Error("Position must be between 0 and 100.");x=ne,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return k},set:function(ne){var se=findAlignSetting(ne);se?(k=se,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return q},set:function(ne){if(ne<0||ne>100)throw new Error("Size must be between 0 and 100.");q=ne,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return j},set:function(ne){var se=findAlignSetting(ne);if(!se)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");j=se,this.hasBeenReset=!0}}}),this.displayState=void 0}VTTCue.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var vttcue=VTTCue,scrollSetting={"":!0,up:!0};function findScrollSetting(n){if(typeof n!="string")return!1;var e=scrollSetting[n.toLowerCase()];return e?n.toLowerCase():!1}function isValidPercentValue(n){return typeof n=="number"&&n>=0&&n<=100}function VTTRegion(){var n=100,e=3,r=0,s=100,a=0,l=100,f="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return n},set:function(c){if(!isValidPercentValue(c))throw new Error("Width must be between 0 and 100.");n=c}},lines:{enumerable:!0,get:function(){return e},set:function(c){if(typeof c!="number")throw new TypeError("Lines must be set to a number.");e=c}},regionAnchorY:{enumerable:!0,get:function(){return s},set:function(c){if(!isValidPercentValue(c))throw new Error("RegionAnchorX must be between 0 and 100.");s=c}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(c){if(!isValidPercentValue(c))throw new Error("RegionAnchorY must be between 0 and 100.");r=c}},viewportAnchorY:{enumerable:!0,get:function(){return l},set:function(c){if(!isValidPercentValue(c))throw new Error("ViewportAnchorY must be between 0 and 100.");l=c}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(c){if(!isValidPercentValue(c))throw new Error("ViewportAnchorX must be between 0 and 100.");a=c}},scroll:{enumerable:!0,get:function(){return f},set:function(c){var d=findScrollSetting(c);d===!1?console.warn("Scroll: an invalid or illegal string was specified."):f=d}}})}var vttregion=VTTRegion,window$1=window_1,vttjs=browserIndex.exports={WebVTT:vtt,VTTCue:vttcue,VTTRegion:vttregion};window$1.vttjs=vttjs;window$1.WebVTT=vttjs.WebVTT;var cueShim=vttjs.VTTCue,regionShim=vttjs.VTTRegion,nativeVTTCue=window$1.VTTCue,nativeVTTRegion=window$1.VTTRegion;vttjs.shim=function(){window$1.VTTCue=cueShim,window$1.VTTRegion=regionShim};vttjs.restore=function(){window$1.VTTCue=nativeVTTCue,window$1.VTTRegion=nativeVTTRegion};window$1.VTTCue||vttjs.shim();function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct(n,e,r){return _isNativeReflectConstruct()?_construct=Reflect.construct.bind():_construct=function(a,l,f){var c=[null];c.push.apply(c,l);var d=Function.bind.apply(a,c),g=new d;return f&&_setPrototypeOf(g,f.prototype),g},_construct.apply(null,arguments)}function _inherits(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&_setPrototypeOf(n,e)}var urlToolkitExports={},urlToolkit={get exports(){return urlToolkitExports},set exports(n){urlToolkitExports=n}};(function(n,e){(function(r){var s=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,a=/^(?=([^\/?#]*))\1([^]*)$/,l=/(?:\/|^)\.(?=\/)/g,f=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,c={buildAbsoluteURL:function(d,g,b){if(b=b||{},d=d.trim(),g=g.trim(),!g){if(!b.alwaysNormalize)return d;var m=c.parseURL(d);if(!m)throw new Error("Error trying to parse base URL.");return m.path=c.normalizePath(m.path),c.buildURLFromParts(m)}var _=c.parseURL(g);if(!_)throw new Error("Error trying to parse relative URL.");if(_.scheme)return b.alwaysNormalize?(_.path=c.normalizePath(_.path),c.buildURLFromParts(_)):g;var x=c.parseURL(d);if(!x)throw new Error("Error trying to parse base URL.");if(!x.netLoc&&x.path&&x.path[0]!=="/"){var k=a.exec(x.path);x.netLoc=k[1],x.path=k[2]}x.netLoc&&!x.path&&(x.path="/");var q={scheme:x.scheme,netLoc:_.netLoc,path:null,params:_.params,query:_.query,fragment:_.fragment};if(!_.netLoc&&(q.netLoc=x.netLoc,_.path[0]!=="/"))if(!_.path)q.path=x.path,_.params||(q.params=x.params,_.query||(q.query=x.query));else{var j=x.path,ne=j.substring(0,j.lastIndexOf("/")+1)+_.path;q.path=c.normalizePath(ne)}return q.path===null&&(q.path=b.alwaysNormalize?c.normalizePath(_.path):_.path),c.buildURLFromParts(q)},parseURL:function(d){var g=s.exec(d);return g?{scheme:g[1]||"",netLoc:g[2]||"",path:g[3]||"",params:g[4]||"",query:g[5]||"",fragment:g[6]||""}:null},normalizePath:function(d){for(d=d.split("").reverse().join("").replace(l,"");d.length!==(d=d.replace(f,"")).length;);return d.split("").reverse().join("")},buildURLFromParts:function(d){return d.scheme+d.netLoc+d.path+d.params+d.query+d.fragment}};n.exports=c})()})(urlToolkit);const URLToolkit=urlToolkitExports;var DEFAULT_LOCATION="http://example.com",resolveUrl$1=function(e,r){if(/^[a-z]+:/i.test(r))return r;/^data:/.test(e)&&(e=window_1.location&&window_1.location.href||"");var s=typeof window_1.URL=="function",a=/^\/\//.test(e),l=!window_1.location&&!/\/\//i.test(e);if(s?e=new window_1.URL(e,window_1.location||DEFAULT_LOCATION):/\/\//i.test(e)||(e=URLToolkit.buildAbsoluteURL(window_1.location&&window_1.location.href||"",e)),s){var f=new URL(r,e);return l?f.href.slice(DEFAULT_LOCATION.length):a?f.href.slice(f.protocol.length):f.href}return URLToolkit.buildAbsoluteURL(e,r)},Stream=function(){function n(){this.listeners={}}var e=n.prototype;return e.on=function(s,a){this.listeners[s]||(this.listeners[s]=[]),this.listeners[s].push(a)},e.off=function(s,a){if(!this.listeners[s])return!1;var l=this.listeners[s].indexOf(a);return this.listeners[s]=this.listeners[s].slice(0),this.listeners[s].splice(l,1),l>-1},e.trigger=function(s){var a=this.listeners[s];if(a)if(arguments.length===2)for(var l=a.length,f=0;f<l;++f)a[f].call(this,arguments[1]);else for(var c=Array.prototype.slice.call(arguments,1),d=a.length,g=0;g<d;++g)a[g].apply(this,c)},e.dispose=function(){this.listeners={}},e.pipe=function(s){this.on("data",function(a){s.push(a)})},n}(),atob$1=function(e){return window_1.atob?window_1.atob(e):Buffer.from(e,"base64").toString("binary")};function decodeB64ToUint8Array(n){for(var e=atob$1(n),r=new Uint8Array(e.length),s=0;s<e.length;s++)r[s]=e.charCodeAt(s);return r}/*! @name m3u8-parser @version 4.8.0 @license Apache-2.0 */var LineStream=function(n){_inheritsLoose(e,n);function e(){var s;return s=n.call(this)||this,s.buffer="",s}var r=e.prototype;return r.push=function(a){var l;for(this.buffer+=a,l=this.buffer.indexOf(`
`);l>-1;l=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,l)),this.buffer=this.buffer.substring(l+1)},e}(Stream),TAB=String.fromCharCode(9),parseByterange=function(e){var r=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),s={};return r[1]&&(s.length=parseInt(r[1],10)),r[2]&&(s.offset=parseInt(r[2],10)),s},attributeSeparator=function(){var e="[^=]*",r='"[^"]*"|[^,]*',s="(?:"+e+")=(?:"+r+")";return new RegExp("(?:^|,)("+s+")")},parseAttributes$1=function(e){for(var r=e.split(attributeSeparator()),s={},a=r.length,l;a--;)r[a]!==""&&(l=/([^=]*)=(.*)/.exec(r[a]).slice(1),l[0]=l[0].replace(/^\s+|\s+$/g,""),l[1]=l[1].replace(/^\s+|\s+$/g,""),l[1]=l[1].replace(/^['"](.*)['"]$/g,"$1"),s[l[0]]=l[1]);return s},ParseStream=function(n){_inheritsLoose(e,n);function e(){var s;return s=n.call(this)||this,s.customParsers=[],s.tagMappers=[],s}var r=e.prototype;return r.push=function(a){var l=this,f,c;if(a=a.trim(),a.length!==0){if(a[0]!=="#"){this.trigger("data",{type:"uri",uri:a});return}var d=this.tagMappers.reduce(function(g,b){var m=b(a);return m===a?g:g.concat([m])},[a]);d.forEach(function(g){for(var b=0;b<l.customParsers.length;b++)if(l.customParsers[b].call(l,g))return;if(g.indexOf("#EXT")!==0){l.trigger("data",{type:"comment",text:g.slice(1)});return}if(g=g.replace("\r",""),f=/^#EXTM3U/.exec(g),f){l.trigger("data",{type:"tag",tagType:"m3u"});return}if(f=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(g),f){c={type:"tag",tagType:"inf"},f[1]&&(c.duration=parseFloat(f[1])),f[2]&&(c.title=f[2]),l.trigger("data",c);return}if(f=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(g),f){c={type:"tag",tagType:"targetduration"},f[1]&&(c.duration=parseInt(f[1],10)),l.trigger("data",c);return}if(f=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(g),f){c={type:"tag",tagType:"version"},f[1]&&(c.version=parseInt(f[1],10)),l.trigger("data",c);return}if(f=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(g),f){c={type:"tag",tagType:"media-sequence"},f[1]&&(c.number=parseInt(f[1],10)),l.trigger("data",c);return}if(f=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(g),f){c={type:"tag",tagType:"discontinuity-sequence"},f[1]&&(c.number=parseInt(f[1],10)),l.trigger("data",c);return}if(f=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(g),f){c={type:"tag",tagType:"playlist-type"},f[1]&&(c.playlistType=f[1]),l.trigger("data",c);return}if(f=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(g),f){c=_extends$2(parseByterange(f[1]),{type:"tag",tagType:"byterange"}),l.trigger("data",c);return}if(f=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(g),f){c={type:"tag",tagType:"allow-cache"},f[1]&&(c.allowed=!/NO/.test(f[1])),l.trigger("data",c);return}if(f=/^#EXT-X-MAP:?(.*)$/.exec(g),f){if(c={type:"tag",tagType:"map"},f[1]){var m=parseAttributes$1(f[1]);m.URI&&(c.uri=m.URI),m.BYTERANGE&&(c.byterange=parseByterange(m.BYTERANGE))}l.trigger("data",c);return}if(f=/^#EXT-X-STREAM-INF:?(.*)$/.exec(g),f){if(c={type:"tag",tagType:"stream-inf"},f[1]){if(c.attributes=parseAttributes$1(f[1]),c.attributes.RESOLUTION){var _=c.attributes.RESOLUTION.split("x"),x={};_[0]&&(x.width=parseInt(_[0],10)),_[1]&&(x.height=parseInt(_[1],10)),c.attributes.RESOLUTION=x}c.attributes.BANDWIDTH&&(c.attributes.BANDWIDTH=parseInt(c.attributes.BANDWIDTH,10)),c.attributes["FRAME-RATE"]&&(c.attributes["FRAME-RATE"]=parseFloat(c.attributes["FRAME-RATE"])),c.attributes["PROGRAM-ID"]&&(c.attributes["PROGRAM-ID"]=parseInt(c.attributes["PROGRAM-ID"],10))}l.trigger("data",c);return}if(f=/^#EXT-X-MEDIA:?(.*)$/.exec(g),f){c={type:"tag",tagType:"media"},f[1]&&(c.attributes=parseAttributes$1(f[1])),l.trigger("data",c);return}if(f=/^#EXT-X-ENDLIST/.exec(g),f){l.trigger("data",{type:"tag",tagType:"endlist"});return}if(f=/^#EXT-X-DISCONTINUITY/.exec(g),f){l.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(f=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(g),f){c={type:"tag",tagType:"program-date-time"},f[1]&&(c.dateTimeString=f[1],c.dateTimeObject=new Date(f[1])),l.trigger("data",c);return}if(f=/^#EXT-X-KEY:?(.*)$/.exec(g),f){c={type:"tag",tagType:"key"},f[1]&&(c.attributes=parseAttributes$1(f[1]),c.attributes.IV&&(c.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(c.attributes.IV=c.attributes.IV.substring(2)),c.attributes.IV=c.attributes.IV.match(/.{8}/g),c.attributes.IV[0]=parseInt(c.attributes.IV[0],16),c.attributes.IV[1]=parseInt(c.attributes.IV[1],16),c.attributes.IV[2]=parseInt(c.attributes.IV[2],16),c.attributes.IV[3]=parseInt(c.attributes.IV[3],16),c.attributes.IV=new Uint32Array(c.attributes.IV))),l.trigger("data",c);return}if(f=/^#EXT-X-START:?(.*)$/.exec(g),f){c={type:"tag",tagType:"start"},f[1]&&(c.attributes=parseAttributes$1(f[1]),c.attributes["TIME-OFFSET"]=parseFloat(c.attributes["TIME-OFFSET"]),c.attributes.PRECISE=/YES/.test(c.attributes.PRECISE)),l.trigger("data",c);return}if(f=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(g),f){c={type:"tag",tagType:"cue-out-cont"},f[1]?c.data=f[1]:c.data="",l.trigger("data",c);return}if(f=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(g),f){c={type:"tag",tagType:"cue-out"},f[1]?c.data=f[1]:c.data="",l.trigger("data",c);return}if(f=/^#EXT-X-CUE-IN:?(.*)?$/.exec(g),f){c={type:"tag",tagType:"cue-in"},f[1]?c.data=f[1]:c.data="",l.trigger("data",c);return}if(f=/^#EXT-X-SKIP:(.*)$/.exec(g),f&&f[1]){c={type:"tag",tagType:"skip"},c.attributes=parseAttributes$1(f[1]),c.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(c.attributes["SKIPPED-SEGMENTS"]=parseInt(c.attributes["SKIPPED-SEGMENTS"],10)),c.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(c.attributes["RECENTLY-REMOVED-DATERANGES"]=c.attributes["RECENTLY-REMOVED-DATERANGES"].split(TAB)),l.trigger("data",c);return}if(f=/^#EXT-X-PART:(.*)$/.exec(g),f&&f[1]){c={type:"tag",tagType:"part"},c.attributes=parseAttributes$1(f[1]),["DURATION"].forEach(function(k){c.attributes.hasOwnProperty(k)&&(c.attributes[k]=parseFloat(c.attributes[k]))}),["INDEPENDENT","GAP"].forEach(function(k){c.attributes.hasOwnProperty(k)&&(c.attributes[k]=/YES/.test(c.attributes[k]))}),c.attributes.hasOwnProperty("BYTERANGE")&&(c.attributes.byterange=parseByterange(c.attributes.BYTERANGE)),l.trigger("data",c);return}if(f=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(g),f&&f[1]){c={type:"tag",tagType:"server-control"},c.attributes=parseAttributes$1(f[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(k){c.attributes.hasOwnProperty(k)&&(c.attributes[k]=parseFloat(c.attributes[k]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(k){c.attributes.hasOwnProperty(k)&&(c.attributes[k]=/YES/.test(c.attributes[k]))}),l.trigger("data",c);return}if(f=/^#EXT-X-PART-INF:(.*)$/.exec(g),f&&f[1]){c={type:"tag",tagType:"part-inf"},c.attributes=parseAttributes$1(f[1]),["PART-TARGET"].forEach(function(k){c.attributes.hasOwnProperty(k)&&(c.attributes[k]=parseFloat(c.attributes[k]))}),l.trigger("data",c);return}if(f=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(g),f&&f[1]){c={type:"tag",tagType:"preload-hint"},c.attributes=parseAttributes$1(f[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(k){if(c.attributes.hasOwnProperty(k)){c.attributes[k]=parseInt(c.attributes[k],10);var q=k==="BYTERANGE-LENGTH"?"length":"offset";c.attributes.byterange=c.attributes.byterange||{},c.attributes.byterange[q]=c.attributes[k],delete c.attributes[k]}}),l.trigger("data",c);return}if(f=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(g),f&&f[1]){c={type:"tag",tagType:"rendition-report"},c.attributes=parseAttributes$1(f[1]),["LAST-MSN","LAST-PART"].forEach(function(k){c.attributes.hasOwnProperty(k)&&(c.attributes[k]=parseInt(c.attributes[k],10))}),l.trigger("data",c);return}l.trigger("data",{type:"tag",data:g.slice(4)})})}},r.addParser=function(a){var l=this,f=a.expression,c=a.customType,d=a.dataParser,g=a.segment;typeof d!="function"&&(d=function(m){return m}),this.customParsers.push(function(b){var m=f.exec(b);if(m)return l.trigger("data",{type:"custom",data:d(b),customType:c,segment:g}),!0})},r.addTagMapper=function(a){var l=a.expression,f=a.map,c=function(g){return l.test(g)?f(g):g};this.tagMappers.push(c)},e}(Stream),camelCase=function(e){return e.toLowerCase().replace(/-(\w)/g,function(r){return r[1].toUpperCase()})},camelCaseKeys=function(e){var r={};return Object.keys(e).forEach(function(s){r[camelCase(s)]=e[s]}),r},setHoldBack=function(e){var r=e.serverControl,s=e.targetDuration,a=e.partTargetDuration;if(r){var l="#EXT-X-SERVER-CONTROL",f="holdBack",c="partHoldBack",d=s&&s*3,g=a&&a*2;s&&!r.hasOwnProperty(f)&&(r[f]=d,this.trigger("info",{message:l+" defaulting HOLD-BACK to targetDuration * 3 ("+d+")."})),d&&r[f]<d&&(this.trigger("warn",{message:l+" clamping HOLD-BACK ("+r[f]+") to targetDuration * 3 ("+d+")"}),r[f]=d),a&&!r.hasOwnProperty(c)&&(r[c]=a*3,this.trigger("info",{message:l+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+r[c]+")."})),a&&r[c]<g&&(this.trigger("warn",{message:l+" clamping PART-HOLD-BACK ("+r[c]+") to partTargetDuration * 2 ("+g+")."}),r[c]=g)}},Parser=function(n){_inheritsLoose(e,n);function e(){var s;s=n.call(this)||this,s.lineStream=new LineStream,s.parseStream=new ParseStream,s.lineStream.pipe(s.parseStream);var a=_assertThisInitialized(s),l=[],f={},c,d,g=!1,b=function(){},m={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},_="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",x=0;s.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var k=0,q=0;return s.on("end",function(){f.uri||!f.parts&&!f.preloadHints||(!f.map&&c&&(f.map=c),!f.key&&d&&(f.key=d),!f.timeline&&typeof x=="number"&&(f.timeline=x),s.manifest.preloadSegment=f)}),s.parseStream.on("data",function(j){var ne,se;({tag:function(){({version:function(){j.version&&(this.manifest.version=j.version)},"allow-cache":function(){this.manifest.allowCache=j.allowed,"allowed"in j||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var he={};"length"in j&&(f.byterange=he,he.length=j.length,"offset"in j||(j.offset=k)),"offset"in j&&(f.byterange=he,he.offset=j.offset),k=he.offset+he.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),j.duration>0&&(f.duration=j.duration),j.duration===0&&(f.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=l},key:function(){if(!j.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(j.attributes.METHOD==="NONE"){d=null;return}if(!j.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(j.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:j.attributes};return}if(j.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:j.attributes.URI};return}if(j.attributes.KEYFORMAT===_){var he=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(he.indexOf(j.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(j.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),j.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(j.attributes.KEYID&&j.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:j.attributes.KEYFORMAT,keyId:j.attributes.KEYID.substring(2)},pssh:decodeB64ToUint8Array(j.attributes.URI.split(",")[1])};return}j.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),d={method:j.attributes.METHOD||"AES-128",uri:j.attributes.URI},typeof j.attributes.IV<"u"&&(d.iv=j.attributes.IV)},"media-sequence":function(){if(!isFinite(j.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+j.number});return}this.manifest.mediaSequence=j.number},"discontinuity-sequence":function(){if(!isFinite(j.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+j.number});return}this.manifest.discontinuitySequence=j.number,x=j.number},"playlist-type":function(){if(!/VOD|EVENT/.test(j.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+j.playlist});return}this.manifest.playlistType=j.playlistType},map:function(){c={},j.uri&&(c.uri=j.uri),j.byterange&&(c.byterange=j.byterange),d&&(c.key=d)},"stream-inf":function(){if(this.manifest.playlists=l,this.manifest.mediaGroups=this.manifest.mediaGroups||m,!j.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}f.attributes||(f.attributes={}),_extends$2(f.attributes,j.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||m,!(j.attributes&&j.attributes.TYPE&&j.attributes["GROUP-ID"]&&j.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var he=this.manifest.mediaGroups[j.attributes.TYPE];he[j.attributes["GROUP-ID"]]=he[j.attributes["GROUP-ID"]]||{},ne=he[j.attributes["GROUP-ID"]],se={default:/yes/i.test(j.attributes.DEFAULT)},se.default?se.autoselect=!0:se.autoselect=/yes/i.test(j.attributes.AUTOSELECT),j.attributes.LANGUAGE&&(se.language=j.attributes.LANGUAGE),j.attributes.URI&&(se.uri=j.attributes.URI),j.attributes["INSTREAM-ID"]&&(se.instreamId=j.attributes["INSTREAM-ID"]),j.attributes.CHARACTERISTICS&&(se.characteristics=j.attributes.CHARACTERISTICS),j.attributes.FORCED&&(se.forced=/yes/i.test(j.attributes.FORCED)),ne[j.attributes.NAME]=se},discontinuity:function(){x+=1,f.discontinuity=!0,this.manifest.discontinuityStarts.push(l.length)},"program-date-time":function(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=j.dateTimeString,this.manifest.dateTimeObject=j.dateTimeObject),f.dateTimeString=j.dateTimeString,f.dateTimeObject=j.dateTimeObject},targetduration:function(){if(!isFinite(j.duration)||j.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+j.duration});return}this.manifest.targetDuration=j.duration,setHoldBack.call(this,this.manifest)},start:function(){if(!j.attributes||isNaN(j.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:j.attributes["TIME-OFFSET"],precise:j.attributes.PRECISE}},"cue-out":function(){f.cueOut=j.data},"cue-out-cont":function(){f.cueOutCont=j.data},"cue-in":function(){f.cueIn=j.data},skip:function(){this.manifest.skip=camelCaseKeys(j.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",j.attributes,["SKIPPED-SEGMENTS"])},part:function(){var he=this;g=!0;var ge=this.manifest.segments.length,ve=camelCaseKeys(j.attributes);f.parts=f.parts||[],f.parts.push(ve),ve.byterange&&(ve.byterange.hasOwnProperty("offset")||(ve.byterange.offset=q),q=ve.byterange.offset+ve.byterange.length);var _e=f.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+_e+" for segment #"+ge,j.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(ye,be){ye.hasOwnProperty("lastPart")||he.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+be+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var he=this.manifest.serverControl=camelCaseKeys(j.attributes);he.hasOwnProperty("canBlockReload")||(he.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),setHoldBack.call(this,this.manifest),he.canSkipDateranges&&!he.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var he=this.manifest.segments.length,ge=camelCaseKeys(j.attributes),ve=ge.type&&ge.type==="PART";f.preloadHints=f.preloadHints||[],f.preloadHints.push(ge),ge.byterange&&(ge.byterange.hasOwnProperty("offset")||(ge.byterange.offset=ve?q:0,ve&&(q=ge.byterange.offset+ge.byterange.length)));var _e=f.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+_e+" for segment #"+he,j.attributes,["TYPE","URI"]),!!ge.type)for(var ye=0;ye<f.preloadHints.length-1;ye++){var be=f.preloadHints[ye];be.type&&be.type===ge.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+_e+" for segment #"+he+" has the same TYPE "+ge.type+" as preload hint #"+ye})}},"rendition-report":function(){var he=camelCaseKeys(j.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(he);var ge=this.manifest.renditionReports.length-1,ve=["LAST-MSN","URI"];g&&ve.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+ge,j.attributes,ve)},"part-inf":function(){this.manifest.partInf=camelCaseKeys(j.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",j.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),setHoldBack.call(this,this.manifest)}}[j.tagType]||b).call(a)},uri:function(){f.uri=j.uri,l.push(f),this.manifest.targetDuration&&!("duration"in f)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),f.duration=this.manifest.targetDuration),d&&(f.key=d),f.timeline=x,c&&(f.map=c),q=0,f={}},comment:function(){},custom:function(){j.segment?(f.custom=f.custom||{},f.custom[j.customType]=j.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[j.customType]=j.data)}})[j.type].call(a)}),s}var r=e.prototype;return r.warnOnMissingAttributes_=function(a,l,f){var c=[];f.forEach(function(d){l.hasOwnProperty(d)||c.push(d)}),c.length&&this.trigger("warn",{message:a+" lacks required attribute(s): "+c.join(", ")})},r.push=function(a){this.lineStream.push(a)},r.end=function(){this.lineStream.push(`
`),this.trigger("end")},r.addParser=function(a){this.parseStream.addParser(a)},r.addTagMapper=function(a){this.parseStream.addTagMapper(a)},e}(Stream),regexs={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},mediaTypes=["video","audio","text"],upperMediaTypes=["Video","Audio","Text"],translateLegacyCodec=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(r,s,a){var l=("00"+Number(s).toString(16)).slice(-2),f=("00"+Number(a).toString(16)).slice(-2);return"avc1."+l+"00"+f})},parseCodecs=function(e){e===void 0&&(e="");var r=e.split(","),s=[];return r.forEach(function(a){a=a.trim();var l;mediaTypes.forEach(function(f){var c=regexs[f].exec(a.toLowerCase());if(!(!c||c.length<=1)){l=f;var d=a.substring(0,c[1].length),g=a.replace(d,"");s.push({type:d,details:g,mediaType:f})}}),l||s.push({type:a,details:"",mediaType:"unknown"})}),s},codecsFromDefault=function(e,r){if(!e.mediaGroups.AUDIO||!r)return null;var s=e.mediaGroups.AUDIO[r];if(!s)return null;for(var a in s){var l=s[a];if(l.default&&l.playlists)return parseCodecs(l.playlists[0].attributes.CODECS)}return null},isAudioCodec=function(e){return e===void 0&&(e=""),regexs.audio.test(e.trim().toLowerCase())},isTextCodec=function(e){return e===void 0&&(e=""),regexs.text.test(e.trim().toLowerCase())},getMimeForCodec=function(e){if(!(!e||typeof e!="string")){var r=e.toLowerCase().split(",").map(function(l){return translateLegacyCodec(l.trim())}),s="video";r.length===1&&isAudioCodec(r[0])?s="audio":r.length===1&&isTextCodec(r[0])&&(s="application");var a="mp4";return r.every(function(l){return regexs.mp4.test(l)})?a="mp4":r.every(function(l){return regexs.webm.test(l)})?a="webm":r.every(function(l){return regexs.ogg.test(l)})&&(a="ogg"),s+"/"+a+';codecs="'+e+'"'}},browserSupportsCodec=function(e){return e===void 0&&(e=""),window_1.MediaSource&&window_1.MediaSource.isTypeSupported&&window_1.MediaSource.isTypeSupported(getMimeForCodec(e))||!1},muxerSupportsCodec=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(r){r=r.trim();for(var s=0;s<upperMediaTypes.length;s++){var a=upperMediaTypes[s];if(regexs["muxer"+a].test(r))return!0}return!1})},DEFAULT_AUDIO_CODEC="mp4a.40.2",DEFAULT_VIDEO_CODEC="avc1.4d400d",MPEGURL_REGEX=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,DASH_REGEX=/^application\/dash\+xml/i,simpleTypeFromSourceType=function(e){return MPEGURL_REGEX.test(e)?"hls":DASH_REGEX.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},countBits=function(e){return e.toString(2).length},countBytes$1=function(e){return Math.ceil(countBits(e)/8)},isArrayBufferView$1=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},isTypedArray$1=function(e){return isArrayBufferView$1(e)},toUint8=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!isTypedArray$1(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},BigInt=window_1.BigInt||Number,BYTE_TABLE=[BigInt("0x1"),BigInt("0x100"),BigInt("0x10000"),BigInt("0x1000000"),BigInt("0x100000000"),BigInt("0x10000000000"),BigInt("0x1000000000000"),BigInt("0x100000000000000"),BigInt("0x10000000000000000")];(function(){var n=new Uint16Array([65484]),e=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var bytesToNumber=function(e,r){var s=r===void 0?{}:r,a=s.signed,l=a===void 0?!1:a,f=s.le,c=f===void 0?!1:f;e=toUint8(e);var d=c?"reduce":"reduceRight",g=e[d]?e[d]:Array.prototype[d],b=g.call(e,function(_,x,k){var q=c?k:Math.abs(k+1-e.length);return _+BigInt(x)*BYTE_TABLE[q]},BigInt(0));if(l){var m=BYTE_TABLE[e.length]/BigInt(2)-BigInt(1);b=BigInt(b),b>m&&(b-=m,b-=m,b-=BigInt(2))}return Number(b)},numberToBytes=function(e,r){var s=r===void 0?{}:r,a=s.le,l=a===void 0?!1:a;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=BigInt(e);for(var f=countBytes$1(e),c=new Uint8Array(new ArrayBuffer(f)),d=0;d<f;d++){var g=l?d:Math.abs(d+1-c.length);c[g]=Number(e/BYTE_TABLE[d]&BigInt(255)),e<0&&(c[g]=Math.abs(~c[g]),c[g]-=d===0?1:2)}return c},stringToBytes=function(e,r){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;r||(e=unescape(encodeURIComponent(e)));for(var s=new Uint8Array(e.length),a=0;a<e.length;a++)s[a]=e.charCodeAt(a);return s},concatTypedArrays=function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];if(r=r.filter(function(c){return c&&(c.byteLength||c.length)&&typeof c!="string"}),r.length<=1)return toUint8(r[0]);var a=r.reduce(function(c,d,g){return c+(d.byteLength||d.length)},0),l=new Uint8Array(a),f=0;return r.forEach(function(c){c=toUint8(c),l.set(c,f),f+=c.byteLength}),l},bytesMatch=function(e,r,s){var a=s===void 0?{}:s,l=a.offset,f=l===void 0?0:l,c=a.mask,d=c===void 0?[]:c;e=toUint8(e),r=toUint8(r);var g=r.every?r.every:Array.prototype.every;return r.length&&e.length-f>=r.length&&g.call(r,function(b,m){var _=d[m]?d[m]&e[f+m]:e[f+m];return b===_})},forEachMediaGroup$1=function(e,r,s){r.forEach(function(a){for(var l in e.mediaGroups[a])for(var f in e.mediaGroups[a][l]){var c=e.mediaGroups[a][l][f];s(c,a,l,f)}})},dom$1={},conventions$2={};function find$1(n,e,r){if(r===void 0&&(r=Array.prototype),n&&typeof r.find=="function")return r.find.call(n,e);for(var s=0;s<n.length;s++)if(Object.prototype.hasOwnProperty.call(n,s)){var a=n[s];if(e.call(void 0,a,s,n))return a}}function freeze(n,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(n):n}function assign$1(n,e){if(n===null||typeof n!="object")throw new TypeError("target is not an object");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var MIME_TYPE=freeze({HTML:"text/html",isHTML:function(n){return n===MIME_TYPE.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),NAMESPACE$3=freeze({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(n){return n===NAMESPACE$3.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});conventions$2.assign=assign$1;conventions$2.find=find$1;conventions$2.freeze=freeze;conventions$2.MIME_TYPE=MIME_TYPE;conventions$2.NAMESPACE=NAMESPACE$3;var conventions$1=conventions$2,find=conventions$1.find,NAMESPACE$2=conventions$1.NAMESPACE;function notEmptyString(n){return n!==""}function splitOnASCIIWhitespace(n){return n?n.split(/[\t\n\f\r ]+/).filter(notEmptyString):[]}function orderedSetReducer(n,e){return n.hasOwnProperty(e)||(n[e]=!0),n}function toOrderedSet(n){if(!n)return[];var e=splitOnASCIIWhitespace(n);return Object.keys(e.reduce(orderedSetReducer,{}))}function arrayIncludes(n){return function(e){return n&&n.indexOf(e)!==-1}}function copy(n,e){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}function _extends(n,e){var r=n.prototype;if(!(r instanceof e)){let s=function(){};s.prototype=e.prototype,s=new s,copy(r,s),n.prototype=r=s}r.constructor!=n&&(typeof n!="function"&&console.error("unknown Class:"+n),r.constructor=n)}var NodeType={},ELEMENT_NODE=NodeType.ELEMENT_NODE=1,ATTRIBUTE_NODE=NodeType.ATTRIBUTE_NODE=2,TEXT_NODE=NodeType.TEXT_NODE=3,CDATA_SECTION_NODE=NodeType.CDATA_SECTION_NODE=4,ENTITY_REFERENCE_NODE=NodeType.ENTITY_REFERENCE_NODE=5,ENTITY_NODE=NodeType.ENTITY_NODE=6,PROCESSING_INSTRUCTION_NODE=NodeType.PROCESSING_INSTRUCTION_NODE=7,COMMENT_NODE=NodeType.COMMENT_NODE=8,DOCUMENT_NODE=NodeType.DOCUMENT_NODE=9,DOCUMENT_TYPE_NODE=NodeType.DOCUMENT_TYPE_NODE=10,DOCUMENT_FRAGMENT_NODE=NodeType.DOCUMENT_FRAGMENT_NODE=11,NOTATION_NODE=NodeType.NOTATION_NODE=12,ExceptionCode={},ExceptionMessage={};ExceptionCode.INDEX_SIZE_ERR=(ExceptionMessage[1]="Index size error",1);ExceptionCode.DOMSTRING_SIZE_ERR=(ExceptionMessage[2]="DOMString size error",2);var HIERARCHY_REQUEST_ERR=ExceptionCode.HIERARCHY_REQUEST_ERR=(ExceptionMessage[3]="Hierarchy request error",3);ExceptionCode.WRONG_DOCUMENT_ERR=(ExceptionMessage[4]="Wrong document",4);ExceptionCode.INVALID_CHARACTER_ERR=(ExceptionMessage[5]="Invalid character",5);ExceptionCode.NO_DATA_ALLOWED_ERR=(ExceptionMessage[6]="No data allowed",6);ExceptionCode.NO_MODIFICATION_ALLOWED_ERR=(ExceptionMessage[7]="No modification allowed",7);var NOT_FOUND_ERR=ExceptionCode.NOT_FOUND_ERR=(ExceptionMessage[8]="Not found",8);ExceptionCode.NOT_SUPPORTED_ERR=(ExceptionMessage[9]="Not supported",9);var INUSE_ATTRIBUTE_ERR=ExceptionCode.INUSE_ATTRIBUTE_ERR=(ExceptionMessage[10]="Attribute in use",10);ExceptionCode.INVALID_STATE_ERR=(ExceptionMessage[11]="Invalid state",11);ExceptionCode.SYNTAX_ERR=(ExceptionMessage[12]="Syntax error",12);ExceptionCode.INVALID_MODIFICATION_ERR=(ExceptionMessage[13]="Invalid modification",13);ExceptionCode.NAMESPACE_ERR=(ExceptionMessage[14]="Invalid namespace",14);ExceptionCode.INVALID_ACCESS_ERR=(ExceptionMessage[15]="Invalid access",15);function DOMException$1(n,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,ExceptionMessage[n]),this.message=ExceptionMessage[n],Error.captureStackTrace&&Error.captureStackTrace(this,DOMException$1);return r.code=n,e&&(this.message=this.message+": "+e),r}DOMException$1.prototype=Error.prototype;copy(ExceptionCode,DOMException$1);function NodeList(){}NodeList.prototype={length:0,item:function(n){return this[n]||null},toString:function(n,e){for(var r=[],s=0;s<this.length;s++)serializeToString(this[s],r,n,e);return r.join("")},filter:function(n){return Array.prototype.filter.call(this,n)},indexOf:function(n){return Array.prototype.indexOf.call(this,n)}};function LiveNodeList(n,e){this._node=n,this._refresh=e,_updateLiveList(this)}function _updateLiveList(n){var e=n._node._inc||n._node.ownerDocument._inc;if(n._inc!=e){var r=n._refresh(n._node);__set__(n,"length",r.length),copy(r,n),n._inc=e}}LiveNodeList.prototype.item=function(n){return _updateLiveList(this),this[n]};_extends(LiveNodeList,NodeList);function NamedNodeMap(){}function _findNodeIndex(n,e){for(var r=n.length;r--;)if(n[r]===e)return r}function _addNamedNode(n,e,r,s){if(s?e[_findNodeIndex(e,s)]=r:e[e.length++]=r,n){r.ownerElement=n;var a=n.ownerDocument;a&&(s&&_onRemoveAttribute(a,n,s),_onAddAttribute(a,n,r))}}function _removeNamedNode(n,e,r){var s=_findNodeIndex(e,r);if(s>=0){for(var a=e.length-1;s<a;)e[s]=e[++s];if(e.length=a,n){var l=n.ownerDocument;l&&(_onRemoveAttribute(l,n,r),r.ownerElement=null)}}else throw new DOMException$1(NOT_FOUND_ERR,new Error(n.tagName+"@"+r))}NamedNodeMap.prototype={length:0,item:NodeList.prototype.item,getNamedItem:function(n){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==n)return r}},setNamedItem:function(n){var e=n.ownerElement;if(e&&e!=this._ownerElement)throw new DOMException$1(INUSE_ATTRIBUTE_ERR);var r=this.getNamedItem(n.nodeName);return _addNamedNode(this._ownerElement,this,n,r),r},setNamedItemNS:function(n){var e=n.ownerElement,r;if(e&&e!=this._ownerElement)throw new DOMException$1(INUSE_ATTRIBUTE_ERR);return r=this.getNamedItemNS(n.namespaceURI,n.localName),_addNamedNode(this._ownerElement,this,n,r),r},removeNamedItem:function(n){var e=this.getNamedItem(n);return _removeNamedNode(this._ownerElement,this,e),e},removeNamedItemNS:function(n,e){var r=this.getNamedItemNS(n,e);return _removeNamedNode(this._ownerElement,this,r),r},getNamedItemNS:function(n,e){for(var r=this.length;r--;){var s=this[r];if(s.localName==e&&s.namespaceURI==n)return s}return null}};function DOMImplementation$1(){}DOMImplementation$1.prototype={hasFeature:function(n,e){return!0},createDocument:function(n,e,r){var s=new Document;if(s.implementation=this,s.childNodes=new NodeList,s.doctype=r||null,r&&s.appendChild(r),e){var a=s.createElementNS(n,e);s.appendChild(a)}return s},createDocumentType:function(n,e,r){var s=new DocumentType;return s.name=n,s.nodeName=n,s.publicId=e||"",s.systemId=r||"",s}};function Node$2(){}Node$2.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(n,e){return _insertBefore(this,n,e)},replaceChild:function(n,e){_insertBefore(this,n,e,assertPreReplacementValidityInDocument),e&&this.removeChild(e)},removeChild:function(n){return _removeChild(this,n)},appendChild:function(n){return this.insertBefore(n,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(n){return cloneNode(this.ownerDocument||this,this,n)},normalize:function(){for(var n=this.firstChild;n;){var e=n.nextSibling;e&&e.nodeType==TEXT_NODE&&n.nodeType==TEXT_NODE?(this.removeChild(e),n.appendData(e.data)):(n.normalize(),n=e)}},isSupported:function(n,e){return this.ownerDocument.implementation.hasFeature(n,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(n){for(var e=this;e;){var r=e._nsMap;if(r){for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&r[s]===n)return s}e=e.nodeType==ATTRIBUTE_NODE?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(n){for(var e=this;e;){var r=e._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n];e=e.nodeType==ATTRIBUTE_NODE?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(n){var e=this.lookupPrefix(n);return e==null}};function _xmlEncoder(n){return n=="<"&&"&lt;"||n==">"&&"&gt;"||n=="&"&&"&amp;"||n=='"'&&"&quot;"||"&#"+n.charCodeAt()+";"}copy(NodeType,Node$2);copy(NodeType,Node$2.prototype);function _visitNode(n,e){if(e(n))return!0;if(n=n.firstChild)do if(_visitNode(n,e))return!0;while(n=n.nextSibling)}function Document(){this.ownerDocument=this}function _onAddAttribute(n,e,r){n&&n._inc++;var s=r.namespaceURI;s===NAMESPACE$2.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value)}function _onRemoveAttribute(n,e,r,s){n&&n._inc++;var a=r.namespaceURI;a===NAMESPACE$2.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function _onUpdateChild(n,e,r){if(n&&n._inc){n._inc++;var s=e.childNodes;if(r)s[s.length++]=r;else{for(var a=e.firstChild,l=0;a;)s[l++]=a,a=a.nextSibling;s.length=l,delete s[s.length]}}}function _removeChild(n,e){var r=e.previousSibling,s=e.nextSibling;return r?r.nextSibling=s:n.firstChild=s,s?s.previousSibling=r:n.lastChild=r,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,_onUpdateChild(n.ownerDocument,n),e}function hasValidParentNodeType(n){return n&&(n.nodeType===Node$2.DOCUMENT_NODE||n.nodeType===Node$2.DOCUMENT_FRAGMENT_NODE||n.nodeType===Node$2.ELEMENT_NODE)}function hasInsertableNodeType(n){return n&&(isElementNode(n)||isTextNode$1(n)||isDocTypeNode(n)||n.nodeType===Node$2.DOCUMENT_FRAGMENT_NODE||n.nodeType===Node$2.COMMENT_NODE||n.nodeType===Node$2.PROCESSING_INSTRUCTION_NODE)}function isDocTypeNode(n){return n&&n.nodeType===Node$2.DOCUMENT_TYPE_NODE}function isElementNode(n){return n&&n.nodeType===Node$2.ELEMENT_NODE}function isTextNode$1(n){return n&&n.nodeType===Node$2.TEXT_NODE}function isElementInsertionPossible(n,e){var r=n.childNodes||[];if(find(r,isElementNode)||isDocTypeNode(e))return!1;var s=find(r,isDocTypeNode);return!(e&&s&&r.indexOf(s)>r.indexOf(e))}function isElementReplacementPossible(n,e){var r=n.childNodes||[];function s(l){return isElementNode(l)&&l!==e}if(find(r,s))return!1;var a=find(r,isDocTypeNode);return!(e&&a&&r.indexOf(a)>r.indexOf(e))}function assertPreInsertionValidity1to5(n,e,r){if(!hasValidParentNodeType(n))throw new DOMException$1(HIERARCHY_REQUEST_ERR,"Unexpected parent node type "+n.nodeType);if(r&&r.parentNode!==n)throw new DOMException$1(NOT_FOUND_ERR,"child not in parent");if(!hasInsertableNodeType(e)||isDocTypeNode(e)&&n.nodeType!==Node$2.DOCUMENT_NODE)throw new DOMException$1(HIERARCHY_REQUEST_ERR,"Unexpected node type "+e.nodeType+" for parent node type "+n.nodeType)}function assertPreInsertionValidityInDocument(n,e,r){var s=n.childNodes||[],a=e.childNodes||[];if(e.nodeType===Node$2.DOCUMENT_FRAGMENT_NODE){var l=a.filter(isElementNode);if(l.length>1||find(a,isTextNode$1))throw new DOMException$1(HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(l.length===1&&!isElementInsertionPossible(n,r))throw new DOMException$1(HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(isElementNode(e)&&!isElementInsertionPossible(n,r))throw new DOMException$1(HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(isDocTypeNode(e)){if(find(s,isDocTypeNode))throw new DOMException$1(HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var f=find(s,isElementNode);if(r&&s.indexOf(f)<s.indexOf(r))throw new DOMException$1(HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element");if(!r&&f)throw new DOMException$1(HIERARCHY_REQUEST_ERR,"Doctype can not be appended since element is present")}}function assertPreReplacementValidityInDocument(n,e,r){var s=n.childNodes||[],a=e.childNodes||[];if(e.nodeType===Node$2.DOCUMENT_FRAGMENT_NODE){var l=a.filter(isElementNode);if(l.length>1||find(a,isTextNode$1))throw new DOMException$1(HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(l.length===1&&!isElementReplacementPossible(n,r))throw new DOMException$1(HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(isElementNode(e)&&!isElementReplacementPossible(n,r))throw new DOMException$1(HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(isDocTypeNode(e)){if(find(s,function(d){return isDocTypeNode(d)&&d!==r}))throw new DOMException$1(HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var f=find(s,isElementNode);if(r&&s.indexOf(f)<s.indexOf(r))throw new DOMException$1(HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element")}}function _insertBefore(n,e,r,s){assertPreInsertionValidity1to5(n,e,r),n.nodeType===Node$2.DOCUMENT_NODE&&(s||assertPreInsertionValidityInDocument)(n,e,r);var a=e.parentNode;if(a&&a.removeChild(e),e.nodeType===DOCUMENT_FRAGMENT_NODE){var l=e.firstChild;if(l==null)return e;var f=e.lastChild}else l=f=e;var c=r?r.previousSibling:n.lastChild;l.previousSibling=c,f.nextSibling=r,c?c.nextSibling=l:n.firstChild=l,r==null?n.lastChild=f:r.previousSibling=f;do l.parentNode=n;while(l!==f&&(l=l.nextSibling));return _onUpdateChild(n.ownerDocument||n,n),e.nodeType==DOCUMENT_FRAGMENT_NODE&&(e.firstChild=e.lastChild=null),e}function _appendSingleChild(n,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=n,e.previousSibling=n.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:n.firstChild=e,n.lastChild=e,_onUpdateChild(n.ownerDocument,n,e),e}Document.prototype={nodeName:"#document",nodeType:DOCUMENT_NODE,doctype:null,documentElement:null,_inc:1,insertBefore:function(n,e){if(n.nodeType==DOCUMENT_FRAGMENT_NODE){for(var r=n.firstChild;r;){var s=r.nextSibling;this.insertBefore(r,e),r=s}return n}return _insertBefore(this,n,e),n.ownerDocument=this,this.documentElement===null&&n.nodeType===ELEMENT_NODE&&(this.documentElement=n),n},removeChild:function(n){return this.documentElement==n&&(this.documentElement=null),_removeChild(this,n)},replaceChild:function(n,e){_insertBefore(this,n,e,assertPreReplacementValidityInDocument),n.ownerDocument=this,e&&this.removeChild(e),isElementNode(n)&&(this.documentElement=n)},importNode:function(n,e){return importNode(this,n,e)},getElementById:function(n){var e=null;return _visitNode(this.documentElement,function(r){if(r.nodeType==ELEMENT_NODE&&r.getAttribute("id")==n)return e=r,!0}),e},getElementsByClassName:function(n){var e=toOrderedSet(n);return new LiveNodeList(this,function(r){var s=[];return e.length>0&&_visitNode(r.documentElement,function(a){if(a!==r&&a.nodeType===ELEMENT_NODE){var l=a.getAttribute("class");if(l){var f=n===l;if(!f){var c=toOrderedSet(l);f=e.every(arrayIncludes(c))}f&&s.push(a)}}}),s})},createElement:function(n){var e=new Element$1;e.ownerDocument=this,e.nodeName=n,e.tagName=n,e.localName=n,e.childNodes=new NodeList;var r=e.attributes=new NamedNodeMap;return r._ownerElement=e,e},createDocumentFragment:function(){var n=new DocumentFragment;return n.ownerDocument=this,n.childNodes=new NodeList,n},createTextNode:function(n){var e=new Text;return e.ownerDocument=this,e.appendData(n),e},createComment:function(n){var e=new Comment;return e.ownerDocument=this,e.appendData(n),e},createCDATASection:function(n){var e=new CDATASection;return e.ownerDocument=this,e.appendData(n),e},createProcessingInstruction:function(n,e){var r=new ProcessingInstruction;return r.ownerDocument=this,r.tagName=r.target=n,r.nodeValue=r.data=e,r},createAttribute:function(n){var e=new Attr;return e.ownerDocument=this,e.name=n,e.nodeName=n,e.localName=n,e.specified=!0,e},createEntityReference:function(n){var e=new EntityReference;return e.ownerDocument=this,e.nodeName=n,e},createElementNS:function(n,e){var r=new Element$1,s=e.split(":"),a=r.attributes=new NamedNodeMap;return r.childNodes=new NodeList,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=n,s.length==2?(r.prefix=s[0],r.localName=s[1]):r.localName=e,a._ownerElement=r,r},createAttributeNS:function(n,e){var r=new Attr,s=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=n,r.specified=!0,s.length==2?(r.prefix=s[0],r.localName=s[1]):r.localName=e,r}};_extends(Document,Node$2);function Element$1(){this._nsMap={}}Element$1.prototype={nodeType:ELEMENT_NODE,hasAttribute:function(n){return this.getAttributeNode(n)!=null},getAttribute:function(n){var e=this.getAttributeNode(n);return e&&e.value||""},getAttributeNode:function(n){return this.attributes.getNamedItem(n)},setAttribute:function(n,e){var r=this.ownerDocument.createAttribute(n);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(n){var e=this.getAttributeNode(n);e&&this.removeAttributeNode(e)},appendChild:function(n){return n.nodeType===DOCUMENT_FRAGMENT_NODE?this.insertBefore(n,null):_appendSingleChild(this,n)},setAttributeNode:function(n){return this.attributes.setNamedItem(n)},setAttributeNodeNS:function(n){return this.attributes.setNamedItemNS(n)},removeAttributeNode:function(n){return this.attributes.removeNamedItem(n.nodeName)},removeAttributeNS:function(n,e){var r=this.getAttributeNodeNS(n,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(n,e){return this.getAttributeNodeNS(n,e)!=null},getAttributeNS:function(n,e){var r=this.getAttributeNodeNS(n,e);return r&&r.value||""},setAttributeNS:function(n,e,r){var s=this.ownerDocument.createAttributeNS(n,e);s.value=s.nodeValue=""+r,this.setAttributeNode(s)},getAttributeNodeNS:function(n,e){return this.attributes.getNamedItemNS(n,e)},getElementsByTagName:function(n){return new LiveNodeList(this,function(e){var r=[];return _visitNode(e,function(s){s!==e&&s.nodeType==ELEMENT_NODE&&(n==="*"||s.tagName==n)&&r.push(s)}),r})},getElementsByTagNameNS:function(n,e){return new LiveNodeList(this,function(r){var s=[];return _visitNode(r,function(a){a!==r&&a.nodeType===ELEMENT_NODE&&(n==="*"||a.namespaceURI===n)&&(e==="*"||a.localName==e)&&s.push(a)}),s})}};Document.prototype.getElementsByTagName=Element$1.prototype.getElementsByTagName;Document.prototype.getElementsByTagNameNS=Element$1.prototype.getElementsByTagNameNS;_extends(Element$1,Node$2);function Attr(){}Attr.prototype.nodeType=ATTRIBUTE_NODE;_extends(Attr,Node$2);function CharacterData(){}CharacterData.prototype={data:"",substringData:function(n,e){return this.data.substring(n,n+e)},appendData:function(n){n=this.data+n,this.nodeValue=this.data=n,this.length=n.length},insertData:function(n,e){this.replaceData(n,0,e)},appendChild:function(n){throw new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])},deleteData:function(n,e){this.replaceData(n,e,"")},replaceData:function(n,e,r){var s=this.data.substring(0,n),a=this.data.substring(n+e);r=s+r+a,this.nodeValue=this.data=r,this.length=r.length}};_extends(CharacterData,Node$2);function Text(){}Text.prototype={nodeName:"#text",nodeType:TEXT_NODE,splitText:function(n){var e=this.data,r=e.substring(n);e=e.substring(0,n),this.data=this.nodeValue=e,this.length=e.length;var s=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(s,this.nextSibling),s}};_extends(Text,CharacterData);function Comment(){}Comment.prototype={nodeName:"#comment",nodeType:COMMENT_NODE};_extends(Comment,CharacterData);function CDATASection(){}CDATASection.prototype={nodeName:"#cdata-section",nodeType:CDATA_SECTION_NODE};_extends(CDATASection,CharacterData);function DocumentType(){}DocumentType.prototype.nodeType=DOCUMENT_TYPE_NODE;_extends(DocumentType,Node$2);function Notation(){}Notation.prototype.nodeType=NOTATION_NODE;_extends(Notation,Node$2);function Entity(){}Entity.prototype.nodeType=ENTITY_NODE;_extends(Entity,Node$2);function EntityReference(){}EntityReference.prototype.nodeType=ENTITY_REFERENCE_NODE;_extends(EntityReference,Node$2);function DocumentFragment(){}DocumentFragment.prototype.nodeName="#document-fragment";DocumentFragment.prototype.nodeType=DOCUMENT_FRAGMENT_NODE;_extends(DocumentFragment,Node$2);function ProcessingInstruction(){}ProcessingInstruction.prototype.nodeType=PROCESSING_INSTRUCTION_NODE;_extends(ProcessingInstruction,Node$2);function XMLSerializer(){}XMLSerializer.prototype.serializeToString=function(n,e,r){return nodeSerializeToString.call(n,e,r)};Node$2.prototype.toString=nodeSerializeToString;function nodeSerializeToString(n,e){var r=[],s=this.nodeType==9&&this.documentElement||this,a=s.prefix,l=s.namespaceURI;if(l&&a==null){var a=s.lookupPrefix(l);if(a==null)var f=[{namespace:l,prefix:null}]}return serializeToString(this,r,n,e,f),r.join("")}function needNamespaceDefine(n,e,r){var s=n.prefix||"",a=n.namespaceURI;if(!a||s==="xml"&&a===NAMESPACE$2.XML||a===NAMESPACE$2.XMLNS)return!1;for(var l=r.length;l--;){var f=r[l];if(f.prefix===s)return f.namespace!==a}return!0}function addSerializedAttribute(n,e,r){n.push(" ",e,'="',r.replace(/[<>&"\t\n\r]/g,_xmlEncoder),'"')}function serializeToString(n,e,r,s,a){if(a||(a=[]),s)if(n=s(n),n){if(typeof n=="string"){e.push(n);return}}else return;switch(n.nodeType){case ELEMENT_NODE:var l=n.attributes,f=l.length,ne=n.firstChild,c=n.tagName;r=NAMESPACE$2.isHTML(n.namespaceURI)||r;var d=c;if(!r&&!n.prefix&&n.namespaceURI){for(var g,b=0;b<l.length;b++)if(l.item(b).name==="xmlns"){g=l.item(b).value;break}if(!g)for(var m=a.length-1;m>=0;m--){var _=a[m];if(_.prefix===""&&_.namespace===n.namespaceURI){g=_.namespace;break}}if(g!==n.namespaceURI)for(var m=a.length-1;m>=0;m--){var _=a[m];if(_.namespace===n.namespaceURI){_.prefix&&(d=_.prefix+":"+c);break}}}e.push("<",d);for(var x=0;x<f;x++){var k=l.item(x);k.prefix=="xmlns"?a.push({prefix:k.localName,namespace:k.value}):k.nodeName=="xmlns"&&a.push({prefix:"",namespace:k.value})}for(var x=0;x<f;x++){var k=l.item(x);if(needNamespaceDefine(k,r,a)){var q=k.prefix||"",j=k.namespaceURI;addSerializedAttribute(e,q?"xmlns:"+q:"xmlns",j),a.push({prefix:q,namespace:j})}serializeToString(k,e,r,s,a)}if(c===d&&needNamespaceDefine(n,r,a)){var q=n.prefix||"",j=n.namespaceURI;addSerializedAttribute(e,q?"xmlns:"+q:"xmlns",j),a.push({prefix:q,namespace:j})}if(ne||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(e.push(">"),r&&/^script$/i.test(c))for(;ne;)ne.data?e.push(ne.data):serializeToString(ne,e,r,s,a.slice()),ne=ne.nextSibling;else for(;ne;)serializeToString(ne,e,r,s,a.slice()),ne=ne.nextSibling;e.push("</",d,">")}else e.push("/>");return;case DOCUMENT_NODE:case DOCUMENT_FRAGMENT_NODE:for(var ne=n.firstChild;ne;)serializeToString(ne,e,r,s,a.slice()),ne=ne.nextSibling;return;case ATTRIBUTE_NODE:return addSerializedAttribute(e,n.name,n.value);case TEXT_NODE:return e.push(n.data.replace(/[<&>]/g,_xmlEncoder));case CDATA_SECTION_NODE:return e.push("<![CDATA[",n.data,"]]>");case COMMENT_NODE:return e.push("<!--",n.data,"-->");case DOCUMENT_TYPE_NODE:var se=n.publicId,le=n.systemId;if(e.push("<!DOCTYPE ",n.name),se)e.push(" PUBLIC ",se),le&&le!="."&&e.push(" ",le),e.push(">");else if(le&&le!=".")e.push(" SYSTEM ",le,">");else{var ue=n.internalSubset;ue&&e.push(" [",ue,"]"),e.push(">")}return;case PROCESSING_INSTRUCTION_NODE:return e.push("<?",n.target," ",n.data,"?>");case ENTITY_REFERENCE_NODE:return e.push("&",n.nodeName,";");default:e.push("??",n.nodeName)}}function importNode(n,e,r){var s;switch(e.nodeType){case ELEMENT_NODE:s=e.cloneNode(!1),s.ownerDocument=n;case DOCUMENT_FRAGMENT_NODE:break;case ATTRIBUTE_NODE:r=!0;break}if(s||(s=e.cloneNode(!1)),s.ownerDocument=n,s.parentNode=null,r)for(var a=e.firstChild;a;)s.appendChild(importNode(n,a,r)),a=a.nextSibling;return s}function cloneNode(n,e,r){var s=new e.constructor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var l=e[a];typeof l!="object"&&l!=s[a]&&(s[a]=l)}switch(e.childNodes&&(s.childNodes=new NodeList),s.ownerDocument=n,s.nodeType){case ELEMENT_NODE:var f=e.attributes,c=s.attributes=new NamedNodeMap,d=f.length;c._ownerElement=s;for(var g=0;g<d;g++)s.setAttributeNode(cloneNode(n,f.item(g),!0));break;case ATTRIBUTE_NODE:r=!0}if(r)for(var b=e.firstChild;b;)s.appendChild(cloneNode(n,b,r)),b=b.nextSibling;return s}function __set__(n,e,r){n[e]=r}try{if(Object.defineProperty){let n=function(e){switch(e.nodeType){case ELEMENT_NODE:case DOCUMENT_FRAGMENT_NODE:var r=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&r.push(n(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}};Object.defineProperty(LiveNodeList.prototype,"length",{get:function(){return _updateLiveList(this),this.$$length}}),Object.defineProperty(Node$2.prototype,"textContent",{get:function(){return n(this)},set:function(e){switch(this.nodeType){case ELEMENT_NODE:case DOCUMENT_FRAGMENT_NODE:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),__set__=function(e,r,s){e["$$"+r]=s}}}catch{}dom$1.DocumentType=DocumentType;dom$1.DOMException=DOMException$1;dom$1.DOMImplementation=DOMImplementation$1;dom$1.Element=Element$1;dom$1.Node=Node$2;dom$1.NodeList=NodeList;dom$1.XMLSerializer=XMLSerializer;var domParser={},entities$1={};(function(n){var e=conventions$2.freeze;n.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),n.HTML_ENTITIES=e({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}),n.entityMap=n.HTML_ENTITIES})(entities$1);var sax$1={},NAMESPACE$1=conventions$2.NAMESPACE,nameStartChar=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,nameChar=new RegExp("[\\-\\.0-9"+nameStartChar.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),tagNamePattern=new RegExp("^"+nameStartChar.source+nameChar.source+"*(?::"+nameStartChar.source+nameChar.source+"*)?$"),S_TAG=0,S_ATTR=1,S_ATTR_SPACE=2,S_EQ=3,S_ATTR_NOQUOT_VALUE=4,S_ATTR_END=5,S_TAG_SPACE=6,S_TAG_CLOSE=7;function ParseError$1(n,e){this.message=n,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,ParseError$1)}ParseError$1.prototype=new Error;ParseError$1.prototype.name=ParseError$1.name;function XMLReader$1(){}XMLReader$1.prototype={parse:function(n,e,r){var s=this.domBuilder;s.startDocument(),_copy(e,e={}),parse$3(n,e,r,s,this.errorHandler),s.endDocument()}};function parse$3(n,e,r,s,a){function l(ze){if(ze>65535){ze-=65536;var Ge=55296+(ze>>10),Je=56320+(ze&1023);return String.fromCharCode(Ge,Je)}else return String.fromCharCode(ze)}function f(ze){var Ge=ze.slice(1,-1);return Object.hasOwnProperty.call(r,Ge)?r[Ge]:Ge.charAt(0)==="#"?l(parseInt(Ge.substr(1).replace("x","0x"))):(a.error("entity not found:"+ze),ze)}function c(ze){if(ze>q){var Ge=n.substring(q,ze).replace(/&#?\w+;/g,f);_&&d(q),s.characters(Ge,0,ze-q),q=ze}}function d(ze,Ge){for(;ze>=b&&(Ge=m.exec(n));)g=Ge.index,b=g+Ge[0].length,_.lineNumber++;_.columnNumber=ze-g+1}for(var g=0,b=0,m=/.*(?:\r\n?|\n)|.*$/g,_=s.locator,x=[{currentNSMap:e}],k={},q=0;;){try{var j=n.indexOf("<",q);if(j<0){if(!n.substr(q).match(/^\s*$/)){var ne=s.doc,se=ne.createTextNode(n.substr(q));ne.appendChild(se),s.currentElement=se}return}switch(j>q&&c(j),n.charAt(j+1)){case"/":var He=n.indexOf(">",j+3),le=n.substring(j+2,He).replace(/[ \t\n\r]+$/g,""),ue=x.pop();He<0?(le=n.substring(j+2).replace(/[\s<].*/,""),a.error("end tag name: "+le+" is not complete:"+ue.tagName),He=j+1+le.length):le.match(/\s</)&&(le=le.replace(/[\s<].*/,""),a.error("end tag name: "+le+" maybe not complete"),He=j+1+le.length);var he=ue.localNSMap,ge=ue.tagName==le,ve=ge||ue.tagName&&ue.tagName.toLowerCase()==le.toLowerCase();if(ve){if(s.endElement(ue.uri,ue.localName,le),he)for(var _e in he)Object.prototype.hasOwnProperty.call(he,_e)&&s.endPrefixMapping(_e);ge||a.fatalError("end tag name: "+le+" is not match the current start tagName:"+ue.tagName)}else x.push(ue);He++;break;case"?":_&&d(j),He=parseInstruction(n,j,s);break;case"!":_&&d(j),He=parseDCC(n,j,s,a);break;default:_&&d(j);var ye=new ElementAttributes,be=x[x.length-1].currentNSMap,He=parseElementStartPart(n,j,ye,be,f,a),Oe=ye.length;if(!ye.closed&&fixSelfClosed(n,He,ye.tagName,k)&&(ye.closed=!0,r.nbsp||a.warning("unclosed xml attribute")),_&&Oe){for(var Fe=copyLocator(_,{}),De=0;De<Oe;De++){var We=ye[De];d(We.offset),We.locator=copyLocator(_,{})}s.locator=Fe,appendElement$1(ye,s,be)&&x.push(ye),s.locator=_}else appendElement$1(ye,s,be)&&x.push(ye);NAMESPACE$1.isHTML(ye.uri)&&!ye.closed?He=parseHtmlSpecialContent(n,He,ye.tagName,f,s):He++}}catch(ze){if(ze instanceof ParseError$1)throw ze;a.error("element parse error: "+ze),He=-1}He>q?q=He:c(Math.max(j,q)+1)}}function copyLocator(n,e){return e.lineNumber=n.lineNumber,e.columnNumber=n.columnNumber,e}function parseElementStartPart(n,e,r,s,a,l){function f(_,x,k){r.attributeNames.hasOwnProperty(_)&&l.fatalError("Attribute "+_+" redefined"),r.addValue(_,x.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,a),k)}for(var c,d,g=++e,b=S_TAG;;){var m=n.charAt(g);switch(m){case"=":if(b===S_ATTR)c=n.slice(e,g),b=S_EQ;else if(b===S_ATTR_SPACE)b=S_EQ;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(b===S_EQ||b===S_ATTR)if(b===S_ATTR&&(l.warning('attribute value must after "="'),c=n.slice(e,g)),e=g+1,g=n.indexOf(m,e),g>0)d=n.slice(e,g),f(c,d,e-1),b=S_ATTR_END;else throw new Error("attribute value no end '"+m+"' match");else if(b==S_ATTR_NOQUOT_VALUE)d=n.slice(e,g),f(c,d,e),l.warning('attribute "'+c+'" missed start quot('+m+")!!"),e=g+1,b=S_ATTR_END;else throw new Error('attribute value must after "="');break;case"/":switch(b){case S_TAG:r.setTagName(n.slice(e,g));case S_ATTR_END:case S_TAG_SPACE:case S_TAG_CLOSE:b=S_TAG_CLOSE,r.closed=!0;case S_ATTR_NOQUOT_VALUE:case S_ATTR:case S_ATTR_SPACE:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return l.error("unexpected end of input"),b==S_TAG&&r.setTagName(n.slice(e,g)),g;case">":switch(b){case S_TAG:r.setTagName(n.slice(e,g));case S_ATTR_END:case S_TAG_SPACE:case S_TAG_CLOSE:break;case S_ATTR_NOQUOT_VALUE:case S_ATTR:d=n.slice(e,g),d.slice(-1)==="/"&&(r.closed=!0,d=d.slice(0,-1));case S_ATTR_SPACE:b===S_ATTR_SPACE&&(d=c),b==S_ATTR_NOQUOT_VALUE?(l.warning('attribute "'+d+'" missed quot(")!'),f(c,d,e)):((!NAMESPACE$1.isHTML(s[""])||!d.match(/^(?:disabled|checked|selected)$/i))&&l.warning('attribute "'+d+'" missed value!! "'+d+'" instead!!'),f(d,d,e));break;case S_EQ:throw new Error("attribute value missed!!")}return g;case"":m=" ";default:if(m<=" ")switch(b){case S_TAG:r.setTagName(n.slice(e,g)),b=S_TAG_SPACE;break;case S_ATTR:c=n.slice(e,g),b=S_ATTR_SPACE;break;case S_ATTR_NOQUOT_VALUE:var d=n.slice(e,g);l.warning('attribute "'+d+'" missed quot(")!!'),f(c,d,e);case S_ATTR_END:b=S_TAG_SPACE;break}else switch(b){case S_ATTR_SPACE:r.tagName,(!NAMESPACE$1.isHTML(s[""])||!c.match(/^(?:disabled|checked|selected)$/i))&&l.warning('attribute "'+c+'" missed value!! "'+c+'" instead2!!'),f(c,c,e),e=g,b=S_ATTR;break;case S_ATTR_END:l.warning('attribute space is required"'+c+'"!!');case S_TAG_SPACE:b=S_ATTR,e=g;break;case S_EQ:b=S_ATTR_NOQUOT_VALUE,e=g;break;case S_TAG_CLOSE:throw new Error("elements closed character '/' and '>' must be connected to")}}g++}}function appendElement$1(n,e,r){for(var s=n.tagName,a=null,m=n.length;m--;){var l=n[m],f=l.qName,c=l.value,_=f.indexOf(":");if(_>0)var d=l.prefix=f.slice(0,_),g=f.slice(_+1),b=d==="xmlns"&&g;else g=f,d=null,b=f==="xmlns"&&"";l.localName=g,b!==!1&&(a==null&&(a={},_copy(r,r={})),r[b]=a[b]=c,l.uri=NAMESPACE$1.XMLNS,e.startPrefixMapping(b,c))}for(var m=n.length;m--;){l=n[m];var d=l.prefix;d&&(d==="xml"&&(l.uri=NAMESPACE$1.XML),d!=="xmlns"&&(l.uri=r[d||""]))}var _=s.indexOf(":");_>0?(d=n.prefix=s.slice(0,_),g=n.localName=s.slice(_+1)):(d=null,g=n.localName=s);var x=n.uri=r[d||""];if(e.startElement(x,g,s,n),n.closed){if(e.endElement(x,g,s),a)for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&e.endPrefixMapping(d)}else return n.currentNSMap=r,n.localNSMap=a,!0}function parseHtmlSpecialContent(n,e,r,s,a){if(/^(?:script|textarea)$/i.test(r)){var l=n.indexOf("</"+r+">",e),f=n.substring(e+1,l);if(/[&<]/.test(f))return/^script$/i.test(r)?(a.characters(f,0,f.length),l):(f=f.replace(/&#?\w+;/g,s),a.characters(f,0,f.length),l)}return e+1}function fixSelfClosed(n,e,r,s){var a=s[r];return a==null&&(a=n.lastIndexOf("</"+r+">"),a<e&&(a=n.lastIndexOf("</"+r)),s[r]=a),a<e}function _copy(n,e){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}function parseDCC(n,e,r,s){var a=n.charAt(e+2);switch(a){case"-":if(n.charAt(e+3)==="-"){var l=n.indexOf("-->",e+4);return l>e?(r.comment(n,e+4,l-e-4),l+3):(s.error("Unclosed comment"),-1)}else return-1;default:if(n.substr(e+3,6)=="CDATA["){var l=n.indexOf("]]>",e+9);return r.startCDATA(),r.characters(n,e+9,l-e-9),r.endCDATA(),l+3}var f=split(n,e),c=f.length;if(c>1&&/!doctype/i.test(f[0][0])){var d=f[1][0],g=!1,b=!1;c>3&&(/^public$/i.test(f[2][0])?(g=f[3][0],b=c>4&&f[4][0]):/^system$/i.test(f[2][0])&&(b=f[3][0]));var m=f[c-1];return r.startDTD(d,g,b),r.endDTD(),m.index+m[0].length}}return-1}function parseInstruction(n,e,r){var s=n.indexOf("?>",e);if(s){var a=n.substring(e,s).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return a?(a[0].length,r.processingInstruction(a[1],a[2]),s+2):-1}return-1}function ElementAttributes(){this.attributeNames={}}ElementAttributes.prototype={setTagName:function(n){if(!tagNamePattern.test(n))throw new Error("invalid tagName:"+n);this.tagName=n},addValue:function(n,e,r){if(!tagNamePattern.test(n))throw new Error("invalid attribute:"+n);this.attributeNames[n]=this.length,this[this.length++]={qName:n,value:e,offset:r}},length:0,getLocalName:function(n){return this[n].localName},getLocator:function(n){return this[n].locator},getQName:function(n){return this[n].qName},getURI:function(n){return this[n].uri},getValue:function(n){return this[n].value}};function split(n,e){var r,s=[],a=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(a.lastIndex=e,a.exec(n);r=a.exec(n);)if(s.push(r),r[1])return s}sax$1.XMLReader=XMLReader$1;sax$1.ParseError=ParseError$1;var conventions=conventions$2,dom=dom$1,entities=entities$1,sax=sax$1,DOMImplementation=dom.DOMImplementation,NAMESPACE=conventions.NAMESPACE,ParseError=sax.ParseError,XMLReader=sax.XMLReader;function normalizeLineEndings(n){return n.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function DOMParser$1(n){this.options=n||{locator:{}}}DOMParser$1.prototype.parseFromString=function(n,e){var r=this.options,s=new XMLReader,a=r.domBuilder||new DOMHandler,l=r.errorHandler,f=r.locator,c=r.xmlns||{},d=/\/x?html?$/.test(e),g=d?entities.HTML_ENTITIES:entities.XML_ENTITIES;f&&a.setDocumentLocator(f),s.errorHandler=buildErrorHandler(l,a,f),s.domBuilder=r.domBuilder||a,d&&(c[""]=NAMESPACE.HTML),c.xml=c.xml||NAMESPACE.XML;var b=r.normalizeLineEndings||normalizeLineEndings;return n&&typeof n=="string"?s.parse(b(n),c,g):s.errorHandler.error("invalid doc source"),a.doc};function buildErrorHandler(n,e,r){if(!n){if(e instanceof DOMHandler)return e;n=e}var s={},a=n instanceof Function;r=r||{};function l(f){var c=n[f];!c&&a&&(c=n.length==2?function(d){n(f,d)}:n),s[f]=c&&function(d){c("[xmldom "+f+"]	"+d+_locator(r))}||function(){}}return l("warning"),l("error"),l("fatalError"),s}function DOMHandler(){this.cdata=!1}function position(n,e){e.lineNumber=n.lineNumber,e.columnNumber=n.columnNumber}DOMHandler.prototype={startDocument:function(){this.doc=new DOMImplementation().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(n,e,r,s){var a=this.doc,l=a.createElementNS(n,r||e),f=s.length;appendElement(this,l),this.currentElement=l,this.locator&&position(this.locator,l);for(var c=0;c<f;c++){var n=s.getURI(c),d=s.getValue(c),r=s.getQName(c),g=a.createAttributeNS(n,r);this.locator&&position(s.getLocator(c),g),g.value=g.nodeValue=d,l.setAttributeNode(g)}},endElement:function(n,e,r){var s=this.currentElement;s.tagName,this.currentElement=s.parentNode},startPrefixMapping:function(n,e){},endPrefixMapping:function(n){},processingInstruction:function(n,e){var r=this.doc.createProcessingInstruction(n,e);this.locator&&position(this.locator,r),appendElement(this,r)},ignorableWhitespace:function(n,e,r){},characters:function(n,e,r){if(n=_toString.apply(this,arguments),n){if(this.cdata)var s=this.doc.createCDATASection(n);else var s=this.doc.createTextNode(n);this.currentElement?this.currentElement.appendChild(s):/^\s*$/.test(n)&&this.doc.appendChild(s),this.locator&&position(this.locator,s)}},skippedEntity:function(n){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(n){(this.locator=n)&&(n.lineNumber=0)},comment:function(n,e,r){n=_toString.apply(this,arguments);var s=this.doc.createComment(n);this.locator&&position(this.locator,s),appendElement(this,s)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(n,e,r){var s=this.doc.implementation;if(s&&s.createDocumentType){var a=s.createDocumentType(n,e,r);this.locator&&position(this.locator,a),appendElement(this,a),this.doc.doctype=a}},warning:function(n){console.warn("[xmldom warning]	"+n,_locator(this.locator))},error:function(n){console.error("[xmldom error]	"+n,_locator(this.locator))},fatalError:function(n){throw new ParseError(n,this.locator)}};function _locator(n){if(n)return`
@`+(n.systemId||"")+"#[line:"+n.lineNumber+",col:"+n.columnNumber+"]"}function _toString(n,e,r){return typeof n=="string"?n.substr(e,r):n.length>=e+r||e?new java.lang.String(n,e,r)+"":n}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(n){DOMHandler.prototype[n]=function(){return null}});function appendElement(n,e){n.currentElement?n.currentElement.appendChild(e):n.doc.appendChild(e)}domParser.__DOMHandler=DOMHandler;domParser.normalizeLineEndings=normalizeLineEndings;domParser.DOMParser=DOMParser$1;var DOMParser=domParser.DOMParser;/*! @name mpd-parser @version 0.22.1 @license Apache-2.0 */var isObject$3=function(e){return!!e&&typeof e=="object"},merge$1=function n(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return r.reduce(function(a,l){return typeof l!="object"||Object.keys(l).forEach(function(f){Array.isArray(a[f])&&Array.isArray(l[f])?a[f]=a[f].concat(l[f]):isObject$3(a[f])&&isObject$3(l[f])?a[f]=n(a[f],l[f]):a[f]=l[f]}),a},{})},values=function(e){return Object.keys(e).map(function(r){return e[r]})},range=function(e,r){for(var s=[],a=e;a<r;a++)s.push(a);return s},flatten=function(e){return e.reduce(function(r,s){return r.concat(s)},[])},from=function(e){if(!e.length)return[];for(var r=[],s=0;s<e.length;s++)r.push(e[s]);return r},findIndexes=function(e,r){return e.reduce(function(s,a,l){return a[r]&&s.push(l),s},[])},findIndex=function(e,r){for(var s=0;s<e.length;s++)if(r(e[s]))return s;return-1},union=function(e,r){return values(e.reduce(function(s,a){return a.forEach(function(l){s[r(l)]=l}),s},{}))},errors={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},urlTypeToSegment=function(e){var r=e.baseUrl,s=r===void 0?"":r,a=e.source,l=a===void 0?"":a,f=e.range,c=f===void 0?"":f,d=e.indexRange,g=d===void 0?"":d,b={uri:l,resolvedUri:resolveUrl$1(s||"",l)};if(c||g){var m=c||g,_=m.split("-"),x=window_1.BigInt?window_1.BigInt(_[0]):parseInt(_[0],10),k=window_1.BigInt?window_1.BigInt(_[1]):parseInt(_[1],10);x<Number.MAX_SAFE_INTEGER&&typeof x=="bigint"&&(x=Number(x)),k<Number.MAX_SAFE_INTEGER&&typeof k=="bigint"&&(k=Number(k));var q;typeof k=="bigint"||typeof x=="bigint"?q=window_1.BigInt(k)-window_1.BigInt(x)+window_1.BigInt(1):q=k-x+1,typeof q=="bigint"&&q<Number.MAX_SAFE_INTEGER&&(q=Number(q)),b.byterange={length:q,offset:x}}return b},byteRangeToString=function(e){var r;return typeof e.offset=="bigint"||typeof e.length=="bigint"?r=window_1.BigInt(e.offset)+window_1.BigInt(e.length)-window_1.BigInt(1):r=e.offset+e.length-1,e.offset+"-"+r},parseEndNumber=function(e){return e&&typeof e!="number"&&(e=parseInt(e,10)),isNaN(e)?null:e},segmentRange={static:function(e){var r=e.duration,s=e.timescale,a=s===void 0?1:s,l=e.sourceDuration,f=e.periodDuration,c=parseEndNumber(e.endNumber),d=r/a;return typeof c=="number"?{start:0,end:c}:typeof f=="number"?{start:0,end:f/d}:{start:0,end:l/d}},dynamic:function(e){var r=e.NOW,s=e.clientOffset,a=e.availabilityStartTime,l=e.timescale,f=l===void 0?1:l,c=e.duration,d=e.periodStart,g=d===void 0?0:d,b=e.minimumUpdatePeriod,m=b===void 0?0:b,_=e.timeShiftBufferDepth,x=_===void 0?1/0:_,k=parseEndNumber(e.endNumber),q=(r+s)/1e3,j=a+g,ne=q+m,se=ne-j,le=Math.ceil(se*f/c),ue=Math.floor((q-j-x)*f/c),he=Math.floor((q-j)*f/c);return{start:Math.max(0,ue),end:typeof k=="number"?k:Math.min(le,he)}}},toSegments=function(e){return function(r){var s=e.duration,a=e.timescale,l=a===void 0?1:a,f=e.periodStart,c=e.startNumber,d=c===void 0?1:c;return{number:d+r,duration:s/l,timeline:f,time:r*s}}},parseByDuration=function(e){var r=e.type,s=e.duration,a=e.timescale,l=a===void 0?1:a,f=e.periodDuration,c=e.sourceDuration,d=segmentRange[r](e),g=d.start,b=d.end,m=range(g,b).map(toSegments(e));if(r==="static"){var _=m.length-1,x=typeof f=="number"?f:c;m[_].duration=x-s/l*_}return m},segmentsFromBase=function(e){var r=e.baseUrl,s=e.initialization,a=s===void 0?{}:s,l=e.sourceDuration,f=e.indexRange,c=f===void 0?"":f,d=e.periodStart,g=e.presentationTime,b=e.number,m=b===void 0?0:b,_=e.duration;if(!r)throw new Error(errors.NO_BASE_URL);var x=urlTypeToSegment({baseUrl:r,source:a.sourceURL,range:a.range}),k=urlTypeToSegment({baseUrl:r,source:r,indexRange:c});if(k.map=x,_){var q=parseByDuration(e);q.length&&(k.duration=q[0].duration,k.timeline=q[0].timeline)}else l&&(k.duration=l,k.timeline=d);return k.presentationTime=g||d,k.number=m,[k]},addSidxSegmentsToPlaylist$1=function(e,r,s){var a=e.sidx.map?e.sidx.map:null,l=e.sidx.duration,f=e.timeline||0,c=e.sidx.byterange,d=c.offset+c.length,g=r.timescale,b=r.references.filter(function(ye){return ye.referenceType!==1}),m=[],_=e.endList?"static":"dynamic",x=e.sidx.timeline,k=x,q=e.mediaSequence||0,j;typeof r.firstOffset=="bigint"?j=window_1.BigInt(d)+r.firstOffset:j=d+r.firstOffset;for(var ne=0;ne<b.length;ne++){var se=r.references[ne],le=se.referencedSize,ue=se.subsegmentDuration,he=void 0;typeof j=="bigint"?he=j+window_1.BigInt(le)-window_1.BigInt(1):he=j+le-1;var ge=j+"-"+he,ve={baseUrl:s,timescale:g,timeline:f,periodStart:x,presentationTime:k,number:q,duration:ue,sourceDuration:l,indexRange:ge,type:_},_e=segmentsFromBase(ve)[0];a&&(_e.map=a),m.push(_e),typeof j=="bigint"?j+=window_1.BigInt(le):j+=le,k+=ue/g,q++}return e.segments=m,e},SUPPORTED_MEDIA_TYPES=["AUDIO","SUBTITLES"],TIME_FUDGE=1/60,getUniqueTimelineStarts=function(e){return union(e,function(r){var s=r.timeline;return s}).sort(function(r,s){return r.timeline>s.timeline?1:-1})},findPlaylistWithName=function(e,r){for(var s=0;s<e.length;s++)if(e[s].attributes.NAME===r)return e[s];return null},getMediaGroupPlaylists=function(e){var r=[];return forEachMediaGroup$1(e,SUPPORTED_MEDIA_TYPES,function(s,a,l,f){r=r.concat(s.playlists||[])}),r},updateMediaSequenceForPlaylist=function(e){var r=e.playlist,s=e.mediaSequence;r.mediaSequence=s,r.segments.forEach(function(a,l){a.number=r.mediaSequence+l})},updateSequenceNumbers=function(e){var r=e.oldPlaylists,s=e.newPlaylists,a=e.timelineStarts;s.forEach(function(l){l.discontinuitySequence=findIndex(a,function(b){var m=b.timeline;return m===l.timeline});var f=findPlaylistWithName(r,l.attributes.NAME);if(f&&!l.sidx){var c=l.segments[0],d=findIndex(f.segments,function(b){return Math.abs(b.presentationTime-c.presentationTime)<TIME_FUDGE});if(d===-1){updateMediaSequenceForPlaylist({playlist:l,mediaSequence:f.mediaSequence+f.segments.length}),l.segments[0].discontinuity=!0,l.discontinuityStarts.unshift(0),(!f.segments.length&&l.timeline>f.timeline||f.segments.length&&l.timeline>f.segments[f.segments.length-1].timeline)&&l.discontinuitySequence--;return}var g=f.segments[d];g.discontinuity&&!c.discontinuity&&(c.discontinuity=!0,l.discontinuityStarts.unshift(0),l.discontinuitySequence--),updateMediaSequenceForPlaylist({playlist:l,mediaSequence:f.segments[d].number})}})},positionManifestOnTimeline=function(e){var r=e.oldManifest,s=e.newManifest,a=r.playlists.concat(getMediaGroupPlaylists(r)),l=s.playlists.concat(getMediaGroupPlaylists(s));return s.timelineStarts=getUniqueTimelineStarts([r.timelineStarts,s.timelineStarts]),updateSequenceNumbers({oldPlaylists:a,newPlaylists:l,timelineStarts:s.timelineStarts}),s},generateSidxKey=function(e){return e&&e.uri+"-"+byteRangeToString(e.byterange)},mergeDiscontiguousPlaylists=function(e){var r=values(e.reduce(function(s,a){var l=a.attributes.id+(a.attributes.lang||"");if(!s[l])s[l]=a,s[l].attributes.timelineStarts=[];else{if(a.segments){var f;a.segments[0]&&(a.segments[0].discontinuity=!0),(f=s[l].segments).push.apply(f,a.segments)}a.attributes.contentProtection&&(s[l].attributes.contentProtection=a.attributes.contentProtection)}return s[l].attributes.timelineStarts.push({start:a.attributes.periodStart,timeline:a.attributes.periodStart}),s},{}));return r.map(function(s){return s.discontinuityStarts=findIndexes(s.segments||[],"discontinuity"),s})},addSidxSegmentsToPlaylist=function(e,r){var s=generateSidxKey(e.sidx),a=s&&r[s]&&r[s].sidx;return a&&addSidxSegmentsToPlaylist$1(e,a,e.sidx.resolvedUri),e},addSidxSegmentsToPlaylists=function(e,r){if(r===void 0&&(r={}),!Object.keys(r).length)return e;for(var s in e)e[s]=addSidxSegmentsToPlaylist(e[s],r);return e},formatAudioPlaylist=function(e,r){var s,a=e.attributes,l=e.segments,f=e.sidx,c=e.mediaSequence,d=e.discontinuitySequence,g=e.discontinuityStarts,b={attributes:(s={NAME:a.id,BANDWIDTH:a.bandwidth,CODECS:a.codecs},s["PROGRAM-ID"]=1,s),uri:"",endList:a.type==="static",timeline:a.periodStart,resolvedUri:"",targetDuration:a.duration,discontinuitySequence:d,discontinuityStarts:g,timelineStarts:a.timelineStarts,mediaSequence:c,segments:l};return a.contentProtection&&(b.contentProtection=a.contentProtection),f&&(b.sidx=f),r&&(b.attributes.AUDIO="audio",b.attributes.SUBTITLES="subs"),b},formatVttPlaylist=function(e){var r,s=e.attributes,a=e.segments,l=e.mediaSequence,f=e.discontinuityStarts,c=e.discontinuitySequence;typeof a>"u"&&(a=[{uri:s.baseUrl,timeline:s.periodStart,resolvedUri:s.baseUrl||"",duration:s.sourceDuration,number:0}],s.duration=s.sourceDuration);var d=(r={NAME:s.id,BANDWIDTH:s.bandwidth},r["PROGRAM-ID"]=1,r);return s.codecs&&(d.CODECS=s.codecs),{attributes:d,uri:"",endList:s.type==="static",timeline:s.periodStart,resolvedUri:s.baseUrl||"",targetDuration:s.duration,timelineStarts:s.timelineStarts,discontinuityStarts:f,discontinuitySequence:c,mediaSequence:l,segments:a}},organizeAudioPlaylists=function(e,r,s){r===void 0&&(r={}),s===void 0&&(s=!1);var a,l=e.reduce(function(c,d){var g=d.attributes.role&&d.attributes.role.value||"",b=d.attributes.lang||"",m=d.attributes.label||"main";if(b&&!d.attributes.label){var _=g?" ("+g+")":"";m=""+d.attributes.lang+_}c[m]||(c[m]={language:b,autoselect:!0,default:g==="main",playlists:[],uri:""});var x=addSidxSegmentsToPlaylist(formatAudioPlaylist(d,s),r);return c[m].playlists.push(x),typeof a>"u"&&g==="main"&&(a=d,a.default=!0),c},{});if(!a){var f=Object.keys(l)[0];l[f].default=!0}return l},organizeVttPlaylists=function(e,r){return r===void 0&&(r={}),e.reduce(function(s,a){var l=a.attributes.lang||"text";return s[l]||(s[l]={language:l,default:!1,autoselect:!1,playlists:[],uri:""}),s[l].playlists.push(addSidxSegmentsToPlaylist(formatVttPlaylist(a),r)),s},{})},organizeCaptionServices=function(e){return e.reduce(function(r,s){return s&&s.forEach(function(a){var l=a.channel,f=a.language;r[f]={autoselect:!1,default:!1,instreamId:l,language:f},a.hasOwnProperty("aspectRatio")&&(r[f].aspectRatio=a.aspectRatio),a.hasOwnProperty("easyReader")&&(r[f].easyReader=a.easyReader),a.hasOwnProperty("3D")&&(r[f]["3D"]=a["3D"])}),r},{})},formatVideoPlaylist=function(e){var r,s=e.attributes,a=e.segments,l=e.sidx,f=e.discontinuityStarts,c={attributes:(r={NAME:s.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:s.width,height:s.height},CODECS:s.codecs,BANDWIDTH:s.bandwidth},r["PROGRAM-ID"]=1,r),uri:"",endList:s.type==="static",timeline:s.periodStart,resolvedUri:"",targetDuration:s.duration,discontinuityStarts:f,timelineStarts:s.timelineStarts,segments:a};return s.frameRate&&(c.attributes["FRAME-RATE"]=s.frameRate),s.contentProtection&&(c.contentProtection=s.contentProtection),l&&(c.sidx=l),c},videoOnly=function(e){var r=e.attributes;return r.mimeType==="video/mp4"||r.mimeType==="video/webm"||r.contentType==="video"},audioOnly=function(e){var r=e.attributes;return r.mimeType==="audio/mp4"||r.mimeType==="audio/webm"||r.contentType==="audio"},vttOnly=function(e){var r=e.attributes;return r.mimeType==="text/vtt"||r.contentType==="text"},addMediaSequenceValues=function(e,r){e.forEach(function(s){s.mediaSequence=0,s.discontinuitySequence=findIndex(r,function(a){var l=a.timeline;return l===s.timeline}),s.segments&&s.segments.forEach(function(a,l){a.number=l})})},flattenMediaGroupPlaylists=function(e){return e?Object.keys(e).reduce(function(r,s){var a=e[s];return r.concat(a.playlists)},[]):[]},toM3u8=function(e){var r,s=e.dashPlaylists,a=e.locations,l=e.sidxMapping,f=l===void 0?{}:l,c=e.previousManifest;if(!s.length)return{};var d=s[0].attributes,g=d.sourceDuration,b=d.type,m=d.suggestedPresentationDelay,_=d.minimumUpdatePeriod,x=mergeDiscontiguousPlaylists(s.filter(videoOnly)).map(formatVideoPlaylist),k=mergeDiscontiguousPlaylists(s.filter(audioOnly)),q=mergeDiscontiguousPlaylists(s.filter(vttOnly)),j=s.map(function(ve){return ve.attributes.captionServices}).filter(Boolean),ne={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(r={AUDIO:{},VIDEO:{}},r["CLOSED-CAPTIONS"]={},r.SUBTITLES={},r),uri:"",duration:g,playlists:addSidxSegmentsToPlaylists(x,f)};_>=0&&(ne.minimumUpdatePeriod=_*1e3),a&&(ne.locations=a),b==="dynamic"&&(ne.suggestedPresentationDelay=m);var se=ne.playlists.length===0,le=k.length?organizeAudioPlaylists(k,f,se):null,ue=q.length?organizeVttPlaylists(q,f):null,he=x.concat(flattenMediaGroupPlaylists(le),flattenMediaGroupPlaylists(ue)),ge=he.map(function(ve){var _e=ve.timelineStarts;return _e});return ne.timelineStarts=getUniqueTimelineStarts(ge),addMediaSequenceValues(he,ne.timelineStarts),le&&(ne.mediaGroups.AUDIO.audio=le),ue&&(ne.mediaGroups.SUBTITLES.subs=ue),j.length&&(ne.mediaGroups["CLOSED-CAPTIONS"].cc=organizeCaptionServices(j)),c?positionManifestOnTimeline({oldManifest:c,newManifest:ne}):ne},getLiveRValue=function(e,r,s){var a=e.NOW,l=e.clientOffset,f=e.availabilityStartTime,c=e.timescale,d=c===void 0?1:c,g=e.periodStart,b=g===void 0?0:g,m=e.minimumUpdatePeriod,_=m===void 0?0:m,x=(a+l)/1e3,k=f+b,q=x+_,j=q-k;return Math.ceil((j*d-r)/s)},parseByTimeline=function(e,r){for(var s=e.type,a=e.minimumUpdatePeriod,l=a===void 0?0:a,f=e.media,c=f===void 0?"":f,d=e.sourceDuration,g=e.timescale,b=g===void 0?1:g,m=e.startNumber,_=m===void 0?1:m,x=e.periodStart,k=[],q=-1,j=0;j<r.length;j++){var ne=r[j],se=ne.d,le=ne.r||0,ue=ne.t||0;q<0&&(q=ue),ue&&ue>q&&(q=ue);var he=void 0;if(le<0){var ge=j+1;ge===r.length?s==="dynamic"&&l>0&&c.indexOf("$Number$")>0?he=getLiveRValue(e,q,se):he=(d*b-q)/se:he=(r[ge].t-q)/se}else he=le+1;for(var ve=_+k.length+he,_e=_+k.length;_e<ve;)k.push({number:_e,duration:se/b,time:q,timeline:x}),q+=se,_e++}return k},identifierPattern=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,identifierReplacement=function(e){return function(r,s,a,l){if(r==="$$")return"$";if(typeof e[s]>"u")return r;var f=""+e[s];return s==="RepresentationID"||(a?l=parseInt(l,10):l=1,f.length>=l)?f:""+new Array(l-f.length+1).join("0")+f}},constructTemplateUrl=function(e,r){return e.replace(identifierPattern,identifierReplacement(r))},parseTemplateInfo=function(e,r){return!e.duration&&!r?[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]:e.duration?parseByDuration(e):parseByTimeline(e,r)},segmentsFromTemplate=function(e,r){var s={RepresentationID:e.id,Bandwidth:e.bandwidth||0},a=e.initialization,l=a===void 0?{sourceURL:"",range:""}:a,f=urlTypeToSegment({baseUrl:e.baseUrl,source:constructTemplateUrl(l.sourceURL,s),range:l.range}),c=parseTemplateInfo(e,r);return c.map(function(d){s.Number=d.number,s.Time=d.time;var g=constructTemplateUrl(e.media||"",s),b=e.timescale||1,m=e.presentationTimeOffset||0,_=e.periodStart+(d.time-m)/b,x={uri:g,timeline:d.timeline,duration:d.duration,resolvedUri:resolveUrl$1(e.baseUrl||"",g),map:f,number:d.number,presentationTime:_};return x})},SegmentURLToSegmentObject=function(e,r){var s=e.baseUrl,a=e.initialization,l=a===void 0?{}:a,f=urlTypeToSegment({baseUrl:s,source:l.sourceURL,range:l.range}),c=urlTypeToSegment({baseUrl:s,source:r.media,range:r.mediaRange});return c.map=f,c},segmentsFromList=function(e,r){var s=e.duration,a=e.segmentUrls,l=a===void 0?[]:a,f=e.periodStart;if(!s&&!r||s&&r)throw new Error(errors.SEGMENT_TIME_UNSPECIFIED);var c=l.map(function(b){return SegmentURLToSegmentObject(e,b)}),d;s&&(d=parseByDuration(e)),r&&(d=parseByTimeline(e,r));var g=d.map(function(b,m){if(c[m]){var _=c[m],x=e.timescale||1,k=e.presentationTimeOffset||0;return _.timeline=b.timeline,_.duration=b.duration,_.number=b.number,_.presentationTime=f+(b.time-k)/x,_}}).filter(function(b){return b});return g},generateSegments=function(e){var r=e.attributes,s=e.segmentInfo,a,l;s.template?(l=segmentsFromTemplate,a=merge$1(r,s.template)):s.base?(l=segmentsFromBase,a=merge$1(r,s.base)):s.list&&(l=segmentsFromList,a=merge$1(r,s.list));var f={attributes:r};if(!l)return f;var c=l(a,s.segmentTimeline);if(a.duration){var d=a,g=d.duration,b=d.timescale,m=b===void 0?1:b;a.duration=g/m}else c.length?a.duration=c.reduce(function(_,x){return Math.max(_,Math.ceil(x.duration))},0):a.duration=0;return f.attributes=a,f.segments=c,s.base&&a.indexRange&&(f.sidx=c[0],f.segments=[]),f},toPlaylists=function(e){return e.map(generateSegments)},findChildren=function(e,r){return from(e.childNodes).filter(function(s){var a=s.tagName;return a===r})},getContent=function(e){return e.textContent.trim()},parseDivisionValue=function(e){return parseFloat(e.split("/").reduce(function(r,s){return r/s}))},parseDuration=function(e){var r=31536e3,s=30*24*60*60,a=24*60*60,l=60*60,f=60,c=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,d=c.exec(e);if(!d)return 0;var g=d.slice(1),b=g[0],m=g[1],_=g[2],x=g[3],k=g[4],q=g[5];return parseFloat(b||0)*r+parseFloat(m||0)*s+parseFloat(_||0)*a+parseFloat(x||0)*l+parseFloat(k||0)*f+parseFloat(q||0)},parseDate=function(e){var r=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return r.test(e)&&(e+="Z"),Date.parse(e)},parsers={mediaPresentationDuration:function(e){return parseDuration(e)},availabilityStartTime:function(e){return parseDate(e)/1e3},minimumUpdatePeriod:function(e){return parseDuration(e)},suggestedPresentationDelay:function(e){return parseDuration(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return parseDuration(e)},start:function(e){return parseDuration(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},frameRate:function(e){return parseDivisionValue(e)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var r=parseInt(e,10);return isNaN(r)?parseDuration(e):r},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},parseAttributes=function(e){return e&&e.attributes?from(e.attributes).reduce(function(r,s){var a=parsers[s.name]||parsers.DEFAULT;return r[s.name]=a(s.value),r},{}):{}},keySystemsMap={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},buildBaseUrls=function(e,r){return r.length?flatten(e.map(function(s){return r.map(function(a){return resolveUrl$1(s,getContent(a))})})):e},getSegmentInformation=function(e){var r=findChildren(e,"SegmentTemplate")[0],s=findChildren(e,"SegmentList")[0],a=s&&findChildren(s,"SegmentURL").map(function(_){return merge$1({tag:"SegmentURL"},parseAttributes(_))}),l=findChildren(e,"SegmentBase")[0],f=s||r,c=f&&findChildren(f,"SegmentTimeline")[0],d=s||l||r,g=d&&findChildren(d,"Initialization")[0],b=r&&parseAttributes(r);b&&g?b.initialization=g&&parseAttributes(g):b&&b.initialization&&(b.initialization={sourceURL:b.initialization});var m={template:b,segmentTimeline:c&&findChildren(c,"S").map(function(_){return parseAttributes(_)}),list:s&&merge$1(parseAttributes(s),{segmentUrls:a,initialization:parseAttributes(g)}),base:l&&merge$1(parseAttributes(l),{initialization:parseAttributes(g)})};return Object.keys(m).forEach(function(_){m[_]||delete m[_]}),m},inheritBaseUrls=function(e,r,s){return function(a){var l=findChildren(a,"BaseURL"),f=buildBaseUrls(r,l),c=merge$1(e,parseAttributes(a)),d=getSegmentInformation(a);return f.map(function(g){return{segmentInfo:merge$1(s,d),attributes:merge$1(c,{baseUrl:g})}})}},generateKeySystemInformation=function(e){return e.reduce(function(r,s){var a=parseAttributes(s);a.schemeIdUri&&(a.schemeIdUri=a.schemeIdUri.toLowerCase());var l=keySystemsMap[a.schemeIdUri];if(l){r[l]={attributes:a};var f=findChildren(s,"cenc:pssh")[0];if(f){var c=getContent(f);r[l].pssh=c&&decodeB64ToUint8Array(c)}}return r},{})},parseCaptionServiceMetadata=function(e){if(e.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var r=typeof e.value!="string"?[]:e.value.split(";");return r.map(function(a){var l,f;if(f=a,/^CC\d=/.test(a)){var c=a.split("=");l=c[0],f=c[1]}else/^CC\d$/.test(a)&&(l=a);return{channel:l,language:f}})}else if(e.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var s=typeof e.value!="string"?[]:e.value.split(";");return s.map(function(a){var l={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(a)){var f=a.split("="),c=f[0],d=f[1],g=d===void 0?"":d;l.channel=c,l.language=a,g.split(",").forEach(function(b){var m=b.split(":"),_=m[0],x=m[1];_==="lang"?l.language=x:_==="er"?l.easyReader=Number(x):_==="war"?l.aspectRatio=Number(x):_==="3D"&&(l["3D"]=Number(x))})}else l.language=a;return l.channel&&(l.channel="SERVICE"+l.channel),l})}},toRepresentations=function(e,r,s){return function(a){var l=parseAttributes(a),f=buildBaseUrls(r,findChildren(a,"BaseURL")),c=findChildren(a,"Role")[0],d={role:parseAttributes(c)},g=merge$1(e,l,d),b=findChildren(a,"Accessibility")[0],m=parseCaptionServiceMetadata(parseAttributes(b));m&&(g=merge$1(g,{captionServices:m}));var _=findChildren(a,"Label")[0];if(_&&_.childNodes.length){var x=_.childNodes[0].nodeValue.trim();g=merge$1(g,{label:x})}var k=generateKeySystemInformation(findChildren(a,"ContentProtection"));Object.keys(k).length&&(g=merge$1(g,{contentProtection:k}));var q=getSegmentInformation(a),j=findChildren(a,"Representation"),ne=merge$1(s,q);return flatten(j.map(inheritBaseUrls(g,f,ne)))}},toAdaptationSets=function(e,r){return function(s,a){var l=buildBaseUrls(r,findChildren(s.node,"BaseURL")),f=merge$1(e,{periodStart:s.attributes.start});typeof s.attributes.duration=="number"&&(f.periodDuration=s.attributes.duration);var c=findChildren(s.node,"AdaptationSet"),d=getSegmentInformation(s.node);return flatten(c.map(toRepresentations(f,l,d)))}},getPeriodStart=function(e){var r=e.attributes,s=e.priorPeriodAttributes,a=e.mpdType;return typeof r.start=="number"?r.start:s&&typeof s.start=="number"&&typeof s.duration=="number"?s.start+s.duration:!s&&a==="static"?0:null},inheritAttributes=function(e,r){r===void 0&&(r={});var s=r,a=s.manifestUri,l=a===void 0?"":a,f=s.NOW,c=f===void 0?Date.now():f,d=s.clientOffset,g=d===void 0?0:d,b=findChildren(e,"Period");if(!b.length)throw new Error(errors.INVALID_NUMBER_OF_PERIOD);var m=findChildren(e,"Location"),_=parseAttributes(e),x=buildBaseUrls([l],findChildren(e,"BaseURL"));_.type=_.type||"static",_.sourceDuration=_.mediaPresentationDuration||0,_.NOW=c,_.clientOffset=g,m.length&&(_.locations=m.map(getContent));var k=[];return b.forEach(function(q,j){var ne=parseAttributes(q),se=k[j-1];ne.start=getPeriodStart({attributes:ne,priorPeriodAttributes:se?se.attributes:null,mpdType:_.type}),k.push({node:q,attributes:ne})}),{locations:_.locations,representationInfo:flatten(k.map(toAdaptationSets(_,x)))}},stringToMpdXml=function(e){if(e==="")throw new Error(errors.DASH_EMPTY_MANIFEST);var r=new DOMParser,s,a;try{s=r.parseFromString(e,"application/xml"),a=s&&s.documentElement.tagName==="MPD"?s.documentElement:null}catch{}if(!a||a&&a.getElementsByTagName("parsererror").length>0)throw new Error(errors.DASH_INVALID_XML);return a},parseUTCTimingScheme=function(e){var r=findChildren(e,"UTCTiming")[0];if(!r)return null;var s=parseAttributes(r);switch(s.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":s.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":s.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":s.method="DIRECT",s.value=Date.parse(s.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(errors.UNSUPPORTED_UTC_TIMING_SCHEME)}return s},parse$2=function(e,r){r===void 0&&(r={});var s=inheritAttributes(stringToMpdXml(e),r),a=toPlaylists(s.representationInfo);return toM3u8({dashPlaylists:a,locations:s.locations,sidxMapping:r.sidxMapping,previousManifest:r.previousManifest})},parseUTCTiming=function(e){return parseUTCTimingScheme(stringToMpdXml(e))},MAX_UINT32=Math.pow(2,32),getUint64$1=function(n){var e=new DataView(n.buffer,n.byteOffset,n.byteLength),r;return e.getBigUint64?(r=e.getBigUint64(0),r<Number.MAX_SAFE_INTEGER?Number(r):r):e.getUint32(0)*MAX_UINT32+e.getUint32(4)},numbers={getUint64:getUint64$1,MAX_UINT32},getUint64=numbers.getUint64,parseSidx=function(n){var e=new DataView(n.buffer,n.byteOffset,n.byteLength),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},s=12;r.version===0?(r.earliestPresentationTime=e.getUint32(s),r.firstOffset=e.getUint32(s+4),s+=8):(r.earliestPresentationTime=getUint64(n.subarray(s)),r.firstOffset=getUint64(n.subarray(s+8)),s+=16),s+=2;var a=e.getUint16(s);for(s+=2;a>0;s+=12,a--)r.references.push({referenceType:(n[s]&128)>>>7,referencedSize:e.getUint32(s)&2147483647,subsegmentDuration:e.getUint32(s+4),startsWithSap:!!(n[s+8]&128),sapType:(n[s+8]&112)>>>4,sapDeltaTime:e.getUint32(s+8)&268435455});return r},parseSidx_1=parseSidx,ID3=toUint8([73,68,51]),getId3Size=function(e,r){r===void 0&&(r=0),e=toUint8(e);var s=e[r+5],a=e[r+6]<<21|e[r+7]<<14|e[r+8]<<7|e[r+9],l=(s&16)>>4;return l?a+20:a+10},getId3Offset=function n(e,r){return r===void 0&&(r=0),e=toUint8(e),e.length-r<10||!bytesMatch(e,ID3,{offset:r})?r:(r+=getId3Size(e,r),n(e,r))},normalizePath$1=function(e){return typeof e=="string"?stringToBytes(e):e},normalizePaths$1=function(e){return Array.isArray(e)?e.map(function(r){return normalizePath$1(r)}):[normalizePath$1(e)]},findBox=function n(e,r,s){s===void 0&&(s=!1),r=normalizePaths$1(r),e=toUint8(e);var a=[];if(!r.length)return a;for(var l=0;l<e.length;){var f=(e[l]<<24|e[l+1]<<16|e[l+2]<<8|e[l+3])>>>0,c=e.subarray(l+4,l+8);if(f===0)break;var d=l+f;if(d>e.length){if(s)break;d=e.length}var g=e.subarray(l+8,d);bytesMatch(c,r[0])&&(r.length===1?a.push(g):a.push.apply(a,n(g,r.slice(1),s))),l=d}return a},EBML_TAGS={EBML:toUint8([26,69,223,163]),DocType:toUint8([66,130]),Segment:toUint8([24,83,128,103]),SegmentInfo:toUint8([21,73,169,102]),Tracks:toUint8([22,84,174,107]),Track:toUint8([174]),TrackNumber:toUint8([215]),DefaultDuration:toUint8([35,227,131]),TrackEntry:toUint8([174]),TrackType:toUint8([131]),FlagDefault:toUint8([136]),CodecID:toUint8([134]),CodecPrivate:toUint8([99,162]),VideoTrack:toUint8([224]),AudioTrack:toUint8([225]),Cluster:toUint8([31,67,182,117]),Timestamp:toUint8([231]),TimestampScale:toUint8([42,215,177]),BlockGroup:toUint8([160]),BlockDuration:toUint8([155]),Block:toUint8([161]),SimpleBlock:toUint8([163])},LENGTH_TABLE=[128,64,32,16,8,4,2,1],getLength=function(e){for(var r=1,s=0;s<LENGTH_TABLE.length&&!(e&LENGTH_TABLE[s]);s++)r++;return r},getvint=function(e,r,s,a){s===void 0&&(s=!0),a===void 0&&(a=!1);var l=getLength(e[r]),f=e.subarray(r,r+l);return s&&(f=Array.prototype.slice.call(e,r,r+l),f[0]^=LENGTH_TABLE[l-1]),{length:l,value:bytesToNumber(f,{signed:a}),bytes:f}},normalizePath=function n(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(r){return n(r)}):typeof e=="number"?numberToBytes(e):e},normalizePaths=function(e){return Array.isArray(e)?e.map(function(r){return normalizePath(r)}):[normalizePath(e)]},getInfinityDataSize=function n(e,r,s){if(s>=r.length)return r.length;var a=getvint(r,s,!1);if(bytesMatch(e.bytes,a.bytes))return s;var l=getvint(r,s+a.length);return n(e,r,s+l.length+l.value+a.length)},findEbml=function n(e,r){r=normalizePaths(r),e=toUint8(e);var s=[];if(!r.length)return s;for(var a=0;a<e.length;){var l=getvint(e,a,!1),f=getvint(e,a+l.length),c=a+l.length+f.length;f.value===127&&(f.value=getInfinityDataSize(l,e,c),f.value!==e.length&&(f.value-=c));var d=c+f.value>e.length?e.length:c+f.value,g=e.subarray(c,d);bytesMatch(r[0],l.bytes)&&(r.length===1?s.push(g):s=s.concat(n(g,r.slice(1))));var b=l.length+f.length+g.length;a+=b}return s},NAL_TYPE_ONE=toUint8([0,0,0,1]),NAL_TYPE_TWO=toUint8([0,0,1]),EMULATION_PREVENTION=toUint8([0,0,3]),discardEmulationPreventionBytes=function(e){for(var r=[],s=1;s<e.length-2;)bytesMatch(e.subarray(s,s+3),EMULATION_PREVENTION)&&(r.push(s+2),s++),s++;if(r.length===0)return e;var a=e.length-r.length,l=new Uint8Array(a),f=0;for(s=0;s<a;f++,s++)f===r[0]&&(f++,r.shift()),l[s]=e[f];return l},findNal=function(e,r,s,a){a===void 0&&(a=1/0),e=toUint8(e),s=[].concat(s);for(var l=0,f,c=0;l<e.length&&(c<a||f);){var d=void 0;if(bytesMatch(e.subarray(l),NAL_TYPE_ONE)?d=4:bytesMatch(e.subarray(l),NAL_TYPE_TWO)&&(d=3),!d){l++;continue}if(c++,f)return discardEmulationPreventionBytes(e.subarray(f,l));var g=void 0;r==="h264"?g=e[l+d]&31:r==="h265"&&(g=e[l+d]>>1&63),s.indexOf(g)!==-1&&(f=l+d),l+=d+(r==="h264"?1:2)}return e.subarray(0,0)},findH264Nal=function(e,r,s){return findNal(e,"h264",r,s)},findH265Nal=function(e,r,s){return findNal(e,"h265",r,s)},CONSTANTS={webm:toUint8([119,101,98,109]),matroska:toUint8([109,97,116,114,111,115,107,97]),flac:toUint8([102,76,97,67]),ogg:toUint8([79,103,103,83]),ac3:toUint8([11,119]),riff:toUint8([82,73,70,70]),avi:toUint8([65,86,73]),wav:toUint8([87,65,86,69]),"3gp":toUint8([102,116,121,112,51,103]),mp4:toUint8([102,116,121,112]),fmp4:toUint8([115,116,121,112]),mov:toUint8([102,116,121,112,113,116]),moov:toUint8([109,111,111,118]),moof:toUint8([109,111,111,102])},_isLikely={aac:function(e){var r=getId3Offset(e);return bytesMatch(e,[255,16],{offset:r,mask:[255,22]})},mp3:function(e){var r=getId3Offset(e);return bytesMatch(e,[255,2],{offset:r,mask:[255,6]})},webm:function(e){var r=findEbml(e,[EBML_TAGS.EBML,EBML_TAGS.DocType])[0];return bytesMatch(r,CONSTANTS.webm)},mkv:function(e){var r=findEbml(e,[EBML_TAGS.EBML,EBML_TAGS.DocType])[0];return bytesMatch(r,CONSTANTS.matroska)},mp4:function(e){if(_isLikely["3gp"](e)||_isLikely.mov(e))return!1;if(bytesMatch(e,CONSTANTS.mp4,{offset:4})||bytesMatch(e,CONSTANTS.fmp4,{offset:4})||bytesMatch(e,CONSTANTS.moof,{offset:4})||bytesMatch(e,CONSTANTS.moov,{offset:4}))return!0},mov:function(e){return bytesMatch(e,CONSTANTS.mov,{offset:4})},"3gp":function(e){return bytesMatch(e,CONSTANTS["3gp"],{offset:4})},ac3:function(e){var r=getId3Offset(e);return bytesMatch(e,CONSTANTS.ac3,{offset:r})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var r=0;r+188<e.length&&r<188;){if(e[r]===71&&e[r+188]===71)return!0;r+=1}return!1},flac:function(e){var r=getId3Offset(e);return bytesMatch(e,CONSTANTS.flac,{offset:r})},ogg:function(e){return bytesMatch(e,CONSTANTS.ogg)},avi:function(e){return bytesMatch(e,CONSTANTS.riff)&&bytesMatch(e,CONSTANTS.avi,{offset:8})},wav:function(e){return bytesMatch(e,CONSTANTS.riff)&&bytesMatch(e,CONSTANTS.wav,{offset:8})},h264:function(e){return findH264Nal(e,7,3).length},h265:function(e){return findH265Nal(e,[32,33],3).length}},isLikelyTypes=Object.keys(_isLikely).filter(function(n){return n!=="ts"&&n!=="h264"&&n!=="h265"}).concat(["ts","h264","h265"]);isLikelyTypes.forEach(function(n){var e=_isLikely[n];_isLikely[n]=function(r){return e(toUint8(r))}});var isLikely=_isLikely,detectContainerForBytes=function(e){e=toUint8(e);for(var r=0;r<isLikelyTypes.length;r++){var s=isLikelyTypes[r];if(isLikely[s](e))return s}return""},isLikelyFmp4MediaSegment=function(e){return findBox(e,["moof"]).length>0},ONE_SECOND_IN_TS=9e4,secondsToVideoTs,secondsToAudioTs,videoTsToSeconds,audioTsToSeconds,audioTsToVideoTs,videoTsToAudioTs,metadataTsToSeconds;secondsToVideoTs=function(n){return n*ONE_SECOND_IN_TS};secondsToAudioTs=function(n,e){return n*e};videoTsToSeconds=function(n){return n/ONE_SECOND_IN_TS};audioTsToSeconds=function(n,e){return n/e};audioTsToVideoTs=function(n,e){return secondsToVideoTs(audioTsToSeconds(n,e))};videoTsToAudioTs=function(n,e){return secondsToAudioTs(videoTsToSeconds(n),e)};metadataTsToSeconds=function(n,e,r){return videoTsToSeconds(r?n:n-e)};var clock={ONE_SECOND_IN_TS,secondsToVideoTs,secondsToAudioTs,videoTsToSeconds,audioTsToSeconds,audioTsToVideoTs,videoTsToAudioTs,metadataTsToSeconds};function _getPrototypeOf(n){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_getPrototypeOf(n)}function _isNativeFunction(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function _wrapNativeSuper(n){var e=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(s){if(s===null||!_isNativeFunction(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(s))return e.get(s);e.set(s,a)}function a(){return _construct(s,arguments,_getPrototypeOf(this).constructor)}return a.prototype=Object.create(s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(a,s)},_wrapNativeSuper(n)}/**
 * @license
 * Video.js 7.21.3 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var version$5="7.21.3",hooks_={},hooks=function(e,r){return hooks_[e]=hooks_[e]||[],r&&(hooks_[e]=hooks_[e].concat(r)),hooks_[e]},hook=function(e,r){hooks(e,r)},removeHook=function(e,r){var s=hooks(e).indexOf(r);return s<=-1?!1:(hooks_[e]=hooks_[e].slice(),hooks_[e].splice(s,1),!0)},hookOnce=function(e,r){hooks(e,[].concat(r).map(function(s){var a=function l(){return removeHook(e,l),s.apply(void 0,arguments)};return a}))},FullscreenApi={prefixed:!0},apiMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],specApi=apiMap[0],browserApi;for(var i$1=0;i$1<apiMap.length;i$1++)if(apiMap[i$1][1]in document_1){browserApi=apiMap[i$1];break}if(browserApi){for(var _i=0;_i<browserApi.length;_i++)FullscreenApi[specApi[_i]]=browserApi[_i];FullscreenApi.prefixed=browserApi[0]!==specApi[0]}var history=[],LogByTypeFactory=function(e,r){return function(s,a,l){var f=r.levels[a],c=new RegExp("^("+f+")$");if(s!=="log"&&l.unshift(s.toUpperCase()+":"),l.unshift(e+":"),history){history.push([].concat(l));var d=history.length-1e3;history.splice(0,d>0?d:0)}if(window_1.console){var g=window_1.console[s];!g&&s==="debug"&&(g=window_1.console.info||window_1.console.log),!(!g||!f||!c.test(s))&&g[Array.isArray(l)?"apply":"call"](window_1.console,l)}}};function createLogger$1(n){var e="info",r,s=function(){for(var l=arguments.length,f=new Array(l),c=0;c<l;c++)f[c]=arguments[c];r("log",e,f)};return r=LogByTypeFactory(n,s),s.createLogger=function(a){return createLogger$1(n+": "+a)},s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},s.level=function(a){if(typeof a=="string"){if(!s.levels.hasOwnProperty(a))throw new Error('"'+a+'" in not a valid log level');e=a}return e},s.history=function(){return history?[].concat(history):[]},s.history.filter=function(a){return(history||[]).filter(function(l){return new RegExp(".*"+a+".*").test(l[0])})},s.history.clear=function(){history&&(history.length=0)},s.history.disable=function(){history!==null&&(history.length=0,history=null)},s.history.enable=function(){history===null&&(history=[])},s.error=function(){for(var a=arguments.length,l=new Array(a),f=0;f<a;f++)l[f]=arguments[f];return r("error",e,l)},s.warn=function(){for(var a=arguments.length,l=new Array(a),f=0;f<a;f++)l[f]=arguments[f];return r("warn",e,l)},s.debug=function(){for(var a=arguments.length,l=new Array(a),f=0;f<a;f++)l[f]=arguments[f];return r("debug",e,l)},s}var log$1=createLogger$1("VIDEOJS"),createLogger=log$1.createLogger,toString$2=Object.prototype.toString,keys=function(e){return isObject$2(e)?Object.keys(e):[]};function each(n,e){keys(n).forEach(function(r){return e(n[r],r)})}function reduce(n,e,r){return r===void 0&&(r=0),keys(n).reduce(function(s,a){return e(s,n[a],a)},r)}function assign(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),s=1;s<e;s++)r[s-1]=arguments[s];return Object.assign?_extends$2.apply(void 0,[n].concat(r)):(r.forEach(function(a){a&&each(a,function(l,f){n[f]=l})}),n)}function isObject$2(n){return!!n&&typeof n=="object"}function isPlain(n){return isObject$2(n)&&toString$2.call(n)==="[object Object]"&&n.constructor===Object}function computedStyle(n,e){if(!n||!e)return"";if(typeof window_1.getComputedStyle=="function"){var r;try{r=window_1.getComputedStyle(n)}catch{return""}return r?r.getPropertyValue(e)||r[e]:""}return""}var USER_AGENT=window_1.navigator&&window_1.navigator.userAgent||"",webkitVersionMap=/AppleWebKit\/([\d.]+)/i.exec(USER_AGENT),appleWebkitVersion=webkitVersionMap?parseFloat(webkitVersionMap.pop()):null,IS_IPOD=/iPod/i.test(USER_AGENT),IOS_VERSION=function(){var n=USER_AGENT.match(/OS (\d+)_/i);return n&&n[1]?n[1]:null}(),IS_ANDROID=/Android/i.test(USER_AGENT),ANDROID_VERSION=function(){var n=USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!n)return null;var e=n[1]&&parseFloat(n[1]),r=n[2]&&parseFloat(n[2]);return e&&r?parseFloat(n[1]+"."+n[2]):e||null}(),IS_NATIVE_ANDROID=IS_ANDROID&&ANDROID_VERSION<5&&appleWebkitVersion<537,IS_FIREFOX=/Firefox/i.test(USER_AGENT),IS_EDGE=/Edg/i.test(USER_AGENT),IS_CHROME=!IS_EDGE&&(/Chrome/i.test(USER_AGENT)||/CriOS/i.test(USER_AGENT)),CHROME_VERSION=function(){var n=USER_AGENT.match(/(Chrome|CriOS)\/(\d+)/);return n&&n[2]?parseFloat(n[2]):null}(),IE_VERSION=function(){var n=/MSIE\s(\d+)\.\d/.exec(USER_AGENT),e=n&&parseFloat(n[1]);return!e&&/Trident\/7.0/i.test(USER_AGENT)&&/rv:11.0/.test(USER_AGENT)&&(e=11),e}(),IS_SAFARI=/Safari/i.test(USER_AGENT)&&!IS_CHROME&&!IS_ANDROID&&!IS_EDGE,IS_WINDOWS=/Windows/i.test(USER_AGENT),TOUCH_ENABLED=Boolean(isReal()&&("ontouchstart"in window_1||window_1.navigator.maxTouchPoints||window_1.DocumentTouch&&window_1.document instanceof window_1.DocumentTouch)),IS_IPAD=/iPad/i.test(USER_AGENT)||IS_SAFARI&&TOUCH_ENABLED&&!/iPhone/i.test(USER_AGENT),IS_IPHONE=/iPhone/i.test(USER_AGENT)&&!IS_IPAD,IS_IOS=IS_IPHONE||IS_IPAD||IS_IPOD,IS_ANY_SAFARI=(IS_SAFARI||IS_IOS)&&!IS_CHROME,browser=Object.freeze({__proto__:null,IS_IPOD,IOS_VERSION,IS_ANDROID,ANDROID_VERSION,IS_NATIVE_ANDROID,IS_FIREFOX,IS_EDGE,IS_CHROME,CHROME_VERSION,IE_VERSION,IS_SAFARI,IS_WINDOWS,TOUCH_ENABLED,IS_IPAD,IS_IPHONE,IS_IOS,IS_ANY_SAFARI});function isNonBlankString(n){return typeof n=="string"&&Boolean(n.trim())}function throwIfWhitespace(n){if(n.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function classRegExp(n){return new RegExp("(^|\\s)"+n+"($|\\s)")}function isReal(){return document_1===window_1.document}function isEl(n){return isObject$2(n)&&n.nodeType===1}function isInFrame(){try{return window_1.parent!==window_1.self}catch{return!0}}function createQuerier(n){return function(e,r){if(!isNonBlankString(e))return document_1[n](null);isNonBlankString(r)&&(r=document_1.querySelector(r));var s=isEl(r)?r:document_1;return s[n]&&s[n](e)}}function createEl(n,e,r,s){n===void 0&&(n="div"),e===void 0&&(e={}),r===void 0&&(r={});var a=document_1.createElement(n);return Object.getOwnPropertyNames(e).forEach(function(l){var f=e[l];l.indexOf("aria-")!==-1||l==="role"||l==="type"?(log$1.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+l+" to "+f+".")),a.setAttribute(l,f)):l==="textContent"?textContent(a,f):(a[l]!==f||l==="tabIndex")&&(a[l]=f)}),Object.getOwnPropertyNames(r).forEach(function(l){a.setAttribute(l,r[l])}),s&&appendContent(a,s),a}function textContent(n,e){return typeof n.textContent>"u"?n.innerText=e:n.textContent=e,n}function prependTo(n,e){e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}function hasClass(n,e){return throwIfWhitespace(e),n.classList?n.classList.contains(e):classRegExp(e).test(n.className)}function addClass(n,e){return n.classList?n.classList.add(e):hasClass(n,e)||(n.className=(n.className+" "+e).trim()),n}function removeClass(n,e){return n?(n.classList?n.classList.remove(e):(throwIfWhitespace(e),n.className=n.className.split(/\s+/).filter(function(r){return r!==e}).join(" ")),n):(log$1.warn("removeClass was called with an element that doesn't exist"),null)}function toggleClass(n,e,r){var s=hasClass(n,e);if(typeof r=="function"&&(r=r(n,e)),typeof r!="boolean"&&(r=!s),r!==s)return r?addClass(n,e):removeClass(n,e),n}function setAttributes(n,e){Object.getOwnPropertyNames(e).forEach(function(r){var s=e[r];s===null||typeof s>"u"||s===!1?n.removeAttribute(r):n.setAttribute(r,s===!0?"":s)})}function getAttributes(n){var e={},r=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(n&&n.attributes&&n.attributes.length>0)for(var s=n.attributes,a=s.length-1;a>=0;a--){var l=s[a].name,f=s[a].value;(typeof n[l]=="boolean"||r.indexOf(","+l+",")!==-1)&&(f=f!==null),e[l]=f}return e}function getAttribute(n,e){return n.getAttribute(e)}function setAttribute(n,e,r){n.setAttribute(e,r)}function removeAttribute(n,e){n.removeAttribute(e)}function blockTextSelection(){document_1.body.focus(),document_1.onselectstart=function(){return!1}}function unblockTextSelection(){document_1.onselectstart=function(){return!0}}function getBoundingClientRect$1(n){if(n&&n.getBoundingClientRect&&n.parentNode){var e=n.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach(function(s){e[s]!==void 0&&(r[s]=e[s])}),r.height||(r.height=parseFloat(computedStyle(n,"height"))),r.width||(r.width=parseFloat(computedStyle(n,"width"))),r}}function findPosition(n){if(!n||n&&!n.offsetParent)return{left:0,top:0,width:0,height:0};for(var e=n.offsetWidth,r=n.offsetHeight,s=0,a=0;n.offsetParent&&n!==document_1[FullscreenApi.fullscreenElement];)s+=n.offsetLeft,a+=n.offsetTop,n=n.offsetParent;return{left:s,top:a,width:e,height:r}}function getPointerPosition(n,e){var r={x:0,y:0};if(IS_IOS)for(var s=n;s&&s.nodeName.toLowerCase()!=="html";){var a=computedStyle(s,"transform");if(/^matrix/.test(a)){var l=a.slice(7,-1).split(/,\s/).map(Number);r.x+=l[4],r.y+=l[5]}else if(/^matrix3d/.test(a)){var f=a.slice(9,-1).split(/,\s/).map(Number);r.x+=f[12],r.y+=f[13]}s=s.parentNode}var c={},d=findPosition(e.target),g=findPosition(n),b=g.width,m=g.height,_=e.offsetY-(g.top-d.top),x=e.offsetX-(g.left-d.left);return e.changedTouches&&(x=e.changedTouches[0].pageX-g.left,_=e.changedTouches[0].pageY+g.top,IS_IOS&&(x-=r.x,_-=r.y)),c.y=1-Math.max(0,Math.min(1,_/m)),c.x=Math.max(0,Math.min(1,x/b)),c}function isTextNode(n){return isObject$2(n)&&n.nodeType===3}function emptyEl(n){for(;n.firstChild;)n.removeChild(n.firstChild);return n}function normalizeContent(n){return typeof n=="function"&&(n=n()),(Array.isArray(n)?n:[n]).map(function(e){if(typeof e=="function"&&(e=e()),isEl(e)||isTextNode(e))return e;if(typeof e=="string"&&/\S/.test(e))return document_1.createTextNode(e)}).filter(function(e){return e})}function appendContent(n,e){return normalizeContent(e).forEach(function(r){return n.appendChild(r)}),n}function insertContent(n,e){return appendContent(emptyEl(n),e)}function isSingleLeftClick(n){return n.button===void 0&&n.buttons===void 0||n.button===0&&n.buttons===void 0||n.type==="mouseup"&&n.button===0&&n.buttons===0?!0:!(n.button!==0||n.buttons!==1)}var $=createQuerier("querySelector"),$$=createQuerier("querySelectorAll"),Dom=Object.freeze({__proto__:null,isReal,isEl,isInFrame,createEl,textContent,prependTo,hasClass,addClass,removeClass,toggleClass,setAttributes,getAttributes,getAttribute,setAttribute,removeAttribute,blockTextSelection,unblockTextSelection,getBoundingClientRect:getBoundingClientRect$1,findPosition,getPointerPosition,isTextNode,emptyEl,normalizeContent,appendContent,insertContent,isSingleLeftClick,$,$$}),_windowLoaded=!1,videojs$1,autoSetup=function(){if(videojs$1.options.autoSetup!==!1){var e=Array.prototype.slice.call(document_1.getElementsByTagName("video")),r=Array.prototype.slice.call(document_1.getElementsByTagName("audio")),s=Array.prototype.slice.call(document_1.getElementsByTagName("video-js")),a=e.concat(r,s);if(a&&a.length>0)for(var l=0,f=a.length;l<f;l++){var c=a[l];if(c&&c.getAttribute){if(c.player===void 0){var d=c.getAttribute("data-setup");d!==null&&videojs$1(c)}}else{autoSetupTimeout(1);break}}else _windowLoaded||autoSetupTimeout(1)}};function autoSetupTimeout(n,e){isReal()&&(e&&(videojs$1=e),window_1.setTimeout(autoSetup,n))}function setWindowLoaded(){_windowLoaded=!0,window_1.removeEventListener("load",setWindowLoaded)}isReal()&&(document_1.readyState==="complete"?setWindowLoaded():window_1.addEventListener("load",setWindowLoaded));var createStyleElement=function(e){var r=document_1.createElement("style");return r.className=e,r},setTextContent=function(e,r){e.styleSheet?e.styleSheet.cssText=r:e.textContent=r},_initialGuid=3,_guid=_initialGuid;function newGUID(){return _guid++}var FakeWeakMap;window_1.WeakMap||(FakeWeakMap=function(){function n(){this.vdata="vdata"+Math.floor(window_1.performance&&window_1.performance.now()||Date.now()),this.data={}}var e=n.prototype;return e.set=function(s,a){var l=s[this.vdata]||newGUID();return s[this.vdata]||(s[this.vdata]=l),this.data[l]=a,this},e.get=function(s){var a=s[this.vdata];if(a)return this.data[a];log$1("We have no data for this element",s)},e.has=function(s){var a=s[this.vdata];return a in this.data},e.delete=function(s){var a=s[this.vdata];a&&(delete this.data[a],delete s[this.vdata])},n}());var DomData=window_1.WeakMap?new WeakMap:new FakeWeakMap;function _cleanUpEvents(n,e){if(DomData.has(n)){var r=DomData.get(n);r.handlers[e].length===0&&(delete r.handlers[e],n.removeEventListener?n.removeEventListener(e,r.dispatcher,!1):n.detachEvent&&n.detachEvent("on"+e,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),Object.getOwnPropertyNames(r).length===0&&DomData.delete(n)}}function _handleMultipleEvents(n,e,r,s){r.forEach(function(a){n(e,a,s)})}function fixEvent(n){if(n.fixed_)return n;function e(){return!0}function r(){return!1}if(!n||!n.isPropagationStopped||!n.isImmediatePropagationStopped){var s=n||window_1.event;n={};for(var a in s)a!=="layerX"&&a!=="layerY"&&a!=="keyLocation"&&a!=="webkitMovementX"&&a!=="webkitMovementY"&&a!=="path"&&(a==="returnValue"&&s.preventDefault||(n[a]=s[a]));if(n.target||(n.target=n.srcElement||document_1),n.relatedTarget||(n.relatedTarget=n.fromElement===n.target?n.toElement:n.fromElement),n.preventDefault=function(){s.preventDefault&&s.preventDefault(),n.returnValue=!1,s.returnValue=!1,n.defaultPrevented=!0},n.defaultPrevented=!1,n.stopPropagation=function(){s.stopPropagation&&s.stopPropagation(),n.cancelBubble=!0,s.cancelBubble=!0,n.isPropagationStopped=e},n.isPropagationStopped=r,n.stopImmediatePropagation=function(){s.stopImmediatePropagation&&s.stopImmediatePropagation(),n.isImmediatePropagationStopped=e,n.stopPropagation()},n.isImmediatePropagationStopped=r,n.clientX!==null&&n.clientX!==void 0){var l=document_1.documentElement,f=document_1.body;n.pageX=n.clientX+(l&&l.scrollLeft||f&&f.scrollLeft||0)-(l&&l.clientLeft||f&&f.clientLeft||0),n.pageY=n.clientY+(l&&l.scrollTop||f&&f.scrollTop||0)-(l&&l.clientTop||f&&f.clientTop||0)}n.which=n.charCode||n.keyCode,n.button!==null&&n.button!==void 0&&(n.button=n.button&1?0:n.button&4?1:n.button&2?2:0)}return n.fixed_=!0,n}var _supportsPassive,supportsPassive=function(){if(typeof _supportsPassive!="boolean"){_supportsPassive=!1;try{var e=Object.defineProperty({},"passive",{get:function(){_supportsPassive=!0}});window_1.addEventListener("test",null,e),window_1.removeEventListener("test",null,e)}catch{}}return _supportsPassive},passiveEvents=["touchstart","touchmove"];function on$1(n,e,r){if(Array.isArray(e))return _handleMultipleEvents(on$1,n,e,r);DomData.has(n)||DomData.set(n,{});var s=DomData.get(n);if(s.handlers||(s.handlers={}),s.handlers[e]||(s.handlers[e]=[]),r.guid||(r.guid=newGUID()),s.handlers[e].push(r),s.dispatcher||(s.disabled=!1,s.dispatcher=function(l,f){if(!s.disabled){l=fixEvent(l);var c=s.handlers[l.type];if(c)for(var d=c.slice(0),g=0,b=d.length;g<b&&!l.isImmediatePropagationStopped();g++)try{d[g].call(n,l,f)}catch(m){log$1.error(m)}}}),s.handlers[e].length===1)if(n.addEventListener){var a=!1;supportsPassive()&&passiveEvents.indexOf(e)>-1&&(a={passive:!0}),n.addEventListener(e,s.dispatcher,a)}else n.attachEvent&&n.attachEvent("on"+e,s.dispatcher)}function off(n,e,r){if(DomData.has(n)){var s=DomData.get(n);if(s.handlers){if(Array.isArray(e))return _handleMultipleEvents(off,n,e,r);var a=function(g,b){s.handlers[b]=[],_cleanUpEvents(g,b)};if(e===void 0){for(var l in s.handlers)Object.prototype.hasOwnProperty.call(s.handlers||{},l)&&a(n,l);return}var f=s.handlers[e];if(f){if(!r){a(n,e);return}if(r.guid)for(var c=0;c<f.length;c++)f[c].guid===r.guid&&f.splice(c--,1);_cleanUpEvents(n,e)}}}}function trigger(n,e,r){var s=DomData.has(n)?DomData.get(n):{},a=n.parentNode||n.ownerDocument;if(typeof e=="string"?e={type:e,target:n}:e.target||(e.target=n),e=fixEvent(e),s.dispatcher&&s.dispatcher.call(n,e,r),a&&!e.isPropagationStopped()&&e.bubbles===!0)trigger.call(null,a,e,r);else if(!a&&!e.defaultPrevented&&e.target&&e.target[e.type]){DomData.has(e.target)||DomData.set(e.target,{});var l=DomData.get(e.target);e.target[e.type]&&(l.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),l.disabled=!1)}return!e.defaultPrevented}function one(n,e,r){if(Array.isArray(e))return _handleMultipleEvents(one,n,e,r);var s=function a(){off(n,e,a),r.apply(this,arguments)};s.guid=r.guid=r.guid||newGUID(),on$1(n,e,s)}function any(n,e,r){var s=function a(){off(n,e,a),r.apply(this,arguments)};s.guid=r.guid=r.guid||newGUID(),on$1(n,e,s)}var Events=Object.freeze({__proto__:null,fixEvent,on:on$1,off,trigger,one,any}),UPDATE_REFRESH_INTERVAL=30,bind$1=function(e,r,s){r.guid||(r.guid=newGUID());var a=r.bind(e);return a.guid=s?s+"_"+r.guid:r.guid,a},throttle=function(e,r){var s=window_1.performance.now(),a=function(){var f=window_1.performance.now();f-s>=r&&(e.apply(void 0,arguments),s=f)};return a},debounce$1=function(e,r,s,a){a===void 0&&(a=window_1);var l,f=function(){a.clearTimeout(l),l=null},c=function(){var g=this,b=arguments,m=function(){l=null,m=null,s||e.apply(g,b)};!l&&s&&e.apply(g,b),a.clearTimeout(l),l=a.setTimeout(m,r)};return c.cancel=f,c},EventTarget$2=function(){};EventTarget$2.prototype.allowedEvents_={};EventTarget$2.prototype.on=function(n,e){var r=this.addEventListener;this.addEventListener=function(){},on$1(this,n,e),this.addEventListener=r};EventTarget$2.prototype.addEventListener=EventTarget$2.prototype.on;EventTarget$2.prototype.off=function(n,e){off(this,n,e)};EventTarget$2.prototype.removeEventListener=EventTarget$2.prototype.off;EventTarget$2.prototype.one=function(n,e){var r=this.addEventListener;this.addEventListener=function(){},one(this,n,e),this.addEventListener=r};EventTarget$2.prototype.any=function(n,e){var r=this.addEventListener;this.addEventListener=function(){},any(this,n,e),this.addEventListener=r};EventTarget$2.prototype.trigger=function(n){var e=n.type||n;typeof n=="string"&&(n={type:e}),n=fixEvent(n),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](n),trigger(this,n)};EventTarget$2.prototype.dispatchEvent=EventTarget$2.prototype.trigger;var EVENT_MAP;EventTarget$2.prototype.queueTrigger=function(n){var e=this;EVENT_MAP||(EVENT_MAP=new Map);var r=n.type||n,s=EVENT_MAP.get(this);s||(s=new Map,EVENT_MAP.set(this,s));var a=s.get(r);s.delete(r),window_1.clearTimeout(a);var l=window_1.setTimeout(function(){s.delete(r),s.size===0&&(s=null,EVENT_MAP.delete(e)),e.trigger(n)},0);s.set(r,l)};var objName=function(e){return typeof e.name=="function"?e.name():typeof e.name=="string"?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},isEvented=function(e){return e instanceof EventTarget$2||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(r){return typeof e[r]=="function"})},addEventedCallback=function(e,r){isEvented(e)?r():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(r))},isValidEventType=function(e){return typeof e=="string"&&/\S/.test(e)||Array.isArray(e)&&!!e.length},validateTarget=function(e,r,s){if(!e||!e.nodeName&&!isEvented(e))throw new Error("Invalid target for "+objName(r)+"#"+s+"; must be a DOM node or evented object.")},validateEventType=function(e,r,s){if(!isValidEventType(e))throw new Error("Invalid event type for "+objName(r)+"#"+s+"; must be a non-empty string or array.")},validateListener=function(e,r,s){if(typeof e!="function")throw new Error("Invalid listener for "+objName(r)+"#"+s+"; must be a function.")},normalizeListenArgs=function(e,r,s){var a=r.length<3||r[0]===e||r[0]===e.eventBusEl_,l,f,c;return a?(l=e.eventBusEl_,r.length>=3&&r.shift(),f=r[0],c=r[1]):(l=r[0],f=r[1],c=r[2]),validateTarget(l,e,s),validateEventType(f,e,s),validateListener(c,e,s),c=bind$1(e,c),{isTargetingSelf:a,target:l,type:f,listener:c}},listen=function(e,r,s,a){validateTarget(e,e,r),e.nodeName?Events[r](e,s,a):e[r](s,a)},EventedMixin={on:function(){for(var e=this,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var l=normalizeListenArgs(this,s,"on"),f=l.isTargetingSelf,c=l.target,d=l.type,g=l.listener;if(listen(c,"on",d,g),!f){var b=function(){return e.off(c,d,g)};b.guid=g.guid;var m=function(){return e.off("dispose",b)};m.guid=g.guid,listen(this,"on","dispose",b),listen(c,"on","dispose",m)}},one:function(){for(var e=this,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var l=normalizeListenArgs(this,s,"one"),f=l.isTargetingSelf,c=l.target,d=l.type,g=l.listener;if(f)listen(c,"one",d,g);else{var b=function m(){e.off(c,d,m);for(var _=arguments.length,x=new Array(_),k=0;k<_;k++)x[k]=arguments[k];g.apply(null,x)};b.guid=g.guid,listen(c,"one",d,b)}},any:function(){for(var e=this,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var l=normalizeListenArgs(this,s,"any"),f=l.isTargetingSelf,c=l.target,d=l.type,g=l.listener;if(f)listen(c,"any",d,g);else{var b=function m(){e.off(c,d,m);for(var _=arguments.length,x=new Array(_),k=0;k<_;k++)x[k]=arguments[k];g.apply(null,x)};b.guid=g.guid,listen(c,"any",d,b)}},off:function(e,r,s){if(!e||isValidEventType(e))off(this.eventBusEl_,e,r);else{var a=e,l=r;validateTarget(a,this,"off"),validateEventType(l,this,"off"),validateListener(s,this,"off"),s=bind$1(this,s),this.off("dispose",s),a.nodeName?(off(a,l,s),off(a,"dispose",s)):isEvented(a)&&(a.off(l,s),a.off("dispose",s))}},trigger:function(e,r){validateTarget(this.eventBusEl_,this,"trigger");var s=e&&typeof e!="string"?e.type:e;if(!isValidEventType(s)){var a="Invalid event type for "+objName(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(e)(this.log||log$1).error(a);else throw new Error(a)}return trigger(this.eventBusEl_,e,r)}};function evented(n,e){e===void 0&&(e={});var r=e,s=r.eventBusKey;if(s){if(!n[s].nodeName)throw new Error('The eventBusKey "'+s+'" does not refer to an element.');n.eventBusEl_=n[s]}else n.eventBusEl_=createEl("span",{className:"vjs-event-bus"});return assign(n,EventedMixin),n.eventedCallbacks&&n.eventedCallbacks.forEach(function(a){a()}),n.on("dispose",function(){n.off(),[n,n.el_,n.eventBusEl_].forEach(function(a){a&&DomData.has(a)&&DomData.delete(a)}),window_1.setTimeout(function(){n.eventBusEl_=null},0)}),n}var StatefulMixin={state:{},setState:function(e){var r=this;typeof e=="function"&&(e=e());var s;return each(e,function(a,l){r.state[l]!==a&&(s=s||{},s[l]={from:r.state[l],to:a}),r.state[l]=a}),s&&isEvented(this)&&this.trigger({changes:s,type:"statechanged"}),s}};function stateful(n,e){return assign(n,StatefulMixin),n.state=assign({},n.state,e),typeof n.handleStateChanged=="function"&&isEvented(n)&&n.on("statechanged",n.handleStateChanged),n}var toLowerCase=function(e){return typeof e!="string"?e:e.replace(/./,function(r){return r.toLowerCase()})},toTitleCase$1=function(e){return typeof e!="string"?e:e.replace(/./,function(r){return r.toUpperCase()})},titleCaseEquals=function(e,r){return toTitleCase$1(e)===toTitleCase$1(r)};function mergeOptions$3(){for(var n={},e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return r.forEach(function(a){a&&each(a,function(l,f){if(!isPlain(l)){n[f]=l;return}isPlain(n[f])||(n[f]={}),n[f]=mergeOptions$3(n[f],l)})}),n}var MapSham=function(){function n(){this.map_={}}var e=n.prototype;return e.has=function(s){return s in this.map_},e.delete=function(s){var a=this.has(s);return delete this.map_[s],a},e.set=function(s,a){return this.map_[s]=a,this},e.forEach=function(s,a){for(var l in this.map_)s.call(a,this.map_[l],l,this)},n}(),Map$1=window_1.Map?window_1.Map:MapSham,SetSham=function(){function n(){this.set_={}}var e=n.prototype;return e.has=function(s){return s in this.set_},e.delete=function(s){var a=this.has(s);return delete this.set_[s],a},e.add=function(s){return this.set_[s]=1,this},e.forEach=function(s,a){for(var l in this.set_)s.call(a,l,l,this)},n}(),Set$1=window_1.Set?window_1.Set:SetSham,Component$1=function(){function n(r,s,a){var l=this;if(!r&&this.play?this.player_=r=this:this.player_=r,this.isDisposed_=!1,this.parentComponent_=null,this.options_=mergeOptions$3({},this.options_),s=this.options_=mergeOptions$3(this.options_,s),this.id_=s.id||s.el&&s.el.id,!this.id_){var f=r&&r.id&&r.id()||"no_player";this.id_=f+"_component_"+newGUID()}this.name_=s.name||null,s.el?this.el_=s.el:s.createEl!==!1&&(this.el_=this.createEl()),s.className&&this.el_&&s.className.split(" ").forEach(function(c){return l.addClass(c)}),s.evented!==!1&&(evented(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),stateful(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set$1,this.setIntervalIds_=new Set$1,this.rafIds_=new Set$1,this.namedRafs_=new Map$1,this.clearingTimersOnDispose_=!1,s.initChildren!==!1&&this.initChildren(),this.ready(a),s.reportTouchActivity!==!1&&this.enableTouchActivity()}var e=n.prototype;return e.dispose=function(s){if(s===void 0&&(s={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var a=this.children_.length-1;a>=0;a--)this.children_[a].dispose&&this.children_[a].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(s.restoreEl?this.el_.parentNode.replaceChild(s.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(s){return s?(this.options_=mergeOptions$3(this.options_,s),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(s,a,l){return createEl(s,a,l)},e.localize=function(s,a,l){l===void 0&&(l=s);var f=this.player_.language&&this.player_.language(),c=this.player_.languages&&this.player_.languages(),d=c&&c[f],g=f&&f.split("-")[0],b=c&&c[g],m=l;return d&&d[s]?m=d[s]:b&&b[s]&&(m=b[s]),a&&(m=m.replace(/\{(\d+)\}/g,function(_,x){var k=a[x-1],q=k;return typeof k>"u"&&(q=_),q})),m},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(s){return this.childIndex_[s]},e.getChild=function(s){if(s)return this.childNameIndex_[s]},e.getDescendant=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];a=a.reduce(function(d,g){return d.concat(g)},[]);for(var f=this,c=0;c<a.length;c++)if(f=f.getChild(a[c]),!f||!f.getChild)return;return f},e.addChild=function(s,a,l){a===void 0&&(a={}),l===void 0&&(l=this.children_.length);var f,c;if(typeof s=="string"){c=toTitleCase$1(s);var d=a.componentClass||c;a.name=c;var g=n.getComponent(d);if(!g)throw new Error("Component "+d+" does not exist");if(typeof g!="function")return null;f=new g(this.player_||this,a)}else f=s;if(f.parentComponent_&&f.parentComponent_.removeChild(f),this.children_.splice(l,0,f),f.parentComponent_=this,typeof f.id=="function"&&(this.childIndex_[f.id()]=f),c=c||f.name&&toTitleCase$1(f.name()),c&&(this.childNameIndex_[c]=f,this.childNameIndex_[toLowerCase(c)]=f),typeof f.el=="function"&&f.el()){var b=null;this.children_[l+1]&&(this.children_[l+1].el_?b=this.children_[l+1].el_:isEl(this.children_[l+1])&&(b=this.children_[l+1])),this.contentEl().insertBefore(f.el(),b)}return f},e.removeChild=function(s){if(typeof s=="string"&&(s=this.getChild(s)),!(!s||!this.children_)){for(var a=!1,l=this.children_.length-1;l>=0;l--)if(this.children_[l]===s){a=!0,this.children_.splice(l,1);break}if(a){s.parentComponent_=null,this.childIndex_[s.id()]=null,this.childNameIndex_[toTitleCase$1(s.name())]=null,this.childNameIndex_[toLowerCase(s.name())]=null;var f=s.el();f&&f.parentNode===this.contentEl()&&this.contentEl().removeChild(s.el())}}},e.initChildren=function(){var s=this,a=this.options_.children;if(a){var l=this.options_,f=function(b){var m=b.name,_=b.opts;if(l[m]!==void 0&&(_=l[m]),_!==!1){_===!0&&(_={}),_.playerOptions=s.options_.playerOptions;var x=s.addChild(m,_);x&&(s[m]=x)}},c,d=n.getComponent("Tech");Array.isArray(a)?c=a:c=Object.keys(a),c.concat(Object.keys(this.options_).filter(function(g){return!c.some(function(b){return typeof b=="string"?g===b:g===b.name})})).map(function(g){var b,m;return typeof g=="string"?(b=g,m=a[b]||s.options_[b]||{}):(b=g.name,m=g),{name:b,opts:m}}).filter(function(g){var b=n.getComponent(g.opts.componentClass||toTitleCase$1(g.name));return b&&!d.isTech(b)}).forEach(f)}},e.buildCSSClass=function(){return""},e.ready=function(s,a){if(a===void 0&&(a=!1),!!s){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(s);return}a?s.call(this):this.setTimeout(s,1)}},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var s=this.readyQueue_;this.readyQueue_=[],s&&s.length>0&&s.forEach(function(a){a.call(this)},this),this.trigger("ready")},1)},e.$=function(s,a){return $(s,a||this.contentEl())},e.$$=function(s,a){return $$(s,a||this.contentEl())},e.hasClass=function(s){return hasClass(this.el_,s)},e.addClass=function(s){addClass(this.el_,s)},e.removeClass=function(s){removeClass(this.el_,s)},e.toggleClass=function(s,a){toggleClass(this.el_,s,a)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(s){return getAttribute(this.el_,s)},e.setAttribute=function(s,a){setAttribute(this.el_,s,a)},e.removeAttribute=function(s){removeAttribute(this.el_,s)},e.width=function(s,a){return this.dimension("width",s,a)},e.height=function(s,a){return this.dimension("height",s,a)},e.dimensions=function(s,a){this.width(s,!0),this.height(a)},e.dimension=function(s,a,l){if(a!==void 0){(a===null||a!==a)&&(a=0),(""+a).indexOf("%")!==-1||(""+a).indexOf("px")!==-1?this.el_.style[s]=a:a==="auto"?this.el_.style[s]="":this.el_.style[s]=a+"px",l||this.trigger("componentresize");return}if(!this.el_)return 0;var f=this.el_.style[s],c=f.indexOf("px");return parseInt(c!==-1?f.slice(0,c):this.el_["offset"+toTitleCase$1(s)],10)},e.currentDimension=function(s){var a=0;if(s!=="width"&&s!=="height")throw new Error("currentDimension only accepts width or height value");if(a=computedStyle(this.el_,s),a=parseFloat(a),a===0||isNaN(a)){var l="offset"+toTitleCase$1(s);a=this.el_[l]}return a},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(s){this.player_&&(keycode.isEventKey(s,"Tab")||s.stopPropagation(),this.player_.handleKeyDown(s))},e.handleKeyPress=function(s){this.handleKeyDown(s)},e.emitTapEvents=function(){var s=0,a=null,l=10,f=200,c;this.on("touchstart",function(g){g.touches.length===1&&(a={pageX:g.touches[0].pageX,pageY:g.touches[0].pageY},s=window_1.performance.now(),c=!0)}),this.on("touchmove",function(g){if(g.touches.length>1)c=!1;else if(a){var b=g.touches[0].pageX-a.pageX,m=g.touches[0].pageY-a.pageY,_=Math.sqrt(b*b+m*m);_>l&&(c=!1)}});var d=function(){c=!1};this.on("touchleave",d),this.on("touchcancel",d),this.on("touchend",function(g){if(a=null,c===!0){var b=window_1.performance.now()-s;b<f&&(g.preventDefault(),this.trigger("tap"))}})},e.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var s=bind$1(this.player(),this.player().reportUserActivity),a;this.on("touchstart",function(){s(),this.clearInterval(a),a=this.setInterval(s,250)});var l=function(c){s(),this.clearInterval(a)};this.on("touchmove",s),this.on("touchend",l),this.on("touchcancel",l)}},e.setTimeout=function(s,a){var l=this,f;return s=bind$1(this,s),this.clearTimersOnDispose_(),f=window_1.setTimeout(function(){l.setTimeoutIds_.has(f)&&l.setTimeoutIds_.delete(f),s()},a),this.setTimeoutIds_.add(f),f},e.clearTimeout=function(s){return this.setTimeoutIds_.has(s)&&(this.setTimeoutIds_.delete(s),window_1.clearTimeout(s)),s},e.setInterval=function(s,a){s=bind$1(this,s),this.clearTimersOnDispose_();var l=window_1.setInterval(s,a);return this.setIntervalIds_.add(l),l},e.clearInterval=function(s){return this.setIntervalIds_.has(s)&&(this.setIntervalIds_.delete(s),window_1.clearInterval(s)),s},e.requestAnimationFrame=function(s){var a=this;if(!this.supportsRaf_)return this.setTimeout(s,1e3/60);this.clearTimersOnDispose_();var l;return s=bind$1(this,s),l=window_1.requestAnimationFrame(function(){a.rafIds_.has(l)&&a.rafIds_.delete(l),s()}),this.rafIds_.add(l),l},e.requestNamedAnimationFrame=function(s,a){var l=this;if(!this.namedRafs_.has(s)){this.clearTimersOnDispose_(),a=bind$1(this,a);var f=this.requestAnimationFrame(function(){a(),l.namedRafs_.has(s)&&l.namedRafs_.delete(s)});return this.namedRafs_.set(s,f),s}},e.cancelNamedAnimationFrame=function(s){this.namedRafs_.has(s)&&(this.cancelAnimationFrame(this.namedRafs_.get(s)),this.namedRafs_.delete(s))},e.cancelAnimationFrame=function(s){return this.supportsRaf_?(this.rafIds_.has(s)&&(this.rafIds_.delete(s),window_1.cancelAnimationFrame(s)),s):this.clearTimeout(s)},e.clearTimersOnDispose_=function(){var s=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(a){var l=a[0],f=a[1];s[l].forEach(function(c,d){return s[f](d)})}),s.clearingTimersOnDispose_=!1}))},n.registerComponent=function(s,a){if(typeof s!="string"||!s)throw new Error('Illegal component name, "'+s+'"; must be a non-empty string.');var l=n.getComponent("Tech"),f=l&&l.isTech(a),c=n===a||n.prototype.isPrototypeOf(a.prototype);if(f||!c){var d;throw f?d="techs must be registered using Tech.registerTech()":d="must be a Component subclass",new Error('Illegal component, "'+s+'"; '+d+".")}s=toTitleCase$1(s),n.components_||(n.components_={});var g=n.getComponent("Player");if(s==="Player"&&g&&g.players){var b=g.players,m=Object.keys(b);if(b&&m.length>0&&m.map(function(_){return b[_]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return n.components_[s]=a,n.components_[toLowerCase(s)]=a,a},n.getComponent=function(s){if(!(!s||!n.components_))return n.components_[s]},n}();Component$1.prototype.supportsRaf_=typeof window_1.requestAnimationFrame=="function"&&typeof window_1.cancelAnimationFrame=="function";Component$1.registerComponent("Component",Component$1);function rangeCheck(n,e,r){if(typeof e!="number"||e<0||e>r)throw new Error("Failed to execute '"+n+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+r+").")}function getRange(n,e,r,s){return rangeCheck(n,s,r.length-1),r[s][e]}function createTimeRangesObj(n){var e;return n===void 0||n.length===0?e={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:e={length:n.length,start:getRange.bind(null,"start",0,n),end:getRange.bind(null,"end",1,n)},window_1.Symbol&&window_1.Symbol.iterator&&(e[window_1.Symbol.iterator]=function(){return(n||[]).values()}),e}function createTimeRanges(n,e){return Array.isArray(n)?createTimeRangesObj(n):n===void 0||e===void 0?createTimeRangesObj():createTimeRangesObj([[n,e]])}function bufferedPercent(n,e){var r=0,s,a;if(!e)return 0;(!n||!n.length)&&(n=createTimeRanges(0,0));for(var l=0;l<n.length;l++)s=n.start(l),a=n.end(l),a>e&&(a=e),r+=a-s;return r/e}function MediaError(n){if(n instanceof MediaError)return n;typeof n=="number"?this.code=n:typeof n=="string"?this.message=n:isObject$2(n)&&(typeof n.code=="number"&&(this.code=n.code),assign(this,n)),this.message||(this.message=MediaError.defaultMessages[this.code]||"")}MediaError.prototype.code=0;MediaError.prototype.message="";MediaError.prototype.status=null;MediaError.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];MediaError.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var errNum=0;errNum<MediaError.errorTypes.length;errNum++)MediaError[MediaError.errorTypes[errNum]]=errNum,MediaError.prototype[MediaError.errorTypes[errNum]]=errNum;function isPromise(n){return n!=null&&typeof n.then=="function"}function silencePromise(n){isPromise(n)&&n.then(null,function(e){})}var trackToJson_=function(e){var r=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(s,a,l){return e[a]&&(s[a]=e[a]),s},{cues:e.cues&&Array.prototype.map.call(e.cues,function(s){return{startTime:s.startTime,endTime:s.endTime,text:s.text,id:s.id}})});return r},textTracksToJson=function(e){var r=e.$$("track"),s=Array.prototype.map.call(r,function(l){return l.track}),a=Array.prototype.map.call(r,function(l){var f=trackToJson_(l.track);return l.src&&(f.src=l.src),f});return a.concat(Array.prototype.filter.call(e.textTracks(),function(l){return s.indexOf(l)===-1}).map(trackToJson_))},jsonToTextTracks=function(e,r){return e.forEach(function(s){var a=r.addRemoteTextTrack(s).track;!s.src&&s.cues&&s.cues.forEach(function(l){return a.addCue(l)})}),r.textTracks()},textTrackConverter={textTracksToJson,jsonToTextTracks,trackToJson_},MODAL_CLASS_NAME="vjs-modal-dialog",ModalDialog=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,l.handleKeyDown_=function(f){return l.handleKeyDown(f)},l.close_=function(f){return l.close(f)},l.opened_=l.hasBeenOpened_=l.hasBeenFilled_=!1,l.closeable(!l.options_.uncloseable),l.content(l.options_.content),l.contentEl_=createEl("div",{className:MODAL_CLASS_NAME+"-content"},{role:"document"}),l.descEl_=createEl("p",{className:MODAL_CLASS_NAME+"-description vjs-control-text",id:l.el().getAttribute("aria-describedby")}),textContent(l.descEl_,l.description()),l.el_.appendChild(l.descEl_),l.el_.appendChild(l.contentEl_),l}var r=e.prototype;return r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},r.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,n.prototype.dispose.call(this)},r.buildCSSClass=function(){return MODAL_CLASS_NAME+" vjs-hidden "+n.prototype.buildCSSClass.call(this)},r.label=function(){return this.localize(this.options_.label||"Modal Window")},r.description=function(){var a=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(a+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),a},r.open=function(){if(!this.opened_){var a=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!a.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&a.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=a.controls(),a.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},r.opened=function(a){return typeof a=="boolean"&&this[a?"open":"close"](),this.opened_},r.close=function(){if(this.opened_){var a=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&a.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&a.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},r.closeable=function(a){if(typeof a=="boolean"){var l=this.closeable_=!!a,f=this.getChild("closeButton");if(l&&!f){var c=this.contentEl_;this.contentEl_=this.el_,f=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=c,this.on(f,"close",this.close_)}!l&&f&&(this.off(f,"close",this.close_),this.removeChild(f),f.dispose())}return this.closeable_},r.fill=function(){this.fillWith(this.content())},r.fillWith=function(a){var l=this.contentEl(),f=l.parentNode,c=l.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,f.removeChild(l),this.empty(),insertContent(l,a),this.trigger("modalfill"),c?f.insertBefore(l,c):f.appendChild(l);var d=this.getChild("closeButton");d&&f.appendChild(d.el_)},r.empty=function(){this.trigger("beforemodalempty"),emptyEl(this.contentEl()),this.trigger("modalempty")},r.content=function(a){return typeof a<"u"&&(this.content_=a),this.content_},r.conditionalFocus_=function(){var a=document_1.activeElement,l=this.player_.el_;this.previouslyActiveEl_=null,(l.contains(a)||l===a)&&(this.previouslyActiveEl_=a,this.focus())},r.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},r.handleKeyDown=function(a){if(a.stopPropagation(),keycode.isEventKey(a,"Escape")&&this.closeable()){a.preventDefault(),this.close();return}if(keycode.isEventKey(a,"Tab")){for(var l=this.focusableEls_(),f=this.el_.querySelector(":focus"),c,d=0;d<l.length;d++)if(f===l[d]){c=d;break}document_1.activeElement===this.el_&&(c=0),a.shiftKey&&c===0?(l[l.length-1].focus(),a.preventDefault()):!a.shiftKey&&c===l.length-1&&(l[0].focus(),a.preventDefault())}},r.focusableEls_=function(){var a=this.el_.querySelectorAll("*");return Array.prototype.filter.call(a,function(l){return(l instanceof window_1.HTMLAnchorElement||l instanceof window_1.HTMLAreaElement)&&l.hasAttribute("href")||(l instanceof window_1.HTMLInputElement||l instanceof window_1.HTMLSelectElement||l instanceof window_1.HTMLTextAreaElement||l instanceof window_1.HTMLButtonElement)&&!l.hasAttribute("disabled")||l instanceof window_1.HTMLIFrameElement||l instanceof window_1.HTMLObjectElement||l instanceof window_1.HTMLEmbedElement||l.hasAttribute("tabindex")&&l.getAttribute("tabindex")!==-1||l.hasAttribute("contenteditable")})},e}(Component$1);ModalDialog.prototype.options_={pauseOnOpen:!0,temporary:!0};Component$1.registerComponent("ModalDialog",ModalDialog);var TrackList=function(n){_inheritsLoose(e,n);function e(s){var a;s===void 0&&(s=[]),a=n.call(this)||this,a.tracks_=[],Object.defineProperty(_assertThisInitialized(a),"length",{get:function(){return this.tracks_.length}});for(var l=0;l<s.length;l++)a.addTrack(s[l]);return a}var r=e.prototype;return r.addTrack=function(a){var l=this,f=this.tracks_.length;""+f in this||Object.defineProperty(this,f,{get:function(){return this.tracks_[f]}}),this.tracks_.indexOf(a)===-1&&(this.tracks_.push(a),this.trigger({track:a,type:"addtrack",target:this})),a.labelchange_=function(){l.trigger({track:a,type:"labelchange",target:l})},isEvented(a)&&a.addEventListener("labelchange",a.labelchange_)},r.removeTrack=function(a){for(var l,f=0,c=this.length;f<c;f++)if(this[f]===a){l=this[f],l.off&&l.off(),this.tracks_.splice(f,1);break}l&&this.trigger({track:l,type:"removetrack",target:this})},r.getTrackById=function(a){for(var l=null,f=0,c=this.length;f<c;f++){var d=this[f];if(d.id===a){l=d;break}}return l},e}(EventTarget$2);TrackList.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var event in TrackList.prototype.allowedEvents_)TrackList.prototype["on"+event]=null;var disableOthers$1=function(e,r){for(var s=0;s<e.length;s++)!Object.keys(e[s]).length||r.id===e[s].id||(e[s].enabled=!1)},AudioTrackList=function(n){_inheritsLoose(e,n);function e(s){var a;s===void 0&&(s=[]);for(var l=s.length-1;l>=0;l--)if(s[l].enabled){disableOthers$1(s,s[l]);break}return a=n.call(this,s)||this,a.changing_=!1,a}var r=e.prototype;return r.addTrack=function(a){var l=this;a.enabled&&disableOthers$1(this,a),n.prototype.addTrack.call(this,a),a.addEventListener&&(a.enabledChange_=function(){l.changing_||(l.changing_=!0,disableOthers$1(l,a),l.changing_=!1,l.trigger("change"))},a.addEventListener("enabledchange",a.enabledChange_))},r.removeTrack=function(a){n.prototype.removeTrack.call(this,a),a.removeEventListener&&a.enabledChange_&&(a.removeEventListener("enabledchange",a.enabledChange_),a.enabledChange_=null)},e}(TrackList),disableOthers=function(e,r){for(var s=0;s<e.length;s++)!Object.keys(e[s]).length||r.id===e[s].id||(e[s].selected=!1)},VideoTrackList=function(n){_inheritsLoose(e,n);function e(s){var a;s===void 0&&(s=[]);for(var l=s.length-1;l>=0;l--)if(s[l].selected){disableOthers(s,s[l]);break}return a=n.call(this,s)||this,a.changing_=!1,Object.defineProperty(_assertThisInitialized(a),"selectedIndex",{get:function(){for(var c=0;c<this.length;c++)if(this[c].selected)return c;return-1},set:function(){}}),a}var r=e.prototype;return r.addTrack=function(a){var l=this;a.selected&&disableOthers(this,a),n.prototype.addTrack.call(this,a),a.addEventListener&&(a.selectedChange_=function(){l.changing_||(l.changing_=!0,disableOthers(l,a),l.changing_=!1,l.trigger("change"))},a.addEventListener("selectedchange",a.selectedChange_))},r.removeTrack=function(a){n.prototype.removeTrack.call(this,a),a.removeEventListener&&a.selectedChange_&&(a.removeEventListener("selectedchange",a.selectedChange_),a.selectedChange_=null)},e}(TrackList),TextTrackList=function(n){_inheritsLoose(e,n);function e(){return n.apply(this,arguments)||this}var r=e.prototype;return r.addTrack=function(a){var l=this;n.prototype.addTrack.call(this,a),this.queueChange_||(this.queueChange_=function(){return l.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return l.trigger("selectedlanguagechange")}),a.addEventListener("modechange",this.queueChange_);var f=["metadata","chapters"];f.indexOf(a.kind)===-1&&a.addEventListener("modechange",this.triggerSelectedlanguagechange_)},r.removeTrack=function(a){n.prototype.removeTrack.call(this,a),a.removeEventListener&&(this.queueChange_&&a.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&a.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(TrackList),HtmlTrackElementList=function(){function n(r){r===void 0&&(r=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var s=0,a=r.length;s<a;s++)this.addTrackElement_(r[s])}var e=n.prototype;return e.addTrackElement_=function(s){var a=this.trackElements_.length;""+a in this||Object.defineProperty(this,a,{get:function(){return this.trackElements_[a]}}),this.trackElements_.indexOf(s)===-1&&this.trackElements_.push(s)},e.getTrackElementByTrack_=function(s){for(var a,l=0,f=this.trackElements_.length;l<f;l++)if(s===this.trackElements_[l].track){a=this.trackElements_[l];break}return a},e.removeTrackElement_=function(s){for(var a=0,l=this.trackElements_.length;a<l;a++)if(s===this.trackElements_[a]){this.trackElements_[a].track&&typeof this.trackElements_[a].track.off=="function"&&this.trackElements_[a].track.off(),typeof this.trackElements_[a].off=="function"&&this.trackElements_[a].off(),this.trackElements_.splice(a,1);break}},n}(),TextTrackCueList=function(){function n(r){n.prototype.setCues_.call(this,r),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=n.prototype;return e.setCues_=function(s){var a=this.length||0,l=0,f=s.length;this.cues_=s,this.length_=s.length;var c=function(g){""+g in this||Object.defineProperty(this,""+g,{get:function(){return this.cues_[g]}})};if(a<f)for(l=a;l<f;l++)c.call(this,l)},e.getCueById=function(s){for(var a=null,l=0,f=this.length;l<f;l++){var c=this[l];if(c.id===s){a=c;break}}return a},n}(),VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"},Track=function(n){_inheritsLoose(e,n);function e(r){var s;r===void 0&&(r={}),s=n.call(this)||this;var a={id:r.id||"vjs_track_"+newGUID(),kind:r.kind||"",language:r.language||""},l=r.label||"",f=function(g){Object.defineProperty(_assertThisInitialized(s),g,{get:function(){return a[g]},set:function(){}})};for(var c in a)f(c);return Object.defineProperty(_assertThisInitialized(s),"label",{get:function(){return l},set:function(g){g!==l&&(l=g,this.trigger("labelchange"))}}),s}return e}(EventTarget$2),parseUrl=function(e){var r=["protocol","hostname","port","pathname","search","hash","host"],s=document_1.createElement("a");s.href=e;for(var a={},l=0;l<r.length;l++)a[r[l]]=s[r[l]];return a.protocol==="http:"&&(a.host=a.host.replace(/:80$/,"")),a.protocol==="https:"&&(a.host=a.host.replace(/:443$/,"")),a.protocol||(a.protocol=window_1.location.protocol),a.host||(a.host=window_1.location.host),a},getAbsoluteURL=function(e){if(!e.match(/^https?:\/\//)){var r=document_1.createElement("a");r.href=e,e=r.href}return e},getFileExtension=function(e){if(typeof e=="string"){var r=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,s=r.exec(e);if(s)return s.pop().toLowerCase()}return""},isCrossOrigin=function(e,r){r===void 0&&(r=window_1.location);var s=parseUrl(e),a=s.protocol===":"?r.protocol:s.protocol,l=a+s.host!==r.protocol+r.host;return l},Url=Object.freeze({__proto__:null,parseUrl,getAbsoluteURL,getFileExtension,isCrossOrigin}),parseCues=function(e,r){var s=new window_1.WebVTT.Parser(window_1,window_1.vttjs,window_1.WebVTT.StringDecoder()),a=[];s.oncue=function(l){r.addCue(l)},s.onparsingerror=function(l){a.push(l)},s.onflush=function(){r.trigger({type:"loadeddata",target:r})},s.parse(e),a.length>0&&(window_1.console&&window_1.console.groupCollapsed&&window_1.console.groupCollapsed("Text Track parsing errors for "+r.src),a.forEach(function(l){return log$1.error(l)}),window_1.console&&window_1.console.groupEnd&&window_1.console.groupEnd()),s.flush()},loadTrack=function(e,r){var s={uri:e},a=isCrossOrigin(e);a&&(s.cors=a);var l=r.tech_.crossOrigin()==="use-credentials";l&&(s.withCredentials=l),libExports(s,bind$1(this,function(f,c,d){if(f)return log$1.error(f,c);r.loaded_=!0,typeof window_1.WebVTT!="function"?r.tech_&&r.tech_.any(["vttjsloaded","vttjserror"],function(g){if(g.type==="vttjserror"){log$1.error("vttjs failed to load, stopping trying to process "+r.src);return}return parseCues(d,r)}):parseCues(d,r)}))},TextTrack=function(n){_inheritsLoose(e,n);function e(s){var a;if(s===void 0&&(s={}),!s.tech)throw new Error("A tech was not provided.");var l=mergeOptions$3(s,{kind:TextTrackKind[s.kind]||"subtitles",language:s.language||s.srclang||""}),f=TextTrackMode[l.mode]||"disabled",c=l.default;(l.kind==="metadata"||l.kind==="chapters")&&(f="hidden"),a=n.call(this,l)||this,a.tech_=l.tech,a.cues_=[],a.activeCues_=[],a.preload_=a.tech_.preloadTextTracks!==!1;var d=new TextTrackCueList(a.cues_),g=new TextTrackCueList(a.activeCues_),b=!1;a.timeupdateHandler=bind$1(_assertThisInitialized(a),function(_){if(_===void 0&&(_={}),!this.tech_.isDisposed()){if(!this.tech_.isReady_){_.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,b&&(this.trigger("cuechange"),b=!1),_.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});var m=function(){a.stopTracking()};return a.tech_.one("dispose",m),f!=="disabled"&&a.startTracking(),Object.defineProperties(_assertThisInitialized(a),{default:{get:function(){return c},set:function(){}},mode:{get:function(){return f},set:function(x){TextTrackMode[x]&&f!==x&&(f=x,!this.preload_&&f!=="disabled"&&this.cues.length===0&&loadTrack(this.src,this),this.stopTracking(),f!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?d:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return g;for(var x=this.tech_.currentTime(),k=[],q=0,j=this.cues.length;q<j;q++){var ne=this.cues[q];(ne.startTime<=x&&ne.endTime>=x||ne.startTime===ne.endTime&&ne.startTime<=x&&ne.startTime+.5>=x)&&k.push(ne)}if(b=!1,k.length!==this.activeCues_.length)b=!0;else for(var se=0;se<k.length;se++)this.activeCues_.indexOf(k[se])===-1&&(b=!0);return this.activeCues_=k,g.setCues_(this.activeCues_),g},set:function(){}}}),l.src?(a.src=l.src,a.preload_||(a.loaded_=!0),(a.preload_||l.kind!=="subtitles"&&l.kind!=="captions")&&loadTrack(a.src,_assertThisInitialized(a))):a.loaded_=!0,a}var r=e.prototype;return r.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)},r.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)},r.addCue=function(a){var l=a;if(window_1.vttjs&&!(a instanceof window_1.vttjs.VTTCue)){l=new window_1.vttjs.VTTCue(a.startTime,a.endTime,a.text);for(var f in a)f in l||(l[f]=a[f]);l.id=a.id,l.originalCue_=a}for(var c=this.tech_.textTracks(),d=0;d<c.length;d++)c[d]!==this&&c[d].removeCue(l);this.cues_.push(l),this.cues.setCues_(this.cues_)},r.removeCue=function(a){for(var l=this.cues_.length;l--;){var f=this.cues_[l];if(f===a||f.originalCue_&&f.originalCue_===a){this.cues_.splice(l,1),this.cues.setCues_(this.cues_);break}}},e}(Track);TextTrack.prototype.allowedEvents_={cuechange:"cuechange"};var AudioTrack=function(n){_inheritsLoose(e,n);function e(r){var s;r===void 0&&(r={});var a=mergeOptions$3(r,{kind:AudioTrackKind[r.kind]||""});s=n.call(this,a)||this;var l=!1;return Object.defineProperty(_assertThisInitialized(s),"enabled",{get:function(){return l},set:function(c){typeof c!="boolean"||c===l||(l=c,this.trigger("enabledchange"))}}),a.enabled&&(s.enabled=a.enabled),s.loaded_=!0,s}return e}(Track),VideoTrack=function(n){_inheritsLoose(e,n);function e(r){var s;r===void 0&&(r={});var a=mergeOptions$3(r,{kind:VideoTrackKind[r.kind]||""});s=n.call(this,a)||this;var l=!1;return Object.defineProperty(_assertThisInitialized(s),"selected",{get:function(){return l},set:function(c){typeof c!="boolean"||c===l||(l=c,this.trigger("selectedchange"))}}),a.selected&&(s.selected=a.selected),s}return e}(Track),NONE=0,LOADING=1,LOADED=2,ERROR=3,HTMLTrackElement=function(n){_inheritsLoose(e,n);function e(r){var s;r===void 0&&(r={}),s=n.call(this)||this;var a,l=new TextTrack(r);return s.kind=l.kind,s.src=l.src,s.srclang=l.language,s.label=l.label,s.default=l.default,Object.defineProperties(_assertThisInitialized(s),{readyState:{get:function(){return a}},track:{get:function(){return l}}}),a=NONE,l.addEventListener("loadeddata",function(){a=LOADED,s.trigger({type:"load",target:_assertThisInitialized(s)})}),s}return e}(EventTarget$2);HTMLTrackElement.prototype.allowedEvents_={load:"load"};HTMLTrackElement.NONE=NONE;HTMLTrackElement.LOADING=LOADING;HTMLTrackElement.LOADED=LOADED;HTMLTrackElement.ERROR=ERROR;var NORMAL={audio:{ListClass:AudioTrackList,TrackClass:AudioTrack,capitalName:"Audio"},video:{ListClass:VideoTrackList,TrackClass:VideoTrack,capitalName:"Video"},text:{ListClass:TextTrackList,TrackClass:TextTrack,capitalName:"Text"}};Object.keys(NORMAL).forEach(function(n){NORMAL[n].getterName=n+"Tracks",NORMAL[n].privateName=n+"Tracks_"});var REMOTE={remoteText:{ListClass:TextTrackList,TrackClass:TextTrack,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:HtmlTrackElementList,TrackClass:HTMLTrackElement,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},ALL=_extends$2({},NORMAL,REMOTE);REMOTE.names=Object.keys(REMOTE);NORMAL.names=Object.keys(NORMAL);ALL.names=[].concat(REMOTE.names).concat(NORMAL.names);function createTrackHelper(n,e,r,s,a){a===void 0&&(a={});var l=n.textTracks();a.kind=e,r&&(a.label=r),s&&(a.language=s),a.tech=n;var f=new ALL.text.TrackClass(a);return l.addTrack(f),f}var Tech=function(n){_inheritsLoose(e,n);function e(s,a){var l;return s===void 0&&(s={}),a===void 0&&(a=function(){}),s.reportTouchActivity=!1,l=n.call(this,null,s,a)||this,l.onDurationChange_=function(f){return l.onDurationChange(f)},l.trackProgress_=function(f){return l.trackProgress(f)},l.trackCurrentTime_=function(f){return l.trackCurrentTime(f)},l.stopTrackingCurrentTime_=function(f){return l.stopTrackingCurrentTime(f)},l.disposeSourceHandler_=function(f){return l.disposeSourceHandler(f)},l.queuedHanders_=new Set,l.hasStarted_=!1,l.on("playing",function(){this.hasStarted_=!0}),l.on("loadstart",function(){this.hasStarted_=!1}),ALL.names.forEach(function(f){var c=ALL[f];s&&s[c.getterName]&&(l[c.privateName]=s[c.getterName])}),l.featuresProgressEvents||l.manualProgressOn(),l.featuresTimeupdateEvents||l.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(f){s["native"+f+"Tracks"]===!1&&(l["featuresNative"+f+"Tracks"]=!1)}),s.nativeCaptions===!1||s.nativeTextTracks===!1?l.featuresNativeTextTracks=!1:(s.nativeCaptions===!0||s.nativeTextTracks===!0)&&(l.featuresNativeTextTracks=!0),l.featuresNativeTextTracks||l.emulateTextTracks(),l.preloadTextTracks=s.preloadTextTracks!==!1,l.autoRemoteTextTracks_=new ALL.text.ListClass,l.initTrackListeners(),s.nativeControlsForTouch||l.emitTapEvents(),l.constructor&&(l.name_=l.constructor.name||"Unknown Tech"),l}var r=e.prototype;return r.triggerSourceset=function(a){var l=this;this.isReady_||this.one("ready",function(){return l.setTimeout(function(){return l.triggerSourceset(a)},1)}),this.trigger({src:a,type:"sourceset"})},r.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},r.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},r.trackProgress=function(a){this.stopTrackingProgress(),this.progressInterval=this.setInterval(bind$1(this,function(){var l=this.bufferedPercent();this.bufferedPercent_!==l&&this.trigger("progress"),this.bufferedPercent_=l,l===1&&this.stopTrackingProgress()}),500)},r.onDurationChange=function(a){this.duration_=this.duration()},r.buffered=function(){return createTimeRanges(0,0)},r.bufferedPercent=function(){return bufferedPercent(this.buffered(),this.duration_)},r.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},r.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},r.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},r.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},r.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.dispose=function(){this.clearTracks(NORMAL.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),n.prototype.dispose.call(this)},r.clearTracks=function(a){var l=this;a=[].concat(a),a.forEach(function(f){for(var c=l[f+"Tracks"]()||[],d=c.length;d--;){var g=c[d];f==="text"&&l.removeRemoteTextTrack(g),c.removeTrack(g)}})},r.cleanupAutoTextTracks=function(){for(var a=this.autoRemoteTextTracks_||[],l=a.length;l--;){var f=a[l];this.removeRemoteTextTrack(f)}},r.reset=function(){},r.crossOrigin=function(){},r.setCrossOrigin=function(){},r.error=function(a){return a!==void 0&&(this.error_=new MediaError(a),this.trigger("error")),this.error_},r.played=function(){return this.hasStarted_?createTimeRanges(0,0):createTimeRanges()},r.play=function(){},r.setScrubbing=function(){},r.scrubbing=function(){},r.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.initTrackListeners=function(){var a=this;NORMAL.names.forEach(function(l){var f=NORMAL[l],c=function(){a.trigger(l+"trackchange")},d=a[f.getterName]();d.addEventListener("removetrack",c),d.addEventListener("addtrack",c),a.on("dispose",function(){d.removeEventListener("removetrack",c),d.removeEventListener("addtrack",c)})})},r.addWebVttScript_=function(){var a=this;if(!window_1.WebVTT)if(document_1.body.contains(this.el())){if(!this.options_["vtt.js"]&&isPlain(browserIndexExports)&&Object.keys(browserIndexExports).length>0){this.trigger("vttjsloaded");return}var l=document_1.createElement("script");l.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",l.onload=function(){a.trigger("vttjsloaded")},l.onerror=function(){a.trigger("vttjserror")},this.on("dispose",function(){l.onload=null,l.onerror=null}),window_1.WebVTT=!0,this.el().parentNode.appendChild(l)}else this.ready(this.addWebVttScript_)},r.emulateTextTracks=function(){var a=this,l=this.textTracks(),f=this.remoteTextTracks(),c=function(_){return l.addTrack(_.track)},d=function(_){return l.removeTrack(_.track)};f.on("addtrack",c),f.on("removetrack",d),this.addWebVttScript_();var g=function(){return a.trigger("texttrackchange")},b=function(){g();for(var _=0;_<l.length;_++){var x=l[_];x.removeEventListener("cuechange",g),x.mode==="showing"&&x.addEventListener("cuechange",g)}};b(),l.addEventListener("change",b),l.addEventListener("addtrack",b),l.addEventListener("removetrack",b),this.on("dispose",function(){f.off("addtrack",c),f.off("removetrack",d),l.removeEventListener("change",b),l.removeEventListener("addtrack",b),l.removeEventListener("removetrack",b);for(var m=0;m<l.length;m++){var _=l[m];_.removeEventListener("cuechange",g)}})},r.addTextTrack=function(a,l,f){if(!a)throw new Error("TextTrack kind is required but was not provided");return createTrackHelper(this,a,l,f)},r.createRemoteTextTrack=function(a){var l=mergeOptions$3(a,{tech:this});return new REMOTE.remoteTextEl.TrackClass(l)},r.addRemoteTextTrack=function(a,l){var f=this;a===void 0&&(a={});var c=this.createRemoteTextTrack(a);return l!==!0&&l!==!1&&(log$1.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),l=!0),this.remoteTextTrackEls().addTrackElement_(c),this.remoteTextTracks().addTrack(c.track),l!==!0&&this.ready(function(){return f.autoRemoteTextTracks_.addTrack(c.track)}),c},r.removeRemoteTextTrack=function(a){var l=this.remoteTextTrackEls().getTrackElementByTrack_(a);this.remoteTextTrackEls().removeTrackElement_(l),this.remoteTextTracks().removeTrack(a),this.autoRemoteTextTracks_.removeTrack(a)},r.getVideoPlaybackQuality=function(){return{}},r.requestPictureInPicture=function(){var a=this.options_.Promise||window_1.Promise;if(a)return a.reject()},r.disablePictureInPicture=function(){return!0},r.setDisablePictureInPicture=function(){},r.requestVideoFrameCallback=function(a){var l=this,f=newGUID();return!this.isReady_||this.paused()?(this.queuedHanders_.add(f),this.one("playing",function(){l.queuedHanders_.has(f)&&(l.queuedHanders_.delete(f),a())})):this.requestNamedAnimationFrame(f,a),f},r.cancelVideoFrameCallback=function(a){this.queuedHanders_.has(a)?this.queuedHanders_.delete(a):this.cancelNamedAnimationFrame(a)},r.setPoster=function(){},r.playsinline=function(){},r.setPlaysinline=function(){},r.overrideNativeAudioTracks=function(){},r.overrideNativeVideoTracks=function(){},r.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(a,l){return e.canPlayType(a.type)},e.isTech=function(a){return a.prototype instanceof e||a instanceof e||a===e},e.registerTech=function(a,l){if(e.techs_||(e.techs_={}),!e.isTech(l))throw new Error("Tech "+a+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return a=toTitleCase$1(a),e.techs_[a]=l,e.techs_[toLowerCase(a)]=l,a!=="Tech"&&e.defaultTechOrder_.push(a),l},e.getTech=function(a){if(a){if(e.techs_&&e.techs_[a])return e.techs_[a];if(a=toTitleCase$1(a),window_1&&window_1.videojs&&window_1.videojs[a])return log$1.warn("The "+a+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),window_1.videojs[a]}},e}(Component$1);ALL.names.forEach(function(n){var e=ALL[n];Tech.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Tech.prototype.featuresVolumeControl=!0;Tech.prototype.featuresMuteControl=!0;Tech.prototype.featuresFullscreenResize=!1;Tech.prototype.featuresPlaybackRate=!1;Tech.prototype.featuresProgressEvents=!1;Tech.prototype.featuresSourceset=!1;Tech.prototype.featuresTimeupdateEvents=!1;Tech.prototype.featuresNativeTextTracks=!1;Tech.prototype.featuresVideoFrameCallback=!1;Tech.withSourceHandlers=function(n){n.registerSourceHandler=function(r,s){var a=n.sourceHandlers;a||(a=n.sourceHandlers=[]),s===void 0&&(s=a.length),a.splice(s,0,r)},n.canPlayType=function(r){for(var s=n.sourceHandlers||[],a,l=0;l<s.length;l++)if(a=s[l].canPlayType(r),a)return a;return""},n.selectSourceHandler=function(r,s){for(var a=n.sourceHandlers||[],l,f=0;f<a.length;f++)if(l=a[f].canHandleSource(r,s),l)return a[f];return null},n.canPlaySource=function(r,s){var a=n.selectSourceHandler(r,s);return a?a.canHandleSource(r,s):""};var e=["seekable","seeking","duration"];e.forEach(function(r){var s=this[r];typeof s=="function"&&(this[r]=function(){return this.sourceHandler_&&this.sourceHandler_[r]?this.sourceHandler_[r].apply(this.sourceHandler_,arguments):s.apply(this,arguments)})},n.prototype),n.prototype.setSource=function(r){var s=n.selectSourceHandler(r,this.options_);s||(n.nativeSourceHandler?s=n.nativeSourceHandler:log$1.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),s!==n.nativeSourceHandler&&(this.currentSource_=r),this.sourceHandler_=s.handleSource(r,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},n.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};Component$1.registerComponent("Tech",Tech);Tech.registerTech("Tech",Tech);Tech.defaultTechOrder_=[];var middlewares={},middlewareInstances={},TERMINATOR={};function use(n,e){middlewares[n]=middlewares[n]||[],middlewares[n].push(e)}function setSource(n,e,r){n.setTimeout(function(){return setSourceHelper(e,middlewares[e.type],r,n)},1)}function setTech(n,e){n.forEach(function(r){return r.setTech&&r.setTech(e)})}function get(n,e,r){return n.reduceRight(middlewareIterator(r),e[r]())}function set$1(n,e,r,s){return e[r](n.reduce(middlewareIterator(r),s))}function mediate(n,e,r,s){s===void 0&&(s=null);var a="call"+toTitleCase$1(r),l=n.reduce(middlewareIterator(a),s),f=l===TERMINATOR,c=f?null:e[r](l);return executeRight(n,r,c,f),c}var allowedGetters={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},allowedSetters={setCurrentTime:1,setMuted:1,setVolume:1},allowedMediators={play:1,pause:1};function middlewareIterator(n){return function(e,r){return e===TERMINATOR?TERMINATOR:r[n]?r[n](e):e}}function executeRight(n,e,r,s){for(var a=n.length-1;a>=0;a--){var l=n[a];l[e]&&l[e](s,r)}}function clearCacheForPlayer(n){middlewareInstances[n.id()]=null}function getOrCreateFactory(n,e){var r=middlewareInstances[n.id()],s=null;if(r==null)return s=e(n),middlewareInstances[n.id()]=[[e,s]],s;for(var a=0;a<r.length;a++){var l=r[a],f=l[0],c=l[1];f===e&&(s=c)}return s===null&&(s=e(n),r.push([e,s])),s}function setSourceHelper(n,e,r,s,a,l){n===void 0&&(n={}),e===void 0&&(e=[]),a===void 0&&(a=[]),l===void 0&&(l=!1);var f=e,c=f[0],d=f.slice(1);if(typeof c=="string")setSourceHelper(n,middlewares[c],r,s,a,l);else if(c){var g=getOrCreateFactory(s,c);if(!g.setSource)return a.push(g),setSourceHelper(n,d,r,s,a,l);g.setSource(assign({},n),function(b,m){if(b)return setSourceHelper(n,d,r,s,a,l);a.push(g),setSourceHelper(m,n.type===m.type?d:middlewares[m.type],r,s,a,l)})}else d.length?setSourceHelper(n,d,r,s,a,l):l?r(n,a):setSourceHelper(n,middlewares["*"],r,s,a,!0)}var MimetypesKind={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},getMimetype=function(e){e===void 0&&(e="");var r=getFileExtension(e),s=MimetypesKind[r.toLowerCase()];return s||""},findMimetype=function(e,r){if(!r)return"";if(e.cache_.source.src===r&&e.cache_.source.type)return e.cache_.source.type;var s=e.cache_.sources.filter(function(c){return c.src===r});if(s.length)return s[0].type;for(var a=e.$$("source"),l=0;l<a.length;l++){var f=a[l];if(f.type&&f.src&&f.src===r)return f.type}return getMimetype(r)},filterSource=function n(e){if(Array.isArray(e)){var r=[];e.forEach(function(s){s=n(s),Array.isArray(s)?r=r.concat(s):isObject$2(s)&&r.push(s)}),e=r}else typeof e=="string"&&e.trim()?e=[fixSource({src:e})]:isObject$2(e)&&typeof e.src=="string"&&e.src&&e.src.trim()?e=[fixSource(e)]:e=[];return e};function fixSource(n){if(!n.type){var e=getMimetype(n.src);e&&(n.type=e)}return n}var MediaLoader=function(n){_inheritsLoose(e,n);function e(r,s,a){var l,f=mergeOptions$3({createEl:!1},s);if(l=n.call(this,r,f,a)||this,!s.playerOptions.sources||s.playerOptions.sources.length===0)for(var c=0,d=s.playerOptions.techOrder;c<d.length;c++){var g=toTitleCase$1(d[c]),b=Tech.getTech(g);if(g||(b=Component$1.getComponent(g)),b&&b.isSupported()){r.loadTech_(g);break}}else r.src(s.playerOptions.sources);return l}return e}(Component$1);Component$1.registerComponent("MediaLoader",MediaLoader);var ClickableComponent=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,l.options_.controlText&&l.controlText(l.options_.controlText),l.handleMouseOver_=function(f){return l.handleMouseOver(f)},l.handleMouseOut_=function(f){return l.handleMouseOut(f)},l.handleClick_=function(f){return l.handleClick(f)},l.handleKeyDown_=function(f){return l.handleKeyDown(f)},l.emitTapEvents(),l.enable(),l}var r=e.prototype;return r.createEl=function(a,l,f){a===void 0&&(a="div"),l===void 0&&(l={}),f===void 0&&(f={}),l=assign({className:this.buildCSSClass(),tabIndex:0},l),a==="button"&&log$1.error("Creating a ClickableComponent with an HTML element of "+a+" is not supported; use a Button instead."),f=assign({role:"button"},f),this.tabIndex_=l.tabIndex;var c=createEl(a,l,f);return c.appendChild(createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(c),c},r.dispose=function(){this.controlTextEl_=null,n.prototype.dispose.call(this)},r.createControlTextEl=function(a){return this.controlTextEl_=createEl("span",{className:"vjs-control-text"},{"aria-live":"polite"}),a&&a.appendChild(this.controlTextEl_),this.controlText(this.controlText_,a),this.controlTextEl_},r.controlText=function(a,l){if(l===void 0&&(l=this.el()),a===void 0)return this.controlText_||"Need Text";var f=this.localize(a);this.controlText_=a,textContent(this.controlTextEl_,f),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&l.setAttribute("title",f)},r.buildCSSClass=function(){return"vjs-control vjs-button "+n.prototype.buildCSSClass.call(this)},r.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},r.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},r.handleLanguagechange=function(){this.controlText(this.controlText_)},r.handleClick=function(a){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},r.handleKeyDown=function(a){keycode.isEventKey(a,"Space")||keycode.isEventKey(a,"Enter")?(a.preventDefault(),a.stopPropagation(),this.trigger("click")):n.prototype.handleKeyDown.call(this,a)},e}(Component$1);Component$1.registerComponent("ClickableComponent",ClickableComponent);var PosterImage=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,l.update(),l.update_=function(f){return l.update(f)},s.on("posterchange",l.update_),l}var r=e.prototype;return r.dispose=function(){this.player().off("posterchange",this.update_),n.prototype.dispose.call(this)},r.createEl=function(){var a=createEl("div",{className:"vjs-poster",tabIndex:-1});return a},r.update=function(a){var l=this.player().poster();this.setSrc(l),l?this.show():this.hide()},r.setSrc=function(a){var l="";a&&(l='url("'+a+'")'),this.el_.style.backgroundImage=l},r.handleClick=function(a){if(this.player_.controls()){var l=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((IE_VERSION||IS_EDGE)&&l)&&this.player_.tech(!0).focus(),this.player_.paused()?silencePromise(this.player_.play()):this.player_.pause()}},e}(ClickableComponent);Component$1.registerComponent("PosterImage",PosterImage);var darkGray="#222",lightGray="#ccc",fontMap={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function constructColor(n,e){var r;if(n.length===4)r=n[1]+n[1]+n[2]+n[2]+n[3]+n[3];else if(n.length===7)r=n.slice(1);else throw new Error("Invalid color code provided, "+n+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+e+")"}function tryUpdateStyle(n,e,r){try{n.style[e]=r}catch{return}}var TextTrackDisplay=function(n){_inheritsLoose(e,n);function e(s,a,l){var f;f=n.call(this,s,a,l)||this;var c=function(g){return f.updateDisplay(g)};return s.on("loadstart",function(d){return f.toggleDisplay(d)}),s.on("texttrackchange",c),s.on("loadedmetadata",function(d){return f.preselectTrack(d)}),s.ready(bind$1(_assertThisInitialized(f),function(){if(s.tech_&&s.tech_.featuresNativeTextTracks){this.hide();return}s.on("fullscreenchange",c),s.on("playerresize",c),window_1.addEventListener("orientationchange",c),s.on("dispose",function(){return window_1.removeEventListener("orientationchange",c)});for(var d=this.options_.playerOptions.tracks||[],g=0;g<d.length;g++)this.player_.addRemoteTextTrack(d[g],!0);this.preselectTrack()})),f}var r=e.prototype;return r.preselectTrack=function(){for(var a={captions:1,subtitles:1},l=this.player_.textTracks(),f=this.player_.cache_.selectedLanguage,c,d,g,b=0;b<l.length;b++){var m=l[b];f&&f.enabled&&f.language&&f.language===m.language&&m.kind in a?m.kind===f.kind?g=m:g||(g=m):f&&!f.enabled?(g=null,c=null,d=null):m.default&&(m.kind==="descriptions"&&!c?c=m:m.kind in a&&!d&&(d=m))}g?g.mode="showing":d?d.mode="showing":c&&(c.mode="showing")},r.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},r.clearDisplay=function(){typeof window_1.WebVTT=="function"&&window_1.WebVTT.processCues(window_1,[],this.el_)},r.updateDisplay=function(){var a=this.player_.textTracks(),l=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),l){for(var f=[],c=0;c<a.length;++c){var d=a[c];d.mode==="showing"&&f.push(d)}this.updateForTrack(f);return}for(var g=null,b=null,m=a.length;m--;){var _=a[m];_.mode==="showing"&&(_.kind==="descriptions"?g=_:b=_)}b?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(b)):g&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(g))},r.updateDisplayState=function(a){for(var l=this.player_.textTrackSettings.getValues(),f=a.activeCues,c=f.length;c--;){var d=f[c];if(d){var g=d.displayState;if(l.color&&(g.firstChild.style.color=l.color),l.textOpacity&&tryUpdateStyle(g.firstChild,"color",constructColor(l.color||"#fff",l.textOpacity)),l.backgroundColor&&(g.firstChild.style.backgroundColor=l.backgroundColor),l.backgroundOpacity&&tryUpdateStyle(g.firstChild,"backgroundColor",constructColor(l.backgroundColor||"#000",l.backgroundOpacity)),l.windowColor&&(l.windowOpacity?tryUpdateStyle(g,"backgroundColor",constructColor(l.windowColor,l.windowOpacity)):g.style.backgroundColor=l.windowColor),l.edgeStyle&&(l.edgeStyle==="dropshadow"?g.firstChild.style.textShadow="2px 2px 3px "+darkGray+", 2px 2px 4px "+darkGray+", 2px 2px 5px "+darkGray:l.edgeStyle==="raised"?g.firstChild.style.textShadow="1px 1px "+darkGray+", 2px 2px "+darkGray+", 3px 3px "+darkGray:l.edgeStyle==="depressed"?g.firstChild.style.textShadow="1px 1px "+lightGray+", 0 1px "+lightGray+", -1px -1px "+darkGray+", 0 -1px "+darkGray:l.edgeStyle==="uniform"&&(g.firstChild.style.textShadow="0 0 4px "+darkGray+", 0 0 4px "+darkGray+", 0 0 4px "+darkGray+", 0 0 4px "+darkGray)),l.fontPercent&&l.fontPercent!==1){var b=window_1.parseFloat(g.style.fontSize);g.style.fontSize=b*l.fontPercent+"px",g.style.height="auto",g.style.top="auto"}l.fontFamily&&l.fontFamily!=="default"&&(l.fontFamily==="small-caps"?g.firstChild.style.fontVariant="small-caps":g.firstChild.style.fontFamily=fontMap[l.fontFamily])}}},r.updateForTrack=function(a){if(Array.isArray(a)||(a=[a]),!(typeof window_1.WebVTT!="function"||a.every(function(x){return!x.activeCues}))){for(var l=[],f=0;f<a.length;++f)for(var c=a[f],d=0;d<c.activeCues.length;++d)l.push(c.activeCues[d]);window_1.WebVTT.processCues(window_1,l,this.el_);for(var g=0;g<a.length;++g){for(var b=a[g],m=0;m<b.activeCues.length;++m){var _=b.activeCues[m].displayState;addClass(_,"vjs-text-track-cue"),addClass(_,"vjs-text-track-cue-"+(b.language?b.language:g)),b.language&&setAttribute(_,"lang",b.language)}this.player_.textTrackSettings&&this.updateDisplayState(b)}}},e}(Component$1);Component$1.registerComponent("TextTrackDisplay",TextTrackDisplay);var LoadingSpinner=function(n){_inheritsLoose(e,n);function e(){return n.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){var a=this.player_.isAudio(),l=this.localize(a?"Audio Player":"Video Player"),f=createEl("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[l])}),c=n.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return c.appendChild(f),c},e}(Component$1);Component$1.registerComponent("LoadingSpinner",LoadingSpinner);var Button=function(n){_inheritsLoose(e,n);function e(){return n.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(a,l,f){l===void 0&&(l={}),f===void 0&&(f={}),a="button",l=assign({className:this.buildCSSClass()},l),f=assign({type:"button"},f);var c=createEl(a,l,f);return c.appendChild(createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(c),c},r.addChild=function(a,l){l===void 0&&(l={});var f=this.constructor.name;return log$1.warn("Adding an actionable (user controllable) child to a Button ("+f+") is not supported; use a ClickableComponent instead."),Component$1.prototype.addChild.call(this,a,l)},r.enable=function(){n.prototype.enable.call(this),this.el_.removeAttribute("disabled")},r.disable=function(){n.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},r.handleKeyDown=function(a){if(keycode.isEventKey(a,"Space")||keycode.isEventKey(a,"Enter")){a.stopPropagation();return}n.prototype.handleKeyDown.call(this,a)},e}(ClickableComponent);Component$1.registerComponent("Button",Button);var BigPlayButton=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,l.mouseused_=!1,l.on("mousedown",function(f){return l.handleMouseDown(f)}),l}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-big-play-button"},r.handleClick=function(a){var l=this.player_.play();if(this.mouseused_&&a.clientX&&a.clientY){var f=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;silencePromise(l),this.player_.tech(!0)&&!((IE_VERSION||IS_EDGE)&&f)&&this.player_.tech(!0).focus();return}var c=this.player_.getChild("controlBar"),d=c&&c.getChild("playToggle");if(!d){this.player_.tech(!0).focus();return}var g=function(){return d.focus()};isPromise(l)?l.then(g,function(){}):this.setTimeout(g,1)},r.handleKeyDown=function(a){this.mouseused_=!1,n.prototype.handleKeyDown.call(this,a)},r.handleMouseDown=function(a){this.mouseused_=!0},e}(Button);BigPlayButton.prototype.controlText_="Play Video";Component$1.registerComponent("BigPlayButton",BigPlayButton);var CloseButton=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,l.controlText(a&&a.controlText||l.localize("Close")),l}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-close-button "+n.prototype.buildCSSClass.call(this)},r.handleClick=function(a){this.trigger({type:"close",bubbles:!1})},r.handleKeyDown=function(a){keycode.isEventKey(a,"Esc")?(a.preventDefault(),a.stopPropagation(),this.trigger("click")):n.prototype.handleKeyDown.call(this,a)},e}(Button);Component$1.registerComponent("CloseButton",CloseButton);var PlayToggle=function(n){_inheritsLoose(e,n);function e(s,a){var l;return a===void 0&&(a={}),l=n.call(this,s,a)||this,a.replay=a.replay===void 0||a.replay,l.on(s,"play",function(f){return l.handlePlay(f)}),l.on(s,"pause",function(f){return l.handlePause(f)}),a.replay&&l.on(s,"ended",function(f){return l.handleEnded(f)}),l}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-play-control "+n.prototype.buildCSSClass.call(this)},r.handleClick=function(a){this.player_.paused()?silencePromise(this.player_.play()):this.player_.pause()},r.handleSeeked=function(a){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(a):this.handlePlay(a)},r.handlePlay=function(a){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},r.handlePause=function(a){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},r.handleEnded=function(a){var l=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(f){return l.handleSeeked(f)})},e}(Button);PlayToggle.prototype.controlText_="Play";Component$1.registerComponent("PlayToggle",PlayToggle);var defaultImplementation=function(e,r){e=e<0?0:e;var s=Math.floor(e%60),a=Math.floor(e/60%60),l=Math.floor(e/3600),f=Math.floor(r/60%60),c=Math.floor(r/3600);return(isNaN(e)||e===1/0)&&(l=a=s="-"),l=l>0||c>0?l+":":"",a=((l||f>=10)&&a<10?"0"+a:a)+":",s=s<10?"0"+s:s,l+a+s},implementation=defaultImplementation;function setFormatTime(n){implementation=n}function resetFormatTime(){implementation=defaultImplementation}function formatTime(n,e){return e===void 0&&(e=n),implementation(n,e)}var TimeDisplay=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,l.on(s,["timeupdate","ended"],function(f){return l.updateContent(f)}),l.updateTextNode_(),l}var r=e.prototype;return r.createEl=function(){var a=this.buildCSSClass(),l=n.prototype.createEl.call(this,"div",{className:a+" vjs-time-control vjs-control"}),f=createEl("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+" "},{role:"presentation"});return l.appendChild(f),this.contentEl_=createEl("span",{className:a+"-display"},{"aria-live":"off",role:"presentation"}),l.appendChild(this.contentEl_),l},r.dispose=function(){this.contentEl_=null,this.textNode_=null,n.prototype.dispose.call(this)},r.updateTextNode_=function(a){var l=this;a===void 0&&(a=0),a=formatTime(a),this.formattedTime_!==a&&(this.formattedTime_=a,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(l.contentEl_){var f=l.textNode_;f&&l.contentEl_.firstChild!==f&&(f=null,log$1.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),l.textNode_=document_1.createTextNode(l.formattedTime_),l.textNode_&&(f?l.contentEl_.replaceChild(l.textNode_,f):l.contentEl_.appendChild(l.textNode_))}}))},r.updateContent=function(a){},e}(Component$1);TimeDisplay.prototype.labelText_="Time";TimeDisplay.prototype.controlText_="Time";Component$1.registerComponent("TimeDisplay",TimeDisplay);var CurrentTimeDisplay=function(n){_inheritsLoose(e,n);function e(){return n.apply(this,arguments)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-current-time"},r.updateContent=function(a){var l;this.player_.ended()?l=this.player_.duration():l=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(l)},e}(TimeDisplay);CurrentTimeDisplay.prototype.labelText_="Current Time";CurrentTimeDisplay.prototype.controlText_="Current Time";Component$1.registerComponent("CurrentTimeDisplay",CurrentTimeDisplay);var DurationDisplay=function(n){_inheritsLoose(e,n);function e(s,a){var l;l=n.call(this,s,a)||this;var f=function(d){return l.updateContent(d)};return l.on(s,"durationchange",f),l.on(s,"loadstart",f),l.on(s,"loadedmetadata",f),l}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-duration"},r.updateContent=function(a){var l=this.player_.duration();this.updateTextNode_(l)},e}(TimeDisplay);DurationDisplay.prototype.labelText_="Duration";DurationDisplay.prototype.controlText_="Duration";Component$1.registerComponent("DurationDisplay",DurationDisplay);var TimeDivider=function(n){_inheritsLoose(e,n);function e(){return n.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){var a=n.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),l=n.prototype.createEl.call(this,"div"),f=n.prototype.createEl.call(this,"span",{textContent:"/"});return l.appendChild(f),a.appendChild(l),a},e}(Component$1);Component$1.registerComponent("TimeDivider",TimeDivider);var RemainingTimeDisplay=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,l.on(s,"durationchange",function(f){return l.updateContent(f)}),l}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-remaining-time"},r.createEl=function(){var a=n.prototype.createEl.call(this);return this.options_.displayNegative!==!1&&a.insertBefore(createEl("span",{},{"aria-hidden":!0},"-"),this.contentEl_),a},r.updateContent=function(a){if(typeof this.player_.duration()=="number"){var l;this.player_.ended()?l=0:this.player_.remainingTimeDisplay?l=this.player_.remainingTimeDisplay():l=this.player_.remainingTime(),this.updateTextNode_(l)}},e}(TimeDisplay);RemainingTimeDisplay.prototype.labelText_="Remaining Time";RemainingTimeDisplay.prototype.controlText_="Remaining Time";Component$1.registerComponent("RemainingTimeDisplay",RemainingTimeDisplay);var LiveDisplay=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,l.updateShowing(),l.on(l.player(),"durationchange",function(f){return l.updateShowing(f)}),l}var r=e.prototype;return r.createEl=function(){var a=n.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=createEl("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(createEl("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+" "})),this.contentEl_.appendChild(document_1.createTextNode(this.localize("LIVE"))),a.appendChild(this.contentEl_),a},r.dispose=function(){this.contentEl_=null,n.prototype.dispose.call(this)},r.updateShowing=function(a){this.player().duration()===1/0?this.show():this.hide()},e}(Component$1);Component$1.registerComponent("LiveDisplay",LiveDisplay);var SeekToLive=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,l.updateLiveEdgeStatus(),l.player_.liveTracker&&(l.updateLiveEdgeStatusHandler_=function(f){return l.updateLiveEdgeStatus(f)},l.on(l.player_.liveTracker,"liveedgechange",l.updateLiveEdgeStatusHandler_)),l}var r=e.prototype;return r.createEl=function(){var a=n.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=createEl("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),a.appendChild(this.textEl_),a},r.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},r.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},r.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,n.prototype.dispose.call(this)},e}(Button);SeekToLive.prototype.controlText_="Seek to live, currently playing live";Component$1.registerComponent("SeekToLive",SeekToLive);var clamp=function(e,r,s){return e=Number(e),Math.min(s,Math.max(r,isNaN(e)?r:e))},Slider=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,l.handleMouseDown_=function(f){return l.handleMouseDown(f)},l.handleMouseUp_=function(f){return l.handleMouseUp(f)},l.handleKeyDown_=function(f){return l.handleKeyDown(f)},l.handleClick_=function(f){return l.handleClick(f)},l.handleMouseMove_=function(f){return l.handleMouseMove(f)},l.update_=function(f){return l.update(f)},l.bar=l.getChild(l.options_.barName),l.vertical(!!l.options_.vertical),l.enable(),l}var r=e.prototype;return r.enabled=function(){return this.enabled_},r.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},r.disable=function(){if(this.enabled()){var a=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(a,"mousemove",this.handleMouseMove_),this.off(a,"mouseup",this.handleMouseUp_),this.off(a,"touchmove",this.handleMouseMove_),this.off(a,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},r.createEl=function(a,l,f){return l===void 0&&(l={}),f===void 0&&(f={}),l.className=l.className+" vjs-slider",l=assign({tabIndex:0},l),f=assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},f),n.prototype.createEl.call(this,a,l,f)},r.handleMouseDown=function(a){var l=this.bar.el_.ownerDocument;a.type==="mousedown"&&a.preventDefault(),a.type==="touchstart"&&!IS_CHROME&&a.preventDefault(),blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(l,"mousemove",this.handleMouseMove_),this.on(l,"mouseup",this.handleMouseUp_),this.on(l,"touchmove",this.handleMouseMove_),this.on(l,"touchend",this.handleMouseUp_),this.handleMouseMove(a,!0)},r.handleMouseMove=function(a){},r.handleMouseUp=function(){var a=this.bar.el_.ownerDocument;unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(a,"mousemove",this.handleMouseMove_),this.off(a,"mouseup",this.handleMouseUp_),this.off(a,"touchmove",this.handleMouseMove_),this.off(a,"touchend",this.handleMouseUp_),this.update()},r.update=function(){var a=this;if(!(!this.el_||!this.bar)){var l=this.getProgress();return l===this.progress_||(this.progress_=l,this.requestNamedAnimationFrame("Slider#update",function(){var f=a.vertical()?"height":"width";a.bar.el().style[f]=(l*100).toFixed(2)+"%"})),l}},r.getProgress=function(){return Number(clamp(this.getPercent(),0,1).toFixed(4))},r.calculateDistance=function(a){var l=getPointerPosition(this.el_,a);return this.vertical()?l.y:l.x},r.handleKeyDown=function(a){keycode.isEventKey(a,"Left")||keycode.isEventKey(a,"Down")?(a.preventDefault(),a.stopPropagation(),this.stepBack()):keycode.isEventKey(a,"Right")||keycode.isEventKey(a,"Up")?(a.preventDefault(),a.stopPropagation(),this.stepForward()):n.prototype.handleKeyDown.call(this,a)},r.handleClick=function(a){a.stopPropagation(),a.preventDefault()},r.vertical=function(a){if(a===void 0)return this.vertical_||!1;this.vertical_=!!a,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(Component$1);Component$1.registerComponent("Slider",Slider);var percentify=function(e,r){return clamp(e/r*100,0,100).toFixed(2)+"%"},LoadProgressBar=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,l.partEls_=[],l.on(s,"progress",function(f){return l.update(f)}),l}var r=e.prototype;return r.createEl=function(){var a=n.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),l=createEl("span",{className:"vjs-control-text"}),f=createEl("span",{textContent:this.localize("Loaded")}),c=document_1.createTextNode(": ");return this.percentageEl_=createEl("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),a.appendChild(l),l.appendChild(f),l.appendChild(c),l.appendChild(this.percentageEl_),a},r.dispose=function(){this.partEls_=null,this.percentageEl_=null,n.prototype.dispose.call(this)},r.update=function(a){var l=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var f=l.player_.liveTracker,c=l.player_.buffered(),d=f&&f.isLive()?f.seekableEnd():l.player_.duration(),g=l.player_.bufferedEnd(),b=l.partEls_,m=percentify(g,d);l.percent_!==m&&(l.el_.style.width=m,textContent(l.percentageEl_,m),l.percent_=m);for(var _=0;_<c.length;_++){var x=c.start(_),k=c.end(_),q=b[_];q||(q=l.el_.appendChild(createEl()),b[_]=q),!(q.dataset.start===x&&q.dataset.end===k)&&(q.dataset.start=x,q.dataset.end=k,q.style.left=percentify(x,g),q.style.width=percentify(k-x,g))}for(var j=b.length;j>c.length;j--)l.el_.removeChild(b[j-1]);b.length=c.length})},e}(Component$1);Component$1.registerComponent("LoadProgressBar",LoadProgressBar);var TimeTooltip=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,l.update=throttle(bind$1(_assertThisInitialized(l),l.update),UPDATE_REFRESH_INTERVAL),l}var r=e.prototype;return r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},r.update=function(a,l,f){var c=findPosition(this.el_),d=getBoundingClientRect$1(this.player_.el()),g=a.width*l;if(!(!d||!c)){var b=a.left-d.left+g,m=a.width-g+(d.right-a.right),_=c.width/2;b<_?_+=_-b:m<_&&(_=m),_<0?_=0:_>c.width&&(_=c.width),_=Math.round(_),this.el_.style.right="-"+_+"px",this.write(f)}},r.write=function(a){textContent(this.el_,a)},r.updateTime=function(a,l,f,c){var d=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var g,b=d.player_.duration();if(d.player_.liveTracker&&d.player_.liveTracker.isLive()){var m=d.player_.liveTracker.liveWindow(),_=m-l*m;g=(_<1?"":"-")+formatTime(_,m)}else g=formatTime(f,b);d.update(a,l,g),c&&c()})},e}(Component$1);Component$1.registerComponent("TimeTooltip",TimeTooltip);var PlayProgressBar=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,l.update=throttle(bind$1(_assertThisInitialized(l),l.update),UPDATE_REFRESH_INTERVAL),l}var r=e.prototype;return r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},r.update=function(a,l){var f=this.getChild("timeTooltip");if(f){var c=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();f.updateTime(a,l,c)}},e}(Component$1);PlayProgressBar.prototype.options_={children:[]};!IS_IOS&&!IS_ANDROID&&PlayProgressBar.prototype.options_.children.push("timeTooltip");Component$1.registerComponent("PlayProgressBar",PlayProgressBar);var MouseTimeDisplay=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,l.update=throttle(bind$1(_assertThisInitialized(l),l.update),UPDATE_REFRESH_INTERVAL),l}var r=e.prototype;return r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.update=function(a,l){var f=this,c=l*this.player_.duration();this.getChild("timeTooltip").updateTime(a,l,c,function(){f.el_.style.left=a.width*l+"px"})},e}(Component$1);MouseTimeDisplay.prototype.options_={children:["timeTooltip"]};Component$1.registerComponent("MouseTimeDisplay",MouseTimeDisplay);var STEP_SECONDS=5,PAGE_KEY_MULTIPLIER=12,SeekBar=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,l.setEventHandlers_(),l}var r=e.prototype;return r.setEventHandlers_=function(){var a=this;this.update_=bind$1(this,this.update),this.update=throttle(this.update_,UPDATE_REFRESH_INTERVAL),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(l){return a.enableInterval_(l)},this.disableIntervalHandler_=function(l){return a.disableInterval_(l)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document_1&&"visibilityState"in document_1&&this.on(document_1,"visibilitychange",this.toggleVisibility_)},r.toggleVisibility_=function(a){document_1.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(a)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},r.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,UPDATE_REFRESH_INTERVAL))},r.disableInterval_=function(a){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&a&&a.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},r.update=function(a){var l=this;if(document_1.visibilityState!=="hidden"){var f=n.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var c=l.player_.ended()?l.player_.duration():l.getCurrentTime_(),d=l.player_.liveTracker,g=l.player_.duration();d&&d.isLive()&&(g=l.player_.liveTracker.liveCurrentTime()),l.percent_!==f&&(l.el_.setAttribute("aria-valuenow",(f*100).toFixed(2)),l.percent_=f),(l.currentTime_!==c||l.duration_!==g)&&(l.el_.setAttribute("aria-valuetext",l.localize("progress bar timing: currentTime={1} duration={2}",[formatTime(c,g),formatTime(g,g)],"{1} of {2}")),l.currentTime_=c,l.duration_=g),l.bar&&l.bar.update(getBoundingClientRect$1(l.el()),l.getProgress())}),f}},r.userSeek_=function(a){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(a)},r.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},r.getPercent=function(){var a=this.getCurrentTime_(),l,f=this.player_.liveTracker;return f&&f.isLive()?(l=(a-f.seekableStart())/f.liveWindow(),f.atLiveEdge()&&(l=1)):l=a/this.player_.duration(),l},r.handleMouseDown=function(a){isSingleLeftClick(a)&&(a.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),n.prototype.handleMouseDown.call(this,a))},r.handleMouseMove=function(a,l){if(l===void 0&&(l=!1),!!isSingleLeftClick(a)){!l&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);var f,c=this.calculateDistance(a),d=this.player_.liveTracker;if(!d||!d.isLive())f=c*this.player_.duration(),f===this.player_.duration()&&(f=f-.1);else{if(c>=.99){d.seekToLiveEdge();return}var g=d.seekableStart(),b=d.liveCurrentTime();if(f=g+c*d.liveWindow(),f>=b&&(f=b),f<=g&&(f=g+.1),f===1/0)return}this.userSeek_(f)}},r.enable=function(){n.prototype.enable.call(this);var a=this.getChild("mouseTimeDisplay");a&&a.show()},r.disable=function(){n.prototype.disable.call(this);var a=this.getChild("mouseTimeDisplay");a&&a.hide()},r.handleMouseUp=function(a){n.prototype.handleMouseUp.call(this,a),a&&a.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?silencePromise(this.player_.play()):this.update_()},r.stepForward=function(){this.userSeek_(this.player_.currentTime()+STEP_SECONDS)},r.stepBack=function(){this.userSeek_(this.player_.currentTime()-STEP_SECONDS)},r.handleAction=function(a){this.player_.paused()?this.player_.play():this.player_.pause()},r.handleKeyDown=function(a){var l=this.player_.liveTracker;if(keycode.isEventKey(a,"Space")||keycode.isEventKey(a,"Enter"))a.preventDefault(),a.stopPropagation(),this.handleAction(a);else if(keycode.isEventKey(a,"Home"))a.preventDefault(),a.stopPropagation(),this.userSeek_(0);else if(keycode.isEventKey(a,"End"))a.preventDefault(),a.stopPropagation(),l&&l.isLive()?this.userSeek_(l.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(keycode(a))){a.preventDefault(),a.stopPropagation();var f=(keycode.codes[keycode(a)]-keycode.codes[0])*10/100;l&&l.isLive()?this.userSeek_(l.seekableStart()+l.liveWindow()*f):this.userSeek_(this.player_.duration()*f)}else keycode.isEventKey(a,"PgDn")?(a.preventDefault(),a.stopPropagation(),this.userSeek_(this.player_.currentTime()-STEP_SECONDS*PAGE_KEY_MULTIPLIER)):keycode.isEventKey(a,"PgUp")?(a.preventDefault(),a.stopPropagation(),this.userSeek_(this.player_.currentTime()+STEP_SECONDS*PAGE_KEY_MULTIPLIER)):n.prototype.handleKeyDown.call(this,a)},r.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document_1&&"visibilityState"in document_1&&this.off(document_1,"visibilitychange",this.toggleVisibility_),n.prototype.dispose.call(this)},e}(Slider);SeekBar.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!IS_IOS&&!IS_ANDROID&&SeekBar.prototype.options_.children.splice(1,0,"mouseTimeDisplay");Component$1.registerComponent("SeekBar",SeekBar);var ProgressControl=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,l.handleMouseMove=throttle(bind$1(_assertThisInitialized(l),l.handleMouseMove),UPDATE_REFRESH_INTERVAL),l.throttledHandleMouseSeek=throttle(bind$1(_assertThisInitialized(l),l.handleMouseSeek),UPDATE_REFRESH_INTERVAL),l.handleMouseUpHandler_=function(f){return l.handleMouseUp(f)},l.handleMouseDownHandler_=function(f){return l.handleMouseDown(f)},l.enable(),l}var r=e.prototype;return r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},r.handleMouseMove=function(a){var l=this.getChild("seekBar");if(l){var f=l.getChild("playProgressBar"),c=l.getChild("mouseTimeDisplay");if(!(!f&&!c)){var d=l.el(),g=findPosition(d),b=getPointerPosition(d,a).x;b=clamp(b,0,1),c&&c.update(g,b),f&&f.update(g,l.getProgress())}}},r.handleMouseSeek=function(a){var l=this.getChild("seekBar");l&&l.handleMouseMove(a)},r.enabled=function(){return this.enabled_},r.disable=function(){if(this.children().forEach(function(l){return l.disable&&l.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var a=this.getChild("seekBar");this.player_.scrubbing(!1),a.videoWasPlaying&&silencePromise(this.player_.play())}},r.enable=function(){this.children().forEach(function(a){return a.enable&&a.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},r.removeListenersAddedOnMousedownAndTouchstart=function(){var a=this.el_.ownerDocument;this.off(a,"mousemove",this.throttledHandleMouseSeek),this.off(a,"touchmove",this.throttledHandleMouseSeek),this.off(a,"mouseup",this.handleMouseUpHandler_),this.off(a,"touchend",this.handleMouseUpHandler_)},r.handleMouseDown=function(a){var l=this.el_.ownerDocument,f=this.getChild("seekBar");f&&f.handleMouseDown(a),this.on(l,"mousemove",this.throttledHandleMouseSeek),this.on(l,"touchmove",this.throttledHandleMouseSeek),this.on(l,"mouseup",this.handleMouseUpHandler_),this.on(l,"touchend",this.handleMouseUpHandler_)},r.handleMouseUp=function(a){var l=this.getChild("seekBar");l&&l.handleMouseUp(a),this.removeListenersAddedOnMousedownAndTouchstart()},e}(Component$1);ProgressControl.prototype.options_={children:["seekBar"]};Component$1.registerComponent("ProgressControl",ProgressControl);var PictureInPictureToggle=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,l.on(s,["enterpictureinpicture","leavepictureinpicture"],function(f){return l.handlePictureInPictureChange(f)}),l.on(s,["disablepictureinpicturechanged","loadedmetadata"],function(f){return l.handlePictureInPictureEnabledChange(f)}),l.on(s,["loadedmetadata","audioonlymodechange","audiopostermodechange"],function(){var f=s.currentType().substring(0,5)==="audio";f||s.audioPosterMode()||s.audioOnlyMode()?(s.isInPictureInPicture()&&s.exitPictureInPicture(),l.hide()):l.show()}),l.disable(),l}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-picture-in-picture-control "+n.prototype.buildCSSClass.call(this)},r.handlePictureInPictureEnabledChange=function(){document_1.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},r.handlePictureInPictureChange=function(a){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},r.handleClick=function(a){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(Button);PictureInPictureToggle.prototype.controlText_="Picture-in-Picture";Component$1.registerComponent("PictureInPictureToggle",PictureInPictureToggle);var FullscreenToggle=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,l.on(s,"fullscreenchange",function(f){return l.handleFullscreenChange(f)}),document_1[s.fsApi_.fullscreenEnabled]===!1&&l.disable(),l}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-fullscreen-control "+n.prototype.buildCSSClass.call(this)},r.handleFullscreenChange=function(a){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},r.handleClick=function(a){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(Button);FullscreenToggle.prototype.controlText_="Fullscreen";Component$1.registerComponent("FullscreenToggle",FullscreenToggle);var checkVolumeSupport=function(e,r){r.tech_&&!r.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(r,"loadstart",function(){r.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},VolumeLevel=function(n){_inheritsLoose(e,n);function e(){return n.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){var a=n.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return a.appendChild(n.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),a},e}(Component$1);Component$1.registerComponent("VolumeLevel",VolumeLevel);var VolumeLevelTooltip=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,l.update=throttle(bind$1(_assertThisInitialized(l),l.update),UPDATE_REFRESH_INTERVAL),l}var r=e.prototype;return r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},r.update=function(a,l,f,c){if(!f){var d=getBoundingClientRect$1(this.el_),g=getBoundingClientRect$1(this.player_.el()),b=a.width*l;if(!g||!d)return;var m=a.left-g.left+b,_=a.width-b+(g.right-a.right),x=d.width/2;m<x?x+=x-m:_<x&&(x=_),x<0?x=0:x>d.width&&(x=d.width),this.el_.style.right="-"+x+"px"}this.write(c+"%")},r.write=function(a){textContent(this.el_,a)},r.updateVolume=function(a,l,f,c,d){var g=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){g.update(a,l,f,c.toFixed(0)),d&&d()})},e}(Component$1);Component$1.registerComponent("VolumeLevelTooltip",VolumeLevelTooltip);var MouseVolumeLevelDisplay=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,l.update=throttle(bind$1(_assertThisInitialized(l),l.update),UPDATE_REFRESH_INTERVAL),l}var r=e.prototype;return r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.update=function(a,l,f){var c=this,d=100*l;this.getChild("volumeLevelTooltip").updateVolume(a,l,f,d,function(){f?c.el_.style.bottom=a.height*l+"px":c.el_.style.left=a.width*l+"px"})},e}(Component$1);MouseVolumeLevelDisplay.prototype.options_={children:["volumeLevelTooltip"]};Component$1.registerComponent("MouseVolumeLevelDisplay",MouseVolumeLevelDisplay);var VolumeBar=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,l.on("slideractive",function(f){return l.updateLastVolume_(f)}),l.on(s,"volumechange",function(f){return l.updateARIAAttributes(f)}),s.ready(function(){return l.updateARIAAttributes()}),l}var r=e.prototype;return r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},r.handleMouseDown=function(a){isSingleLeftClick(a)&&n.prototype.handleMouseDown.call(this,a)},r.handleMouseMove=function(a){var l=this.getChild("mouseVolumeLevelDisplay");if(l){var f=this.el(),c=getBoundingClientRect$1(f),d=this.vertical(),g=getPointerPosition(f,a);g=d?g.y:g.x,g=clamp(g,0,1),l.update(c,g,d)}isSingleLeftClick(a)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(a)))},r.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},r.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},r.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},r.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},r.updateARIAAttributes=function(a){var l=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",l),this.el_.setAttribute("aria-valuetext",l+"%")},r.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},r.updateLastVolume_=function(){var a=this,l=this.player_.volume();this.one("sliderinactive",function(){a.player_.volume()===0&&a.player_.lastVolume_(l)})},e}(Slider);VolumeBar.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!IS_IOS&&!IS_ANDROID&&VolumeBar.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");VolumeBar.prototype.playerEvent="volumechange";Component$1.registerComponent("VolumeBar",VolumeBar);var VolumeControl=function(n){_inheritsLoose(e,n);function e(s,a){var l;return a===void 0&&(a={}),a.vertical=a.vertical||!1,(typeof a.volumeBar>"u"||isPlain(a.volumeBar))&&(a.volumeBar=a.volumeBar||{},a.volumeBar.vertical=a.vertical),l=n.call(this,s,a)||this,checkVolumeSupport(_assertThisInitialized(l),s),l.throttledHandleMouseMove=throttle(bind$1(_assertThisInitialized(l),l.handleMouseMove),UPDATE_REFRESH_INTERVAL),l.handleMouseUpHandler_=function(f){return l.handleMouseUp(f)},l.on("mousedown",function(f){return l.handleMouseDown(f)}),l.on("touchstart",function(f){return l.handleMouseDown(f)}),l.on("mousemove",function(f){return l.handleMouseMove(f)}),l.on(l.volumeBar,["focus","slideractive"],function(){l.volumeBar.addClass("vjs-slider-active"),l.addClass("vjs-slider-active"),l.trigger("slideractive")}),l.on(l.volumeBar,["blur","sliderinactive"],function(){l.volumeBar.removeClass("vjs-slider-active"),l.removeClass("vjs-slider-active"),l.trigger("sliderinactive")}),l}var r=e.prototype;return r.createEl=function(){var a="vjs-volume-horizontal";return this.options_.vertical&&(a="vjs-volume-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+a})},r.handleMouseDown=function(a){var l=this.el_.ownerDocument;this.on(l,"mousemove",this.throttledHandleMouseMove),this.on(l,"touchmove",this.throttledHandleMouseMove),this.on(l,"mouseup",this.handleMouseUpHandler_),this.on(l,"touchend",this.handleMouseUpHandler_)},r.handleMouseUp=function(a){var l=this.el_.ownerDocument;this.off(l,"mousemove",this.throttledHandleMouseMove),this.off(l,"touchmove",this.throttledHandleMouseMove),this.off(l,"mouseup",this.handleMouseUpHandler_),this.off(l,"touchend",this.handleMouseUpHandler_)},r.handleMouseMove=function(a){this.volumeBar.handleMouseMove(a)},e}(Component$1);VolumeControl.prototype.options_={children:["volumeBar"]};Component$1.registerComponent("VolumeControl",VolumeControl);var checkMuteSupport=function(e,r){r.tech_&&!r.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(r,"loadstart",function(){r.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},MuteToggle=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,checkMuteSupport(_assertThisInitialized(l),s),l.on(s,["loadstart","volumechange"],function(f){return l.update(f)}),l}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-mute-control "+n.prototype.buildCSSClass.call(this)},r.handleClick=function(a){var l=this.player_.volume(),f=this.player_.lastVolume_();if(l===0){var c=f<.1?.1:f;this.player_.volume(c),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},r.update=function(a){this.updateIcon_(),this.updateControlText_()},r.updateIcon_=function(){var a=this.player_.volume(),l=3;IS_IOS&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),a===0||this.player_.muted()?l=0:a<.33?l=1:a<.67&&(l=2);for(var f=0;f<4;f++)removeClass(this.el_,"vjs-vol-"+f);addClass(this.el_,"vjs-vol-"+l)},r.updateControlText_=function(){var a=this.player_.muted()||this.player_.volume()===0,l=a?"Unmute":"Mute";this.controlText()!==l&&this.controlText(l)},e}(Button);MuteToggle.prototype.controlText_="Mute";Component$1.registerComponent("MuteToggle",MuteToggle);var VolumePanel=function(n){_inheritsLoose(e,n);function e(s,a){var l;return a===void 0&&(a={}),typeof a.inline<"u"?a.inline=a.inline:a.inline=!0,(typeof a.volumeControl>"u"||isPlain(a.volumeControl))&&(a.volumeControl=a.volumeControl||{},a.volumeControl.vertical=!a.inline),l=n.call(this,s,a)||this,l.handleKeyPressHandler_=function(f){return l.handleKeyPress(f)},l.on(s,["loadstart"],function(f){return l.volumePanelState_(f)}),l.on(l.muteToggle,"keyup",function(f){return l.handleKeyPress(f)}),l.on(l.volumeControl,"keyup",function(f){return l.handleVolumeControlKeyUp(f)}),l.on("keydown",function(f){return l.handleKeyPress(f)}),l.on("mouseover",function(f){return l.handleMouseOver(f)}),l.on("mouseout",function(f){return l.handleMouseOut(f)}),l.on(l.volumeControl,["slideractive"],l.sliderActive_),l.on(l.volumeControl,["sliderinactive"],l.sliderInactive_),l}var r=e.prototype;return r.sliderActive_=function(){this.addClass("vjs-slider-active")},r.sliderInactive_=function(){this.removeClass("vjs-slider-active")},r.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},r.createEl=function(){var a="vjs-volume-panel-horizontal";return this.options_.inline||(a="vjs-volume-panel-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+a})},r.dispose=function(){this.handleMouseOut(),n.prototype.dispose.call(this)},r.handleVolumeControlKeyUp=function(a){keycode.isEventKey(a,"Esc")&&this.muteToggle.focus()},r.handleMouseOver=function(a){this.addClass("vjs-hover"),on$1(document_1,"keyup",this.handleKeyPressHandler_)},r.handleMouseOut=function(a){this.removeClass("vjs-hover"),off(document_1,"keyup",this.handleKeyPressHandler_)},r.handleKeyPress=function(a){keycode.isEventKey(a,"Esc")&&this.handleMouseOut()},e}(Component$1);VolumePanel.prototype.options_={children:["muteToggle","volumeControl"]};Component$1.registerComponent("VolumePanel",VolumePanel);var Menu=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,a&&(l.menuButton_=a.menuButton),l.focusedChild_=-1,l.on("keydown",function(f){return l.handleKeyDown(f)}),l.boundHandleBlur_=function(f){return l.handleBlur(f)},l.boundHandleTapClick_=function(f){return l.handleTapClick(f)},l}var r=e.prototype;return r.addEventListenerForItem=function(a){a instanceof Component$1&&(this.on(a,"blur",this.boundHandleBlur_),this.on(a,["tap","click"],this.boundHandleTapClick_))},r.removeEventListenerForItem=function(a){a instanceof Component$1&&(this.off(a,"blur",this.boundHandleBlur_),this.off(a,["tap","click"],this.boundHandleTapClick_))},r.removeChild=function(a){typeof a=="string"&&(a=this.getChild(a)),this.removeEventListenerForItem(a),n.prototype.removeChild.call(this,a)},r.addItem=function(a){var l=this.addChild(a);l&&this.addEventListenerForItem(l)},r.createEl=function(){var a=this.options_.contentElType||"ul";this.contentEl_=createEl(a,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var l=n.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return l.appendChild(this.contentEl_),on$1(l,"click",function(f){f.preventDefault(),f.stopImmediatePropagation()}),l},r.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,n.prototype.dispose.call(this)},r.handleBlur=function(a){var l=a.relatedTarget||document_1.activeElement;if(!this.children().some(function(c){return c.el()===l})){var f=this.menuButton_;f&&f.buttonPressed_&&l!==f.el().firstChild&&f.unpressButton()}},r.handleTapClick=function(a){if(this.menuButton_){this.menuButton_.unpressButton();var l=this.children();if(!Array.isArray(l))return;var f=l.filter(function(c){return c.el()===a.target})[0];if(!f)return;f.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},r.handleKeyDown=function(a){keycode.isEventKey(a,"Left")||keycode.isEventKey(a,"Down")?(a.preventDefault(),a.stopPropagation(),this.stepForward()):(keycode.isEventKey(a,"Right")||keycode.isEventKey(a,"Up"))&&(a.preventDefault(),a.stopPropagation(),this.stepBack())},r.stepForward=function(){var a=0;this.focusedChild_!==void 0&&(a=this.focusedChild_+1),this.focus(a)},r.stepBack=function(){var a=0;this.focusedChild_!==void 0&&(a=this.focusedChild_-1),this.focus(a)},r.focus=function(a){a===void 0&&(a=0);var l=this.children().slice(),f=l.length&&l[0].hasClass("vjs-menu-title");f&&l.shift(),l.length>0&&(a<0?a=0:a>=l.length&&(a=l.length-1),this.focusedChild_=a,l[a].el_.focus())},e}(Component$1);Component$1.registerComponent("Menu",Menu);var MenuButton=function(n){_inheritsLoose(e,n);function e(s,a){var l;a===void 0&&(a={}),l=n.call(this,s,a)||this,l.menuButton_=new Button(s,a),l.menuButton_.controlText(l.controlText_),l.menuButton_.el_.setAttribute("aria-haspopup","true");var f=Button.prototype.buildCSSClass();l.menuButton_.el_.className=l.buildCSSClass()+" "+f,l.menuButton_.removeClass("vjs-control"),l.addChild(l.menuButton_),l.update(),l.enabled_=!0;var c=function(g){return l.handleClick(g)};return l.handleMenuKeyUp_=function(d){return l.handleMenuKeyUp(d)},l.on(l.menuButton_,"tap",c),l.on(l.menuButton_,"click",c),l.on(l.menuButton_,"keydown",function(d){return l.handleKeyDown(d)}),l.on(l.menuButton_,"mouseenter",function(){l.addClass("vjs-hover"),l.menu.show(),on$1(document_1,"keyup",l.handleMenuKeyUp_)}),l.on("mouseleave",function(d){return l.handleMouseLeave(d)}),l.on("keydown",function(d){return l.handleSubmenuKeyDown(d)}),l}var r=e.prototype;return r.update=function(){var a=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=a,this.addChild(a),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},r.createMenu=function(){var a=new Menu(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var l=createEl("li",{className:"vjs-menu-title",textContent:toTitleCase$1(this.options_.title),tabIndex:-1}),f=new Component$1(this.player_,{el:l});a.addItem(f)}if(this.items=this.createItems(),this.items)for(var c=0;c<this.items.length;c++)a.addItem(this.items[c]);return a},r.createItems=function(){},r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},r.buildWrapperCSSClass=function(){var a="vjs-menu-button";this.options_.inline===!0?a+="-inline":a+="-popup";var l=Button.prototype.buildCSSClass();return"vjs-menu-button "+a+" "+l+" "+n.prototype.buildCSSClass.call(this)},r.buildCSSClass=function(){var a="vjs-menu-button";return this.options_.inline===!0?a+="-inline":a+="-popup","vjs-menu-button "+a+" "+n.prototype.buildCSSClass.call(this)},r.controlText=function(a,l){return l===void 0&&(l=this.menuButton_.el()),this.menuButton_.controlText(a,l)},r.dispose=function(){this.handleMouseLeave(),n.prototype.dispose.call(this)},r.handleClick=function(a){this.buttonPressed_?this.unpressButton():this.pressButton()},r.handleMouseLeave=function(a){this.removeClass("vjs-hover"),off(document_1,"keyup",this.handleMenuKeyUp_)},r.focus=function(){this.menuButton_.focus()},r.blur=function(){this.menuButton_.blur()},r.handleKeyDown=function(a){keycode.isEventKey(a,"Esc")||keycode.isEventKey(a,"Tab")?(this.buttonPressed_&&this.unpressButton(),keycode.isEventKey(a,"Tab")||(a.preventDefault(),this.menuButton_.focus())):(keycode.isEventKey(a,"Up")||keycode.isEventKey(a,"Down"))&&(this.buttonPressed_||(a.preventDefault(),this.pressButton()))},r.handleMenuKeyUp=function(a){(keycode.isEventKey(a,"Esc")||keycode.isEventKey(a,"Tab"))&&this.removeClass("vjs-hover")},r.handleSubmenuKeyPress=function(a){this.handleSubmenuKeyDown(a)},r.handleSubmenuKeyDown=function(a){(keycode.isEventKey(a,"Esc")||keycode.isEventKey(a,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),keycode.isEventKey(a,"Tab")||(a.preventDefault(),this.menuButton_.focus()))},r.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),IS_IOS&&isInFrame())return;this.menu.focus()}},r.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},r.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},r.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(Component$1);Component$1.registerComponent("MenuButton",MenuButton);var TrackButton=function(n){_inheritsLoose(e,n);function e(r,s){var a,l=s.tracks;if(a=n.call(this,r,s)||this,a.items.length<=1&&a.hide(),!l)return _assertThisInitialized(a);var f=bind$1(_assertThisInitialized(a),a.update);return l.addEventListener("removetrack",f),l.addEventListener("addtrack",f),l.addEventListener("labelchange",f),a.player_.on("ready",f),a.player_.on("dispose",function(){l.removeEventListener("removetrack",f),l.removeEventListener("addtrack",f),l.removeEventListener("labelchange",f)}),a}return e}(MenuButton);Component$1.registerComponent("TrackButton",TrackButton);var MenuKeys=["Tab","Esc","Up","Down","Right","Left"],MenuItem=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,l.selectable=a.selectable,l.isSelected_=a.selected||!1,l.multiSelectable=a.multiSelectable,l.selected(l.isSelected_),l.selectable?l.multiSelectable?l.el_.setAttribute("role","menuitemcheckbox"):l.el_.setAttribute("role","menuitemradio"):l.el_.setAttribute("role","menuitem"),l}var r=e.prototype;return r.createEl=function(a,l,f){this.nonIconControl=!0;var c=n.prototype.createEl.call(this,"li",assign({className:"vjs-menu-item",tabIndex:-1},l),f);return c.replaceChild(createEl("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),c.querySelector(".vjs-icon-placeholder")),c},r.handleKeyDown=function(a){MenuKeys.some(function(l){return keycode.isEventKey(a,l)})||n.prototype.handleKeyDown.call(this,a)},r.handleClick=function(a){this.selected(!0)},r.selected=function(a){this.selectable&&(a?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(ClickableComponent);Component$1.registerComponent("MenuItem",MenuItem);var TextTrackMenuItem=function(n){_inheritsLoose(e,n);function e(s,a){var l,f=a.track,c=s.textTracks();a.label=f.label||f.language||"Unknown",a.selected=f.mode==="showing",l=n.call(this,s,a)||this,l.track=f,l.kinds=(a.kinds||[a.kind||l.track.kind]).filter(Boolean);var d=function(){for(var _=arguments.length,x=new Array(_),k=0;k<_;k++)x[k]=arguments[k];l.handleTracksChange.apply(_assertThisInitialized(l),x)},g=function(){for(var _=arguments.length,x=new Array(_),k=0;k<_;k++)x[k]=arguments[k];l.handleSelectedLanguageChange.apply(_assertThisInitialized(l),x)};if(s.on(["loadstart","texttrackchange"],d),c.addEventListener("change",d),c.addEventListener("selectedlanguagechange",g),l.on("dispose",function(){s.off(["loadstart","texttrackchange"],d),c.removeEventListener("change",d),c.removeEventListener("selectedlanguagechange",g)}),c.onchange===void 0){var b;l.on(["tap","click"],function(){if(typeof window_1.Event!="object")try{b=new window_1.Event("change")}catch{}b||(b=document_1.createEvent("Event"),b.initEvent("change",!0,!0)),c.dispatchEvent(b)})}return l.handleTracksChange(),l}var r=e.prototype;return r.handleClick=function(a){var l=this.track,f=this.player_.textTracks();if(n.prototype.handleClick.call(this,a),!!f)for(var c=0;c<f.length;c++){var d=f[c];this.kinds.indexOf(d.kind)!==-1&&(d===l?d.mode!=="showing"&&(d.mode="showing"):d.mode!=="disabled"&&(d.mode="disabled"))}},r.handleTracksChange=function(a){var l=this.track.mode==="showing";l!==this.isSelected_&&this.selected(l)},r.handleSelectedLanguageChange=function(a){if(this.track.mode==="showing"){var l=this.player_.cache_.selectedLanguage;if(l&&l.enabled&&l.language===this.track.language&&l.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},r.dispose=function(){this.track=null,n.prototype.dispose.call(this)},e}(MenuItem);Component$1.registerComponent("TextTrackMenuItem",TextTrackMenuItem);var OffTextTrackMenuItem=function(n){_inheritsLoose(e,n);function e(s,a){return a.track={player:s,kind:a.kind,kinds:a.kinds,default:!1,mode:"disabled"},a.kinds||(a.kinds=[a.kind]),a.label?a.track.label=a.label:a.track.label=a.kinds.join(" and ")+" off",a.selectable=!0,a.multiSelectable=!1,n.call(this,s,a)||this}var r=e.prototype;return r.handleTracksChange=function(a){for(var l=this.player().textTracks(),f=!0,c=0,d=l.length;c<d;c++){var g=l[c];if(this.options_.kinds.indexOf(g.kind)>-1&&g.mode==="showing"){f=!1;break}}f!==this.isSelected_&&this.selected(f)},r.handleSelectedLanguageChange=function(a){for(var l=this.player().textTracks(),f=!0,c=0,d=l.length;c<d;c++){var g=l[c];if(["captions","descriptions","subtitles"].indexOf(g.kind)>-1&&g.mode==="showing"){f=!1;break}}f&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(TextTrackMenuItem);Component$1.registerComponent("OffTextTrackMenuItem",OffTextTrackMenuItem);var TextTrackButton=function(n){_inheritsLoose(e,n);function e(s,a){return a===void 0&&(a={}),a.tracks=s.textTracks(),n.call(this,s,a)||this}var r=e.prototype;return r.createItems=function(a,l){a===void 0&&(a=[]),l===void 0&&(l=TextTrackMenuItem);var f;this.label_&&(f=this.label_+" off"),a.push(new OffTextTrackMenuItem(this.player_,{kinds:this.kinds_,kind:this.kind_,label:f})),this.hideThreshold_+=1;var c=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var d=0;d<c.length;d++){var g=c[d];if(this.kinds_.indexOf(g.kind)>-1){var b=new l(this.player_,{track:g,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});b.addClass("vjs-"+g.kind+"-menu-item"),a.push(b)}}return a},e}(TrackButton);Component$1.registerComponent("TextTrackButton",TextTrackButton);var ChaptersTrackMenuItem=function(n){_inheritsLoose(e,n);function e(s,a){var l,f=a.track,c=a.cue,d=s.currentTime();return a.selectable=!0,a.multiSelectable=!1,a.label=c.text,a.selected=c.startTime<=d&&d<c.endTime,l=n.call(this,s,a)||this,l.track=f,l.cue=c,l}var r=e.prototype;return r.handleClick=function(a){n.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},e}(MenuItem);Component$1.registerComponent("ChaptersTrackMenuItem",ChaptersTrackMenuItem);var ChaptersButton=function(n){_inheritsLoose(e,n);function e(s,a,l){var f;return f=n.call(this,s,a,l)||this,f.selectCurrentItem_=function(){f.items.forEach(function(c){c.selected(f.track_.activeCues[0]===c.cue)})},f}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildWrapperCSSClass.call(this)},r.update=function(a){if(!(a&&a.track&&a.track.kind!=="chapters")){var l=this.findChaptersTrack();l!==this.track_?(this.setTrack(l),n.prototype.update.call(this)):(!this.items||l&&l.cues&&l.cues.length!==this.items.length)&&n.prototype.update.call(this)}},r.setTrack=function(a){if(this.track_!==a){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var l=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);l&&l.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=a,this.track_){this.track_.mode="hidden";var f=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);f&&f.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},r.findChaptersTrack=function(){for(var a=this.player_.textTracks()||[],l=a.length-1;l>=0;l--){var f=a[l];if(f.kind===this.kind_)return f}},r.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(toTitleCase$1(this.kind_))},r.createMenu=function(){return this.options_.title=this.getMenuCaption(),n.prototype.createMenu.call(this)},r.createItems=function(){var a=[];if(!this.track_)return a;var l=this.track_.cues;if(!l)return a;for(var f=0,c=l.length;f<c;f++){var d=l[f],g=new ChaptersTrackMenuItem(this.player_,{track:this.track_,cue:d});a.push(g)}return a},e}(TextTrackButton);ChaptersButton.prototype.kind_="chapters";ChaptersButton.prototype.controlText_="Chapters";Component$1.registerComponent("ChaptersButton",ChaptersButton);var DescriptionsButton=function(n){_inheritsLoose(e,n);function e(s,a,l){var f;f=n.call(this,s,a,l)||this;var c=s.textTracks(),d=bind$1(_assertThisInitialized(f),f.handleTracksChange);return c.addEventListener("change",d),f.on("dispose",function(){c.removeEventListener("change",d)}),f}var r=e.prototype;return r.handleTracksChange=function(a){for(var l=this.player().textTracks(),f=!1,c=0,d=l.length;c<d;c++){var g=l[c];if(g.kind!==this.kind_&&g.mode==="showing"){f=!0;break}}f?this.disable():this.enable()},r.buildCSSClass=function(){return"vjs-descriptions-button "+n.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+n.prototype.buildWrapperCSSClass.call(this)},e}(TextTrackButton);DescriptionsButton.prototype.kind_="descriptions";DescriptionsButton.prototype.controlText_="Descriptions";Component$1.registerComponent("DescriptionsButton",DescriptionsButton);var SubtitlesButton=function(n){_inheritsLoose(e,n);function e(s,a,l){return n.call(this,s,a,l)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildWrapperCSSClass.call(this)},e}(TextTrackButton);SubtitlesButton.prototype.kind_="subtitles";SubtitlesButton.prototype.controlText_="Subtitles";Component$1.registerComponent("SubtitlesButton",SubtitlesButton);var CaptionSettingsMenuItem=function(n){_inheritsLoose(e,n);function e(s,a){var l;return a.track={player:s,kind:a.kind,label:a.kind+" settings",selectable:!1,default:!1,mode:"disabled"},a.selectable=!1,a.name="CaptionSettingsMenuItem",l=n.call(this,s,a)||this,l.addClass("vjs-texttrack-settings"),l.controlText(", opens "+a.kind+" settings dialog"),l}var r=e.prototype;return r.handleClick=function(a){this.player().getChild("textTrackSettings").open()},e}(TextTrackMenuItem);Component$1.registerComponent("CaptionSettingsMenuItem",CaptionSettingsMenuItem);var CaptionsButton=function(n){_inheritsLoose(e,n);function e(s,a,l){return n.call(this,s,a,l)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-captions-button "+n.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-captions-button "+n.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var a=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(a.push(new CaptionSettingsMenuItem(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),n.prototype.createItems.call(this,a)},e}(TextTrackButton);CaptionsButton.prototype.kind_="captions";CaptionsButton.prototype.controlText_="Captions";Component$1.registerComponent("CaptionsButton",CaptionsButton);var SubsCapsMenuItem=function(n){_inheritsLoose(e,n);function e(){return n.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(a,l,f){var c=n.prototype.createEl.call(this,a,l,f),d=c.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(d.appendChild(createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),d.appendChild(createEl("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),c},e}(TextTrackMenuItem);Component$1.registerComponent("SubsCapsMenuItem",SubsCapsMenuItem);var SubsCapsButton=function(n){_inheritsLoose(e,n);function e(s,a){var l;return a===void 0&&(a={}),l=n.call(this,s,a)||this,l.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(l.player_.language_)>-1&&(l.label_="captions"),l.menuButton_.controlText(toTitleCase$1(l.label_)),l}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-subs-caps-button "+n.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+n.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var a=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(a.push(new CaptionSettingsMenuItem(this.player_,{kind:this.label_})),this.hideThreshold_+=1),a=n.prototype.createItems.call(this,a,SubsCapsMenuItem),a},e}(TextTrackButton);SubsCapsButton.prototype.kinds_=["captions","subtitles"];SubsCapsButton.prototype.controlText_="Subtitles";Component$1.registerComponent("SubsCapsButton",SubsCapsButton);var AudioTrackMenuItem=function(n){_inheritsLoose(e,n);function e(s,a){var l,f=a.track,c=s.audioTracks();a.label=f.label||f.language||"Unknown",a.selected=f.enabled,l=n.call(this,s,a)||this,l.track=f,l.addClass("vjs-"+f.kind+"-menu-item");var d=function(){for(var b=arguments.length,m=new Array(b),_=0;_<b;_++)m[_]=arguments[_];l.handleTracksChange.apply(_assertThisInitialized(l),m)};return c.addEventListener("change",d),l.on("dispose",function(){c.removeEventListener("change",d)}),l}var r=e.prototype;return r.createEl=function(a,l,f){var c=n.prototype.createEl.call(this,a,l,f),d=c.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(d.appendChild(createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),d.appendChild(createEl("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),c},r.handleClick=function(a){if(n.prototype.handleClick.call(this,a),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var l=this.player_.audioTracks(),f=0;f<l.length;f++){var c=l[f];c!==this.track&&(c.enabled=c===this.track)}},r.handleTracksChange=function(a){this.selected(this.track.enabled)},e}(MenuItem);Component$1.registerComponent("AudioTrackMenuItem",AudioTrackMenuItem);var AudioTrackButton=function(n){_inheritsLoose(e,n);function e(s,a){return a===void 0&&(a={}),a.tracks=s.audioTracks(),n.call(this,s,a)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-audio-button "+n.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-audio-button "+n.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(a){a===void 0&&(a=[]),this.hideThreshold_=1;for(var l=this.player_.audioTracks(),f=0;f<l.length;f++){var c=l[f];a.push(new AudioTrackMenuItem(this.player_,{track:c,selectable:!0,multiSelectable:!1}))}return a},e}(TrackButton);AudioTrackButton.prototype.controlText_="Audio Track";Component$1.registerComponent("AudioTrackButton",AudioTrackButton);var PlaybackRateMenuItem=function(n){_inheritsLoose(e,n);function e(s,a){var l,f=a.rate,c=parseFloat(f,10);return a.label=f,a.selected=c===s.playbackRate(),a.selectable=!0,a.multiSelectable=!1,l=n.call(this,s,a)||this,l.label=f,l.rate=c,l.on(s,"ratechange",function(d){return l.update(d)}),l}var r=e.prototype;return r.handleClick=function(a){n.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},r.update=function(a){this.selected(this.player().playbackRate()===this.rate)},e}(MenuItem);PlaybackRateMenuItem.prototype.contentElType="button";Component$1.registerComponent("PlaybackRateMenuItem",PlaybackRateMenuItem);var PlaybackRateMenuButton=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,l.menuButton_.el_.setAttribute("aria-describedby",l.labelElId_),l.updateVisibility(),l.updateLabel(),l.on(s,"loadstart",function(f){return l.updateVisibility(f)}),l.on(s,"ratechange",function(f){return l.updateLabel(f)}),l.on(s,"playbackrateschange",function(f){return l.handlePlaybackRateschange(f)}),l}var r=e.prototype;return r.createEl=function(){var a=n.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=createEl("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),a.appendChild(this.labelEl_),a},r.dispose=function(){this.labelEl_=null,n.prototype.dispose.call(this)},r.buildCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){for(var a=this.playbackRates(),l=[],f=a.length-1;f>=0;f--)l.push(new PlaybackRateMenuItem(this.player(),{rate:a[f]+"x"}));return l},r.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},r.handleClick=function(a){var l=this.player().playbackRate(),f=this.playbackRates(),c=f.indexOf(l),d=(c+1)%f.length;this.player().playbackRate(f[d])},r.handlePlaybackRateschange=function(a){this.update()},r.playbackRates=function(){var a=this.player();return a.playbackRates&&a.playbackRates()||[]},r.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},r.updateVisibility=function(a){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},r.updateLabel=function(a){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},e}(MenuButton);PlaybackRateMenuButton.prototype.controlText_="Playback Rate";Component$1.registerComponent("PlaybackRateMenuButton",PlaybackRateMenuButton);var Spacer=function(n){_inheritsLoose(e,n);function e(){return n.apply(this,arguments)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-spacer "+n.prototype.buildCSSClass.call(this)},r.createEl=function(a,l,f){return a===void 0&&(a="div"),l===void 0&&(l={}),f===void 0&&(f={}),l.className||(l.className=this.buildCSSClass()),n.prototype.createEl.call(this,a,l,f)},e}(Component$1);Component$1.registerComponent("Spacer",Spacer);var CustomControlSpacer=function(n){_inheritsLoose(e,n);function e(){return n.apply(this,arguments)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-custom-control-spacer "+n.prototype.buildCSSClass.call(this)},r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:" "})},e}(Spacer);Component$1.registerComponent("CustomControlSpacer",CustomControlSpacer);var ControlBar=function(n){_inheritsLoose(e,n);function e(){return n.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(Component$1);ControlBar.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in document_1&&ControlBar.prototype.options_.children.splice(ControlBar.prototype.options_.children.length-1,0,"pictureInPictureToggle");Component$1.registerComponent("ControlBar",ControlBar);var ErrorDisplay=function(n){_inheritsLoose(e,n);function e(s,a){var l;return l=n.call(this,s,a)||this,l.on(s,"error",function(f){return l.open(f)}),l}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-error-display "+n.prototype.buildCSSClass.call(this)},r.content=function(){var a=this.player().error();return a?this.localize(a.message):""},e}(ModalDialog);ErrorDisplay.prototype.options_=_extends$2({},ModalDialog.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});Component$1.registerComponent("ErrorDisplay",ErrorDisplay);var LOCAL_STORAGE_KEY$1="vjs-text-track-settings",COLOR_BLACK=["#000","Black"],COLOR_BLUE=["#00F","Blue"],COLOR_CYAN=["#0FF","Cyan"],COLOR_GREEN=["#0F0","Green"],COLOR_MAGENTA=["#F0F","Magenta"],COLOR_RED=["#F00","Red"],COLOR_WHITE=["#FFF","White"],COLOR_YELLOW=["#FF0","Yellow"],OPACITY_OPAQUE=["1","Opaque"],OPACITY_SEMI=["0.5","Semi-Transparent"],OPACITY_TRANS=["0","Transparent"],selectConfigs={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[COLOR_BLACK,COLOR_WHITE,COLOR_RED,COLOR_GREEN,COLOR_BLUE,COLOR_YELLOW,COLOR_MAGENTA,COLOR_CYAN]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[OPACITY_OPAQUE,OPACITY_SEMI,OPACITY_TRANS]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[COLOR_WHITE,COLOR_BLACK,COLOR_RED,COLOR_GREEN,COLOR_BLUE,COLOR_YELLOW,COLOR_MAGENTA,COLOR_CYAN]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return e==="1.00"?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[OPACITY_OPAQUE,OPACITY_SEMI]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[OPACITY_TRANS,OPACITY_SEMI,OPACITY_OPAQUE]}};selectConfigs.windowColor.options=selectConfigs.backgroundColor.options;function parseOptionValue(n,e){if(e&&(n=e(n)),n&&n!=="none")return n}function getSelectedOptionValue(n,e){var r=n.options[n.options.selectedIndex].value;return parseOptionValue(r,e)}function setSelectedOption(n,e,r){if(e){for(var s=0;s<n.options.length;s++)if(parseOptionValue(n.options[s].value,r)===e){n.selectedIndex=s;break}}}var TextTrackSettings=function(n){_inheritsLoose(e,n);function e(s,a){var l;return a.temporary=!1,l=n.call(this,s,a)||this,l.updateDisplay=l.updateDisplay.bind(_assertThisInitialized(l)),l.fill(),l.hasBeenOpened_=l.hasBeenFilled_=!0,l.endDialog=createEl("p",{className:"vjs-control-text",textContent:l.localize("End of dialog window.")}),l.el().appendChild(l.endDialog),l.setDefaults(),a.persistTextTrackSettings===void 0&&(l.options_.persistTextTrackSettings=l.options_.playerOptions.persistTextTrackSettings),l.on(l.$(".vjs-done-button"),"click",function(){l.saveSettings(),l.close()}),l.on(l.$(".vjs-default-button"),"click",function(){l.setDefaults(),l.updateDisplay()}),each(selectConfigs,function(f){l.on(l.$(f.selector),"change",l.updateDisplay)}),l.options_.persistTextTrackSettings&&l.restoreSettings(),l}var r=e.prototype;return r.dispose=function(){this.endDialog=null,n.prototype.dispose.call(this)},r.createElSelect_=function(a,l,f){var c=this;l===void 0&&(l=""),f===void 0&&(f="label");var d=selectConfigs[a],g=d.id.replace("%s",this.id_),b=[l,g].join(" ").trim();return["<"+f+' id="'+g+'" class="'+(f==="label"?"vjs-label":"")+'">',this.localize(d.label),"</"+f+">",'<select aria-labelledby="'+b+'">'].concat(d.options.map(function(m){var _=g+"-"+m[1].replace(/\W+/g,"");return['<option id="'+_+'" value="'+m[0]+'" ','aria-labelledby="'+b+" "+_+'">',c.localize(m[1]),"</option>"].join("")})).concat("</select>").join("")},r.createElFgColor_=function(){var a="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+a+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",a),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",a),"</span>","</fieldset>"].join("")},r.createElBgColor_=function(){var a="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+a+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",a),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",a),"</span>","</fieldset>"].join("")},r.createElWinColor_=function(){var a="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+a+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",a),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",a),"</span>","</fieldset>"].join("")},r.createElColors_=function(){return createEl("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},r.createElFont_=function(){return createEl("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},r.createElControls_=function(){var a=this.localize("restore all settings to the default values");return createEl("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+a+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+a+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},r.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},r.label=function(){return this.localize("Caption Settings Dialog")},r.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},r.buildCSSClass=function(){return n.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},r.getValues=function(){var a=this;return reduce(selectConfigs,function(l,f,c){var d=getSelectedOptionValue(a.$(f.selector),f.parser);return d!==void 0&&(l[c]=d),l},{})},r.setValues=function(a){var l=this;each(selectConfigs,function(f,c){setSelectedOption(l.$(f.selector),a[c],f.parser)})},r.setDefaults=function(){var a=this;each(selectConfigs,function(l){var f=l.hasOwnProperty("default")?l.default:0;a.$(l.selector).selectedIndex=f})},r.restoreSettings=function(){var a;try{a=JSON.parse(window_1.localStorage.getItem(LOCAL_STORAGE_KEY$1))}catch(l){log$1.warn(l)}a&&this.setValues(a)},r.saveSettings=function(){if(this.options_.persistTextTrackSettings){var a=this.getValues();try{Object.keys(a).length?window_1.localStorage.setItem(LOCAL_STORAGE_KEY$1,JSON.stringify(a)):window_1.localStorage.removeItem(LOCAL_STORAGE_KEY$1)}catch(l){log$1.warn(l)}}},r.updateDisplay=function(){var a=this.player_.getChild("textTrackDisplay");a&&a.updateDisplay()},r.conditionalBlur_=function(){this.previouslyActiveEl_=null;var a=this.player_.controlBar,l=a&&a.subsCapsButton,f=a&&a.captionsButton;l?l.focus():f&&f.focus()},e}(ModalDialog);Component$1.registerComponent("TextTrackSettings",TextTrackSettings);var ResizeManager=function(n){_inheritsLoose(e,n);function e(s,a){var l,f=a.ResizeObserver||window_1.ResizeObserver;a.ResizeObserver===null&&(f=!1);var c=mergeOptions$3({createEl:!f,reportTouchActivity:!1},a);return l=n.call(this,s,c)||this,l.ResizeObserver=a.ResizeObserver||window_1.ResizeObserver,l.loadListener_=null,l.resizeObserver_=null,l.debouncedHandler_=debounce$1(function(){l.resizeHandler()},100,!1,_assertThisInitialized(l)),f?(l.resizeObserver_=new l.ResizeObserver(l.debouncedHandler_),l.resizeObserver_.observe(s.el())):(l.loadListener_=function(){if(!(!l.el_||!l.el_.contentWindow)){var d=l.debouncedHandler_,g=l.unloadListener_=function(){off(this,"resize",d),off(this,"unload",g),g=null};on$1(l.el_.contentWindow,"unload",g),on$1(l.el_.contentWindow,"resize",d)}},l.one("load",l.loadListener_)),l}var r=e.prototype;return r.createEl=function(){return n.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},r.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},r.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,n.prototype.dispose.call(this)},e}(Component$1);Component$1.registerComponent("ResizeManager",ResizeManager);var defaults$2={trackingThreshold:20,liveTolerance:15},LiveTracker=function(n){_inheritsLoose(e,n);function e(s,a){var l,f=mergeOptions$3(defaults$2,a,{createEl:!1});return l=n.call(this,s,f)||this,l.handleVisibilityChange_=function(c){return l.handleVisibilityChange(c)},l.trackLiveHandler_=function(){return l.trackLive_()},l.handlePlay_=function(c){return l.handlePlay(c)},l.handleFirstTimeupdate_=function(c){return l.handleFirstTimeupdate(c)},l.handleSeeked_=function(c){return l.handleSeeked(c)},l.seekToLiveEdge_=function(c){return l.seekToLiveEdge(c)},l.reset_(),l.on(l.player_,"durationchange",function(c){return l.handleDurationchange(c)}),l.on(l.player_,"canplay",function(){return l.toggleTracking()}),IE_VERSION&&"hidden"in document_1&&"visibilityState"in document_1&&l.on(document_1,"visibilitychange",l.handleVisibilityChange_),l}var r=e.prototype;return r.handleVisibilityChange=function(){this.player_.duration()===1/0&&(document_1.hidden?this.stopTracking():this.startTracking())},r.trackLive_=function(){var a=this.player_.seekable();if(!(!a||!a.length)){var l=Number(window_1.performance.now().toFixed(4)),f=this.lastTime_===-1?0:(l-this.lastTime_)/1e3;this.lastTime_=l,this.pastSeekEnd_=this.pastSeekEnd()+f;var c=this.liveCurrentTime(),d=this.player_.currentTime(),g=this.player_.paused()||this.seekedBehindLive_||Math.abs(c-d)>this.options_.liveTolerance;(!this.timeupdateSeen_||c===1/0)&&(g=!1),g!==this.behindLiveEdge_&&(this.behindLiveEdge_=g,this.trigger("liveedgechange"))}},r.handleDurationchange=function(){this.toggleTracking()},r.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},r.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,UPDATE_REFRESH_INTERVAL),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},r.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},r.handleSeeked=function(){var a=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&a>2,this.nextSeekedFromUser_=!1,this.trackLive_()},r.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},r.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},r.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},r.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},r.seekableEnd=function(){for(var a=this.player_.seekable(),l=[],f=a?a.length:0;f--;)l.push(a.end(f));return l.length?l.sort()[l.length-1]:1/0},r.seekableStart=function(){for(var a=this.player_.seekable(),l=[],f=a?a.length:0;f--;)l.push(a.start(f));return l.length?l.sort()[0]:0},r.liveWindow=function(){var a=this.liveCurrentTime();return a===1/0?0:a-this.seekableStart()},r.isLive=function(){return this.isTracking()},r.atLiveEdge=function(){return!this.behindLiveEdge()},r.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},r.pastSeekEnd=function(){var a=this.seekableEnd();return this.lastSeekEnd_!==-1&&a!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=a,this.pastSeekEnd_},r.behindLiveEdge=function(){return this.behindLiveEdge_},r.isTracking=function(){return typeof this.trackingInterval_=="number"},r.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},r.dispose=function(){this.off(document_1,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),n.prototype.dispose.call(this)},e}(Component$1);Component$1.registerComponent("LiveTracker",LiveTracker);var sourcesetLoad=function(e){var r=e.el();if(r.hasAttribute("src"))return e.triggerSourceset(r.src),!0;var s=e.$$("source"),a=[],l="";if(!s.length)return!1;for(var f=0;f<s.length;f++){var c=s[f].src;c&&a.indexOf(c)===-1&&a.push(c)}return a.length?(a.length===1&&(l=a[0]),e.triggerSourceset(l),!0):!1},innerHTMLDescriptorPolyfill=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var r=document_1.createElement(this.nodeName.toLowerCase());r.innerHTML=e;for(var s=document_1.createDocumentFragment();r.childNodes.length;)s.appendChild(r.childNodes[0]);return this.innerText="",window_1.Element.prototype.appendChild.call(this,s),this.innerHTML}}),getDescriptor=function(e,r){for(var s={},a=0;a<e.length&&(s=Object.getOwnPropertyDescriptor(e[a],r),!(s&&s.set&&s.get));a++);return s.enumerable=!0,s.configurable=!0,s},getInnerHTMLDescriptor=function(e){return getDescriptor([e.el(),window_1.HTMLMediaElement.prototype,window_1.Element.prototype,innerHTMLDescriptorPolyfill],"innerHTML")},firstSourceWatch=function(e){var r=e.el();if(!r.resetSourceWatch_){var s={},a=getInnerHTMLDescriptor(e),l=function(c){return function(){for(var d=arguments.length,g=new Array(d),b=0;b<d;b++)g[b]=arguments[b];var m=c.apply(r,g);return sourcesetLoad(e),m}};["append","appendChild","insertAdjacentHTML"].forEach(function(f){r[f]&&(s[f]=r[f],r[f]=l(s[f]))}),Object.defineProperty(r,"innerHTML",mergeOptions$3(a,{set:l(a.set)})),r.resetSourceWatch_=function(){r.resetSourceWatch_=null,Object.keys(s).forEach(function(f){r[f]=s[f]}),Object.defineProperty(r,"innerHTML",a)},e.one("sourceset",r.resetSourceWatch_)}},srcDescriptorPolyfill=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?getAbsoluteURL(window_1.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return window_1.Element.prototype.setAttribute.call(this,"src",e),e}}),getSrcDescriptor=function(e){return getDescriptor([e.el(),window_1.HTMLMediaElement.prototype,srcDescriptorPolyfill],"src")},setupSourceset=function(e){if(e.featuresSourceset){var r=e.el();if(!r.resetSourceset_){var s=getSrcDescriptor(e),a=r.setAttribute,l=r.load;Object.defineProperty(r,"src",mergeOptions$3(s,{set:function(c){var d=s.set.call(r,c);return e.triggerSourceset(r.src),d}})),r.setAttribute=function(f,c){var d=a.call(r,f,c);return/src/i.test(f)&&e.triggerSourceset(r.src),d},r.load=function(){var f=l.call(r);return sourcesetLoad(e)||(e.triggerSourceset(""),firstSourceWatch(e)),f},r.currentSrc?e.triggerSourceset(r.currentSrc):sourcesetLoad(e)||firstSourceWatch(e),r.resetSourceset_=function(){r.resetSourceset_=null,r.load=l,r.setAttribute=a,Object.defineProperty(r,"src",s),r.resetSourceWatch_&&r.resetSourceWatch_()}}}},defineLazyProperty=function(e,r,s,a){a===void 0&&(a=!0);var l=function(d){return Object.defineProperty(e,r,{value:d,enumerable:!0,writable:!0})},f={configurable:!0,enumerable:!0,get:function(){var d=s();return l(d),d}};return a&&(f.set=l),Object.defineProperty(e,r,f)},Html5=function(n){_inheritsLoose(e,n);function e(s,a){var l;l=n.call(this,s,a)||this;var f=s.source,c=!1;if(l.featuresVideoFrameCallback=l.featuresVideoFrameCallback&&l.el_.tagName==="VIDEO",f&&(l.el_.currentSrc!==f.src||s.tag&&s.tag.initNetworkState_===3)?l.setSource(f):l.handleLateInit_(l.el_),s.enableSourceset&&l.setupSourcesetHandling_(),l.isScrubbing_=!1,l.el_.hasChildNodes()){for(var d=l.el_.childNodes,g=d.length,b=[];g--;){var m=d[g],_=m.nodeName.toLowerCase();_==="track"&&(l.featuresNativeTextTracks?(l.remoteTextTrackEls().addTrackElement_(m),l.remoteTextTracks().addTrack(m.track),l.textTracks().addTrack(m.track),!c&&!l.el_.hasAttribute("crossorigin")&&isCrossOrigin(m.src)&&(c=!0)):b.push(m))}for(var x=0;x<b.length;x++)l.el_.removeChild(b[x])}return l.proxyNativeTracks_(),l.featuresNativeTextTracks&&c&&log$1.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),l.restoreMetadataTracksInIOSNativePlayer_(),(TOUCH_ENABLED||IS_IPHONE||IS_NATIVE_ANDROID)&&s.nativeControlsForTouch===!0&&l.setControls(!0),l.proxyWebkitFullscreen_(),l.triggerReady(),l}var r=e.prototype;return r.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,n.prototype.dispose.call(this)},r.setupSourcesetHandling_=function(){setupSourceset(this)},r.restoreMetadataTracksInIOSNativePlayer_=function(){var a=this.textTracks(),l,f=function(){l=[];for(var g=0;g<a.length;g++){var b=a[g];b.kind==="metadata"&&l.push({track:b,storedMode:b.mode})}};f(),a.addEventListener("change",f),this.on("dispose",function(){return a.removeEventListener("change",f)});var c=function d(){for(var g=0;g<l.length;g++){var b=l[g];b.track.mode==="disabled"&&b.track.mode!==b.storedMode&&(b.track.mode=b.storedMode)}a.removeEventListener("change",d)};this.on("webkitbeginfullscreen",function(){a.removeEventListener("change",f),a.removeEventListener("change",c),a.addEventListener("change",c)}),this.on("webkitendfullscreen",function(){a.removeEventListener("change",f),a.addEventListener("change",f),a.removeEventListener("change",c)})},r.overrideNative_=function(a,l){var f=this;if(l===this["featuresNative"+a+"Tracks"]){var c=a.toLowerCase();this[c+"TracksListeners_"]&&Object.keys(this[c+"TracksListeners_"]).forEach(function(d){var g=f.el()[c+"Tracks"];g.removeEventListener(d,f[c+"TracksListeners_"][d])}),this["featuresNative"+a+"Tracks"]=!l,this[c+"TracksListeners_"]=null,this.proxyNativeTracksForType_(c)}},r.overrideNativeAudioTracks=function(a){this.overrideNative_("Audio",a)},r.overrideNativeVideoTracks=function(a){this.overrideNative_("Video",a)},r.proxyNativeTracksForType_=function(a){var l=this,f=NORMAL[a],c=this.el()[f.getterName],d=this[f.getterName]();if(!(!this["featuresNative"+f.capitalName+"Tracks"]||!c||!c.addEventListener)){var g={change:function(_){var x={type:"change",target:d,currentTarget:d,srcElement:d};d.trigger(x),a==="text"&&l[REMOTE.remoteText.getterName]().trigger(x)},addtrack:function(_){d.addTrack(_.track)},removetrack:function(_){d.removeTrack(_.track)}},b=function(){for(var _=[],x=0;x<d.length;x++){for(var k=!1,q=0;q<c.length;q++)if(c[q]===d[x]){k=!0;break}k||_.push(d[x])}for(;_.length;)d.removeTrack(_.shift())};this[f.getterName+"Listeners_"]=g,Object.keys(g).forEach(function(m){var _=g[m];c.addEventListener(m,_),l.on("dispose",function(x){return c.removeEventListener(m,_)})}),this.on("loadstart",b),this.on("dispose",function(m){return l.off("loadstart",b)})}},r.proxyNativeTracks_=function(){var a=this;NORMAL.names.forEach(function(l){a.proxyNativeTracksForType_(l)})},r.createEl=function(){var a=this.options_.tag;if(!a||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(a){var l=a.cloneNode(!0);a.parentNode&&a.parentNode.insertBefore(l,a),e.disposeMediaElement(a),a=l}else{a=document_1.createElement("video");var f=this.options_.tag&&getAttributes(this.options_.tag),c=mergeOptions$3({},f);(!TOUCH_ENABLED||this.options_.nativeControlsForTouch!==!0)&&delete c.controls,setAttributes(a,assign(c,{id:this.options_.techId,class:"vjs-tech"}))}a.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&setAttribute(a,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(a.disablePictureInPicture=this.options_.disablePictureInPicture);for(var d=["loop","muted","playsinline","autoplay"],g=0;g<d.length;g++){var b=d[g],m=this.options_[b];typeof m<"u"&&(m?setAttribute(a,b,b):removeAttribute(a,b),a[b]=m)}return a},r.handleLateInit_=function(a){if(!(a.networkState===0||a.networkState===3)){if(a.readyState===0){var l=!1,f=function(){l=!0};this.on("loadstart",f);var c=function(){l||this.trigger("loadstart")};this.on("loadedmetadata",c),this.ready(function(){this.off("loadstart",f),this.off("loadedmetadata",c),l||this.trigger("loadstart")});return}var d=["loadstart"];d.push("loadedmetadata"),a.readyState>=2&&d.push("loadeddata"),a.readyState>=3&&d.push("canplay"),a.readyState>=4&&d.push("canplaythrough"),this.ready(function(){d.forEach(function(g){this.trigger(g)},this)})}},r.setScrubbing=function(a){this.isScrubbing_=a},r.scrubbing=function(){return this.isScrubbing_},r.setCurrentTime=function(a){try{this.isScrubbing_&&this.el_.fastSeek&&IS_ANY_SAFARI?this.el_.fastSeek(a):this.el_.currentTime=a}catch(l){log$1(l,"Video is not ready. (Video.js)")}},r.duration=function(){var a=this;if(this.el_.duration===1/0&&IS_ANDROID&&IS_CHROME&&this.el_.currentTime===0){var l=function f(){a.el_.currentTime>0&&(a.el_.duration===1/0&&a.trigger("durationchange"),a.off("timeupdate",f))};return this.on("timeupdate",l),NaN}return this.el_.duration||NaN},r.width=function(){return this.el_.offsetWidth},r.height=function(){return this.el_.offsetHeight},r.proxyWebkitFullscreen_=function(){var a=this;if("webkitDisplayingFullscreen"in this.el_){var l=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},f=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",l),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",f),this.on("dispose",function(){a.off("webkitbeginfullscreen",f),a.off("webkitendfullscreen",l)})}},r.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var a=window_1.navigator&&window_1.navigator.userAgent||"";if(/Android/.test(a)||!/Chrome|Mac OS X 10.5/.test(a))return!0}return!1},r.enterFullScreen=function(){var a=this.el_;if(a.paused&&a.networkState<=a.HAVE_METADATA)silencePromise(this.el_.play()),this.setTimeout(function(){a.pause();try{a.webkitEnterFullScreen()}catch(l){this.trigger("fullscreenerror",l)}},0);else try{a.webkitEnterFullScreen()}catch(l){this.trigger("fullscreenerror",l)}},r.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},r.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},r.requestVideoFrameCallback=function(a){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(a):n.prototype.requestVideoFrameCallback.call(this,a)},r.cancelVideoFrameCallback=function(a){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(a):n.prototype.cancelVideoFrameCallback.call(this,a)},r.src=function(a){if(a===void 0)return this.el_.src;this.setSrc(a)},r.reset=function(){e.resetMediaElement(this.el_)},r.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},r.setControls=function(a){this.el_.controls=!!a},r.addTextTrack=function(a,l,f){return this.featuresNativeTextTracks?this.el_.addTextTrack(a,l,f):n.prototype.addTextTrack.call(this,a,l,f)},r.createRemoteTextTrack=function(a){if(!this.featuresNativeTextTracks)return n.prototype.createRemoteTextTrack.call(this,a);var l=document_1.createElement("track");return a.kind&&(l.kind=a.kind),a.label&&(l.label=a.label),(a.language||a.srclang)&&(l.srclang=a.language||a.srclang),a.default&&(l.default=a.default),a.id&&(l.id=a.id),a.src&&(l.src=a.src),l},r.addRemoteTextTrack=function(a,l){var f=n.prototype.addRemoteTextTrack.call(this,a,l);return this.featuresNativeTextTracks&&this.el().appendChild(f),f},r.removeRemoteTextTrack=function(a){if(n.prototype.removeRemoteTextTrack.call(this,a),this.featuresNativeTextTracks)for(var l=this.$$("track"),f=l.length;f--;)(a===l[f]||a===l[f].track)&&this.el().removeChild(l[f])},r.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var a={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(a.droppedVideoFrames=this.el().webkitDroppedFrameCount,a.totalVideoFrames=this.el().webkitDecodedFrameCount),window_1.performance&&typeof window_1.performance.now=="function"?a.creationTime=window_1.performance.now():window_1.performance&&window_1.performance.timing&&typeof window_1.performance.timing.navigationStart=="number"&&(a.creationTime=window_1.Date.now()-window_1.performance.timing.navigationStart),a},e}(Tech);defineLazyProperty(Html5,"TEST_VID",function(){if(isReal()){var n=document_1.createElement("video"),e=document_1.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",n.appendChild(e),n}});Html5.isSupported=function(){try{Html5.TEST_VID.volume=.5}catch{return!1}return!!(Html5.TEST_VID&&Html5.TEST_VID.canPlayType)};Html5.canPlayType=function(n){return Html5.TEST_VID.canPlayType(n)};Html5.canPlaySource=function(n,e){return Html5.canPlayType(n.type)};Html5.canControlVolume=function(){try{var n=Html5.TEST_VID.volume;Html5.TEST_VID.volume=n/2+.1;var e=n!==Html5.TEST_VID.volume;return e&&IS_IOS?(window_1.setTimeout(function(){Html5&&Html5.prototype&&(Html5.prototype.featuresVolumeControl=n!==Html5.TEST_VID.volume)}),!1):e}catch{return!1}};Html5.canMuteVolume=function(){try{var n=Html5.TEST_VID.muted;return Html5.TEST_VID.muted=!n,Html5.TEST_VID.muted?setAttribute(Html5.TEST_VID,"muted","muted"):removeAttribute(Html5.TEST_VID,"muted","muted"),n!==Html5.TEST_VID.muted}catch{return!1}};Html5.canControlPlaybackRate=function(){if(IS_ANDROID&&IS_CHROME&&CHROME_VERSION<58)return!1;try{var n=Html5.TEST_VID.playbackRate;return Html5.TEST_VID.playbackRate=n/2+.1,n!==Html5.TEST_VID.playbackRate}catch{return!1}};Html5.canOverrideAttributes=function(){try{var n=function(){};Object.defineProperty(document_1.createElement("video"),"src",{get:n,set:n}),Object.defineProperty(document_1.createElement("audio"),"src",{get:n,set:n}),Object.defineProperty(document_1.createElement("video"),"innerHTML",{get:n,set:n}),Object.defineProperty(document_1.createElement("audio"),"innerHTML",{get:n,set:n})}catch{return!1}return!0};Html5.supportsNativeTextTracks=function(){return IS_ANY_SAFARI||IS_IOS&&IS_CHROME};Html5.supportsNativeVideoTracks=function(){return!!(Html5.TEST_VID&&Html5.TEST_VID.videoTracks)};Html5.supportsNativeAudioTracks=function(){return!!(Html5.TEST_VID&&Html5.TEST_VID.audioTracks)};Html5.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(n){var e=n[0],r=n[1];defineLazyProperty(Html5.prototype,e,function(){return Html5[r]()},!0)});Html5.prototype.featuresVolumeControl=Html5.canControlVolume();Html5.prototype.movingMediaElementInDOM=!IS_IOS;Html5.prototype.featuresFullscreenResize=!0;Html5.prototype.featuresProgressEvents=!0;Html5.prototype.featuresTimeupdateEvents=!0;Html5.prototype.featuresVideoFrameCallback=!!(Html5.TEST_VID&&Html5.TEST_VID.requestVideoFrameCallback);var canPlayType;Html5.patchCanPlayType=function(){ANDROID_VERSION>=4&&!IS_FIREFOX&&!IS_CHROME&&(canPlayType=Html5.TEST_VID&&Html5.TEST_VID.constructor.prototype.canPlayType,Html5.TEST_VID.constructor.prototype.canPlayType=function(n){var e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return n&&e.test(n)?"maybe":canPlayType.call(this,n)})};Html5.unpatchCanPlayType=function(){var n=Html5.TEST_VID.constructor.prototype.canPlayType;return canPlayType&&(Html5.TEST_VID.constructor.prototype.canPlayType=canPlayType),n};Html5.patchCanPlayType();Html5.disposeMediaElement=function(n){if(n){for(n.parentNode&&n.parentNode.removeChild(n);n.hasChildNodes();)n.removeChild(n.firstChild);n.removeAttribute("src"),typeof n.load=="function"&&function(){try{n.load()}catch{}}()}};Html5.resetMediaElement=function(n){if(n){for(var e=n.querySelectorAll("source"),r=e.length;r--;)n.removeChild(e[r]);n.removeAttribute("src"),typeof n.load=="function"&&function(){try{n.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(n){Html5.prototype[n]=function(){return this.el_[n]||this.el_.hasAttribute(n)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(n){Html5.prototype["set"+toTitleCase$1(n)]=function(e){this.el_[n]=e,e?this.el_.setAttribute(n,n):this.el_.removeAttribute(n)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(n){Html5.prototype[n]=function(){return this.el_[n]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(n){Html5.prototype["set"+toTitleCase$1(n)]=function(e){this.el_[n]=e}});["pause","load","play"].forEach(function(n){Html5.prototype[n]=function(){return this.el_[n]()}});Tech.withSourceHandlers(Html5);Html5.nativeSourceHandler={};Html5.nativeSourceHandler.canPlayType=function(n){try{return Html5.TEST_VID.canPlayType(n)}catch{return""}};Html5.nativeSourceHandler.canHandleSource=function(n,e){if(n.type)return Html5.nativeSourceHandler.canPlayType(n.type);if(n.src){var r=getFileExtension(n.src);return Html5.nativeSourceHandler.canPlayType("video/"+r)}return""};Html5.nativeSourceHandler.handleSource=function(n,e,r){e.setSrc(n.src)};Html5.nativeSourceHandler.dispose=function(){};Html5.registerSourceHandler(Html5.nativeSourceHandler);Tech.registerTech("Html5",Html5);var TECH_EVENTS_RETRIGGER=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],TECH_EVENTS_QUEUE={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},BREAKPOINT_ORDER=["tiny","xsmall","small","medium","large","xlarge","huge"],BREAKPOINT_CLASSES={};BREAKPOINT_ORDER.forEach(function(n){var e=n.charAt(0)==="x"?"x-"+n.substring(1):n;BREAKPOINT_CLASSES[n]="vjs-layout-"+e});var DEFAULT_BREAKPOINTS={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Player=function(n){_inheritsLoose(e,n);function e(s,a,l){var f;if(s.id=s.id||a.id||"vjs_video_"+newGUID(),a=assign(e.getTagSettings(s),a),a.initChildren=!1,a.createEl=!1,a.evented=!1,a.reportTouchActivity=!1,!a.language)if(typeof s.closest=="function"){var c=s.closest("[lang]");c&&c.getAttribute&&(a.language=c.getAttribute("lang"))}else for(var d=s;d&&d.nodeType===1;){if(getAttributes(d).hasOwnProperty("lang")){a.language=d.getAttribute("lang");break}d=d.parentNode}if(f=n.call(this,null,a,l)||this,f.boundDocumentFullscreenChange_=function(_){return f.documentFullscreenChange_(_)},f.boundFullWindowOnEscKey_=function(_){return f.fullWindowOnEscKey(_)},f.boundUpdateStyleEl_=function(_){return f.updateStyleEl_(_)},f.boundApplyInitTime_=function(_){return f.applyInitTime_(_)},f.boundUpdateCurrentBreakpoint_=function(_){return f.updateCurrentBreakpoint_(_)},f.boundHandleTechClick_=function(_){return f.handleTechClick_(_)},f.boundHandleTechDoubleClick_=function(_){return f.handleTechDoubleClick_(_)},f.boundHandleTechTouchStart_=function(_){return f.handleTechTouchStart_(_)},f.boundHandleTechTouchMove_=function(_){return f.handleTechTouchMove_(_)},f.boundHandleTechTouchEnd_=function(_){return f.handleTechTouchEnd_(_)},f.boundHandleTechTap_=function(_){return f.handleTechTap_(_)},f.isFullscreen_=!1,f.log=createLogger(f.id_),f.fsApi_=FullscreenApi,f.isPosterFromTech_=!1,f.queuedCallbacks_=[],f.isReady_=!1,f.hasStarted_=!1,f.userActive_=!1,f.debugEnabled_=!1,f.audioOnlyMode_=!1,f.audioPosterMode_=!1,f.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!f.options_||!f.options_.techOrder||!f.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(f.tag=s,f.tagAttributes=s&&getAttributes(s),f.language(f.options_.language),a.languages){var g={};Object.getOwnPropertyNames(a.languages).forEach(function(_){g[_.toLowerCase()]=a.languages[_]}),f.languages_=g}else f.languages_=e.prototype.options_.languages;f.resetCache_(),f.poster_=a.poster||"",f.controls_=!!a.controls,s.controls=!1,s.removeAttribute("controls"),f.changingSrc_=!1,f.playCallbacks_=[],f.playTerminatedQueue_=[],s.hasAttribute("autoplay")?f.autoplay(!0):f.autoplay(f.options_.autoplay),a.plugins&&Object.keys(a.plugins).forEach(function(_){if(typeof f[_]!="function")throw new Error('plugin "'+_+'" does not exist')}),f.scrubbing_=!1,f.el_=f.createEl(),evented(_assertThisInitialized(f),{eventBusKey:"el_"}),f.fsApi_.requestFullscreen&&(on$1(document_1,f.fsApi_.fullscreenchange,f.boundDocumentFullscreenChange_),f.on(f.fsApi_.fullscreenchange,f.boundDocumentFullscreenChange_)),f.fluid_&&f.on(["playerreset","resize"],f.boundUpdateStyleEl_);var b=mergeOptions$3(f.options_);a.plugins&&Object.keys(a.plugins).forEach(function(_){f[_](a.plugins[_])}),a.debug&&f.debug(!0),f.options_.playerOptions=b,f.middleware_=[],f.playbackRates(a.playbackRates),f.initChildren(),f.isAudio(s.nodeName.toLowerCase()==="audio"),f.controls()?f.addClass("vjs-controls-enabled"):f.addClass("vjs-controls-disabled"),f.el_.setAttribute("role","region"),f.isAudio()?f.el_.setAttribute("aria-label",f.localize("Audio Player")):f.el_.setAttribute("aria-label",f.localize("Video Player")),f.isAudio()&&f.addClass("vjs-audio"),f.flexNotSupported_()&&f.addClass("vjs-no-flex"),TOUCH_ENABLED&&f.addClass("vjs-touch-enabled"),IS_IOS||f.addClass("vjs-workinghover"),e.players[f.id_]=_assertThisInitialized(f);var m=version$5.split(".")[0];return f.addClass("vjs-v"+m),f.userActive(!0),f.reportUserActivity(),f.one("play",function(_){return f.listenForUserActivity_(_)}),f.on("stageclick",function(_){return f.handleStageClick_(_)}),f.on("keydown",function(_){return f.handleKeyDown(_)}),f.on("languagechange",function(_){return f.handleLanguagechange(_)}),f.breakpoints(f.options_.breakpoints),f.responsive(f.options_.responsive),f.on("ready",function(){f.audioPosterMode(f.options_.audioPosterMode),f.audioOnlyMode(f.options_.audioOnlyMode)}),f}var r=e.prototype;return r.dispose=function(){var a=this;this.trigger("dispose"),this.off("dispose"),off(document_1,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),off(document_1,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),clearCacheForPlayer(this),ALL.names.forEach(function(l){var f=ALL[l],c=a[f.getterName]();c&&c.off&&c.off()}),n.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},r.createEl=function(){var a=this.tag,l,f=this.playerElIngest_=a.parentNode&&a.parentNode.hasAttribute&&a.parentNode.hasAttribute("data-vjs-player"),c=this.tag.tagName.toLowerCase()==="video-js";f?l=this.el_=a.parentNode:c||(l=this.el_=n.prototype.createEl.call(this,"div"));var d=getAttributes(a);if(c){for(l=this.el_=a,a=this.tag=document_1.createElement("video");l.children.length;)a.appendChild(l.firstChild);hasClass(l,"video-js")||addClass(l,"video-js"),l.appendChild(a),f=this.playerElIngest_=l,Object.keys(l).forEach(function(k){try{a[k]=l[k]}catch{}})}if(a.setAttribute("tabindex","-1"),d.tabindex="-1",(IE_VERSION||IS_CHROME&&IS_WINDOWS)&&(a.setAttribute("role","application"),d.role="application"),a.removeAttribute("width"),a.removeAttribute("height"),"width"in d&&delete d.width,"height"in d&&delete d.height,Object.getOwnPropertyNames(d).forEach(function(k){c&&k==="class"||l.setAttribute(k,d[k]),c&&a.setAttribute(k,d[k])}),a.playerId=a.id,a.id+="_html5_api",a.className="vjs-tech",a.player=l.player=this,this.addClass("vjs-paused"),window_1.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=createStyleElement("vjs-styles-dimensions");var g=$(".vjs-styles-defaults"),b=$("head");b.insertBefore(this.styleEl_,g?g.nextSibling:b.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var m=a.getElementsByTagName("a"),_=0;_<m.length;_++){var x=m.item(_);addClass(x,"vjs-hidden"),x.setAttribute("hidden","hidden")}return a.initNetworkState_=a.networkState,a.parentNode&&!f&&a.parentNode.insertBefore(l,a),prependTo(a,l),this.children_.unshift(a),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=l,l},r.crossOrigin=function(a){if(!a)return this.techGet_("crossOrigin");if(a!=="anonymous"&&a!=="use-credentials"){log$1.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+a+'"');return}this.techCall_("setCrossOrigin",a)},r.width=function(a){return this.dimension("width",a)},r.height=function(a){return this.dimension("height",a)},r.dimension=function(a,l){var f=a+"_";if(l===void 0)return this[f]||0;if(l===""||l==="auto"){this[f]=void 0,this.updateStyleEl_();return}var c=parseFloat(l);if(isNaN(c)){log$1.error('Improper value "'+l+'" supplied for for '+a);return}this[f]=c,this.updateStyleEl_()},r.fluid=function(a){var l=this;if(a===void 0)return!!this.fluid_;this.fluid_=!!a,isEvented(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),a?(this.addClass("vjs-fluid"),this.fill(!1),addEventedCallback(this,function(){l.on(["playerreset","resize"],l.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},r.fill=function(a){if(a===void 0)return!!this.fill_;this.fill_=!!a,a?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},r.aspectRatio=function(a){if(a===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(a))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=a,this.fluid(!0),this.updateStyleEl_()},r.updateStyleEl_=function(){if(window_1.VIDEOJS_NO_DYNAMIC_STYLE===!0){var a=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,f=this.tech_&&this.tech_.el();f&&(a>=0&&(f.width=a),l>=0&&(f.height=l));return}var c,d,g,b;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?g=this.aspectRatio_:this.videoWidth()>0?g=this.videoWidth()+":"+this.videoHeight():g="16:9";var m=g.split(":"),_=m[1]/m[0];this.width_!==void 0?c=this.width_:this.height_!==void 0?c=this.height_/_:c=this.videoWidth()||300,this.height_!==void 0?d=this.height_:d=c*_,/^[^a-zA-Z]/.test(this.id())?b="dimensions-"+this.id():b=this.id()+"-dimensions",this.addClass(b),setTextContent(this.styleEl_,`
      .`+b+` {
        width: `+c+`px;
        height: `+d+`px;
      }

      .`+b+`.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: `+_*100+`%;
      }
    `)},r.loadTech_=function(a,l){var f=this;this.tech_&&this.unloadTech_();var c=toTitleCase$1(a),d=a.charAt(0).toLowerCase()+a.slice(1);c!=="Html5"&&this.tag&&(Tech.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=c,this.isReady_=!1;var g=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(g=!1);var b={source:l,autoplay:g,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+d+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};ALL.names.forEach(function(_){var x=ALL[_];b[x.getterName]=f[x.privateName]}),assign(b,this.options_[c]),assign(b,this.options_[d]),assign(b,this.options_[a.toLowerCase()]),this.tag&&(b.tag=this.tag),l&&l.src===this.cache_.src&&this.cache_.currentTime>0&&(b.startTime=this.cache_.currentTime);var m=Tech.getTech(a);if(!m)throw new Error("No Tech named '"+c+"' exists! '"+c+"' should be registered using videojs.registerTech()'");this.tech_=new m(b),this.tech_.ready(bind$1(this,this.handleTechReady_),!0),textTrackConverter.jsonToTextTracks(this.textTracksJson_||[],this.tech_),TECH_EVENTS_RETRIGGER.forEach(function(_){f.on(f.tech_,_,function(x){return f["handleTech"+toTitleCase$1(_)+"_"](x)})}),Object.keys(TECH_EVENTS_QUEUE).forEach(function(_){f.on(f.tech_,_,function(x){if(f.tech_.playbackRate()===0&&f.tech_.seeking()){f.queuedCallbacks_.push({callback:f["handleTech"+TECH_EVENTS_QUEUE[_]+"_"].bind(f),event:x});return}f["handleTech"+TECH_EVENTS_QUEUE[_]+"_"](x)})}),this.on(this.tech_,"loadstart",function(_){return f.handleTechLoadStart_(_)}),this.on(this.tech_,"sourceset",function(_){return f.handleTechSourceset_(_)}),this.on(this.tech_,"waiting",function(_){return f.handleTechWaiting_(_)}),this.on(this.tech_,"ended",function(_){return f.handleTechEnded_(_)}),this.on(this.tech_,"seeking",function(_){return f.handleTechSeeking_(_)}),this.on(this.tech_,"play",function(_){return f.handleTechPlay_(_)}),this.on(this.tech_,"firstplay",function(_){return f.handleTechFirstPlay_(_)}),this.on(this.tech_,"pause",function(_){return f.handleTechPause_(_)}),this.on(this.tech_,"durationchange",function(_){return f.handleTechDurationChange_(_)}),this.on(this.tech_,"fullscreenchange",function(_,x){return f.handleTechFullscreenChange_(_,x)}),this.on(this.tech_,"fullscreenerror",function(_,x){return f.handleTechFullscreenError_(_,x)}),this.on(this.tech_,"enterpictureinpicture",function(_){return f.handleTechEnterPictureInPicture_(_)}),this.on(this.tech_,"leavepictureinpicture",function(_){return f.handleTechLeavePictureInPicture_(_)}),this.on(this.tech_,"error",function(_){return f.handleTechError_(_)}),this.on(this.tech_,"posterchange",function(_){return f.handleTechPosterChange_(_)}),this.on(this.tech_,"textdata",function(_){return f.handleTechTextData_(_)}),this.on(this.tech_,"ratechange",function(_){return f.handleTechRateChange_(_)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(c!=="Html5"||!this.tag)&&prependTo(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},r.unloadTech_=function(){var a=this;ALL.names.forEach(function(l){var f=ALL[l];a[f.privateName]=a[f.getterName]()}),this.textTracksJson_=textTrackConverter.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},r.tech=function(a){return a===void 0&&log$1.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},r.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},r.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},r.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},r.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},r.manualAutoplay_=function(a){var l=this;if(!(!this.tech_||typeof a!="string")){var f=function(){var g=l.muted();l.muted(!0);var b=function(){l.muted(g)};l.playTerminatedQueue_.push(b);var m=l.play();if(isPromise(m))return m.catch(function(_){throw b(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(_||""))})},c;if(a==="any"&&!this.muted()?(c=this.play(),isPromise(c)&&(c=c.catch(f))):a==="muted"&&!this.muted()?c=f():c=this.play(),!!isPromise(c))return c.then(function(){l.trigger({type:"autoplay-success",autoplay:a})}).catch(function(){l.trigger({type:"autoplay-failure",autoplay:a})})}},r.updateSourceCaches_=function(a){a===void 0&&(a="");var l=a,f="";typeof l!="string"&&(l=a.src,f=a.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],l&&!f&&(f=findMimetype(this,l)),this.cache_.source=mergeOptions$3({},a,{src:l,type:f});for(var c=this.cache_.sources.filter(function(x){return x.src&&x.src===l}),d=[],g=this.$$("source"),b=[],m=0;m<g.length;m++){var _=getAttributes(g[m]);d.push(_),_.src&&_.src===l&&b.push(_.src)}b.length&&!c.length?this.cache_.sources=d:c.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=l},r.handleTechSourceset_=function(a){var l=this;if(!this.changingSrc_){var f=function(b){return l.updateSourceCaches_(b)},c=this.currentSource().src,d=a.src;c&&!/^blob:/.test(c)&&/^blob:/.test(d)&&(!this.lastSource_||this.lastSource_.tech!==d&&this.lastSource_.player!==c)&&(f=function(){}),f(d),a.src||this.tech_.any(["sourceset","loadstart"],function(g){if(g.type!=="sourceset"){var b=l.techGet("currentSrc");l.lastSource_.tech=b,l.updateSourceCaches_(b)}})}this.lastSource_={player:this.currentSource().src,tech:a.src},this.trigger({src:a.src,type:"sourceset"})},r.hasStarted=function(a){if(a===void 0)return this.hasStarted_;a!==this.hasStarted_&&(this.hasStarted_=a,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},r.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},r.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(a){return a.callback(a.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},r.handleTechWaiting_=function(){var a=this;this.addClass("vjs-waiting"),this.trigger("waiting");var l=this.currentTime(),f=function c(){l!==a.currentTime()&&(a.removeClass("vjs-waiting"),a.off("timeupdate",c))};this.on("timeupdate",f)},r.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},r.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},r.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},r.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},r.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},r.handleTechFirstPlay_=function(){this.options_.starttime&&(log$1.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},r.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},r.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},r.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},r.handleTechClick_=function(a){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,a):this.paused()?silencePromise(this.play()):this.pause())},r.handleTechDoubleClick_=function(a){if(this.controls_){var l=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(f){return f.contains(a.target)});l||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,a):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},r.handleTechTap_=function(){this.userActive(!this.userActive())},r.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},r.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},r.handleTechTouchEnd_=function(a){a.cancelable&&a.preventDefault()},r.handleStageClick_=function(){this.reportUserActivity()},r.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},r.documentFullscreenChange_=function(a){var l=a.target.player;if(!(l&&l!==this)){var f=this.el(),c=document_1[this.fsApi_.fullscreenElement]===f;!c&&f.matches?c=f.matches(":"+this.fsApi_.fullscreen):!c&&f.msMatchesSelector&&(c=f.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(c)}},r.handleTechFullscreenChange_=function(a,l){var f=this;l&&(l.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){f.removeClass("vjs-ios-native-fs")})),this.isFullscreen(l.isFullscreen))},r.handleTechFullscreenError_=function(a,l){this.trigger("fullscreenerror",l)},r.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},r.handleTechEnterPictureInPicture_=function(a){this.isInPictureInPicture(!0)},r.handleTechLeavePictureInPicture_=function(a){this.isInPictureInPicture(!1)},r.handleTechError_=function(){var a=this.tech_.error();this.error(a)},r.handleTechTextData_=function(){var a=null;arguments.length>1&&(a=arguments[1]),this.trigger("textdata",a)},r.getCache=function(){return this.cache_},r.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},r.techCall_=function(a,l){this.ready(function(){if(a in allowedSetters)return set$1(this.middleware_,this.tech_,a,l);if(a in allowedMediators)return mediate(this.middleware_,this.tech_,a,l);try{this.tech_&&this.tech_[a](l)}catch(f){throw log$1(f),f}},!0)},r.techGet_=function(a){if(!(!this.tech_||!this.tech_.isReady_)){if(a in allowedGetters)return get(this.middleware_,this.tech_,a);if(a in allowedMediators)return mediate(this.middleware_,this.tech_,a);try{return this.tech_[a]()}catch(l){throw this.tech_[a]===void 0?(log$1("Video.js: "+a+" method not defined for "+this.techName_+" playback technology.",l),l):l.name==="TypeError"?(log$1("Video.js: "+a+" unavailable on "+this.techName_+" playback technology element.",l),this.tech_.isReady_=!1,l):(log$1(l),l)}}},r.play=function(){var a=this,l=this.options_.Promise||window_1.Promise;return l?new l(function(f){a.play_(f)}):this.play_()},r.play_=function(a){var l=this;a===void 0&&(a=silencePromise),this.playCallbacks_.push(a);var f=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!f){this.waitToPlay_=function(d){l.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!f&&(IS_ANY_SAFARI||IS_IOS)&&this.load();return}var c=this.techGet_("play");c===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(c)},r.runPlayTerminatedQueue_=function(){var a=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],a.forEach(function(l){l()})},r.runPlayCallbacks_=function(a){var l=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],l.forEach(function(f){f(a)})},r.pause=function(){this.techCall_("pause")},r.paused=function(){return this.techGet_("paused")!==!1},r.played=function(){return this.techGet_("played")||createTimeRanges(0,0)},r.scrubbing=function(a){if(typeof a>"u")return this.scrubbing_;this.scrubbing_=!!a,this.techCall_("setScrubbing",this.scrubbing_),a?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},r.currentTime=function(a){if(typeof a<"u"){if(a<0&&(a=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=a,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",a),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},r.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},r.duration=function(a){if(a===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;a=parseFloat(a),a<0&&(a=1/0),a!==this.cache_.duration&&(this.cache_.duration=a,a===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(a)||this.trigger("durationchange"))},r.remainingTime=function(){return this.duration()-this.currentTime()},r.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},r.buffered=function(){var a=this.techGet_("buffered");return(!a||!a.length)&&(a=createTimeRanges(0,0)),a},r.bufferedPercent=function(){return bufferedPercent(this.buffered(),this.duration())},r.bufferedEnd=function(){var a=this.buffered(),l=this.duration(),f=a.end(a.length-1);return f>l&&(f=l),f},r.volume=function(a){var l;if(a!==void 0){l=Math.max(0,Math.min(1,parseFloat(a))),this.cache_.volume=l,this.techCall_("setVolume",l),l>0&&this.lastVolume_(l);return}return l=parseFloat(this.techGet_("volume")),isNaN(l)?1:l},r.muted=function(a){if(a!==void 0){this.techCall_("setMuted",a);return}return this.techGet_("muted")||!1},r.defaultMuted=function(a){return a!==void 0?this.techCall_("setDefaultMuted",a):this.techGet_("defaultMuted")||!1},r.lastVolume_=function(a){if(a!==void 0&&a!==0){this.cache_.lastVolume=a;return}return this.cache_.lastVolume},r.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},r.isFullscreen=function(a){if(a!==void 0){var l=this.isFullscreen_;this.isFullscreen_=Boolean(a),this.isFullscreen_!==l&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},r.requestFullscreen=function(a){var l=this.options_.Promise||window_1.Promise;if(l){var f=this;return new l(function(c,d){function g(){f.off("fullscreenerror",m),f.off("fullscreenchange",b)}function b(){g(),c()}function m(x,k){g(),d(k)}f.one("fullscreenchange",b),f.one("fullscreenerror",m);var _=f.requestFullscreenHelper_(a);_&&(_.then(g,g),_.then(c,d))})}return this.requestFullscreenHelper_()},r.requestFullscreenHelper_=function(a){var l=this,f;if(this.fsApi_.prefixed||(f=this.options_.fullscreen&&this.options_.fullscreen.options||{},a!==void 0&&(f=a)),this.fsApi_.requestFullscreen){var c=this.el_[this.fsApi_.requestFullscreen](f);return c&&c.then(function(){return l.isFullscreen(!0)},function(){return l.isFullscreen(!1)}),c}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},r.exitFullscreen=function(){var a=this.options_.Promise||window_1.Promise;if(a){var l=this;return new a(function(f,c){function d(){l.off("fullscreenerror",b),l.off("fullscreenchange",g)}function g(){d(),f()}function b(_,x){d(),c(x)}l.one("fullscreenchange",g),l.one("fullscreenerror",b);var m=l.exitFullscreenHelper_();m&&(m.then(d,d),m.then(f,c))})}return this.exitFullscreenHelper_()},r.exitFullscreenHelper_=function(){var a=this;if(this.fsApi_.requestFullscreen){var l=document_1[this.fsApi_.exitFullscreen]();return l&&silencePromise(l.then(function(){return a.isFullscreen(!1)})),l}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},r.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=document_1.documentElement.style.overflow,on$1(document_1,"keydown",this.boundFullWindowOnEscKey_),document_1.documentElement.style.overflow="hidden",addClass(document_1.body,"vjs-full-window"),this.trigger("enterFullWindow")},r.fullWindowOnEscKey=function(a){keycode.isEventKey(a,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},r.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,off(document_1,"keydown",this.boundFullWindowOnEscKey_),document_1.documentElement.style.overflow=this.docOrigOverflow,removeClass(document_1.body,"vjs-full-window"),this.trigger("exitFullWindow")},r.disablePictureInPicture=function(a){if(a===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",a),this.options_.disablePictureInPicture=a,this.trigger("disablepictureinpicturechanged")},r.isInPictureInPicture=function(a){if(a!==void 0){this.isInPictureInPicture_=!!a,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},r.requestPictureInPicture=function(){if("pictureInPictureEnabled"in document_1&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},r.exitPictureInPicture=function(){if("pictureInPictureEnabled"in document_1)return document_1.exitPictureInPicture()},r.handleKeyDown=function(a){var l=this.options_.userActions;if(!(!l||!l.hotkeys)){var f=function(d){var g=d.tagName.toLowerCase();if(d.isContentEditable)return!0;var b=["button","checkbox","hidden","radio","reset","submit"];if(g==="input")return b.indexOf(d.type)===-1;var m=["textarea"];return m.indexOf(g)!==-1};f(this.el_.ownerDocument.activeElement)||(typeof l.hotkeys=="function"?l.hotkeys.call(this,a):this.handleHotkeys(a))}},r.handleHotkeys=function(a){var l=this.options_.userActions?this.options_.userActions.hotkeys:{},f=l.fullscreenKey,c=f===void 0?function(q){return keycode.isEventKey(q,"f")}:f,d=l.muteKey,g=d===void 0?function(q){return keycode.isEventKey(q,"m")}:d,b=l.playPauseKey,m=b===void 0?function(q){return keycode.isEventKey(q,"k")||keycode.isEventKey(q,"Space")}:b;if(c.call(this,a)){a.preventDefault(),a.stopPropagation();var _=Component$1.getComponent("FullscreenToggle");document_1[this.fsApi_.fullscreenEnabled]!==!1&&_.prototype.handleClick.call(this,a)}else if(g.call(this,a)){a.preventDefault(),a.stopPropagation();var x=Component$1.getComponent("MuteToggle");x.prototype.handleClick.call(this,a)}else if(m.call(this,a)){a.preventDefault(),a.stopPropagation();var k=Component$1.getComponent("PlayToggle");k.prototype.handleClick.call(this,a)}},r.canPlayType=function(a){for(var l,f=0,c=this.options_.techOrder;f<c.length;f++){var d=c[f],g=Tech.getTech(d);if(g||(g=Component$1.getComponent(d)),!g){log$1.error('The "'+d+'" tech is undefined. Skipped browser support check for that tech.');continue}if(g.isSupported()&&(l=g.canPlayType(a),l))return l}return""},r.selectSource=function(a){var l=this,f=this.options_.techOrder.map(function(m){return[m,Tech.getTech(m)]}).filter(function(m){var _=m[0],x=m[1];return x?x.isSupported():(log$1.error('The "'+_+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),c=function(_,x,k){var q;return _.some(function(j){return x.some(function(ne){if(q=k(j,ne),q)return!0})}),q},d,g=function(_){return function(x,k){return _(k,x)}},b=function(_,x){var k=_[0],q=_[1];if(q.canPlaySource(x,l.options_[k.toLowerCase()]))return{source:x,tech:k}};return this.options_.sourceOrder?d=c(a,f,g(b)):d=c(f,a,b),d||!1},r.handleSrc_=function(a,l){var f=this;if(typeof a>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var c=filterSource(a);if(!c.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,l||(this.cache_.sources=c),this.updateSourceCaches_(c[0]),setSource(this,c[0],function(b,m){f.middleware_=m,l||(f.cache_.sources=c),f.updateSourceCaches_(b);var _=f.src_(b);if(_){if(c.length>1)return f.handleSrc_(c.slice(1));f.changingSrc_=!1,f.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),f.triggerReady();return}setTech(m,f.tech_)}),this.options_.retryOnError&&c.length>1){var d=function(){f.error(null),f.handleSrc_(c.slice(1),!0)},g=function(){f.off("error",d)};this.one("error",d),this.one("playing",g),this.resetRetryOnError_=function(){f.off("error",d),f.off("playing",g)}}},r.src=function(a){return this.handleSrc_(a,!1)},r.src_=function(a){var l=this,f=this.selectSource([a]);return f?titleCaseEquals(f.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",a):this.techCall_("src",a.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(f.tech,f.source),this.tech_.ready(function(){l.changingSrc_=!1}),!1):!0},r.load=function(){this.techCall_("load")},r.reset=function(){var a=this,l=this.options_.Promise||window_1.Promise;if(this.paused()||!l)this.doReset_();else{var f=this.play();silencePromise(f.then(function(){return a.doReset_()}))}},r.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),isEvented(this)&&this.trigger("playerreset")},r.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},r.resetProgressBar_=function(){this.currentTime(0);var a=this.controlBar||{},l=a.durationDisplay,f=a.remainingTimeDisplay;l&&l.updateContent(),f&&f.updateContent()},r.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},r.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},r.currentSources=function(){var a=this.currentSource(),l=[];return Object.keys(a).length!==0&&l.push(a),this.cache_.sources||l},r.currentSource=function(){return this.cache_.source||{}},r.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},r.currentType=function(){return this.currentSource()&&this.currentSource().type||""},r.preload=function(a){if(a!==void 0){this.techCall_("setPreload",a),this.options_.preload=a;return}return this.techGet_("preload")},r.autoplay=function(a){if(a===void 0)return this.options_.autoplay||!1;var l;typeof a=="string"&&/(any|play|muted)/.test(a)||a===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=a,this.manualAutoplay_(typeof a=="string"?a:"play"),l=!1):a?this.options_.autoplay=!0:this.options_.autoplay=!1,l=typeof l>"u"?this.options_.autoplay:l,this.tech_&&this.techCall_("setAutoplay",l)},r.playsinline=function(a){return a!==void 0?(this.techCall_("setPlaysinline",a),this.options_.playsinline=a,this):this.techGet_("playsinline")},r.loop=function(a){if(a!==void 0){this.techCall_("setLoop",a),this.options_.loop=a;return}return this.techGet_("loop")},r.poster=function(a){if(a===void 0)return this.poster_;a||(a=""),a!==this.poster_&&(this.poster_=a,this.techCall_("setPoster",a),this.isPosterFromTech_=!1,this.trigger("posterchange"))},r.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var a=this.tech_.poster()||"";a!==this.poster_&&(this.poster_=a,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},r.controls=function(a){if(a===void 0)return!!this.controls_;a=!!a,this.controls_!==a&&(this.controls_=a,this.usingNativeControls()&&this.techCall_("setControls",a),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},r.usingNativeControls=function(a){if(a===void 0)return!!this.usingNativeControls_;a=!!a,this.usingNativeControls_!==a&&(this.usingNativeControls_=a,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},r.error=function(a){var l=this;if(a===void 0)return this.error_||null;if(hooks("beforeerror").forEach(function(c){var d=c(l,a);if(!(isObject$2(d)&&!Array.isArray(d)||typeof d=="string"||typeof d=="number"||d===null)){l.log.error("please return a value that MediaError expects in beforeerror hooks");return}a=d}),this.options_.suppressNotSupportedError&&a&&a.code===4){var f=function(){this.error(a)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],f),this.one("loadstart",function(){this.off(["click","touchstart"],f)});return}if(a===null){this.error_=a,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new MediaError(a),this.addClass("vjs-error"),log$1.error("(CODE:"+this.error_.code+" "+MediaError.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),hooks("error").forEach(function(c){return c(l,l.error_)})},r.reportUserActivity=function(a){this.userActivity_=!0},r.userActive=function(a){if(a===void 0)return this.userActive_;if(a=!!a,a!==this.userActive_){if(this.userActive_=a,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(l){l.stopPropagation(),l.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},r.listenForUserActivity_=function(){var a,l,f,c=bind$1(this,this.reportUserActivity),d=function(k){(k.screenX!==l||k.screenY!==f)&&(l=k.screenX,f=k.screenY,c())},g=function(){c(),this.clearInterval(a),a=this.setInterval(c,250)},b=function(k){c(),this.clearInterval(a)};this.on("mousedown",g),this.on("mousemove",d),this.on("mouseup",b),this.on("mouseleave",b);var m=this.getChild("controlBar");m&&!IS_IOS&&!IS_ANDROID&&(m.on("mouseenter",function(x){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),m.on("mouseleave",function(x){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",c),this.on("keyup",c);var _;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(_);var x=this.options_.inactivityTimeout;x<=0||(_=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},x))}},250)},r.playbackRate=function(a){if(a!==void 0){this.techCall_("setPlaybackRate",a);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},r.defaultPlaybackRate=function(a){return a!==void 0?this.techCall_("setDefaultPlaybackRate",a):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},r.isAudio=function(a){if(a!==void 0){this.isAudio_=!!a;return}return!!this.isAudio_},r.enableAudioOnlyUI_=function(){var a=this;this.addClass("vjs-audio-only-mode");var l=this.children(),f=this.getChild("ControlBar"),c=f&&f.currentHeight();l.forEach(function(d){d!==f&&d.el_&&!d.hasClass("vjs-hidden")&&(d.hide(),a.audioOnlyCache_.hiddenChildren.push(d))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(c),this.trigger("audioonlymodechange")},r.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(function(a){return a.show()}),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},r.audioOnlyMode=function(a){var l=this;if(typeof a!="boolean"||a===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=a;var f=this.options_.Promise||window_1.Promise;if(f){if(a){var c=[];return this.isInPictureInPicture()&&c.push(this.exitPictureInPicture()),this.isFullscreen()&&c.push(this.exitFullscreen()),this.audioPosterMode()&&c.push(this.audioPosterMode(!1)),f.all(c).then(function(){return l.enableAudioOnlyUI_()})}return f.resolve().then(function(){return l.disableAudioOnlyUI_()})}a?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},r.enablePosterModeUI_=function(){var a=this.tech_&&this.tech_;a.hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},r.disablePosterModeUI_=function(){var a=this.tech_&&this.tech_;a.show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},r.audioPosterMode=function(a){var l=this;if(typeof a!="boolean"||a===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=a;var f=this.options_.Promise||window_1.Promise;if(f){if(a){if(this.audioOnlyMode()){var c=this.audioOnlyMode(!1);return c.then(function(){l.enablePosterModeUI_()})}return f.resolve().then(function(){l.enablePosterModeUI_()})}return f.resolve().then(function(){l.disablePosterModeUI_()})}if(a){this.audioOnlyMode()&&this.audioOnlyMode(!1),this.enablePosterModeUI_();return}this.disablePosterModeUI_()},r.addTextTrack=function(a,l,f){if(this.tech_)return this.tech_.addTextTrack(a,l,f)},r.addRemoteTextTrack=function(a,l){if(this.tech_)return this.tech_.addRemoteTextTrack(a,l)},r.removeRemoteTextTrack=function(a){a===void 0&&(a={});var l=a,f=l.track;if(f||(f=a),this.tech_)return this.tech_.removeRemoteTextTrack(f)},r.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},r.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},r.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},r.language=function(a){if(a===void 0)return this.language_;this.language_!==String(a).toLowerCase()&&(this.language_=String(a).toLowerCase(),isEvented(this)&&this.trigger("languagechange"))},r.languages=function(){return mergeOptions$3(e.prototype.options_.languages,this.languages_)},r.toJSON=function(){var a=mergeOptions$3(this.options_),l=a.tracks;a.tracks=[];for(var f=0;f<l.length;f++){var c=l[f];c=mergeOptions$3(c),c.player=void 0,a.tracks[f]=c}return a},r.createModal=function(a,l){var f=this;l=l||{},l.content=a||"";var c=new ModalDialog(this,l);return this.addChild(c),c.on("dispose",function(){f.removeChild(c)}),c.open(),c},r.updateCurrentBreakpoint_=function(){if(this.responsive())for(var a=this.currentBreakpoint(),l=this.currentWidth(),f=0;f<BREAKPOINT_ORDER.length;f++){var c=BREAKPOINT_ORDER[f],d=this.breakpoints_[c];if(l<=d){if(a===c)return;a&&this.removeClass(BREAKPOINT_CLASSES[a]),this.addClass(BREAKPOINT_CLASSES[c]),this.breakpoint_=c;break}}},r.removeCurrentBreakpoint_=function(){var a=this.currentBreakpointClass();this.breakpoint_="",a&&this.removeClass(a)},r.breakpoints=function(a){return a===void 0?assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=assign({},DEFAULT_BREAKPOINTS,a),this.updateCurrentBreakpoint_(),assign(this.breakpoints_))},r.responsive=function(a){if(a===void 0)return this.responsive_;a=Boolean(a);var l=this.responsive_;if(a!==l)return this.responsive_=a,a?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),a},r.currentBreakpoint=function(){return this.breakpoint_},r.currentBreakpointClass=function(){return BREAKPOINT_CLASSES[this.breakpoint_]||""},r.loadMedia=function(a,l){var f=this;if(!(!a||typeof a!="object")){this.reset(),this.cache_.media=mergeOptions$3(a);var c=this.cache_.media,d=c.artwork,g=c.poster,b=c.src,m=c.textTracks;!d&&g&&(this.cache_.media.artwork=[{src:g,type:getMimetype(g)}]),b&&this.src(b),g&&this.poster(g),Array.isArray(m)&&m.forEach(function(_){return f.addRemoteTextTrack(_,!1)}),this.ready(l)}},r.getMedia=function(){if(!this.cache_.media){var a=this.poster(),l=this.currentSources(),f=Array.prototype.map.call(this.remoteTextTracks(),function(d){return{kind:d.kind,label:d.label,language:d.language,src:d.src}}),c={src:l,textTracks:f};return a&&(c.poster=a,c.artwork=[{src:c.poster,type:getMimetype(c.poster)}]),c}return mergeOptions$3(this.cache_.media)},e.getTagSettings=function(a){var l={sources:[],tracks:[]},f=getAttributes(a),c=f["data-setup"];if(hasClass(a,"vjs-fill")&&(f.fill=!0),hasClass(a,"vjs-fluid")&&(f.fluid=!0),c!==null){var d=tuple(c||"{}"),g=d[0],b=d[1];g&&log$1.error(g),assign(f,b)}if(assign(l,f),a.hasChildNodes())for(var m=a.childNodes,_=0,x=m.length;_<x;_++){var k=m[_],q=k.nodeName.toLowerCase();q==="source"?l.sources.push(getAttributes(k)):q==="track"&&l.tracks.push(getAttributes(k))}return l},r.flexNotSupported_=function(){var a=document_1.createElement("i");return!("flexBasis"in a.style||"webkitFlexBasis"in a.style||"mozFlexBasis"in a.style||"msFlexBasis"in a.style||"msFlexOrder"in a.style)},r.debug=function(a){if(a===void 0)return this.debugEnabled_;a?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},r.playbackRates=function(a){if(a===void 0)return this.cache_.playbackRates;Array.isArray(a)&&a.every(function(l){return typeof l=="number"})&&(this.cache_.playbackRates=a,this.trigger("playbackrateschange"))},e}(Component$1);ALL.names.forEach(function(n){var e=ALL[n];Player.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});Player.prototype.crossorigin=Player.prototype.crossOrigin;Player.players={};var navigator$1=window_1.navigator;Player.prototype.options_={techOrder:Tech.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:navigator$1&&(navigator$1.languages&&navigator$1.languages[0]||navigator$1.userLanguage||navigator$1.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(n){Player.prototype[n]=function(){return this.techGet_(n)}});TECH_EVENTS_RETRIGGER.forEach(function(n){Player.prototype["handleTech"+toTitleCase$1(n)+"_"]=function(){return this.trigger(n)}});Component$1.registerComponent("Player",Player);var BASE_PLUGIN_NAME="plugin",PLUGIN_CACHE_KEY="activePlugins_",pluginStorage={},pluginExists=function(e){return pluginStorage.hasOwnProperty(e)},getPlugin=function(e){return pluginExists(e)?pluginStorage[e]:void 0},markPluginAsActive=function(e,r){e[PLUGIN_CACHE_KEY]=e[PLUGIN_CACHE_KEY]||{},e[PLUGIN_CACHE_KEY][r]=!0},triggerSetupEvent=function(e,r,s){var a=(s?"before":"")+"pluginsetup";e.trigger(a,r),e.trigger(a+":"+r.name,r)},createBasicPlugin=function(e,r){var s=function(){triggerSetupEvent(this,{name:e,plugin:r,instance:null},!0);var l=r.apply(this,arguments);return markPluginAsActive(this,e),triggerSetupEvent(this,{name:e,plugin:r,instance:l}),l};return Object.keys(r).forEach(function(a){s[a]=r[a]}),s},createPluginFactory=function(e,r){return r.prototype.name=e,function(){triggerSetupEvent(this,{name:e,plugin:r,instance:null},!0);for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];var f=_construct(r,[this].concat(a));return this[e]=function(){return f},triggerSetupEvent(this,f.getEventHash()),f}},Plugin=function(){function n(r){if(this.constructor===n)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=r,this.log||(this.log=this.player.log.createLogger(this.name)),evented(this),delete this.trigger,stateful(this,this.constructor.defaultState),markPluginAsActive(r,this.name),this.dispose=this.dispose.bind(this),r.on("dispose",this.dispose)}var e=n.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(s){return s===void 0&&(s={}),s.name=this.name,s.plugin=this.constructor,s.instance=this,s},e.trigger=function(s,a){return a===void 0&&(a={}),trigger(this.eventBusEl_,s,this.getEventHash(a))},e.handleStateChanged=function(s){},e.dispose=function(){var s=this.name,a=this.player;this.trigger("dispose"),this.off(),a.off("dispose",this.dispose),a[PLUGIN_CACHE_KEY][s]=!1,this.player=this.state=null,a[s]=createPluginFactory(s,pluginStorage[s])},n.isBasic=function(s){var a=typeof s=="string"?getPlugin(s):s;return typeof a=="function"&&!n.prototype.isPrototypeOf(a.prototype)},n.registerPlugin=function(s,a){if(typeof s!="string")throw new Error('Illegal plugin name, "'+s+'", must be a string, was '+typeof s+".");if(pluginExists(s))log$1.warn('A plugin named "'+s+'" already exists. You may want to avoid re-registering plugins!');else if(Player.prototype.hasOwnProperty(s))throw new Error('Illegal plugin name, "'+s+'", cannot share a name with an existing player method!');if(typeof a!="function")throw new Error('Illegal plugin for "'+s+'", must be a function, was '+typeof a+".");return pluginStorage[s]=a,s!==BASE_PLUGIN_NAME&&(n.isBasic(a)?Player.prototype[s]=createBasicPlugin(s,a):Player.prototype[s]=createPluginFactory(s,a)),a},n.deregisterPlugin=function(s){if(s===BASE_PLUGIN_NAME)throw new Error("Cannot de-register base plugin.");pluginExists(s)&&(delete pluginStorage[s],delete Player.prototype[s])},n.getPlugins=function(s){s===void 0&&(s=Object.keys(pluginStorage));var a;return s.forEach(function(l){var f=getPlugin(l);f&&(a=a||{},a[l]=f)}),a},n.getPluginVersion=function(s){var a=getPlugin(s);return a&&a.VERSION||""},n}();Plugin.getPlugin=getPlugin;Plugin.BASE_PLUGIN_NAME=BASE_PLUGIN_NAME;Plugin.registerPlugin(BASE_PLUGIN_NAME,Plugin);Player.prototype.usingPlugin=function(n){return!!this[PLUGIN_CACHE_KEY]&&this[PLUGIN_CACHE_KEY][n]===!0};Player.prototype.hasPlugin=function(n){return!!pluginExists(n)};var hasLogged=!1,extend$1=function(e,r){r===void 0&&(r={}),hasLogged||(log$1.warn("videojs.extend is deprecated as of Video.js 7.22.0 and will be removed in Video.js 8.0.0"),hasLogged=!0);var s=function(){e.apply(this,arguments)},a={};typeof r=="object"?(r.constructor!==Object.prototype.constructor&&(s=r.constructor),a=r):typeof r=="function"&&(s=r),_inherits(s,e),e&&(s.super_=e);for(var l in a)a.hasOwnProperty(l)&&(s.prototype[l]=a[l]);return s},normalizeId=function(e){return e.indexOf("#")===0?e.slice(1):e};function videojs(n,e,r){var s=videojs.getPlayer(n);if(s)return e&&log$1.warn('Player "'+n+'" is already initialised. Options will not be applied.'),r&&s.ready(r),s;var a=typeof n=="string"?$("#"+normalizeId(n)):n;if(!isEl(a))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!a.ownerDocument.defaultView||!a.ownerDocument.body.contains(a))&&log$1.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(a.parentNode&&a.parentNode.hasAttribute("data-vjs-player")?a.parentNode:a).cloneNode(!0)),hooks("beforesetup").forEach(function(f){var c=f(a,mergeOptions$3(e));if(!isObject$2(c)||Array.isArray(c)){log$1.error("please return an object in beforesetup hooks");return}e=mergeOptions$3(e,c)});var l=Component$1.getComponent("Player");return s=new l(a,e,r),hooks("setup").forEach(function(f){return f(s)}),s}videojs.hooks_=hooks_;videojs.hooks=hooks;videojs.hook=hook;videojs.hookOnce=hookOnce;videojs.removeHook=removeHook;if(window_1.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&isReal()){var style=$(".vjs-styles-defaults");if(!style){style=createStyleElement("vjs-styles-defaults");var head=$("head");head&&head.insertBefore(style,head.firstChild),setTextContent(style,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}autoSetupTimeout(1,videojs);videojs.VERSION=version$5;videojs.options=Player.prototype.options_;videojs.getPlayers=function(){return Player.players};videojs.getPlayer=function(n){var e=Player.players,r;if(typeof n=="string"){var s=normalizeId(n),a=e[s];if(a)return a;r=$("#"+s)}else r=n;if(isEl(r)){var l=r,f=l.player,c=l.playerId;if(f||e[c])return f||e[c]}};videojs.getAllPlayers=function(){return Object.keys(Player.players).map(function(n){return Player.players[n]}).filter(Boolean)};videojs.players=Player.players;videojs.getComponent=Component$1.getComponent;videojs.registerComponent=function(n,e){Tech.isTech(e)&&log$1.warn("The "+n+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Component$1.registerComponent.call(Component$1,n,e)};videojs.getTech=Tech.getTech;videojs.registerTech=Tech.registerTech;videojs.use=use;Object.defineProperty(videojs,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(videojs.middleware,"TERMINATOR",{value:TERMINATOR,writeable:!1,enumerable:!0});videojs.browser=browser;videojs.TOUCH_ENABLED=TOUCH_ENABLED;videojs.extend=extend$1;videojs.mergeOptions=mergeOptions$3;videojs.bind=bind$1;videojs.registerPlugin=Plugin.registerPlugin;videojs.deregisterPlugin=Plugin.deregisterPlugin;videojs.plugin=function(n,e){return log$1.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Plugin.registerPlugin(n,e)};videojs.getPlugins=Plugin.getPlugins;videojs.getPlugin=Plugin.getPlugin;videojs.getPluginVersion=Plugin.getPluginVersion;videojs.addLanguage=function(n,e){var r;return n=(""+n).toLowerCase(),videojs.options.languages=mergeOptions$3(videojs.options.languages,(r={},r[n]=e,r)),videojs.options.languages[n]};videojs.log=log$1;videojs.createLogger=createLogger;videojs.createTimeRange=videojs.createTimeRanges=createTimeRanges;videojs.formatTime=formatTime;videojs.setFormatTime=setFormatTime;videojs.resetFormatTime=resetFormatTime;videojs.parseUrl=parseUrl;videojs.isCrossOrigin=isCrossOrigin;videojs.EventTarget=EventTarget$2;videojs.on=on$1;videojs.one=one;videojs.off=off;videojs.trigger=trigger;videojs.xhr=libExports;videojs.TextTrack=TextTrack;videojs.AudioTrack=AudioTrack;videojs.VideoTrack=VideoTrack;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(n){videojs[n]=function(){return log$1.warn("videojs."+n+"() is deprecated; use videojs.dom."+n+"() instead"),Dom[n].apply(null,arguments)}});videojs.computedStyle=computedStyle;videojs.dom=Dom;videojs.url=Url;videojs.defineLazyProperty=defineLazyProperty;videojs.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});/*! @name @videojs/http-streaming @version 2.16.2 @license Apache-2.0 */var resolveUrl=resolveUrl$1,resolveManifestRedirect=function(e,r,s){return e&&s&&s.responseURL&&r!==s.responseURL?s.responseURL:r},logger$1=function(e){return videojs.log.debug?videojs.log.debug.bind(videojs,"VHS:",e+" >"):function(){}},TIME_FUDGE_FACTOR=1/30,SAFE_TIME_DELTA=TIME_FUDGE_FACTOR*3,filterRanges=function(e,r){var s=[],a;if(e&&e.length)for(a=0;a<e.length;a++)r(e.start(a),e.end(a))&&s.push([e.start(a),e.end(a)]);return videojs.createTimeRanges(s)},findRange=function(e,r){return filterRanges(e,function(s,a){return s-SAFE_TIME_DELTA<=r&&a+SAFE_TIME_DELTA>=r})},findNextRange=function(e,r){return filterRanges(e,function(s){return s-TIME_FUDGE_FACTOR>=r})},findGaps=function(e){if(e.length<2)return videojs.createTimeRanges();for(var r=[],s=1;s<e.length;s++){var a=e.end(s-1),l=e.start(s);r.push([a,l])}return videojs.createTimeRanges(r)},bufferIntersection=function(e,r){var s=null,a=null,l=0,f=[],c=[];if(!e||!e.length||!r||!r.length)return videojs.createTimeRange();for(var d=e.length;d--;)f.push({time:e.start(d),type:"start"}),f.push({time:e.end(d),type:"end"});for(d=r.length;d--;)f.push({time:r.start(d),type:"start"}),f.push({time:r.end(d),type:"end"});for(f.sort(function(g,b){return g.time-b.time}),d=0;d<f.length;d++)f[d].type==="start"?(l++,l===2&&(s=f[d].time)):f[d].type==="end"&&(l--,l===1&&(a=f[d].time)),s!==null&&a!==null&&(c.push([s,a]),s=null,a=null);return videojs.createTimeRanges(c)},printableRange=function(e){var r=[];if(!e||!e.length)return"";for(var s=0;s<e.length;s++)r.push(e.start(s)+" => "+e.end(s));return r.join(", ")},timeUntilRebuffer=function(e,r,s){s===void 0&&(s=1);var a=e.length?e.end(e.length-1):0;return(a-r)/s},timeRangesToArray=function(e){for(var r=[],s=0;s<e.length;s++)r.push({start:e.start(s),end:e.end(s)});return r},isRangeDifferent=function(e,r){if(e===r)return!1;if(!e&&r||!r&&e||e.length!==r.length)return!0;for(var s=0;s<e.length;s++)if(e.start(s)!==r.start(s)||e.end(s)!==r.end(s))return!0;return!1},lastBufferedEnd=function(e){if(!(!e||!e.length||!e.end))return e.end(e.length-1)},timeAheadOf=function(e,r){var s=0;if(!e||!e.length)return s;for(var a=0;a<e.length;a++){var l=e.start(a),f=e.end(a);if(!(r>f)){if(r>l&&r<=f){s+=f-r;continue}s+=f-l}}return s},createTimeRange=videojs.createTimeRange,segmentDurationWithParts=function(e,r){if(!r.preload)return r.duration;var s=0;return(r.parts||[]).forEach(function(a){s+=a.duration}),(r.preloadHints||[]).forEach(function(a){a.type==="PART"&&(s+=e.partTargetDuration)}),s},getPartsAndSegments=function(e){return(e.segments||[]).reduce(function(r,s,a){return s.parts?s.parts.forEach(function(l,f){r.push({duration:l.duration,segmentIndex:a,partIndex:f,part:l,segment:s})}):r.push({duration:s.duration,segmentIndex:a,partIndex:null,segment:s,part:null}),r},[])},getLastParts=function(e){var r=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return r&&r.parts||[]},getKnownPartCount=function(e){var r=e.preloadSegment;if(r){var s=r.parts,a=r.preloadHints,l=(a||[]).reduce(function(f,c){return f+(c.type==="PART"?1:0)},0);return l+=s&&s.length?s.length:0,l}},liveEdgeDelay=function(e,r){if(r.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var s=getLastParts(r).length>0;return s&&r.serverControl&&r.serverControl.partHoldBack?r.serverControl.partHoldBack:s&&r.partTargetDuration?r.partTargetDuration*3:r.serverControl&&r.serverControl.holdBack?r.serverControl.holdBack:r.targetDuration?r.targetDuration*3:0},backwardDuration=function(e,r){var s=0,a=r-e.mediaSequence,l=e.segments[a];if(l){if(typeof l.start<"u")return{result:l.start,precise:!0};if(typeof l.end<"u")return{result:l.end-l.duration,precise:!0}}for(;a--;){if(l=e.segments[a],typeof l.end<"u")return{result:s+l.end,precise:!0};if(s+=segmentDurationWithParts(e,l),typeof l.start<"u")return{result:s+l.start,precise:!0}}return{result:s,precise:!1}},forwardDuration=function(e,r){for(var s=0,a,l=r-e.mediaSequence;l<e.segments.length;l++){if(a=e.segments[l],typeof a.start<"u")return{result:a.start-s,precise:!0};if(s+=segmentDurationWithParts(e,a),typeof a.end<"u")return{result:a.end-s,precise:!0}}return{result:-1,precise:!1}},intervalDuration=function(e,r,s){if(typeof r>"u"&&(r=e.mediaSequence+e.segments.length),r<e.mediaSequence)return 0;var a=backwardDuration(e,r);if(a.precise)return a.result;var l=forwardDuration(e,r);return l.precise?l.result:a.result+s},duration=function(e,r,s){if(!e)return 0;if(typeof s!="number"&&(s=0),typeof r>"u"){if(e.totalDuration)return e.totalDuration;if(!e.endList)return window_1.Infinity}return intervalDuration(e,r,s)},sumDurations=function(e){var r=e.defaultDuration,s=e.durationList,a=e.startIndex,l=e.endIndex,f=0;if(a>l){var c=[l,a];a=c[0],l=c[1]}if(a<0){for(var d=a;d<Math.min(0,l);d++)f+=r;a=0}for(var g=a;g<l;g++)f+=s[g].duration;return f},playlistEnd=function(e,r,s,a){if(!e||!e.segments)return null;if(e.endList)return duration(e);if(r===null)return null;r=r||0;var l=intervalDuration(e,e.mediaSequence+e.segments.length,r);return s&&(a=typeof a=="number"?a:liveEdgeDelay(null,e),l-=a),Math.max(0,l)},seekable=function(e,r,s){var a=!0,l=r||0,f=playlistEnd(e,r,a,s);return f===null?createTimeRange():createTimeRange(l,f)},getMediaInfoForTime=function(e){for(var r=e.playlist,s=e.currentTime,a=e.startingSegmentIndex,l=e.startingPartIndex,f=e.startTime,c=e.experimentalExactManifestTimings,d=s-f,g=getPartsAndSegments(r),b=0,m=0;m<g.length;m++){var _=g[m];if(a===_.segmentIndex&&!(typeof l=="number"&&typeof _.partIndex=="number"&&l!==_.partIndex)){b=m;break}}if(d<0){if(b>0)for(var x=b-1;x>=0;x--){var k=g[x];if(d+=k.duration,c){if(d<0)continue}else if(d+TIME_FUDGE_FACTOR<=0)continue;return{partIndex:k.partIndex,segmentIndex:k.segmentIndex,startTime:f-sumDurations({defaultDuration:r.targetDuration,durationList:g,startIndex:b,endIndex:x})}}return{partIndex:g[0]&&g[0].partIndex||null,segmentIndex:g[0]&&g[0].segmentIndex||0,startTime:s}}if(b<0){for(var q=b;q<0;q++)if(d-=r.targetDuration,d<0)return{partIndex:g[0]&&g[0].partIndex||null,segmentIndex:g[0]&&g[0].segmentIndex||0,startTime:s};b=0}for(var j=b;j<g.length;j++){var ne=g[j];if(d-=ne.duration,c){if(d>0)continue}else if(d-TIME_FUDGE_FACTOR>=0)continue;return{partIndex:ne.partIndex,segmentIndex:ne.segmentIndex,startTime:f+sumDurations({defaultDuration:r.targetDuration,durationList:g,startIndex:b,endIndex:j})}}return{segmentIndex:g[g.length-1].segmentIndex,partIndex:g[g.length-1].partIndex,startTime:s}},isBlacklisted=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},isIncompatible=function(e){return e.excludeUntil&&e.excludeUntil===1/0},isEnabled=function(e){var r=isBlacklisted(e);return!e.disabled&&!r},isDisabled=function(e){return e.disabled},isAes=function(e){for(var r=0;r<e.segments.length;r++)if(e.segments[r].key)return!0;return!1},hasAttribute=function(e,r){return r.attributes&&r.attributes[e]},estimateSegmentRequestTime=function(e,r,s,a){if(a===void 0&&(a=0),!hasAttribute("BANDWIDTH",s))return NaN;var l=e*s.attributes.BANDWIDTH;return(l-a*8)/r},isLowestEnabledRendition=function(e,r){if(e.playlists.length===1)return!0;var s=r.attributes.BANDWIDTH||Number.MAX_VALUE;return e.playlists.filter(function(a){return isEnabled(a)?(a.attributes.BANDWIDTH||0)<s:!1}).length===0},playlistMatch=function(e,r){return!e&&!r||!e&&r||e&&!r?!1:!!(e===r||e.id&&r.id&&e.id===r.id||e.resolvedUri&&r.resolvedUri&&e.resolvedUri===r.resolvedUri||e.uri&&r.uri&&e.uri===r.uri)},someAudioVariant=function(e,r){var s=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},a=!1;for(var l in s){for(var f in s[l])if(a=r(s[l][f]),a)break;if(a)break}return!!a},isAudioOnly=function(e){if(!e||!e.playlists||!e.playlists.length){var r=someAudioVariant(e,function(f){return f.playlists&&f.playlists.length||f.uri});return r}for(var s=function(c){var d=e.playlists[c],g=d.attributes&&d.attributes.CODECS;if(g&&g.split(",").every(function(m){return isAudioCodec(m)}))return"continue";var b=someAudioVariant(e,function(m){return playlistMatch(d,m)});return b?"continue":{v:!1}},a=0;a<e.playlists.length;a++){var l=s(a);if(l!=="continue"&&typeof l=="object")return l.v}return!0},Playlist={liveEdgeDelay,duration,seekable,getMediaInfoForTime,isEnabled,isDisabled,isBlacklisted,isIncompatible,playlistEnd,isAes,hasAttribute,estimateSegmentRequestTime,isLowestEnabledRendition,isAudioOnly,playlistMatch,segmentDurationWithParts},log=videojs.log,createPlaylistID=function(e,r){return e+"-"+r},groupID=function(e,r,s){return"placeholder-uri-"+e+"-"+r+"-"+s},parseManifest=function(e){var r=e.onwarn,s=e.oninfo,a=e.manifestString,l=e.customTagParsers,f=l===void 0?[]:l,c=e.customTagMappers,d=c===void 0?[]:c,g=e.experimentalLLHLS,b=new Parser;r&&b.on("warn",r),s&&b.on("info",s),f.forEach(function(q){return b.addParser(q)}),d.forEach(function(q){return b.addTagMapper(q)}),b.push(a),b.end();var m=b.manifest;if(g||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(q){m.hasOwnProperty(q)&&delete m[q]}),m.segments&&m.segments.forEach(function(q){["parts","preloadHints"].forEach(function(j){q.hasOwnProperty(j)&&delete q[j]})})),!m.targetDuration){var _=10;m.segments&&m.segments.length&&(_=m.segments.reduce(function(q,j){return Math.max(q,j.duration)},0)),r&&r("manifest has no targetDuration defaulting to "+_),m.targetDuration=_}var x=getLastParts(m);if(x.length&&!m.partTargetDuration){var k=x.reduce(function(q,j){return Math.max(q,j.duration)},0);r&&(r("manifest has no partTargetDuration defaulting to "+k),log.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),m.partTargetDuration=k}return m},forEachMediaGroup=function(e,r){e.mediaGroups&&["AUDIO","SUBTITLES"].forEach(function(s){if(e.mediaGroups[s])for(var a in e.mediaGroups[s])for(var l in e.mediaGroups[s][a]){var f=e.mediaGroups[s][a][l];r(f,s,a,l)}})},setupMediaPlaylist=function(e){var r=e.playlist,s=e.uri,a=e.id;r.id=a,r.playlistErrors_=0,s&&(r.uri=s),r.attributes=r.attributes||{}},setupMediaPlaylists=function(e){for(var r=e.playlists.length;r--;){var s=e.playlists[r];setupMediaPlaylist({playlist:s,id:createPlaylistID(r,s.uri)}),s.resolvedUri=resolveUrl(e.uri,s.uri),e.playlists[s.id]=s,e.playlists[s.uri]=s,s.attributes.BANDWIDTH||log.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},resolveMediaGroupUris=function(e){forEachMediaGroup(e,function(r){r.uri&&(r.resolvedUri=resolveUrl(e.uri,r.uri))})},masterForMedia=function(e,r){var s=createPlaylistID(0,r),a={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:window_1.location.href,resolvedUri:window_1.location.href,playlists:[{uri:r,id:s,resolvedUri:r,attributes:{}}]};return a.playlists[s]=a.playlists[0],a.playlists[r]=a.playlists[0],a},addPropertiesToMaster=function(e,r,s){s===void 0&&(s=groupID),e.uri=r;for(var a=0;a<e.playlists.length;a++)if(!e.playlists[a].uri){var l="placeholder-uri-"+a;e.playlists[a].uri=l}var f=isAudioOnly(e);forEachMediaGroup(e,function(c,d,g,b){if(!c.playlists||!c.playlists.length){if(f&&d==="AUDIO"&&!c.uri)for(var m=0;m<e.playlists.length;m++){var _=e.playlists[m];if(_.attributes&&_.attributes.AUDIO&&_.attributes.AUDIO===g)return}c.playlists=[_extends$2({},c)]}c.playlists.forEach(function(x,k){var q=s(d,g,b,x),j=createPlaylistID(k,q);x.uri?x.resolvedUri=x.resolvedUri||resolveUrl(e.uri,x.uri):(x.uri=k===0?q:j,x.resolvedUri=x.uri),x.id=x.id||j,x.attributes=x.attributes||{},e.playlists[x.id]=x,e.playlists[x.uri]=x})}),setupMediaPlaylists(e),resolveMediaGroupUris(e)},mergeOptions$2=videojs.mergeOptions,EventTarget$1=videojs.EventTarget,addLLHLSQueryDirectives=function(e,r){if(r.endList||!r.serverControl)return e;var s={};if(r.serverControl.canBlockReload){var a=r.preloadSegment,l=r.mediaSequence+r.segments.length;if(a){var f=a.parts||[],c=getKnownPartCount(r)-1;c>-1&&c!==f.length-1&&(s._HLS_part=c),(c>-1||f.length)&&l--}s._HLS_msn=l}if(r.serverControl&&r.serverControl.canSkipUntil&&(s._HLS_skip=r.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(s).length){var d=new window_1.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(g){s.hasOwnProperty(g)&&d.searchParams.set(g,s[g])}),e=d.toString()}return e},updateSegment=function(e,r){if(!e)return r;var s=mergeOptions$2(e,r);if(e.preloadHints&&!r.preloadHints&&delete s.preloadHints,e.parts&&!r.parts)delete s.parts;else if(e.parts&&r.parts)for(var a=0;a<r.parts.length;a++)e.parts&&e.parts[a]&&(s.parts[a]=mergeOptions$2(e.parts[a],r.parts[a]));return!e.skipped&&r.skipped&&(s.skipped=!1),e.preload&&!r.preload&&(s.preload=!1),s},updateSegments=function(e,r,s){var a=e.slice(),l=r.slice();s=s||0;for(var f=[],c,d=0;d<l.length;d++){var g=a[d+s],b=l[d];g?(c=g.map||c,f.push(updateSegment(g,b))):(c&&!b.map&&(b.map=c),f.push(b))}return f},resolveSegmentUris=function(e,r){!e.resolvedUri&&e.uri&&(e.resolvedUri=resolveUrl(r,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=resolveUrl(r,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=resolveUrl(r,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=resolveUrl(r,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(s){s.resolvedUri||(s.resolvedUri=resolveUrl(r,s.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(s){s.resolvedUri||(s.resolvedUri=resolveUrl(r,s.uri))})},getAllSegments=function(e){var r=e.segments||[],s=e.preloadSegment;if(s&&s.parts&&s.parts.length){if(s.preloadHints){for(var a=0;a<s.preloadHints.length;a++)if(s.preloadHints[a].type==="MAP")return r}s.duration=e.targetDuration,s.preload=!0,r.push(s)}return r},isPlaylistUnchanged=function(e,r){return e===r||e.segments&&r.segments&&e.segments.length===r.segments.length&&e.endList===r.endList&&e.mediaSequence===r.mediaSequence&&e.preloadSegment===r.preloadSegment},updateMaster$1=function(e,r,s){s===void 0&&(s=isPlaylistUnchanged);var a=mergeOptions$2(e,{}),l=a.playlists[r.id];if(!l||s(l,r))return null;r.segments=getAllSegments(r);var f=mergeOptions$2(l,r);if(f.preloadSegment&&!r.preloadSegment&&delete f.preloadSegment,l.segments){if(r.skip){r.segments=r.segments||[];for(var c=0;c<r.skip.skippedSegments;c++)r.segments.unshift({skipped:!0})}f.segments=updateSegments(l.segments,r.segments,r.mediaSequence-l.mediaSequence)}f.segments.forEach(function(g){resolveSegmentUris(g,f.resolvedUri)});for(var d=0;d<a.playlists.length;d++)a.playlists[d].id===r.id&&(a.playlists[d]=f);return a.playlists[r.id]=f,a.playlists[r.uri]=f,forEachMediaGroup(e,function(g,b,m,_){if(g.playlists)for(var x=0;x<g.playlists.length;x++)r.id===g.playlists[x].id&&(g.playlists[x]=f)}),a},refreshDelay=function(e,r){var s=e.segments||[],a=s[s.length-1],l=a&&a.parts&&a.parts[a.parts.length-1],f=l&&l.duration||a&&a.duration;return r&&f?f*1e3:(e.partTargetDuration||e.targetDuration||10)*500},PlaylistLoader=function(n){_inheritsLoose(e,n);function e(s,a,l){var f;if(l===void 0&&(l={}),f=n.call(this)||this,!s)throw new Error("A non-empty playlist URL or object is required");f.logger_=logger$1("PlaylistLoader");var c=l,d=c.withCredentials,g=d===void 0?!1:d,b=c.handleManifestRedirects,m=b===void 0?!1:b;f.src=s,f.vhs_=a,f.withCredentials=g,f.handleManifestRedirects=m;var _=a.options_;return f.customTagParsers=_&&_.customTagParsers||[],f.customTagMappers=_&&_.customTagMappers||[],f.experimentalLLHLS=_&&_.experimentalLLHLS||!1,videojs.browser.IE_VERSION&&(f.experimentalLLHLS=!1),f.state="HAVE_NOTHING",f.handleMediaupdatetimeout_=f.handleMediaupdatetimeout_.bind(_assertThisInitialized(f)),f.on("mediaupdatetimeout",f.handleMediaupdatetimeout_),f}var r=e.prototype;return r.handleMediaupdatetimeout_=function(){var a=this;if(this.state==="HAVE_METADATA"){var l=this.media(),f=resolveUrl(this.master.uri,l.uri);this.experimentalLLHLS&&(f=addLLHLSQueryDirectives(f,l)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:f,withCredentials:this.withCredentials},function(c,d){if(a.request){if(c)return a.playlistRequestError(a.request,a.media(),"HAVE_METADATA");a.haveMetadata({playlistString:a.request.responseText,url:a.media().uri,id:a.media().id})}})}},r.playlistRequestError=function(a,l,f){var c=l.uri,d=l.id;this.request=null,f&&(this.state=f),this.error={playlist:this.master.playlists[d],status:a.status,message:"HLS playlist request error at URL: "+c+".",responseText:a.responseText,code:a.status>=500?4:2},this.trigger("error")},r.parseManifest_=function(a){var l=this,f=a.url,c=a.manifestString;return parseManifest({onwarn:function(g){var b=g.message;return l.logger_("m3u8-parser warn for "+f+": "+b)},oninfo:function(g){var b=g.message;return l.logger_("m3u8-parser info for "+f+": "+b)},manifestString:c,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},r.haveMetadata=function(a){var l=a.playlistString,f=a.playlistObject,c=a.url,d=a.id;this.request=null,this.state="HAVE_METADATA";var g=f||this.parseManifest_({url:c,manifestString:l});g.lastRequest=Date.now(),setupMediaPlaylist({playlist:g,uri:c,id:d});var b=updateMaster$1(this.master,g);this.targetDuration=g.partTargetDuration||g.targetDuration,this.pendingMedia_=null,b?(this.master=b,this.media_=this.master.playlists[d]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(refreshDelay(this.media(),!!b)),this.trigger("loadedplaylist")},r.dispose=function(){this.trigger("dispose"),this.stopRequest(),window_1.clearTimeout(this.mediaUpdateTimeout),window_1.clearTimeout(this.finalRenditionTimeout),this.off()},r.stopRequest=function(){if(this.request){var a=this.request;this.request=null,a.onreadystatechange=null,a.abort()}},r.media=function(a,l){var f=this;if(!a)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof a=="string"){if(!this.master.playlists[a])throw new Error("Unknown playlist URI: "+a);a=this.master.playlists[a]}if(window_1.clearTimeout(this.finalRenditionTimeout),l){var c=(a.partTargetDuration||a.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=window_1.setTimeout(this.media.bind(this,a,!1),c);return}var d=this.state,g=!this.media_||a.id!==this.media_.id,b=this.master.playlists[a.id];if(b&&b.endList||a.endList&&a.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=a,g&&(this.trigger("mediachanging"),d==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(refreshDelay(a,!0)),!!g){if(this.state="SWITCHING_MEDIA",this.request){if(a.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=a,this.request=this.vhs_.xhr({uri:a.resolvedUri,withCredentials:this.withCredentials},function(m,_){if(f.request){if(a.lastRequest=Date.now(),a.resolvedUri=resolveManifestRedirect(f.handleManifestRedirects,a.resolvedUri,_),m)return f.playlistRequestError(f.request,a,d);f.haveMetadata({playlistString:_.responseText,url:a.uri,id:a.id}),d==="HAVE_MASTER"?f.trigger("loadedmetadata"):f.trigger("mediachange")}})}},r.pause=function(){this.mediaUpdateTimeout&&(window_1.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},r.load=function(a){var l=this;this.mediaUpdateTimeout&&(window_1.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var f=this.media();if(a){var c=f?(f.partTargetDuration||f.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=window_1.setTimeout(function(){l.mediaUpdateTimeout=null,l.load()},c);return}if(!this.started){this.start();return}f&&!f.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},r.updateMediaUpdateTimeout_=function(a){var l=this;this.mediaUpdateTimeout&&(window_1.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=window_1.setTimeout(function(){l.mediaUpdateTimeout=null,l.trigger("mediaupdatetimeout"),l.updateMediaUpdateTimeout_(a)},a))},r.start=function(){var a=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=window_1.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){a.setupInitialPlaylist(a.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(l,f){if(a.request){if(a.request=null,l)return a.error={status:f.status,message:"HLS playlist request error at URL: "+a.src+".",responseText:f.responseText,code:2},a.state==="HAVE_NOTHING"&&(a.started=!1),a.trigger("error");a.src=resolveManifestRedirect(a.handleManifestRedirects,a.src,f);var c=a.parseManifest_({manifestString:f.responseText,url:a.src});a.setupInitialPlaylist(c)}})},r.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},r.setupInitialPlaylist=function(a){if(this.state="HAVE_MASTER",a.playlists){this.master=a,addPropertiesToMaster(this.master,this.srcUri()),a.playlists.forEach(function(f){f.segments=getAllSegments(f),f.segments.forEach(function(c){resolveSegmentUris(c,f.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var l=this.srcUri()||window_1.location.href;this.master=masterForMedia(a,l),this.haveMetadata({playlistObject:a,url:l,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},e}(EventTarget$1),videojsXHR=videojs.xhr,mergeOptions$1=videojs.mergeOptions,callbackWrapper=function(e,r,s,a){var l=e.responseType==="arraybuffer"?e.response:e.responseText;!r&&l&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=l.byteLength||l.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),s.headers&&(e.responseHeaders=s.headers),r&&r.code==="ETIMEDOUT"&&(e.timedout=!0),!r&&!e.aborted&&s.statusCode!==200&&s.statusCode!==206&&s.statusCode!==0&&(r=new Error("XHR Failed with a response of: "+(e&&(l||e.responseText)))),a(r,e)},xhrFactory=function(){var e=function r(s,a){s=mergeOptions$1({timeout:45e3},s);var l=r.beforeRequest||videojs.Vhs.xhr.beforeRequest;if(l&&typeof l=="function"){var f=l(s);f&&(s=f)}var c=videojs.Vhs.xhr.original===!0?videojsXHR:videojs.Vhs.xhr,d=c(s,function(b,m){return callbackWrapper(d,b,m,a)}),g=d.abort;return d.abort=function(){return d.aborted=!0,g.apply(d,arguments)},d.uri=s.uri,d.requestTime=Date.now(),d};return e.original=!0,e},byterangeStr=function(e){var r,s=e.offset;return typeof e.offset=="bigint"||typeof e.length=="bigint"?r=window_1.BigInt(e.offset)+window_1.BigInt(e.length)-window_1.BigInt(1):r=e.offset+e.length-1,"bytes="+s+"-"+r},segmentXhrHeaders=function(e){var r={};return e.byterange&&(r.Range=byterangeStr(e.byterange)),r},textRange=function(e,r){return e.start(r)+"-"+e.end(r)},formatHexString=function(e,r){var s=e.toString(16);return"00".substring(0,2-s.length)+s+(r%2?" ":"")},formatAsciiString=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},createTransferableMessage=function(e){var r={};return Object.keys(e).forEach(function(s){var a=e[s];isArrayBufferView$1(a)?r[s]={bytes:a.buffer,byteOffset:a.byteOffset,byteLength:a.byteLength}:r[s]=a}),r},initSegmentId=function(e){var r=e.byterange||{length:1/0,offset:0};return[r.length,r.offset,e.resolvedUri].join(",")},segmentKeyId=function(e){return e.resolvedUri},hexDump=function(e){for(var r=Array.prototype.slice.call(e),s=16,a="",l,f,c=0;c<r.length/s;c++)l=r.slice(c*s,c*s+s).map(formatHexString).join(""),f=r.slice(c*s,c*s+s).map(formatAsciiString).join(""),a+=l+" "+f+`
`;return a},tagDump=function(e){var r=e.bytes;return hexDump(r)},textRanges=function(e){var r="",s;for(s=0;s<e.length;s++)r+=textRange(e,s)+" ";return r},utils$1=Object.freeze({__proto__:null,createTransferableMessage,initSegmentId,segmentKeyId,hexDump,tagDump,textRanges}),SEGMENT_END_FUDGE_PERCENT=.25,playerTimeToProgramTime=function(e,r){if(!r.dateTimeObject)return null;var s=r.videoTimingInfo.transmuxerPrependedSeconds,a=r.videoTimingInfo.transmuxedPresentationStart,l=a+s,f=e-l;return new Date(r.dateTimeObject.getTime()+f*1e3)},originalSegmentVideoDuration=function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds},findSegmentForProgramTime=function(e,r){var s;try{s=new Date(e)}catch{return null}if(!r||!r.segments||r.segments.length===0)return null;var a=r.segments[0];if(s<a.dateTimeObject)return null;for(var l=0;l<r.segments.length-1;l++){a=r.segments[l];var f=r.segments[l+1].dateTimeObject;if(s<f)break}var c=r.segments[r.segments.length-1],d=c.dateTimeObject,g=c.videoTimingInfo?originalSegmentVideoDuration(c.videoTimingInfo):c.duration+c.duration*SEGMENT_END_FUDGE_PERCENT,b=new Date(d.getTime()+g*1e3);return s>b?null:(s>d&&(a=c),{segment:a,estimatedStart:a.videoTimingInfo?a.videoTimingInfo.transmuxedPresentationStart:Playlist.duration(r,r.mediaSequence+r.segments.indexOf(a)),type:a.videoTimingInfo?"accurate":"estimate"})},findSegmentForPlayerTime=function(e,r){if(!r||!r.segments||r.segments.length===0)return null;for(var s=0,a,l=0;l<r.segments.length&&(a=r.segments[l],s=a.videoTimingInfo?a.videoTimingInfo.transmuxedPresentationEnd:s+a.duration,!(e<=s));l++);var f=r.segments[r.segments.length-1];if(f.videoTimingInfo&&f.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>s){if(e>s+f.duration*SEGMENT_END_FUDGE_PERCENT)return null;a=f}return{segment:a,estimatedStart:a.videoTimingInfo?a.videoTimingInfo.transmuxedPresentationStart:s-a.duration,type:a.videoTimingInfo?"accurate":"estimate"}},getOffsetFromTimestamp=function(e,r){var s,a;try{s=new Date(e),a=new Date(r)}catch{}var l=s.getTime(),f=a.getTime();return(f-l)/1e3},verifyProgramDateTimeTags=function(e){if(!e.segments||e.segments.length===0)return!1;for(var r=0;r<e.segments.length;r++){var s=e.segments[r];if(!s.dateTimeObject)return!1}return!0},getProgramTime=function(e){var r=e.playlist,s=e.time,a=s===void 0?void 0:s,l=e.callback;if(!l)throw new Error("getProgramTime: callback must be provided");if(!r||a===void 0)return l({message:"getProgramTime: playlist and time must be provided"});var f=findSegmentForPlayerTime(a,r);if(!f)return l({message:"valid programTime was not found"});if(f.type==="estimate")return l({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:f.estimatedStart});var c={mediaSeconds:a},d=playerTimeToProgramTime(a,f.segment);return d&&(c.programDateTime=d.toISOString()),l(null,c)},seekToProgramTime=function n(e){var r=e.programTime,s=e.playlist,a=e.retryCount,l=a===void 0?2:a,f=e.seekTo,c=e.pauseAfterSeek,d=c===void 0?!0:c,g=e.tech,b=e.callback;if(!b)throw new Error("seekToProgramTime: callback must be provided");if(typeof r>"u"||!s||!f)return b({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!s.endList&&!g.hasStarted_)return b({message:"player must be playing a live stream to start buffering"});if(!verifyProgramDateTimeTags(s))return b({message:"programDateTime tags must be provided in the manifest "+s.resolvedUri});var m=findSegmentForProgramTime(r,s);if(!m)return b({message:r+" was not found in the stream"});var _=m.segment,x=getOffsetFromTimestamp(_.dateTimeObject,r);if(m.type==="estimate"){if(l===0)return b({message:r+" is not buffered yet. Try again"});f(m.estimatedStart+x),g.one("seeked",function(){n({programTime:r,playlist:s,retryCount:l-1,seekTo:f,pauseAfterSeek:d,tech:g,callback:b})});return}var k=_.start+x,q=function(){return b(null,g.currentTime())};g.one("seeked",q),d&&g.pause(),f(k)},callbackOnCompleted=function(e,r){if(e.readyState===4)return r()},containerRequest=function(e,r,s){var a=[],l,f=!1,c=function(_,x,k,q){return x.abort(),f=!0,s(_,x,k,q)},d=function(_,x){if(!f){if(_)return c(_,x,"",a);var k=x.responseText.substring(a&&a.byteLength||0,x.responseText.length);if(a=concatTypedArrays(a,stringToBytes(k,!0)),l=l||getId3Offset(a),a.length<10||l&&a.length<l+2)return callbackOnCompleted(x,function(){return c(_,x,"",a)});var q=detectContainerForBytes(a);return q==="ts"&&a.length<188?callbackOnCompleted(x,function(){return c(_,x,"",a)}):!q&&a.length<376?callbackOnCompleted(x,function(){return c(_,x,"",a)}):c(null,x,q,a)}},g={uri:e,beforeSend:function(_){_.overrideMimeType("text/plain; charset=x-user-defined"),_.addEventListener("progress",function(x){return x.total,x.loaded,callbackWrapper(_,null,{statusCode:_.status},d)})}},b=r(g,function(m,_){return callbackWrapper(b,m,_,d)});return b},EventTarget=videojs.EventTarget,mergeOptions=videojs.mergeOptions,dashPlaylistUnchanged=function(e,r){if(!isPlaylistUnchanged(e,r)||e.sidx&&r.sidx&&(e.sidx.offset!==r.sidx.offset||e.sidx.length!==r.sidx.length))return!1;if(!e.sidx&&r.sidx||e.sidx&&!r.sidx||e.segments&&!r.segments||!e.segments&&r.segments)return!1;if(!e.segments&&!r.segments)return!0;for(var s=0;s<e.segments.length;s++){var a=e.segments[s],l=r.segments[s];if(a.uri!==l.uri)return!1;if(!(!a.byterange&&!l.byterange)){var f=a.byterange,c=l.byterange;if(f&&!c||!f&&c||f.offset!==c.offset||f.length!==c.length)return!1}}return!0},dashGroupId=function(e,r,s,a){var l=a.attributes.NAME||s;return"placeholder-uri-"+e+"-"+r+"-"+l},parseMasterXml=function(e){var r=e.masterXml,s=e.srcUrl,a=e.clientOffset,l=e.sidxMapping,f=e.previousManifest,c=parse$2(r,{manifestUri:s,clientOffset:a,sidxMapping:l,previousManifest:f});return addPropertiesToMaster(c,s,dashGroupId),c},removeOldMediaGroupLabels=function(e,r){forEachMediaGroup(e,function(s,a,l,f){f in r.mediaGroups[a][l]||delete e.mediaGroups[a][l][f]})},updateMaster=function(e,r,s){for(var a=!0,l=mergeOptions(e,{duration:r.duration,minimumUpdatePeriod:r.minimumUpdatePeriod,timelineStarts:r.timelineStarts}),f=0;f<r.playlists.length;f++){var c=r.playlists[f];if(c.sidx){var d=generateSidxKey(c.sidx);s&&s[d]&&s[d].sidx&&addSidxSegmentsToPlaylist$1(c,s[d].sidx,c.sidx.resolvedUri)}var g=updateMaster$1(l,c,dashPlaylistUnchanged);g&&(l=g,a=!1)}return forEachMediaGroup(r,function(b,m,_,x){if(b.playlists&&b.playlists.length){var k=b.playlists[0].id,q=updateMaster$1(l,b.playlists[0],dashPlaylistUnchanged);q&&(l=q,x in l.mediaGroups[m][_]||(l.mediaGroups[m][_][x]=b),l.mediaGroups[m][_][x].playlists[0]=l.playlists[k],a=!1)}}),removeOldMediaGroupLabels(l,r),r.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(a=!1),a?null:l},equivalentSidx=function(e,r){var s=Boolean(!e.map&&!r.map),a=s||Boolean(e.map&&r.map&&e.map.byterange.offset===r.map.byterange.offset&&e.map.byterange.length===r.map.byterange.length);return a&&e.uri===r.uri&&e.byterange.offset===r.byterange.offset&&e.byterange.length===r.byterange.length},compareSidxEntry=function(e,r){var s={};for(var a in e){var l=e[a],f=l.sidx;if(f){var c=generateSidxKey(f);if(!r[c])break;var d=r[c].sidxInfo;equivalentSidx(d,f)&&(s[c]=r[c])}}return s},filterChangedSidxMappings=function(e,r){var s=compareSidxEntry(e.playlists,r),a=s;return forEachMediaGroup(e,function(l,f,c,d){if(l.playlists&&l.playlists.length){var g=l.playlists;a=mergeOptions(a,compareSidxEntry(g,r))}}),a},DashPlaylistLoader=function(n){_inheritsLoose(e,n);function e(s,a,l,f){var c;l===void 0&&(l={}),c=n.call(this)||this,c.masterPlaylistLoader_=f||_assertThisInitialized(c),f||(c.isMaster_=!0);var d=l,g=d.withCredentials,b=g===void 0?!1:g,m=d.handleManifestRedirects,_=m===void 0?!1:m;if(c.vhs_=a,c.withCredentials=b,c.handleManifestRedirects=_,!s)throw new Error("A non-empty playlist URL or object is required");return c.on("minimumUpdatePeriod",function(){c.refreshXml_()}),c.on("mediaupdatetimeout",function(){c.refreshMedia_(c.media().id)}),c.state="HAVE_NOTHING",c.loadedPlaylists_={},c.logger_=logger$1("DashPlaylistLoader"),c.isMaster_?(c.masterPlaylistLoader_.srcUrl=s,c.masterPlaylistLoader_.sidxMapping_={}):c.childPlaylist_=s,c}var r=e.prototype;return r.requestErrored_=function(a,l,f){if(!this.request)return!0;if(this.request=null,a)return this.error=typeof a=="object"&&!(a instanceof Error)?a:{status:l.status,message:"DASH request error at URL: "+l.uri,response:l.response,code:2},f&&(this.state=f),this.trigger("error"),!0},r.addSidxSegments_=function(a,l,f){var c=this,d=a.sidx&&generateSidxKey(a.sidx);if(!a.sidx||!d||this.masterPlaylistLoader_.sidxMapping_[d]){this.mediaRequest_=window_1.setTimeout(function(){return f(!1)},0);return}var g=resolveManifestRedirect(this.handleManifestRedirects,a.sidx.resolvedUri),b=function(_,x){if(!c.requestErrored_(_,x,l)){var k=c.masterPlaylistLoader_.sidxMapping_,q;try{q=parseSidx_1(toUint8(x.response).subarray(8))}catch(j){c.requestErrored_(j,x,l);return}return k[d]={sidxInfo:a.sidx,sidx:q},addSidxSegmentsToPlaylist$1(a,q,a.sidx.resolvedUri),f(!0)}};this.request=containerRequest(g,this.vhs_.xhr,function(m,_,x,k){if(m)return b(m,_);if(!x||x!=="mp4")return b({status:_.status,message:"Unsupported "+(x||"unknown")+" container type for sidx segment at URL: "+g,response:"",playlist:a,internal:!0,blacklistDuration:1/0,code:2},_);var q=a.sidx.byterange,j=q.offset,ne=q.length;if(k.length>=ne+j)return b(m,{response:k.subarray(j,j+ne),status:_.status,uri:_.uri});c.request=c.vhs_.xhr({uri:g,responseType:"arraybuffer",headers:segmentXhrHeaders({byterange:a.sidx.byterange})},b)})},r.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},window_1.clearTimeout(this.minimumUpdatePeriodTimeout_),window_1.clearTimeout(this.mediaRequest_),window_1.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},r.hasPendingRequest=function(){return this.request||this.mediaRequest_},r.stopRequest=function(){if(this.request){var a=this.request;this.request=null,a.onreadystatechange=null,a.abort()}},r.media=function(a){var l=this;if(!a)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var f=this.state;if(typeof a=="string"){if(!this.masterPlaylistLoader_.master.playlists[a])throw new Error("Unknown playlist URI: "+a);a=this.masterPlaylistLoader_.master.playlists[a]}var c=!this.media_||a.id!==this.media_.id;if(c&&this.loadedPlaylists_[a.id]&&this.loadedPlaylists_[a.id].endList){this.state="HAVE_METADATA",this.media_=a,c&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}c&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(a,f,function(d){l.haveMetadata({startingState:f,playlist:a})}))},r.haveMetadata=function(a){var l=a.startingState,f=a.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[f.id]=f,this.mediaRequest_=null,this.refreshMedia_(f.id),l==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},r.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),window_1.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(window_1.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},r.load=function(a){var l=this;window_1.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var f=this.media();if(a){var c=f?f.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=window_1.setTimeout(function(){return l.load()},c);return}if(!this.started){this.start();return}f&&!f.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},r.start=function(){var a=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=window_1.setTimeout(function(){return a.haveMaster_()},0);return}this.requestMaster_(function(l,f){a.haveMaster_(),!a.hasPendingRequest()&&!a.media_&&a.media(a.masterPlaylistLoader_.master.playlists[0])})},r.requestMaster_=function(a){var l=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(f,c){if(l.requestErrored_(f,c)){l.state==="HAVE_NOTHING"&&(l.started=!1);return}var d=c.responseText!==l.masterPlaylistLoader_.masterXml_;if(l.masterPlaylistLoader_.masterXml_=c.responseText,c.responseHeaders&&c.responseHeaders.date?l.masterLoaded_=Date.parse(c.responseHeaders.date):l.masterLoaded_=Date.now(),l.masterPlaylistLoader_.srcUrl=resolveManifestRedirect(l.handleManifestRedirects,l.masterPlaylistLoader_.srcUrl,c),d){l.handleMaster_(),l.syncClientServerClock_(function(){return a(c,d)});return}return a(c,d)})},r.syncClientServerClock_=function(a){var l=this,f=parseUTCTiming(this.masterPlaylistLoader_.masterXml_);if(f===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),a();if(f.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=f.value-Date.now(),a();this.request=this.vhs_.xhr({uri:resolveUrl(this.masterPlaylistLoader_.srcUrl,f.value),method:f.method,withCredentials:this.withCredentials},function(c,d){if(l.request){if(c)return l.masterPlaylistLoader_.clientOffset_=l.masterLoaded_-Date.now(),a();var g;f.method==="HEAD"?!d.responseHeaders||!d.responseHeaders.date?g=l.masterLoaded_:g=Date.parse(d.responseHeaders.date):g=Date.parse(d.responseText),l.masterPlaylistLoader_.clientOffset_=g-Date.now(),a()}})},r.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},r.handleMaster_=function(){this.mediaRequest_=null;var a=this.masterPlaylistLoader_.master,l=parseMasterXml({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:a});a&&(l=updateMaster(a,l,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=l||a;var f=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return f&&f!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=f),(!a||l&&l.minimumUpdatePeriod!==a.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(l)},r.updateMinimumUpdatePeriodTimeout_=function(){var a=this.masterPlaylistLoader_;a.createMupOnMedia_&&(a.off("loadedmetadata",a.createMupOnMedia_),a.createMupOnMedia_=null),a.minimumUpdatePeriodTimeout_&&(window_1.clearTimeout(a.minimumUpdatePeriodTimeout_),a.minimumUpdatePeriodTimeout_=null);var l=a.master&&a.master.minimumUpdatePeriod;if(l===0&&(a.media()?l=a.media().targetDuration*1e3:(a.createMupOnMedia_=a.updateMinimumUpdatePeriodTimeout_,a.one("loadedmetadata",a.createMupOnMedia_))),typeof l!="number"||l<=0){l<0&&this.logger_("found invalid minimumUpdatePeriod of "+l+", not setting a timeout");return}this.createMUPTimeout_(l)},r.createMUPTimeout_=function(a){var l=this.masterPlaylistLoader_;l.minimumUpdatePeriodTimeout_=window_1.setTimeout(function(){l.minimumUpdatePeriodTimeout_=null,l.trigger("minimumUpdatePeriod"),l.createMUPTimeout_(a)},a)},r.refreshXml_=function(){var a=this;this.requestMaster_(function(l,f){f&&(a.media_&&(a.media_=a.masterPlaylistLoader_.master.playlists[a.media_.id]),a.masterPlaylistLoader_.sidxMapping_=filterChangedSidxMappings(a.masterPlaylistLoader_.master,a.masterPlaylistLoader_.sidxMapping_),a.addSidxSegments_(a.media(),a.state,function(c){a.refreshMedia_(a.media().id)}))})},r.refreshMedia_=function(a){var l=this;if(!a)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var f=this.masterPlaylistLoader_.master.playlists,c=!this.media_||this.media_!==f[a];if(c?this.media_=f[a]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var d=function g(){l.media().endList||(l.mediaUpdateTimeout=window_1.setTimeout(function(){l.trigger("mediaupdatetimeout"),g()},refreshDelay(l.media(),Boolean(c))))};d()}this.trigger("loadedplaylist")},e}(EventTarget),Config={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},stringToArrayBuffer=function(e){for(var r=new Uint8Array(new ArrayBuffer(e.length)),s=0;s<e.length;s++)r[s]=e.charCodeAt(s);return r.buffer},browserWorkerPolyFill=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},createObjectURL=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch{var r=new BlobBuilder;return r.append(e),URL.createObjectURL(r.getBlob())}},factory=function(e){return function(){var r=createObjectURL(e),s=browserWorkerPolyFill(new Worker(r));s.objURL=r;var a=s.terminate;return s.on=s.addEventListener,s.off=s.removeEventListener,s.terminate=function(){return URL.revokeObjectURL(r),a.call(this)},s}},transform=function(e){return"var browserWorkerPolyFill = "+browserWorkerPolyFill.toString()+`;
browserWorkerPolyFill(self);
`+e},getWorkerString=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},workerCode$1=transform(getWorkerString(function(){var n=function(){this.init=function(){var B={};this.on=function(te,ee){B[te]||(B[te]=[]),B[te]=B[te].concat(ee)},this.off=function(te,ee){var ie;return B[te]?(ie=B[te].indexOf(ee),B[te]=B[te].slice(),B[te].splice(ie,1),ie>-1):!1},this.trigger=function(te){var ee,ie,oe,fe;if(ee=B[te],!!ee)if(arguments.length===2)for(oe=ee.length,ie=0;ie<oe;++ie)ee[ie].call(this,arguments[1]);else{for(fe=[],ie=arguments.length,ie=1;ie<arguments.length;++ie)fe.push(arguments[ie]);for(oe=ee.length,ie=0;ie<oe;++ie)ee[ie].apply(this,fe)}},this.dispose=function(){B={}}}};n.prototype.pipe=function(me){return this.on("data",function(B){me.push(B)}),this.on("done",function(B){me.flush(B)}),this.on("partialdone",function(B){me.partialFlush(B)}),this.on("endedtimeline",function(B){me.endTimeline(B)}),this.on("reset",function(B){me.reset(B)}),me},n.prototype.push=function(me){this.trigger("data",me)},n.prototype.flush=function(me){this.trigger("done",me)},n.prototype.partialFlush=function(me){this.trigger("partialdone",me)},n.prototype.endTimeline=function(me){this.trigger("endedtimeline",me)},n.prototype.reset=function(me){this.trigger("reset",me)};var e=n,r=Math.pow(2,32),s=function(B){var te=new DataView(B.buffer,B.byteOffset,B.byteLength),ee;return te.getBigUint64?(ee=te.getBigUint64(0),ee<Number.MAX_SAFE_INTEGER?Number(ee):ee):te.getUint32(0)*r+te.getUint32(4)},a={getUint64:s,MAX_UINT32:r},l=a.MAX_UINT32,f,c,d,g,b,m,_,x,k,q,j,ne,se,le,ue,he,ge,ve,_e,ye,be,He,Oe,Fe,De,We,ze,Ge,Je,Ue,pe,ae,Se,Pe,qe,xe;(function(){var me;if(Oe={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(me in Oe)Oe.hasOwnProperty(me)&&(Oe[me]=[me.charCodeAt(0),me.charCodeAt(1),me.charCodeAt(2),me.charCodeAt(3)]);Fe=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),We=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),De=new Uint8Array([0,0,0,1]),ze=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Ge=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Je={video:ze,audio:Ge},ae=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),pe=new Uint8Array([0,0,0,0,0,0,0,0]),Se=new Uint8Array([0,0,0,0,0,0,0,0]),Pe=Se,qe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),xe=Se,Ue=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),f=function(B){var te=[],ee=0,ie,oe,fe;for(ie=1;ie<arguments.length;ie++)te.push(arguments[ie]);for(ie=te.length;ie--;)ee+=te[ie].byteLength;for(oe=new Uint8Array(ee+8),fe=new DataView(oe.buffer,oe.byteOffset,oe.byteLength),fe.setUint32(0,oe.byteLength),oe.set(B,4),ie=0,ee=8;ie<te.length;ie++)oe.set(te[ie],ee),ee+=te[ie].byteLength;return oe},c=function(){return f(Oe.dinf,f(Oe.dref,ae))},d=function(B){return f(Oe.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,B.audioobjecttype<<3|B.samplingfrequencyindex>>>1,B.samplingfrequencyindex<<7|B.channelcount<<3,6,1,2]))},g=function(){return f(Oe.ftyp,Fe,De,Fe,We)},he=function(B){return f(Oe.hdlr,Je[B])},b=function(B){return f(Oe.mdat,B)},ue=function(B){var te=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,B.duration>>>24&255,B.duration>>>16&255,B.duration>>>8&255,B.duration&255,85,196,0,0]);return B.samplerate&&(te[12]=B.samplerate>>>24&255,te[13]=B.samplerate>>>16&255,te[14]=B.samplerate>>>8&255,te[15]=B.samplerate&255),f(Oe.mdhd,te)},le=function(B){return f(Oe.mdia,ue(B),he(B.type),_(B))},m=function(B){return f(Oe.mfhd,new Uint8Array([0,0,0,0,(B&4278190080)>>24,(B&16711680)>>16,(B&65280)>>8,B&255]))},_=function(B){return f(Oe.minf,B.type==="video"?f(Oe.vmhd,Ue):f(Oe.smhd,pe),c(),ve(B))},x=function(B,te){for(var ee=[],ie=te.length;ie--;)ee[ie]=ye(te[ie]);return f.apply(null,[Oe.moof,m(B)].concat(ee))},k=function(B){for(var te=B.length,ee=[];te--;)ee[te]=ne(B[te]);return f.apply(null,[Oe.moov,j(4294967295)].concat(ee).concat(q(B)))},q=function(B){for(var te=B.length,ee=[];te--;)ee[te]=be(B[te]);return f.apply(null,[Oe.mvex].concat(ee))},j=function(B){var te=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(B&4278190080)>>24,(B&16711680)>>16,(B&65280)>>8,B&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return f(Oe.mvhd,te)},ge=function(B){var te=B.samples||[],ee=new Uint8Array(4+te.length),ie,oe;for(oe=0;oe<te.length;oe++)ie=te[oe].flags,ee[oe+4]=ie.dependsOn<<4|ie.isDependedOn<<2|ie.hasRedundancy;return f(Oe.sdtp,ee)},ve=function(B){return f(Oe.stbl,_e(B),f(Oe.stts,xe),f(Oe.stsc,Pe),f(Oe.stsz,qe),f(Oe.stco,Se))},function(){var me,B;_e=function(ee){return f(Oe.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),ee.type==="video"?me(ee):B(ee))},me=function(ee){var ie=ee.sps||[],oe=ee.pps||[],fe=[],Ae=[],Me,Ve;for(Me=0;Me<ie.length;Me++)fe.push((ie[Me].byteLength&65280)>>>8),fe.push(ie[Me].byteLength&255),fe=fe.concat(Array.prototype.slice.call(ie[Me]));for(Me=0;Me<oe.length;Me++)Ae.push((oe[Me].byteLength&65280)>>>8),Ae.push(oe[Me].byteLength&255),Ae=Ae.concat(Array.prototype.slice.call(oe[Me]));if(Ve=[Oe.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(ee.width&65280)>>8,ee.width&255,(ee.height&65280)>>8,ee.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),f(Oe.avcC,new Uint8Array([1,ee.profileIdc,ee.profileCompatibility,ee.levelIdc,255].concat([ie.length],fe,[oe.length],Ae))),f(Oe.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],ee.sarRatio){var Le=ee.sarRatio[0],Qe=ee.sarRatio[1];Ve.push(f(Oe.pasp,new Uint8Array([(Le&4278190080)>>24,(Le&16711680)>>16,(Le&65280)>>8,Le&255,(Qe&4278190080)>>24,(Qe&16711680)>>16,(Qe&65280)>>8,Qe&255])))}return f.apply(null,Ve)},B=function(ee){return f(Oe.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(ee.channelcount&65280)>>8,ee.channelcount&255,(ee.samplesize&65280)>>8,ee.samplesize&255,0,0,0,0,(ee.samplerate&65280)>>8,ee.samplerate&255,0,0]),d(ee))}}(),se=function(B){var te=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(B.id&4278190080)>>24,(B.id&16711680)>>16,(B.id&65280)>>8,B.id&255,0,0,0,0,(B.duration&4278190080)>>24,(B.duration&16711680)>>16,(B.duration&65280)>>8,B.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(B.width&65280)>>8,B.width&255,0,0,(B.height&65280)>>8,B.height&255,0,0]);return f(Oe.tkhd,te)},ye=function(B){var te,ee,ie,oe,fe,Ae,Me;return te=f(Oe.tfhd,new Uint8Array([0,0,0,58,(B.id&4278190080)>>24,(B.id&16711680)>>16,(B.id&65280)>>8,B.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),Ae=Math.floor(B.baseMediaDecodeTime/l),Me=Math.floor(B.baseMediaDecodeTime%l),ee=f(Oe.tfdt,new Uint8Array([1,0,0,0,Ae>>>24&255,Ae>>>16&255,Ae>>>8&255,Ae&255,Me>>>24&255,Me>>>16&255,Me>>>8&255,Me&255])),fe=32+20+8+16+8+8,B.type==="audio"?(ie=He(B,fe),f(Oe.traf,te,ee,ie)):(oe=ge(B),ie=He(B,oe.length+fe),f(Oe.traf,te,ee,ie,oe))},ne=function(B){return B.duration=B.duration||4294967295,f(Oe.trak,se(B),le(B))},be=function(B){var te=new Uint8Array([0,0,0,0,(B.id&4278190080)>>24,(B.id&16711680)>>16,(B.id&65280)>>8,B.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return B.type!=="video"&&(te[te.length-1]=0),f(Oe.trex,te)},function(){var me,B,te;te=function(ie,oe){var fe=0,Ae=0,Me=0,Ve=0;return ie.length&&(ie[0].duration!==void 0&&(fe=1),ie[0].size!==void 0&&(Ae=2),ie[0].flags!==void 0&&(Me=4),ie[0].compositionTimeOffset!==void 0&&(Ve=8)),[0,0,fe|Ae|Me|Ve,1,(ie.length&4278190080)>>>24,(ie.length&16711680)>>>16,(ie.length&65280)>>>8,ie.length&255,(oe&4278190080)>>>24,(oe&16711680)>>>16,(oe&65280)>>>8,oe&255]},B=function(ie,oe){var fe,Ae,Me,Ve,Le,Qe;for(Ve=ie.samples||[],oe+=8+12+16*Ve.length,Me=te(Ve,oe),Ae=new Uint8Array(Me.length+Ve.length*16),Ae.set(Me),fe=Me.length,Qe=0;Qe<Ve.length;Qe++)Le=Ve[Qe],Ae[fe++]=(Le.duration&4278190080)>>>24,Ae[fe++]=(Le.duration&16711680)>>>16,Ae[fe++]=(Le.duration&65280)>>>8,Ae[fe++]=Le.duration&255,Ae[fe++]=(Le.size&4278190080)>>>24,Ae[fe++]=(Le.size&16711680)>>>16,Ae[fe++]=(Le.size&65280)>>>8,Ae[fe++]=Le.size&255,Ae[fe++]=Le.flags.isLeading<<2|Le.flags.dependsOn,Ae[fe++]=Le.flags.isDependedOn<<6|Le.flags.hasRedundancy<<4|Le.flags.paddingValue<<1|Le.flags.isNonSyncSample,Ae[fe++]=Le.flags.degradationPriority&240<<8,Ae[fe++]=Le.flags.degradationPriority&15,Ae[fe++]=(Le.compositionTimeOffset&4278190080)>>>24,Ae[fe++]=(Le.compositionTimeOffset&16711680)>>>16,Ae[fe++]=(Le.compositionTimeOffset&65280)>>>8,Ae[fe++]=Le.compositionTimeOffset&255;return f(Oe.trun,Ae)},me=function(ie,oe){var fe,Ae,Me,Ve,Le,Qe;for(Ve=ie.samples||[],oe+=8+12+8*Ve.length,Me=te(Ve,oe),fe=new Uint8Array(Me.length+Ve.length*8),fe.set(Me),Ae=Me.length,Qe=0;Qe<Ve.length;Qe++)Le=Ve[Qe],fe[Ae++]=(Le.duration&4278190080)>>>24,fe[Ae++]=(Le.duration&16711680)>>>16,fe[Ae++]=(Le.duration&65280)>>>8,fe[Ae++]=Le.duration&255,fe[Ae++]=(Le.size&4278190080)>>>24,fe[Ae++]=(Le.size&16711680)>>>16,fe[Ae++]=(Le.size&65280)>>>8,fe[Ae++]=Le.size&255;return f(Oe.trun,fe)},He=function(ie,oe){return ie.type==="audio"?me(ie,oe):B(ie,oe)}}();var Xe={ftyp:g,mdat:b,moof:x,moov:k,initSegment:function(B){var te=g(),ee=k(B),ie;return ie=new Uint8Array(te.byteLength+ee.byteLength),ie.set(te),ie.set(ee,te.byteLength),ie}},$e=function(B){var te,ee,ie=[],oe=[];for(oe.byteLength=0,oe.nalCount=0,oe.duration=0,ie.byteLength=0,te=0;te<B.length;te++)ee=B[te],ee.nalUnitType==="access_unit_delimiter_rbsp"?(ie.length&&(ie.duration=ee.dts-ie.dts,oe.byteLength+=ie.byteLength,oe.nalCount+=ie.length,oe.duration+=ie.duration,oe.push(ie)),ie=[ee],ie.byteLength=ee.data.byteLength,ie.pts=ee.pts,ie.dts=ee.dts):(ee.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(ie.keyFrame=!0),ie.duration=ee.dts-ie.dts,ie.byteLength+=ee.data.byteLength,ie.push(ee));return oe.length&&(!ie.duration||ie.duration<=0)&&(ie.duration=oe[oe.length-1].duration),oe.byteLength+=ie.byteLength,oe.nalCount+=ie.length,oe.duration+=ie.duration,oe.push(ie),oe},Ze=function(B){var te,ee,ie=[],oe=[];for(ie.byteLength=0,ie.nalCount=0,ie.duration=0,ie.pts=B[0].pts,ie.dts=B[0].dts,oe.byteLength=0,oe.nalCount=0,oe.duration=0,oe.pts=B[0].pts,oe.dts=B[0].dts,te=0;te<B.length;te++)ee=B[te],ee.keyFrame?(ie.length&&(oe.push(ie),oe.byteLength+=ie.byteLength,oe.nalCount+=ie.nalCount,oe.duration+=ie.duration),ie=[ee],ie.nalCount=ee.length,ie.byteLength=ee.byteLength,ie.pts=ee.pts,ie.dts=ee.dts,ie.duration=ee.duration):(ie.duration+=ee.duration,ie.nalCount+=ee.length,ie.byteLength+=ee.byteLength,ie.push(ee));return oe.length&&ie.duration<=0&&(ie.duration=oe[oe.length-1].duration),oe.byteLength+=ie.byteLength,oe.nalCount+=ie.nalCount,oe.duration+=ie.duration,oe.push(ie),oe},et=function(B){var te;return!B[0][0].keyFrame&&B.length>1&&(te=B.shift(),B.byteLength-=te.byteLength,B.nalCount-=te.nalCount,B[0][0].dts=te.dts,B[0][0].pts=te.pts,B[0][0].duration+=te.duration),B},nt=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},it=function(B,te){var ee=nt();return ee.dataOffset=te,ee.compositionTimeOffset=B.pts-B.dts,ee.duration=B.duration,ee.size=4*B.length,ee.size+=B.byteLength,B.keyFrame&&(ee.flags.dependsOn=2,ee.flags.isNonSyncSample=0),ee},Ee=function(B,te){var ee,ie,oe,fe,Ae,Me=te||0,Ve=[];for(ee=0;ee<B.length;ee++)for(fe=B[ee],ie=0;ie<fe.length;ie++)Ae=fe[ie],oe=it(Ae,Me),Me+=oe.size,Ve.push(oe);return Ve},de=function(B){var te,ee,ie,oe,fe,Ae,Me=0,Ve=B.byteLength,Le=B.nalCount,Qe=Ve+4*Le,tt=new Uint8Array(Qe),st=new DataView(tt.buffer);for(te=0;te<B.length;te++)for(oe=B[te],ee=0;ee<oe.length;ee++)for(fe=oe[ee],ie=0;ie<fe.length;ie++)Ae=fe[ie],st.setUint32(Me,Ae.data.byteLength),Me+=4,tt.set(Ae.data,Me),Me+=Ae.data.byteLength;return tt},ce=function(B,te){var ee,ie=te||0,oe=[];return ee=it(B,ie),oe.push(ee),oe},we=function(B){var te,ee,ie=0,oe=B.byteLength,fe=B.length,Ae=oe+4*fe,Me=new Uint8Array(Ae),Ve=new DataView(Me.buffer);for(te=0;te<B.length;te++)ee=B[te],Ve.setUint32(ie,ee.data.byteLength),ie+=4,Me.set(ee.data,ie),ie+=ee.data.byteLength;return Me},Be={groupNalsIntoFrames:$e,groupFramesIntoGops:Ze,extendFirstKeyFrame:et,generateSampleTable:Ee,concatenateNalData:de,generateSampleTableForFrame:ce,concatenateNalDataForFrame:we},Ie=[33,16,5,32,164,27],Ye=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Ke=function(B){for(var te=[];B--;)te.push(0);return te},Re=function(B){return Object.keys(B).reduce(function(te,ee){return te[ee]=new Uint8Array(B[ee].reduce(function(ie,oe){return ie.concat(oe)},[])),te},{})},je,Ce=function(){if(!je){var B={96e3:[Ie,[227,64],Ke(154),[56]],88200:[Ie,[231],Ke(170),[56]],64e3:[Ie,[248,192],Ke(240),[56]],48e3:[Ie,[255,192],Ke(268),[55,148,128],Ke(54),[112]],44100:[Ie,[255,192],Ke(268),[55,163,128],Ke(84),[112]],32e3:[Ie,[255,192],Ke(268),[55,234],Ke(226),[112]],24e3:[Ie,[255,192],Ke(268),[55,255,128],Ke(268),[111,112],Ke(126),[224]],16e3:[Ie,[255,192],Ke(268),[55,255,128],Ke(268),[111,255],Ke(269),[223,108],Ke(195),[1,192]],12e3:[Ye,Ke(268),[3,127,248],Ke(268),[6,255,240],Ke(268),[13,255,224],Ke(268),[27,253,128],Ke(259),[56]],11025:[Ye,Ke(268),[3,127,248],Ke(268),[6,255,240],Ke(268),[13,255,224],Ke(268),[27,255,192],Ke(268),[55,175,128],Ke(108),[112]],8e3:[Ye,Ke(268),[3,121,16],Ke(47),[7]]};je=Re(B)}return je},Ne=9e4,Te,ke,rt,lt,ot,ft,vt;Te=function(B){return B*Ne},ke=function(B,te){return B*te},rt=function(B){return B/Ne},lt=function(B,te){return B/te},ot=function(B,te){return Te(lt(B,te))},ft=function(B,te){return ke(rt(B),te)},vt=function(B,te,ee){return rt(ee?B:B-te)};var ct={ONE_SECOND_IN_TS:Ne,secondsToVideoTs:Te,secondsToAudioTs:ke,videoTsToSeconds:rt,audioTsToSeconds:lt,audioTsToVideoTs:ot,videoTsToAudioTs:ft,metadataTsToSeconds:vt},ht=function(B){var te,ee,ie=0;for(te=0;te<B.length;te++)ee=B[te],ie+=ee.data.byteLength;return ie},_t=function(B,te,ee,ie){var oe,fe=0,Ae=0,Me=0,Ve=0,Le,Qe,tt;if(te.length&&(oe=ct.audioTsToVideoTs(B.baseMediaDecodeTime,B.samplerate),fe=Math.ceil(ct.ONE_SECOND_IN_TS/(B.samplerate/1024)),ee&&ie&&(Ae=oe-Math.max(ee,ie),Me=Math.floor(Ae/fe),Ve=Me*fe),!(Me<1||Ve>ct.ONE_SECOND_IN_TS/2))){for(Le=Ce()[B.samplerate],Le||(Le=te[0].data),Qe=0;Qe<Me;Qe++)tt=te[0],te.splice(0,0,{data:Le,dts:tt.dts-fe,pts:tt.pts-fe});return B.baseMediaDecodeTime-=Math.floor(ct.videoTsToAudioTs(Ve,B.samplerate)),Ve}},bt=function(B,te,ee){return te.minSegmentDts>=ee?B:(te.minSegmentDts=1/0,B.filter(function(ie){return ie.dts>=ee?(te.minSegmentDts=Math.min(te.minSegmentDts,ie.dts),te.minSegmentPts=te.minSegmentDts,!0):!1}))},pt=function(B){var te,ee,ie=[];for(te=0;te<B.length;te++)ee=B[te],ie.push({size:ee.data.byteLength,duration:1024});return ie},mt=function(B){var te,ee,ie=0,oe=new Uint8Array(ht(B));for(te=0;te<B.length;te++)ee=B[te],oe.set(ee.data,ie),ie+=ee.data.byteLength;return oe},Tt={prefixWithSilence:_t,trimAdtsFramesByEarliestDts:bt,generateSampleTable:pt,concatenateFrameData:mt},$t=ct.ONE_SECOND_IN_TS,kt=function(B,te){typeof te.pts=="number"&&(B.timelineStartInfo.pts===void 0&&(B.timelineStartInfo.pts=te.pts),B.minSegmentPts===void 0?B.minSegmentPts=te.pts:B.minSegmentPts=Math.min(B.minSegmentPts,te.pts),B.maxSegmentPts===void 0?B.maxSegmentPts=te.pts:B.maxSegmentPts=Math.max(B.maxSegmentPts,te.pts)),typeof te.dts=="number"&&(B.timelineStartInfo.dts===void 0&&(B.timelineStartInfo.dts=te.dts),B.minSegmentDts===void 0?B.minSegmentDts=te.dts:B.minSegmentDts=Math.min(B.minSegmentDts,te.dts),B.maxSegmentDts===void 0?B.maxSegmentDts=te.dts:B.maxSegmentDts=Math.max(B.maxSegmentDts,te.dts))},Ft=function(B){delete B.minSegmentDts,delete B.maxSegmentDts,delete B.minSegmentPts,delete B.maxSegmentPts},Bt=function(B,te){var ee,ie,oe=B.minSegmentDts;return te||(oe-=B.timelineStartInfo.dts),ee=B.timelineStartInfo.baseMediaDecodeTime,ee+=oe,ee=Math.max(0,ee),B.type==="audio"&&(ie=B.samplerate/$t,ee*=ie,ee=Math.floor(ee)),ee},wt={clearDtsInfo:Ft,calculateTrackBaseMediaDecodeTime:Bt,collectDtsInfo:kt},Yt=4,Rn=128,cn=function(B){for(var te=0,ee={payloadType:-1,payloadSize:0},ie=0,oe=0;te<B.byteLength&&B[te]!==Rn;){for(;B[te]===255;)ie+=255,te++;for(ie+=B[te++];B[te]===255;)oe+=255,te++;if(oe+=B[te++],!ee.payload&&ie===Yt){var fe=String.fromCharCode(B[te+3],B[te+4],B[te+5],B[te+6]);if(fe==="GA94"){ee.payloadType=ie,ee.payloadSize=oe,ee.payload=B.subarray(te,te+oe);break}else ee.payload=void 0}te+=oe,ie=0,oe=0}return ee},Nt=function(B){return B.payload[0]!==181||(B.payload[1]<<8|B.payload[2])!==49||String.fromCharCode(B.payload[3],B.payload[4],B.payload[5],B.payload[6])!=="GA94"||B.payload[7]!==3?null:B.payload.subarray(8,B.payload.length-1)},Ln=function(B,te){var ee=[],ie,oe,fe,Ae;if(!(te[0]&64))return ee;for(oe=te[0]&31,ie=0;ie<oe;ie++)fe=ie*3,Ae={type:te[fe+2]&3,pts:B},te[fe+2]&4&&(Ae.ccData=te[fe+3]<<8|te[fe+4],ee.push(Ae));return ee},_n=function(B){for(var te=B.byteLength,ee=[],ie=1,oe,fe;ie<te-2;)B[ie]===0&&B[ie+1]===0&&B[ie+2]===3?(ee.push(ie+2),ie+=2):ie++;if(ee.length===0)return B;oe=te-ee.length,fe=new Uint8Array(oe);var Ae=0;for(ie=0;ie<oe;Ae++,ie++)Ae===ee[0]&&(Ae++,ee.shift()),fe[ie]=B[Ae];return fe},Kt={parseSei:cn,parseUserData:Nt,parseCaptionPackets:Ln,discardEmulationPreventionBytes:_n,USER_DATA_REGISTERED_ITU_T_T35:Yt},Ot=function me(B){B=B||{},me.prototype.init.call(this),this.parse708captions_=typeof B.parse708captions=="boolean"?B.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new St(0,0),new St(0,1),new St(1,0),new St(1,1)],this.parse708captions_&&(this.cc708Stream_=new gt({captionServices:B.captionServices})),this.reset(),this.ccStreams_.forEach(function(te){te.on("data",this.trigger.bind(this,"data")),te.on("partialdone",this.trigger.bind(this,"partialdone")),te.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Ot.prototype=new e,Ot.prototype.push=function(me){var B,te,ee;if(me.nalUnitType==="sei_rbsp"&&(B=Kt.parseSei(me.escapedRBSP),!!B.payload&&B.payloadType===Kt.USER_DATA_REGISTERED_ITU_T_T35&&(te=Kt.parseUserData(B),!!te))){if(me.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(me.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}ee=Kt.parseCaptionPackets(me.pts,te),this.captionPackets_=this.captionPackets_.concat(ee),this.latestDts_!==me.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=me.dts}},Ot.prototype.flushCCStreams=function(me){this.ccStreams_.forEach(function(B){return me==="flush"?B.flush():B.partialFlush()},this)},Ot.prototype.flushStream=function(me){if(!this.captionPackets_.length){this.flushCCStreams(me);return}this.captionPackets_.forEach(function(B,te){B.presortIndex=te}),this.captionPackets_.sort(function(B,te){return B.pts===te.pts?B.presortIndex-te.presortIndex:B.pts-te.pts}),this.captionPackets_.forEach(function(B){B.type<2?this.dispatchCea608Packet(B):this.dispatchCea708Packet(B)},this),this.captionPackets_.length=0,this.flushCCStreams(me)},Ot.prototype.flush=function(){return this.flushStream("flush")},Ot.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Ot.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(me){me.reset()})},Ot.prototype.dispatchCea608Packet=function(me){this.setsTextOrXDSActive(me)?this.activeCea608Channel_[me.type]=null:this.setsChannel1Active(me)?this.activeCea608Channel_[me.type]=0:this.setsChannel2Active(me)&&(this.activeCea608Channel_[me.type]=1),this.activeCea608Channel_[me.type]!==null&&this.ccStreams_[(me.type<<1)+this.activeCea608Channel_[me.type]].push(me)},Ot.prototype.setsChannel1Active=function(me){return(me.ccData&30720)===4096},Ot.prototype.setsChannel2Active=function(me){return(me.ccData&30720)===6144},Ot.prototype.setsTextOrXDSActive=function(me){return(me.ccData&28928)===256||(me.ccData&30974)===4138||(me.ccData&30974)===6186},Ot.prototype.dispatchCea708Packet=function(me){this.parse708captions_&&this.cc708Stream_.push(me)};var xt={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Ut=function(B){var te=xt[B]||B;return B&4096&&B===te?"":String.fromCharCode(te)},Dt=function(B){return 32<=B&&B<=127||160<=B&&B<=255},At=function(B){this.windowNum=B,this.reset()};At.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},At.prototype.getText=function(){return this.rows.join(`
`)},At.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},At.prototype.newLine=function(me){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(me),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},At.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},At.prototype.addText=function(me){this.rows[this.rowIdx]+=me},At.prototype.backspace=function(){if(!this.isEmpty()){var me=this.rows[this.rowIdx];this.rows[this.rowIdx]=me.substr(0,me.length-1)}};var It=function(B,te,ee){this.serviceNum=B,this.text="",this.currentWindow=new At(-1),this.windows=[],this.stream=ee,typeof te=="string"&&this.createTextDecoder(te)};It.prototype.init=function(me,B){this.startPts=me;for(var te=0;te<8;te++)this.windows[te]=new At(te),typeof B=="function"&&(this.windows[te].beforeRowOverflow=B)},It.prototype.setCurrentWindow=function(me){this.currentWindow=this.windows[me]},It.prototype.createTextDecoder=function(me){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(me)}catch(B){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+me+" encoding. "+B})}};var gt=function me(B){B=B||{},me.prototype.init.call(this);var te=this,ee=B.captionServices||{},ie={},oe;Object.keys(ee).forEach(function(fe){oe=ee[fe],/^SERVICE/.test(fe)&&(ie[fe]=oe.encoding)}),this.serviceEncodings=ie,this.current708Packet=null,this.services={},this.push=function(fe){fe.type===3?(te.new708Packet(),te.add708Bytes(fe)):(te.current708Packet===null&&te.new708Packet(),te.add708Bytes(fe))}};gt.prototype=new e,gt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},gt.prototype.add708Bytes=function(me){var B=me.ccData,te=B>>>8,ee=B&255;this.current708Packet.ptsVals.push(me.pts),this.current708Packet.data.push(te),this.current708Packet.data.push(ee)},gt.prototype.push708Packet=function(){var me=this.current708Packet,B=me.data,te=null,ee=null,ie=0,oe=B[ie++];for(me.seq=oe>>6,me.sizeCode=oe&63;ie<B.length;ie++)oe=B[ie++],te=oe>>5,ee=oe&31,te===7&&ee>0&&(oe=B[ie++],te=oe),this.pushServiceBlock(te,ie,ee),ee>0&&(ie+=ee-1)},gt.prototype.pushServiceBlock=function(me,B,te){var ee,ie=B,oe=this.current708Packet.data,fe=this.services[me];for(fe||(fe=this.initService(me,ie));ie<B+te&&ie<oe.length;ie++)ee=oe[ie],Dt(ee)?ie=this.handleText(ie,fe):ee===24?ie=this.multiByteCharacter(ie,fe):ee===16?ie=this.extendedCommands(ie,fe):128<=ee&&ee<=135?ie=this.setCurrentWindow(ie,fe):152<=ee&&ee<=159?ie=this.defineWindow(ie,fe):ee===136?ie=this.clearWindows(ie,fe):ee===140?ie=this.deleteWindows(ie,fe):ee===137?ie=this.displayWindows(ie,fe):ee===138?ie=this.hideWindows(ie,fe):ee===139?ie=this.toggleWindows(ie,fe):ee===151?ie=this.setWindowAttributes(ie,fe):ee===144?ie=this.setPenAttributes(ie,fe):ee===145?ie=this.setPenColor(ie,fe):ee===146?ie=this.setPenLocation(ie,fe):ee===143?fe=this.reset(ie,fe):ee===8?fe.currentWindow.backspace():ee===12?fe.currentWindow.clearText():ee===13?fe.currentWindow.pendingNewLine=!0:ee===14?fe.currentWindow.clearText():ee===141&&ie++},gt.prototype.extendedCommands=function(me,B){var te=this.current708Packet.data,ee=te[++me];return Dt(ee)&&(me=this.handleText(me,B,{isExtended:!0})),me},gt.prototype.getPts=function(me){return this.current708Packet.ptsVals[Math.floor(me/2)]},gt.prototype.initService=function(me,B){var ee="SERVICE"+me,te=this,ee,ie;return ee in this.serviceEncodings&&(ie=this.serviceEncodings[ee]),this.services[me]=new It(me,ie,te),this.services[me].init(this.getPts(B),function(oe){te.flushDisplayed(oe,te.services[me])}),this.services[me]},gt.prototype.handleText=function(me,B,te){var ee=te&&te.isExtended,ie=te&&te.isMultiByte,oe=this.current708Packet.data,fe=ee?4096:0,Ae=oe[me],Me=oe[me+1],Ve=B.currentWindow,Le,Qe;return B.textDecoder_&&!ee?(ie?(Qe=[Ae,Me],me++):Qe=[Ae],Le=B.textDecoder_.decode(new Uint8Array(Qe))):Le=Ut(fe|Ae),Ve.pendingNewLine&&!Ve.isEmpty()&&Ve.newLine(this.getPts(me)),Ve.pendingNewLine=!1,Ve.addText(Le),me},gt.prototype.multiByteCharacter=function(me,B){var te=this.current708Packet.data,ee=te[me+1],ie=te[me+2];return Dt(ee)&&Dt(ie)&&(me=this.handleText(++me,B,{isMultiByte:!0})),me},gt.prototype.setCurrentWindow=function(me,B){var te=this.current708Packet.data,ee=te[me],ie=ee&7;return B.setCurrentWindow(ie),me},gt.prototype.defineWindow=function(me,B){var te=this.current708Packet.data,ee=te[me],ie=ee&7;B.setCurrentWindow(ie);var oe=B.currentWindow;return ee=te[++me],oe.visible=(ee&32)>>5,oe.rowLock=(ee&16)>>4,oe.columnLock=(ee&8)>>3,oe.priority=ee&7,ee=te[++me],oe.relativePositioning=(ee&128)>>7,oe.anchorVertical=ee&127,ee=te[++me],oe.anchorHorizontal=ee,ee=te[++me],oe.anchorPoint=(ee&240)>>4,oe.rowCount=ee&15,ee=te[++me],oe.columnCount=ee&63,ee=te[++me],oe.windowStyle=(ee&56)>>3,oe.penStyle=ee&7,oe.virtualRowCount=oe.rowCount+1,me},gt.prototype.setWindowAttributes=function(me,B){var te=this.current708Packet.data,ee=te[me],ie=B.currentWindow.winAttr;return ee=te[++me],ie.fillOpacity=(ee&192)>>6,ie.fillRed=(ee&48)>>4,ie.fillGreen=(ee&12)>>2,ie.fillBlue=ee&3,ee=te[++me],ie.borderType=(ee&192)>>6,ie.borderRed=(ee&48)>>4,ie.borderGreen=(ee&12)>>2,ie.borderBlue=ee&3,ee=te[++me],ie.borderType+=(ee&128)>>5,ie.wordWrap=(ee&64)>>6,ie.printDirection=(ee&48)>>4,ie.scrollDirection=(ee&12)>>2,ie.justify=ee&3,ee=te[++me],ie.effectSpeed=(ee&240)>>4,ie.effectDirection=(ee&12)>>2,ie.displayEffect=ee&3,me},gt.prototype.flushDisplayed=function(me,B){for(var te=[],ee=0;ee<8;ee++)B.windows[ee].visible&&!B.windows[ee].isEmpty()&&te.push(B.windows[ee].getText());B.endPts=me,B.text=te.join(`

`),this.pushCaption(B),B.startPts=me},gt.prototype.pushCaption=function(me){me.text!==""&&(this.trigger("data",{startPts:me.startPts,endPts:me.endPts,text:me.text,stream:"cc708_"+me.serviceNum}),me.text="",me.startPts=me.endPts)},gt.prototype.displayWindows=function(me,B){var te=this.current708Packet.data,ee=te[++me],ie=this.getPts(me);this.flushDisplayed(ie,B);for(var oe=0;oe<8;oe++)ee&1<<oe&&(B.windows[oe].visible=1);return me},gt.prototype.hideWindows=function(me,B){var te=this.current708Packet.data,ee=te[++me],ie=this.getPts(me);this.flushDisplayed(ie,B);for(var oe=0;oe<8;oe++)ee&1<<oe&&(B.windows[oe].visible=0);return me},gt.prototype.toggleWindows=function(me,B){var te=this.current708Packet.data,ee=te[++me],ie=this.getPts(me);this.flushDisplayed(ie,B);for(var oe=0;oe<8;oe++)ee&1<<oe&&(B.windows[oe].visible^=1);return me},gt.prototype.clearWindows=function(me,B){var te=this.current708Packet.data,ee=te[++me],ie=this.getPts(me);this.flushDisplayed(ie,B);for(var oe=0;oe<8;oe++)ee&1<<oe&&B.windows[oe].clearText();return me},gt.prototype.deleteWindows=function(me,B){var te=this.current708Packet.data,ee=te[++me],ie=this.getPts(me);this.flushDisplayed(ie,B);for(var oe=0;oe<8;oe++)ee&1<<oe&&B.windows[oe].reset();return me},gt.prototype.setPenAttributes=function(me,B){var te=this.current708Packet.data,ee=te[me],ie=B.currentWindow.penAttr;return ee=te[++me],ie.textTag=(ee&240)>>4,ie.offset=(ee&12)>>2,ie.penSize=ee&3,ee=te[++me],ie.italics=(ee&128)>>7,ie.underline=(ee&64)>>6,ie.edgeType=(ee&56)>>3,ie.fontStyle=ee&7,me},gt.prototype.setPenColor=function(me,B){var te=this.current708Packet.data,ee=te[me],ie=B.currentWindow.penColor;return ee=te[++me],ie.fgOpacity=(ee&192)>>6,ie.fgRed=(ee&48)>>4,ie.fgGreen=(ee&12)>>2,ie.fgBlue=ee&3,ee=te[++me],ie.bgOpacity=(ee&192)>>6,ie.bgRed=(ee&48)>>4,ie.bgGreen=(ee&12)>>2,ie.bgBlue=ee&3,ee=te[++me],ie.edgeRed=(ee&48)>>4,ie.edgeGreen=(ee&12)>>2,ie.edgeBlue=ee&3,me},gt.prototype.setPenLocation=function(me,B){var te=this.current708Packet.data,ee=te[me],ie=B.currentWindow.penLoc;return B.currentWindow.pendingNewLine=!0,ee=te[++me],ie.row=ee&15,ee=te[++me],ie.column=ee&63,me},gt.prototype.reset=function(me,B){var te=this.getPts(me);return this.flushDisplayed(te,B),this.initService(B.serviceNum,me)};var zt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Wt=function(B){return B===null?"":(B=zt[B]||B,String.fromCharCode(B))},Xt=14,Bn=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Vt=function(){for(var B=[],te=Xt+1;te--;)B.push("");return B},St=function me(B,te){me.prototype.init.call(this),this.field_=B||0,this.dataChannel_=te||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(ee){var ie,oe,fe,Ae,Me;if(ie=ee.ccData&32639,ie===this.lastControlCode_){this.lastControlCode_=null;return}if((ie&61440)===4096?this.lastControlCode_=ie:ie!==this.PADDING_&&(this.lastControlCode_=null),fe=ie>>>8,Ae=ie&255,ie!==this.PADDING_)if(ie===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(ie===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(ee.pts),this.flushDisplayed(ee.pts),oe=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=oe,this.startPts_=ee.pts;else if(ie===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(ee.pts);else if(ie===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(ee.pts);else if(ie===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(ee.pts);else if(ie===this.CARRIAGE_RETURN_)this.clearFormatting(ee.pts),this.flushDisplayed(ee.pts),this.shiftRowsUp_(),this.startPts_=ee.pts;else if(ie===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(ie===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(ee.pts),this.displayed_=Vt();else if(ie===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Vt();else if(ie===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(ee.pts),this.displayed_=Vt()),this.mode_="paintOn",this.startPts_=ee.pts;else if(this.isSpecialCharacter(fe,Ae))fe=(fe&3)<<8,Me=Wt(fe|Ae),this[this.mode_](ee.pts,Me),this.column_++;else if(this.isExtCharacter(fe,Ae))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),fe=(fe&3)<<8,Me=Wt(fe|Ae),this[this.mode_](ee.pts,Me),this.column_++;else if(this.isMidRowCode(fe,Ae))this.clearFormatting(ee.pts),this[this.mode_](ee.pts," "),this.column_++,(Ae&14)===14&&this.addFormatting(ee.pts,["i"]),(Ae&1)===1&&this.addFormatting(ee.pts,["u"]);else if(this.isOffsetControlCode(fe,Ae))this.column_+=Ae&3;else if(this.isPAC(fe,Ae)){var Ve=Bn.indexOf(ie&7968);this.mode_==="rollUp"&&(Ve-this.rollUpRows_+1<0&&(Ve=this.rollUpRows_-1),this.setRollUp(ee.pts,Ve)),Ve!==this.row_&&(this.clearFormatting(ee.pts),this.row_=Ve),Ae&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(ee.pts,["u"]),(ie&16)===16&&(this.column_=((ie&14)>>1)*4),this.isColorPAC(Ae)&&(Ae&14)===14&&this.addFormatting(ee.pts,["i"])}else this.isNormalChar(fe)&&(Ae===0&&(Ae=null),Me=Wt(fe),Me+=Wt(Ae),this[this.mode_](ee.pts,Me),this.column_+=Me.length)}};St.prototype=new e,St.prototype.flushDisplayed=function(me){var B=this.displayed_.map(function(te,ee){try{return te.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+ee+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");B.length&&this.trigger("data",{startPts:this.startPts_,endPts:me,text:B,stream:this.name_})},St.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Vt(),this.nonDisplayed_=Vt(),this.lastControlCode_=null,this.column_=0,this.row_=Xt,this.rollUpRows_=2,this.formatting_=[]},St.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},St.prototype.isSpecialCharacter=function(me,B){return me===this.EXT_&&B>=48&&B<=63},St.prototype.isExtCharacter=function(me,B){return(me===this.EXT_+1||me===this.EXT_+2)&&B>=32&&B<=63},St.prototype.isMidRowCode=function(me,B){return me===this.EXT_&&B>=32&&B<=47},St.prototype.isOffsetControlCode=function(me,B){return me===this.OFFSET_&&B>=33&&B<=35},St.prototype.isPAC=function(me,B){return me>=this.BASE_&&me<this.BASE_+8&&B>=64&&B<=127},St.prototype.isColorPAC=function(me){return me>=64&&me<=79||me>=96&&me<=127},St.prototype.isNormalChar=function(me){return me>=32&&me<=127},St.prototype.setRollUp=function(me,B){if(this.mode_!=="rollUp"&&(this.row_=Xt,this.mode_="rollUp",this.flushDisplayed(me),this.nonDisplayed_=Vt(),this.displayed_=Vt()),B!==void 0&&B!==this.row_)for(var te=0;te<this.rollUpRows_;te++)this.displayed_[B-te]=this.displayed_[this.row_-te],this.displayed_[this.row_-te]="";B===void 0&&(B=this.row_),this.topRow_=B-this.rollUpRows_+1},St.prototype.addFormatting=function(me,B){this.formatting_=this.formatting_.concat(B);var te=B.reduce(function(ee,ie){return ee+"<"+ie+">"},"");this[this.mode_](me,te)},St.prototype.clearFormatting=function(me){if(this.formatting_.length){var B=this.formatting_.reverse().reduce(function(te,ee){return te+"</"+ee+">"},"");this.formatting_=[],this[this.mode_](me,B)}},St.prototype.popOn=function(me,B){var te=this.nonDisplayed_[this.row_];te+=B,this.nonDisplayed_[this.row_]=te},St.prototype.rollUp=function(me,B){var te=this.displayed_[this.row_];te+=B,this.displayed_[this.row_]=te},St.prototype.shiftRowsUp_=function(){var me;for(me=0;me<this.topRow_;me++)this.displayed_[me]="";for(me=this.row_+1;me<Xt+1;me++)this.displayed_[me]="";for(me=this.topRow_;me<this.row_;me++)this.displayed_[me]=this.displayed_[me+1];this.displayed_[this.row_]=""},St.prototype.paintOn=function(me,B){var te=this.displayed_[this.row_];te+=B,this.displayed_[this.row_]=te};var yn={CaptionStream:Ot,Cea608Stream:St,Cea708Stream:gt},Pt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Nr=8589934592,Or=4294967296,Kn="shared",Fn=function(B,te){var ee=1;for(B>te&&(ee=-1);Math.abs(te-B)>Or;)B+=ee*Nr;return B},Xn=function me(B){var te,ee;me.prototype.init.call(this),this.type_=B||Kn,this.push=function(ie){this.type_!==Kn&&ie.type!==this.type_||(ee===void 0&&(ee=ie.dts),ie.dts=Fn(ie.dts,ee),ie.pts=Fn(ie.pts,ee),te=ie.dts,this.trigger("data",ie))},this.flush=function(){ee=te,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){ee=void 0,te=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Xn.prototype=new e;var Jn={TimestampRolloverStream:Xn,handleRollover:Fn},Zn=function(B,te,ee){var ie,oe="";for(ie=te;ie<ee;ie++)oe+="%"+("00"+B[ie].toString(16)).slice(-2);return oe},bn=function(B,te,ee){return decodeURIComponent(Zn(B,te,ee))},Dr=function(B,te,ee){return unescape(Zn(B,te,ee))},Tn=function(B){return B[0]<<21|B[1]<<14|B[2]<<7|B[3]},er={TXXX:function(B){var te;if(B.data[0]===3){for(te=1;te<B.data.length;te++)if(B.data[te]===0){B.description=bn(B.data,1,te),B.value=bn(B.data,te+1,B.data.length).replace(/\0*$/,"");break}B.data=B.value}},WXXX:function(B){var te;if(B.data[0]===3){for(te=1;te<B.data.length;te++)if(B.data[te]===0){B.description=bn(B.data,1,te),B.url=bn(B.data,te+1,B.data.length);break}}},PRIV:function(B){var te;for(te=0;te<B.data.length;te++)if(B.data[te]===0){B.owner=Dr(B.data,0,te);break}B.privateData=B.data.subarray(te+1),B.data=B.privateData}},En;En=function(B){var te={descriptor:B&&B.descriptor},ee=0,ie=[],oe=0,fe;if(En.prototype.init.call(this),this.dispatchType=Pt.METADATA_STREAM_TYPE.toString(16),te.descriptor)for(fe=0;fe<te.descriptor.length;fe++)this.dispatchType+=("00"+te.descriptor[fe].toString(16)).slice(-2);this.push=function(Ae){var Me,Ve,Le,Qe,tt,st;if(Ae.type==="timed-metadata"){if(Ae.dataAlignmentIndicator&&(oe=0,ie.length=0),ie.length===0&&(Ae.data.length<10||Ae.data[0]!=="I".charCodeAt(0)||Ae.data[1]!=="D".charCodeAt(0)||Ae.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(ie.push(Ae),oe+=Ae.data.byteLength,ie.length===1&&(ee=Tn(Ae.data.subarray(6,10)),ee+=10),!(oe<ee)){for(Me={data:new Uint8Array(ee),frames:[],pts:ie[0].pts,dts:ie[0].dts},tt=0;tt<ee;)Me.data.set(ie[0].data.subarray(0,ee-tt),tt),tt+=ie[0].data.byteLength,oe-=ie[0].data.byteLength,ie.shift();Ve=10,Me.data[5]&64&&(Ve+=4,Ve+=Tn(Me.data.subarray(10,14)),ee-=Tn(Me.data.subarray(16,20)));do{if(Le=Tn(Me.data.subarray(Ve+4,Ve+8)),Le<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(st=String.fromCharCode(Me.data[Ve],Me.data[Ve+1],Me.data[Ve+2],Me.data[Ve+3]),Qe={id:st,data:Me.data.subarray(Ve+10,Ve+Le+10)},Qe.key=Qe.id,er[Qe.id]&&(er[Qe.id](Qe),Qe.owner==="com.apple.streaming.transportStreamTimestamp")){var ut=Qe.data,at=(ut[3]&1)<<30|ut[4]<<22|ut[5]<<14|ut[6]<<6|ut[7]>>>2;at*=4,at+=ut[7]&3,Qe.timeStamp=at,Me.pts===void 0&&Me.dts===void 0&&(Me.pts=Qe.timeStamp,Me.dts=Qe.timeStamp),this.trigger("timestamp",Qe)}Me.frames.push(Qe),Ve+=10,Ve+=Le}while(Ve<ee);this.trigger("data",Me)}}}},En.prototype=new e;var Pr=En,Rr=Jn.TimestampRolloverStream,Sn,dn,An,sn=188,Un=71;Sn=function(){var B=new Uint8Array(sn),te=0;Sn.prototype.init.call(this),this.push=function(ee){var ie=0,oe=sn,fe;for(te?(fe=new Uint8Array(ee.byteLength+te),fe.set(B.subarray(0,te)),fe.set(ee,te),te=0):fe=ee;oe<fe.byteLength;){if(fe[ie]===Un&&fe[oe]===Un){this.trigger("data",fe.subarray(ie,oe)),ie+=sn,oe+=sn;continue}ie++,oe++}ie<fe.byteLength&&(B.set(fe.subarray(ie),0),te=fe.byteLength-ie)},this.flush=function(){te===sn&&B[0]===Un&&(this.trigger("data",B),te=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){te=0,this.trigger("reset")}},Sn.prototype=new e,dn=function(){var B,te,ee,ie;dn.prototype.init.call(this),ie=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,B=function(fe,Ae){var Me=0;Ae.payloadUnitStartIndicator&&(Me+=fe[Me]+1),Ae.type==="pat"?te(fe.subarray(Me),Ae):ee(fe.subarray(Me),Ae)},te=function(fe,Ae){Ae.section_number=fe[7],Ae.last_section_number=fe[8],ie.pmtPid=(fe[10]&31)<<8|fe[11],Ae.pmtPid=ie.pmtPid},ee=function(fe,Ae){var Me,Ve,Le,Qe;if(fe[5]&1){for(ie.programMapTable={video:null,audio:null,"timed-metadata":{}},Me=(fe[1]&15)<<8|fe[2],Ve=3+Me-4,Le=(fe[10]&15)<<8|fe[11],Qe=12+Le;Qe<Ve;){var tt=fe[Qe],st=(fe[Qe+1]&31)<<8|fe[Qe+2];tt===Pt.H264_STREAM_TYPE&&ie.programMapTable.video===null?ie.programMapTable.video=st:tt===Pt.ADTS_STREAM_TYPE&&ie.programMapTable.audio===null?ie.programMapTable.audio=st:tt===Pt.METADATA_STREAM_TYPE&&(ie.programMapTable["timed-metadata"][st]=tt),Qe+=((fe[Qe+3]&15)<<8|fe[Qe+4])+5}Ae.programMapTable=ie.programMapTable}},this.push=function(oe){var fe={},Ae=4;if(fe.payloadUnitStartIndicator=!!(oe[1]&64),fe.pid=oe[1]&31,fe.pid<<=8,fe.pid|=oe[2],(oe[3]&48)>>>4>1&&(Ae+=oe[Ae]+1),fe.pid===0)fe.type="pat",B(oe.subarray(Ae),fe),this.trigger("data",fe);else if(fe.pid===this.pmtPid)for(fe.type="pmt",B(oe.subarray(Ae),fe),this.trigger("data",fe);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([oe,Ae,fe]):this.processPes_(oe,Ae,fe)},this.processPes_=function(oe,fe,Ae){Ae.pid===this.programMapTable.video?Ae.streamType=Pt.H264_STREAM_TYPE:Ae.pid===this.programMapTable.audio?Ae.streamType=Pt.ADTS_STREAM_TYPE:Ae.streamType=this.programMapTable["timed-metadata"][Ae.pid],Ae.type="pes",Ae.data=oe.subarray(fe),this.trigger("data",Ae)}},dn.prototype=new e,dn.STREAM_TYPES={h264:27,adts:15},An=function(){var B=this,te=!1,ee={data:[],size:0},ie={data:[],size:0},oe={data:[],size:0},fe,Ae=function(Le,Qe){var tt,st=Le[0]<<16|Le[1]<<8|Le[2];Qe.data=new Uint8Array,st===1&&(Qe.packetLength=6+(Le[4]<<8|Le[5]),Qe.dataAlignmentIndicator=(Le[6]&4)!==0,tt=Le[7],tt&192&&(Qe.pts=(Le[9]&14)<<27|(Le[10]&255)<<20|(Le[11]&254)<<12|(Le[12]&255)<<5|(Le[13]&254)>>>3,Qe.pts*=4,Qe.pts+=(Le[13]&6)>>>1,Qe.dts=Qe.pts,tt&64&&(Qe.dts=(Le[14]&14)<<27|(Le[15]&255)<<20|(Le[16]&254)<<12|(Le[17]&255)<<5|(Le[18]&254)>>>3,Qe.dts*=4,Qe.dts+=(Le[18]&6)>>>1)),Qe.data=Le.subarray(9+Le[8]))},Me=function(Le,Qe,tt){var st=new Uint8Array(Le.size),ut={type:Qe},at=0,dt=0,Mt=!1,Lt;if(!(!Le.data.length||Le.size<9)){for(ut.trackId=Le.data[0].pid,at=0;at<Le.data.length;at++)Lt=Le.data[at],st.set(Lt.data,dt),dt+=Lt.data.byteLength;Ae(st,ut),Mt=Qe==="video"||ut.packetLength<=Le.size,(tt||Mt)&&(Le.size=0,Le.data.length=0),Mt&&B.trigger("data",ut)}};An.prototype.init.call(this),this.push=function(Ve){({pat:function(){},pes:function(){var Qe,tt;switch(Ve.streamType){case Pt.H264_STREAM_TYPE:Qe=ee,tt="video";break;case Pt.ADTS_STREAM_TYPE:Qe=ie,tt="audio";break;case Pt.METADATA_STREAM_TYPE:Qe=oe,tt="timed-metadata";break;default:return}Ve.payloadUnitStartIndicator&&Me(Qe,tt,!0),Qe.data.push(Ve),Qe.size+=Ve.data.byteLength},pmt:function(){var Qe={type:"metadata",tracks:[]};fe=Ve.programMapTable,fe.video!==null&&Qe.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+fe.video,codec:"avc",type:"video"}),fe.audio!==null&&Qe.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+fe.audio,codec:"adts",type:"audio"}),te=!0,B.trigger("data",Qe)}})[Ve.type]()},this.reset=function(){ee.size=0,ee.data.length=0,ie.size=0,ie.data.length=0,this.trigger("reset")},this.flushStreams_=function(){Me(ee,"video"),Me(ie,"audio"),Me(oe,"timed-metadata")},this.flush=function(){if(!te&&fe){var Ve={type:"metadata",tracks:[]};fe.video!==null&&Ve.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+fe.video,codec:"avc",type:"video"}),fe.audio!==null&&Ve.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+fe.audio,codec:"adts",type:"audio"}),B.trigger("data",Ve)}te=!1,this.flushStreams_(),this.trigger("done")}},An.prototype=new e;var tr={PAT_PID:0,MP2T_PACKET_LENGTH:sn,TransportPacketStream:Sn,TransportParseStream:dn,ElementaryStream:An,TimestampRolloverStream:Rr,CaptionStream:yn.CaptionStream,Cea608Stream:yn.Cea608Stream,Cea708Stream:yn.Cea708Stream,MetadataStream:Pr};for(var $n in Pt)Pt.hasOwnProperty($n)&&(tr[$n]=Pt[$n]);var Gt=tr,Lr=ct.ONE_SECOND_IN_TS,wn,nr=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];wn=function(B){var te,ee=0;wn.prototype.init.call(this),this.skipWarn_=function(ie,oe){this.trigger("log",{level:"warn",message:"adts skiping bytes "+ie+" to "+oe+" in frame "+ee+" outside syncword"})},this.push=function(ie){var oe=0,fe,Ae,Me,Ve,Le;if(B||(ee=0),ie.type==="audio"){te&&te.length?(Me=te,te=new Uint8Array(Me.byteLength+ie.data.byteLength),te.set(Me),te.set(ie.data,Me.byteLength)):te=ie.data;for(var Qe;oe+7<te.length;){if(te[oe]!==255||(te[oe+1]&246)!==240){typeof Qe!="number"&&(Qe=oe),oe++;continue}if(typeof Qe=="number"&&(this.skipWarn_(Qe,oe),Qe=null),Ae=(~te[oe+1]&1)*2,fe=(te[oe+3]&3)<<11|te[oe+4]<<3|(te[oe+5]&224)>>5,Ve=((te[oe+6]&3)+1)*1024,Le=Ve*Lr/nr[(te[oe+2]&60)>>>2],te.byteLength-oe<fe)break;this.trigger("data",{pts:ie.pts+ee*Le,dts:ie.dts+ee*Le,sampleCount:Ve,audioobjecttype:(te[oe+2]>>>6&3)+1,channelcount:(te[oe+2]&1)<<2|(te[oe+3]&192)>>>6,samplerate:nr[(te[oe+2]&60)>>>2],samplingfrequencyindex:(te[oe+2]&60)>>>2,samplesize:16,data:te.subarray(oe+7+Ae,oe+fe)}),ee++,oe+=fe}typeof Qe=="number"&&(this.skipWarn_(Qe,oe),Qe=null),te=te.subarray(oe)}},this.flush=function(){ee=0,this.trigger("done")},this.reset=function(){te=void 0,this.trigger("reset")},this.endTimeline=function(){te=void 0,this.trigger("endedtimeline")}},wn.prototype=new e;var rr=wn,ir;ir=function(B){var te=B.byteLength,ee=0,ie=0;this.length=function(){return 8*te},this.bitsAvailable=function(){return 8*te+ie},this.loadWord=function(){var oe=B.byteLength-te,fe=new Uint8Array(4),Ae=Math.min(4,te);if(Ae===0)throw new Error("no bytes available");fe.set(B.subarray(oe,oe+Ae)),ee=new DataView(fe.buffer).getUint32(0),ie=Ae*8,te-=Ae},this.skipBits=function(oe){var fe;ie>oe?(ee<<=oe,ie-=oe):(oe-=ie,fe=Math.floor(oe/8),oe-=fe*8,te-=fe,this.loadWord(),ee<<=oe,ie-=oe)},this.readBits=function(oe){var fe=Math.min(ie,oe),Ae=ee>>>32-fe;return ie-=fe,ie>0?ee<<=fe:te>0&&this.loadWord(),fe=oe-fe,fe>0?Ae<<fe|this.readBits(fe):Ae},this.skipLeadingZeros=function(){var oe;for(oe=0;oe<ie;++oe)if(ee&2147483648>>>oe)return ee<<=oe,ie-=oe,oe;return this.loadWord(),oe+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var oe=this.skipLeadingZeros();return this.readBits(oe+1)-1},this.readExpGolomb=function(){var oe=this.readUnsignedExpGolomb();return 1&oe?1+oe>>>1:-1*(oe>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Br=ir,Cn,hn,ar;hn=function(){var B=0,te,ee;hn.prototype.init.call(this),this.push=function(ie){var oe;ee?(oe=new Uint8Array(ee.byteLength+ie.data.byteLength),oe.set(ee),oe.set(ie.data,ee.byteLength),ee=oe):ee=ie.data;for(var fe=ee.byteLength;B<fe-3;B++)if(ee[B+2]===1){te=B+5;break}for(;te<fe;)switch(ee[te]){case 0:if(ee[te-1]!==0){te+=2;break}else if(ee[te-2]!==0){te++;break}B+3!==te-2&&this.trigger("data",ee.subarray(B+3,te-2));do te++;while(ee[te]!==1&&te<fe);B=te-2,te+=3;break;case 1:if(ee[te-1]!==0||ee[te-2]!==0){te+=3;break}this.trigger("data",ee.subarray(B+3,te-2)),B=te-2,te+=3;break;default:te+=3;break}ee=ee.subarray(B),te-=B,B=0},this.reset=function(){ee=null,B=0,this.trigger("reset")},this.flush=function(){ee&&ee.byteLength>3&&this.trigger("data",ee.subarray(B+3)),ee=null,B=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},hn.prototype=new e,ar={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Cn=function(){var B=new hn,te,ee,ie,oe,fe,Ae,Me;Cn.prototype.init.call(this),te=this,this.push=function(Ve){Ve.type==="video"&&(ee=Ve.trackId,ie=Ve.pts,oe=Ve.dts,B.push(Ve))},B.on("data",function(Ve){var Le={trackId:ee,pts:ie,dts:oe,data:Ve,nalUnitTypeCode:Ve[0]&31};switch(Le.nalUnitTypeCode){case 5:Le.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:Le.nalUnitType="sei_rbsp",Le.escapedRBSP=fe(Ve.subarray(1));break;case 7:Le.nalUnitType="seq_parameter_set_rbsp",Le.escapedRBSP=fe(Ve.subarray(1)),Le.config=Ae(Le.escapedRBSP);break;case 8:Le.nalUnitType="pic_parameter_set_rbsp";break;case 9:Le.nalUnitType="access_unit_delimiter_rbsp";break}te.trigger("data",Le)}),B.on("done",function(){te.trigger("done")}),B.on("partialdone",function(){te.trigger("partialdone")}),B.on("reset",function(){te.trigger("reset")}),B.on("endedtimeline",function(){te.trigger("endedtimeline")}),this.flush=function(){B.flush()},this.partialFlush=function(){B.partialFlush()},this.reset=function(){B.reset()},this.endTimeline=function(){B.endTimeline()},Me=function(Le,Qe){var tt=8,st=8,ut,at;for(ut=0;ut<Le;ut++)st!==0&&(at=Qe.readExpGolomb(),st=(tt+at+256)%256),tt=st===0?tt:st},fe=function(Le){for(var Qe=Le.byteLength,tt=[],st=1,ut,at;st<Qe-2;)Le[st]===0&&Le[st+1]===0&&Le[st+2]===3?(tt.push(st+2),st+=2):st++;if(tt.length===0)return Le;ut=Qe-tt.length,at=new Uint8Array(ut);var dt=0;for(st=0;st<ut;dt++,st++)dt===tt[0]&&(dt++,tt.shift()),at[st]=Le[dt];return at},Ae=function(Le){var Qe=0,tt=0,st=0,ut=0,at,dt,Mt,Lt,tn,qn,Ar,wr,Cr,Wn,xr,Ct=[1,1],Ir,nn;if(at=new Br(Le),dt=at.readUnsignedByte(),Lt=at.readUnsignedByte(),Mt=at.readUnsignedByte(),at.skipUnsignedExpGolomb(),ar[dt]&&(tn=at.readUnsignedExpGolomb(),tn===3&&at.skipBits(1),at.skipUnsignedExpGolomb(),at.skipUnsignedExpGolomb(),at.skipBits(1),at.readBoolean()))for(xr=tn!==3?8:12,nn=0;nn<xr;nn++)at.readBoolean()&&(nn<6?Me(16,at):Me(64,at));if(at.skipUnsignedExpGolomb(),qn=at.readUnsignedExpGolomb(),qn===0)at.readUnsignedExpGolomb();else if(qn===1)for(at.skipBits(1),at.skipExpGolomb(),at.skipExpGolomb(),Ar=at.readUnsignedExpGolomb(),nn=0;nn<Ar;nn++)at.skipExpGolomb();if(at.skipUnsignedExpGolomb(),at.skipBits(1),wr=at.readUnsignedExpGolomb(),Cr=at.readUnsignedExpGolomb(),Wn=at.readBits(1),Wn===0&&at.skipBits(1),at.skipBits(1),at.readBoolean()&&(Qe=at.readUnsignedExpGolomb(),tt=at.readUnsignedExpGolomb(),st=at.readUnsignedExpGolomb(),ut=at.readUnsignedExpGolomb()),at.readBoolean()&&at.readBoolean()){switch(Ir=at.readUnsignedByte(),Ir){case 1:Ct=[1,1];break;case 2:Ct=[12,11];break;case 3:Ct=[10,11];break;case 4:Ct=[16,11];break;case 5:Ct=[40,33];break;case 6:Ct=[24,11];break;case 7:Ct=[20,11];break;case 8:Ct=[32,11];break;case 9:Ct=[80,33];break;case 10:Ct=[18,11];break;case 11:Ct=[15,11];break;case 12:Ct=[64,33];break;case 13:Ct=[160,99];break;case 14:Ct=[4,3];break;case 15:Ct=[3,2];break;case 16:Ct=[2,1];break;case 255:{Ct=[at.readUnsignedByte()<<8|at.readUnsignedByte(),at.readUnsignedByte()<<8|at.readUnsignedByte()];break}}Ct&&Ct[0]/Ct[1]}return{profileIdc:dt,levelIdc:Mt,profileCompatibility:Lt,width:(wr+1)*16-Qe*2-tt*2,height:(2-Wn)*(Cr+1)*16-st*2-ut*2,sarRatio:Ct}}},Cn.prototype=new e;var Fr={H264Stream:Cn,NalByteStream:hn},Ur=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],sr=function(B,te){var ee=B[te+6]<<21|B[te+7]<<14|B[te+8]<<7|B[te+9],ie=B[te+5],oe=(ie&16)>>4;return ee=ee>=0?ee:0,oe?ee+20:ee+10},$r=function me(B,te){return B.length-te<10||B[te]!=="I".charCodeAt(0)||B[te+1]!=="D".charCodeAt(0)||B[te+2]!=="3".charCodeAt(0)?te:(te+=sr(B,te),me(B,te))},jr=function(B){var te=$r(B,0);return B.length>=te+2&&(B[te]&255)===255&&(B[te+1]&240)===240&&(B[te+1]&22)===16},or=function(B){return B[0]<<21|B[1]<<14|B[2]<<7|B[3]},Hr=function(B,te,ee){var ie,oe="";for(ie=te;ie<ee;ie++)oe+="%"+("00"+B[ie].toString(16)).slice(-2);return oe},zr=function(B,te,ee){return unescape(Hr(B,te,ee))},Vr=function(B,te){var ee=(B[te+5]&224)>>5,ie=B[te+4]<<3,oe=B[te+3]&3<<11;return oe|ie|ee},Gr=function(B,te){return B[te]==="I".charCodeAt(0)&&B[te+1]==="D".charCodeAt(0)&&B[te+2]==="3".charCodeAt(0)?"timed-metadata":B[te]&!0&&(B[te+1]&240)===240?"audio":null},qr=function(B){for(var te=0;te+5<B.length;){if(B[te]!==255||(B[te+1]&246)!==240){te++;continue}return Ur[(B[te+2]&60)>>>2]}return null},Wr=function(B){var te,ee,ie,oe;te=10,B[5]&64&&(te+=4,te+=or(B.subarray(10,14)));do{if(ee=or(B.subarray(te+4,te+8)),ee<1)return null;if(oe=String.fromCharCode(B[te],B[te+1],B[te+2],B[te+3]),oe==="PRIV"){ie=B.subarray(te+10,te+ee+10);for(var fe=0;fe<ie.byteLength;fe++)if(ie[fe]===0){var Ae=zr(ie,0,fe);if(Ae==="com.apple.streaming.transportStreamTimestamp"){var Me=ie.subarray(fe+1),Ve=(Me[3]&1)<<30|Me[4]<<22|Me[5]<<14|Me[6]<<6|Me[7]>>>2;return Ve*=4,Ve+=Me[7]&3,Ve}break}}te+=10,te+=ee}while(te<B.byteLength);return null},xn={isLikelyAacData:jr,parseId3TagSize:sr,parseAdtsSize:Vr,parseType:Gr,parseSampleRate:qr,parseAacTimestamp:Wr},In;In=function(){var B=new Uint8Array,te=0;In.prototype.init.call(this),this.setTimestamp=function(ee){te=ee},this.push=function(ee){var ie=0,oe=0,fe,Ae,Me,Ve;for(B.length?(Ve=B.length,B=new Uint8Array(ee.byteLength+Ve),B.set(B.subarray(0,Ve)),B.set(ee,Ve)):B=ee;B.length-oe>=3;){if(B[oe]==="I".charCodeAt(0)&&B[oe+1]==="D".charCodeAt(0)&&B[oe+2]==="3".charCodeAt(0)){if(B.length-oe<10||(ie=xn.parseId3TagSize(B,oe),oe+ie>B.length))break;Ae={type:"timed-metadata",data:B.subarray(oe,oe+ie)},this.trigger("data",Ae),oe+=ie;continue}else if((B[oe]&255)===255&&(B[oe+1]&240)===240){if(B.length-oe<7||(ie=xn.parseAdtsSize(B,oe),oe+ie>B.length))break;Me={type:"audio",data:B.subarray(oe,oe+ie),pts:te,dts:te},this.trigger("data",Me),oe+=ie;continue}oe++}fe=B.length-oe,fe>0?B=B.subarray(oe):B=new Uint8Array},this.reset=function(){B=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){B=new Uint8Array,this.trigger("endedtimeline")}},In.prototype=new e;var Qr=In,Yr=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],jn=Yr,Kr=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Hn=Kr,Xr=Fr.H264Stream,Jr=xn.isLikelyAacData,Zr=ct.ONE_SECOND_IN_TS,pn,un,Mn,Jt,ei=function(B,te){te.stream=B,this.trigger("log",te)},ur=function(B,te){for(var ee=Object.keys(te),ie=0;ie<ee.length;ie++){var oe=ee[ie];oe==="headOfPipeline"||!te[oe].on||te[oe].on("log",ei.bind(B,oe))}},lr=function(B,te){var ee;if(B.length!==te.length)return!1;for(ee=0;ee<B.length;ee++)if(B[ee]!==te[ee])return!1;return!0},zn=function(B,te,ee,ie,oe,fe){var Ae=ee-te,Me=ie-te,Ve=oe-ee;return{start:{dts:B,pts:B+Ae},end:{dts:B+Me,pts:B+Ve},prependedContentDuration:fe,baseMediaDecodeTime:B}};un=function(B,te){var ee=[],ie,oe=0,fe=0,Ae=1/0;te=te||{},ie=te.firstSequenceNumber||0,un.prototype.init.call(this),this.push=function(Me){wt.collectDtsInfo(B,Me),B&&jn.forEach(function(Ve){B[Ve]=Me[Ve]}),ee.push(Me)},this.setEarliestDts=function(Me){oe=Me},this.setVideoBaseMediaDecodeTime=function(Me){Ae=Me},this.setAudioAppendStart=function(Me){fe=Me},this.flush=function(){var Me,Ve,Le,Qe,tt,st,ut;if(ee.length===0){this.trigger("done","AudioSegmentStream");return}Me=Tt.trimAdtsFramesByEarliestDts(ee,B,oe),B.baseMediaDecodeTime=wt.calculateTrackBaseMediaDecodeTime(B,te.keepOriginalTimestamps),ut=Tt.prefixWithSilence(B,Me,fe,Ae),B.samples=Tt.generateSampleTable(Me),Le=Xe.mdat(Tt.concatenateFrameData(Me)),ee=[],Ve=Xe.moof(ie,[B]),Qe=new Uint8Array(Ve.byteLength+Le.byteLength),ie++,Qe.set(Ve),Qe.set(Le,Ve.byteLength),wt.clearDtsInfo(B),tt=Math.ceil(Zr*1024/B.samplerate),Me.length&&(st=Me.length*tt,this.trigger("segmentTimingInfo",zn(ct.audioTsToVideoTs(B.baseMediaDecodeTime,B.samplerate),Me[0].dts,Me[0].pts,Me[0].dts+st,Me[0].pts+st,ut||0)),this.trigger("timingInfo",{start:Me[0].pts,end:Me[0].pts+st})),this.trigger("data",{track:B,boxes:Qe}),this.trigger("done","AudioSegmentStream")},this.reset=function(){wt.clearDtsInfo(B),ee=[],this.trigger("reset")}},un.prototype=new e,pn=function(B,te){var ee,ie=[],oe=[],fe,Ae;te=te||{},ee=te.firstSequenceNumber||0,pn.prototype.init.call(this),delete B.minPTS,this.gopCache_=[],this.push=function(Me){wt.collectDtsInfo(B,Me),Me.nalUnitType==="seq_parameter_set_rbsp"&&!fe&&(fe=Me.config,B.sps=[Me.data],Hn.forEach(function(Ve){B[Ve]=fe[Ve]},this)),Me.nalUnitType==="pic_parameter_set_rbsp"&&!Ae&&(Ae=Me.data,B.pps=[Me.data]),ie.push(Me)},this.flush=function(){for(var Me,Ve,Le,Qe,tt,st,ut=0,at,dt;ie.length&&ie[0].nalUnitType!=="access_unit_delimiter_rbsp";)ie.shift();if(ie.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(Me=Be.groupNalsIntoFrames(ie),Le=Be.groupFramesIntoGops(Me),Le[0][0].keyFrame||(Ve=this.getGopForFusion_(ie[0],B),Ve?(ut=Ve.duration,Le.unshift(Ve),Le.byteLength+=Ve.byteLength,Le.nalCount+=Ve.nalCount,Le.pts=Ve.pts,Le.dts=Ve.dts,Le.duration+=Ve.duration):Le=Be.extendFirstKeyFrame(Le)),oe.length){var Mt;if(te.alignGopsAtEnd?Mt=this.alignGopsAtEnd_(Le):Mt=this.alignGopsAtStart_(Le),!Mt){this.gopCache_.unshift({gop:Le.pop(),pps:B.pps,sps:B.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),ie=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}wt.clearDtsInfo(B),Le=Mt}wt.collectDtsInfo(B,Le),B.samples=Be.generateSampleTable(Le),tt=Xe.mdat(Be.concatenateNalData(Le)),B.baseMediaDecodeTime=wt.calculateTrackBaseMediaDecodeTime(B,te.keepOriginalTimestamps),this.trigger("processedGopsInfo",Le.map(function(Lt){return{pts:Lt.pts,dts:Lt.dts,byteLength:Lt.byteLength}})),at=Le[0],dt=Le[Le.length-1],this.trigger("segmentTimingInfo",zn(B.baseMediaDecodeTime,at.dts,at.pts,dt.dts+dt.duration,dt.pts+dt.duration,ut)),this.trigger("timingInfo",{start:Le[0].pts,end:Le[Le.length-1].pts+Le[Le.length-1].duration}),this.gopCache_.unshift({gop:Le.pop(),pps:B.pps,sps:B.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),ie=[],this.trigger("baseMediaDecodeTime",B.baseMediaDecodeTime),this.trigger("timelineStartInfo",B.timelineStartInfo),Qe=Xe.moof(ee,[B]),st=new Uint8Array(Qe.byteLength+tt.byteLength),ee++,st.set(Qe),st.set(tt,Qe.byteLength),this.trigger("data",{track:B,boxes:st}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),ie=[],this.gopCache_.length=0,oe.length=0,this.trigger("reset")},this.resetStream_=function(){wt.clearDtsInfo(B),fe=void 0,Ae=void 0},this.getGopForFusion_=function(Me){var Ve=45e3,Le=1e4,Qe=1/0,tt,st,ut,at,dt;for(dt=0;dt<this.gopCache_.length;dt++)at=this.gopCache_[dt],ut=at.gop,!(!(B.pps&&lr(B.pps[0],at.pps[0]))||!(B.sps&&lr(B.sps[0],at.sps[0])))&&(ut.dts<B.timelineStartInfo.dts||(tt=Me.dts-ut.dts-ut.duration,tt>=-Le&&tt<=Ve&&(!st||Qe>tt)&&(st=at,Qe=tt)));return st?st.gop:null},this.alignGopsAtStart_=function(Me){var Ve,Le,Qe,tt,st,ut,at,dt;for(st=Me.byteLength,ut=Me.nalCount,at=Me.duration,Ve=Le=0;Ve<oe.length&&Le<Me.length&&(Qe=oe[Ve],tt=Me[Le],Qe.pts!==tt.pts);){if(tt.pts>Qe.pts){Ve++;continue}Le++,st-=tt.byteLength,ut-=tt.nalCount,at-=tt.duration}return Le===0?Me:Le===Me.length?null:(dt=Me.slice(Le),dt.byteLength=st,dt.duration=at,dt.nalCount=ut,dt.pts=dt[0].pts,dt.dts=dt[0].dts,dt)},this.alignGopsAtEnd_=function(Me){var Ve,Le,Qe,tt,st,ut;for(Ve=oe.length-1,Le=Me.length-1,st=null,ut=!1;Ve>=0&&Le>=0;){if(Qe=oe[Ve],tt=Me[Le],Qe.pts===tt.pts){ut=!0;break}if(Qe.pts>tt.pts){Ve--;continue}Ve===oe.length-1&&(st=Le),Le--}if(!ut&&st===null)return null;var at;if(ut?at=Le:at=st,at===0)return Me;var dt=Me.slice(at),Mt=dt.reduce(function(Lt,tn){return Lt.byteLength+=tn.byteLength,Lt.duration+=tn.duration,Lt.nalCount+=tn.nalCount,Lt},{byteLength:0,duration:0,nalCount:0});return dt.byteLength=Mt.byteLength,dt.duration=Mt.duration,dt.nalCount=Mt.nalCount,dt.pts=dt[0].pts,dt.dts=dt[0].dts,dt},this.alignGopsWith=function(Me){oe=Me}},pn.prototype=new e,Jt=function(B,te){this.numberOfTracks=0,this.metadataStream=te,B=B||{},typeof B.remux<"u"?this.remuxTracks=!!B.remux:this.remuxTracks=!0,typeof B.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=B.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Jt.prototype.init.call(this),this.push=function(ee){if(ee.text)return this.pendingCaptions.push(ee);if(ee.frames)return this.pendingMetadata.push(ee);this.pendingTracks.push(ee.track),this.pendingBytes+=ee.boxes.byteLength,ee.track.type==="video"&&(this.videoTrack=ee.track,this.pendingBoxes.push(ee.boxes)),ee.track.type==="audio"&&(this.audioTrack=ee.track,this.pendingBoxes.unshift(ee.boxes))}},Jt.prototype=new e,Jt.prototype.flush=function(me){var B=0,te={captions:[],captionStreams:{},metadata:[],info:{}},ee,ie,oe,fe=0,Ae;if(this.pendingTracks.length<this.numberOfTracks){if(me!=="VideoSegmentStream"&&me!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(fe=this.videoTrack.timelineStartInfo.pts,Hn.forEach(function(Me){te.info[Me]=this.videoTrack[Me]},this)):this.audioTrack&&(fe=this.audioTrack.timelineStartInfo.pts,jn.forEach(function(Me){te.info[Me]=this.audioTrack[Me]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?te.type=this.pendingTracks[0].type:te.type="combined",this.emittedTracks+=this.pendingTracks.length,oe=Xe.initSegment(this.pendingTracks),te.initSegment=new Uint8Array(oe.byteLength),te.initSegment.set(oe),te.data=new Uint8Array(this.pendingBytes),Ae=0;Ae<this.pendingBoxes.length;Ae++)te.data.set(this.pendingBoxes[Ae],B),B+=this.pendingBoxes[Ae].byteLength;for(Ae=0;Ae<this.pendingCaptions.length;Ae++)ee=this.pendingCaptions[Ae],ee.startTime=ct.metadataTsToSeconds(ee.startPts,fe,this.keepOriginalTimestamps),ee.endTime=ct.metadataTsToSeconds(ee.endPts,fe,this.keepOriginalTimestamps),te.captionStreams[ee.stream]=!0,te.captions.push(ee);for(Ae=0;Ae<this.pendingMetadata.length;Ae++)ie=this.pendingMetadata[Ae],ie.cueTime=ct.metadataTsToSeconds(ie.pts,fe,this.keepOriginalTimestamps),te.metadata.push(ie);for(te.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",te),Ae=0;Ae<te.captions.length;Ae++)ee=te.captions[Ae],this.trigger("caption",ee);for(Ae=0;Ae<te.metadata.length;Ae++)ie=te.metadata[Ae],this.trigger("id3Frame",ie)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Jt.prototype.setRemux=function(me){this.remuxTracks=me},Mn=function(B){var te=this,ee=!0,ie,oe;Mn.prototype.init.call(this),B=B||{},this.baseMediaDecodeTime=B.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var fe={};this.transmuxPipeline_=fe,fe.type="aac",fe.metadataStream=new Gt.MetadataStream,fe.aacStream=new Qr,fe.audioTimestampRolloverStream=new Gt.TimestampRolloverStream("audio"),fe.timedMetadataTimestampRolloverStream=new Gt.TimestampRolloverStream("timed-metadata"),fe.adtsStream=new rr,fe.coalesceStream=new Jt(B,fe.metadataStream),fe.headOfPipeline=fe.aacStream,fe.aacStream.pipe(fe.audioTimestampRolloverStream).pipe(fe.adtsStream),fe.aacStream.pipe(fe.timedMetadataTimestampRolloverStream).pipe(fe.metadataStream).pipe(fe.coalesceStream),fe.metadataStream.on("timestamp",function(Ae){fe.aacStream.setTimestamp(Ae.timeStamp)}),fe.aacStream.on("data",function(Ae){Ae.type!=="timed-metadata"&&Ae.type!=="audio"||fe.audioSegmentStream||(oe=oe||{timelineStartInfo:{baseMediaDecodeTime:te.baseMediaDecodeTime},codec:"adts",type:"audio"},fe.coalesceStream.numberOfTracks++,fe.audioSegmentStream=new un(oe,B),fe.audioSegmentStream.on("log",te.getLogTrigger_("audioSegmentStream")),fe.audioSegmentStream.on("timingInfo",te.trigger.bind(te,"audioTimingInfo")),fe.adtsStream.pipe(fe.audioSegmentStream).pipe(fe.coalesceStream),te.trigger("trackinfo",{hasAudio:!!oe,hasVideo:!!ie}))}),fe.coalesceStream.on("data",this.trigger.bind(this,"data")),fe.coalesceStream.on("done",this.trigger.bind(this,"done")),ur(this,fe)},this.setupTsPipeline=function(){var fe={};this.transmuxPipeline_=fe,fe.type="ts",fe.metadataStream=new Gt.MetadataStream,fe.packetStream=new Gt.TransportPacketStream,fe.parseStream=new Gt.TransportParseStream,fe.elementaryStream=new Gt.ElementaryStream,fe.timestampRolloverStream=new Gt.TimestampRolloverStream,fe.adtsStream=new rr,fe.h264Stream=new Xr,fe.captionStream=new Gt.CaptionStream(B),fe.coalesceStream=new Jt(B,fe.metadataStream),fe.headOfPipeline=fe.packetStream,fe.packetStream.pipe(fe.parseStream).pipe(fe.elementaryStream).pipe(fe.timestampRolloverStream),fe.timestampRolloverStream.pipe(fe.h264Stream),fe.timestampRolloverStream.pipe(fe.adtsStream),fe.timestampRolloverStream.pipe(fe.metadataStream).pipe(fe.coalesceStream),fe.h264Stream.pipe(fe.captionStream).pipe(fe.coalesceStream),fe.elementaryStream.on("data",function(Ae){var Me;if(Ae.type==="metadata"){for(Me=Ae.tracks.length;Me--;)!ie&&Ae.tracks[Me].type==="video"?(ie=Ae.tracks[Me],ie.timelineStartInfo.baseMediaDecodeTime=te.baseMediaDecodeTime):!oe&&Ae.tracks[Me].type==="audio"&&(oe=Ae.tracks[Me],oe.timelineStartInfo.baseMediaDecodeTime=te.baseMediaDecodeTime);ie&&!fe.videoSegmentStream&&(fe.coalesceStream.numberOfTracks++,fe.videoSegmentStream=new pn(ie,B),fe.videoSegmentStream.on("log",te.getLogTrigger_("videoSegmentStream")),fe.videoSegmentStream.on("timelineStartInfo",function(Ve){oe&&!B.keepOriginalTimestamps&&(oe.timelineStartInfo=Ve,fe.audioSegmentStream.setEarliestDts(Ve.dts-te.baseMediaDecodeTime))}),fe.videoSegmentStream.on("processedGopsInfo",te.trigger.bind(te,"gopInfo")),fe.videoSegmentStream.on("segmentTimingInfo",te.trigger.bind(te,"videoSegmentTimingInfo")),fe.videoSegmentStream.on("baseMediaDecodeTime",function(Ve){oe&&fe.audioSegmentStream.setVideoBaseMediaDecodeTime(Ve)}),fe.videoSegmentStream.on("timingInfo",te.trigger.bind(te,"videoTimingInfo")),fe.h264Stream.pipe(fe.videoSegmentStream).pipe(fe.coalesceStream)),oe&&!fe.audioSegmentStream&&(fe.coalesceStream.numberOfTracks++,fe.audioSegmentStream=new un(oe,B),fe.audioSegmentStream.on("log",te.getLogTrigger_("audioSegmentStream")),fe.audioSegmentStream.on("timingInfo",te.trigger.bind(te,"audioTimingInfo")),fe.audioSegmentStream.on("segmentTimingInfo",te.trigger.bind(te,"audioSegmentTimingInfo")),fe.adtsStream.pipe(fe.audioSegmentStream).pipe(fe.coalesceStream)),te.trigger("trackinfo",{hasAudio:!!oe,hasVideo:!!ie})}}),fe.coalesceStream.on("data",this.trigger.bind(this,"data")),fe.coalesceStream.on("id3Frame",function(Ae){Ae.dispatchType=fe.metadataStream.dispatchType,te.trigger("id3Frame",Ae)}),fe.coalesceStream.on("caption",this.trigger.bind(this,"caption")),fe.coalesceStream.on("done",this.trigger.bind(this,"done")),ur(this,fe)},this.setBaseMediaDecodeTime=function(fe){var Ae=this.transmuxPipeline_;B.keepOriginalTimestamps||(this.baseMediaDecodeTime=fe),oe&&(oe.timelineStartInfo.dts=void 0,oe.timelineStartInfo.pts=void 0,wt.clearDtsInfo(oe),Ae.audioTimestampRolloverStream&&Ae.audioTimestampRolloverStream.discontinuity()),ie&&(Ae.videoSegmentStream&&(Ae.videoSegmentStream.gopCache_=[]),ie.timelineStartInfo.dts=void 0,ie.timelineStartInfo.pts=void 0,wt.clearDtsInfo(ie),Ae.captionStream.reset()),Ae.timestampRolloverStream&&Ae.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(fe){oe&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(fe)},this.setRemux=function(fe){var Ae=this.transmuxPipeline_;B.remux=fe,Ae&&Ae.coalesceStream&&Ae.coalesceStream.setRemux(fe)},this.alignGopsWith=function(fe){ie&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(fe)},this.getLogTrigger_=function(fe){var Ae=this;return function(Me){Me.stream=fe,Ae.trigger("log",Me)}},this.push=function(fe){if(ee){var Ae=Jr(fe);Ae&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!Ae&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),ee=!1}this.transmuxPipeline_.headOfPipeline.push(fe)},this.flush=function(){ee=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Mn.prototype=new e;var ti={Transmuxer:Mn,VideoSegmentStream:pn,AudioSegmentStream:un,AUDIO_PROPERTIES:jn,VIDEO_PROPERTIES:Hn,generateSegmentTimingInfo:zn},ni=function(B){return B>>>0},ri=function(B){return("00"+B.toString(16)).slice(-2)},kn={toUnsigned:ni,toHexString:ri},ii=function(B){var te="";return te+=String.fromCharCode(B[0]),te+=String.fromCharCode(B[1]),te+=String.fromCharCode(B[2]),te+=String.fromCharCode(B[3]),te},Zt=ii,ai=kn.toUnsigned,si=function me(B,te){var ee=[],ie,oe,fe,Ae,Me;if(!te.length)return null;for(ie=0;ie<B.byteLength;)oe=ai(B[ie]<<24|B[ie+1]<<16|B[ie+2]<<8|B[ie+3]),fe=Zt(B.subarray(ie+4,ie+8)),Ae=oe>1?ie+oe:B.byteLength,fe===te[0]&&(te.length===1?ee.push(B.subarray(ie+8,Ae)):(Me=me(B.subarray(ie+8,Ae),te.slice(1)),Me.length&&(ee=ee.concat(Me)))),ie=Ae;return ee},Et=si,oi=kn.toUnsigned,ui=a.getUint64,li=function(B){var te={version:B[0],flags:new Uint8Array(B.subarray(1,4))};return te.version===1?te.baseMediaDecodeTime=ui(B.subarray(4)):te.baseMediaDecodeTime=oi(B[4]<<24|B[5]<<16|B[6]<<8|B[7]),te},fr=li,fi=function(B){return{isLeading:(B[0]&12)>>>2,dependsOn:B[0]&3,isDependedOn:(B[1]&192)>>>6,hasRedundancy:(B[1]&48)>>>4,paddingValue:(B[1]&14)>>>1,isNonSyncSample:B[1]&1,degradationPriority:B[2]<<8|B[3]}},cr=fi,ci=function(B){var te={version:B[0],flags:new Uint8Array(B.subarray(1,4)),samples:[]},ee=new DataView(B.buffer,B.byteOffset,B.byteLength),ie=te.flags[2]&1,oe=te.flags[2]&4,fe=te.flags[1]&1,Ae=te.flags[1]&2,Me=te.flags[1]&4,Ve=te.flags[1]&8,Le=ee.getUint32(4),Qe=8,tt;for(ie&&(te.dataOffset=ee.getInt32(Qe),Qe+=4),oe&&Le&&(tt={flags:cr(B.subarray(Qe,Qe+4))},Qe+=4,fe&&(tt.duration=ee.getUint32(Qe),Qe+=4),Ae&&(tt.size=ee.getUint32(Qe),Qe+=4),Ve&&(te.version===1?tt.compositionTimeOffset=ee.getInt32(Qe):tt.compositionTimeOffset=ee.getUint32(Qe),Qe+=4),te.samples.push(tt),Le--);Le--;)tt={},fe&&(tt.duration=ee.getUint32(Qe),Qe+=4),Ae&&(tt.size=ee.getUint32(Qe),Qe+=4),Me&&(tt.flags=cr(B.subarray(Qe,Qe+4)),Qe+=4),Ve&&(te.version===1?tt.compositionTimeOffset=ee.getInt32(Qe):tt.compositionTimeOffset=ee.getUint32(Qe),Qe+=4),te.samples.push(tt);return te},dr=ci,di=function(B){var te=new DataView(B.buffer,B.byteOffset,B.byteLength),ee={version:B[0],flags:new Uint8Array(B.subarray(1,4)),trackId:te.getUint32(4)},ie=ee.flags[2]&1,oe=ee.flags[2]&2,fe=ee.flags[2]&8,Ae=ee.flags[2]&16,Me=ee.flags[2]&32,Ve=ee.flags[0]&65536,Le=ee.flags[0]&131072,Qe;return Qe=8,ie&&(Qe+=4,ee.baseDataOffset=te.getUint32(12),Qe+=4),oe&&(ee.sampleDescriptionIndex=te.getUint32(Qe),Qe+=4),fe&&(ee.defaultSampleDuration=te.getUint32(Qe),Qe+=4),Ae&&(ee.defaultSampleSize=te.getUint32(Qe),Qe+=4),Me&&(ee.defaultSampleFlags=te.getUint32(Qe)),Ve&&(ee.durationIsEmpty=!0),!ie&&Le&&(ee.baseDataOffsetIsMoof=!0),ee},hr=di,pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gn;typeof window<"u"?gn=window:typeof pr<"u"?gn=pr:typeof self<"u"?gn=self:gn={};var mn=gn,hi=Kt.discardEmulationPreventionBytes,pi=yn.CaptionStream,gi=function(B,te){for(var ee=B,ie=0;ie<te.length;ie++){var oe=te[ie];if(ee<oe.size)return oe;ee-=oe.size}return null},mi=function(B,te,ee){var ie=new DataView(B.buffer,B.byteOffset,B.byteLength),oe={logs:[],seiNals:[]},fe,Ae,Me,Ve;for(Ae=0;Ae+4<B.length;Ae+=Me)if(Me=ie.getUint32(Ae),Ae+=4,!(Me<=0))switch(B[Ae]&31){case 6:var Le=B.subarray(Ae+1,Ae+1+Me),Qe=gi(Ae,te);if(fe={nalUnitType:"sei_rbsp",size:Me,data:Le,escapedRBSP:hi(Le),trackId:ee},Qe)fe.pts=Qe.pts,fe.dts=Qe.dts,Ve=Qe;else if(Ve)fe.pts=Ve.pts,fe.dts=Ve.dts;else{oe.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+Ae+" for trackId "+ee+". See mux.js#223."});break}oe.seiNals.push(fe);break}return oe},vi=function(B,te,ee){var ie=te,oe=ee.defaultSampleDuration||0,fe=ee.defaultSampleSize||0,Ae=ee.trackId,Me=[];return B.forEach(function(Ve){var Le=dr(Ve),Qe=Le.samples;Qe.forEach(function(tt){tt.duration===void 0&&(tt.duration=oe),tt.size===void 0&&(tt.size=fe),tt.trackId=Ae,tt.dts=ie,tt.compositionTimeOffset===void 0&&(tt.compositionTimeOffset=0),typeof ie=="bigint"?(tt.pts=ie+mn.BigInt(tt.compositionTimeOffset),ie+=mn.BigInt(tt.duration)):(tt.pts=ie+tt.compositionTimeOffset,ie+=tt.duration)}),Me=Me.concat(Qe)}),Me},yi=function(B,te){var ee=Et(B,["moof","traf"]),ie=Et(B,["mdat"]),oe={},fe=[];return ie.forEach(function(Ae,Me){var Ve=ee[Me];fe.push({mdat:Ae,traf:Ve})}),fe.forEach(function(Ae){var Me=Ae.mdat,Ve=Ae.traf,Le=Et(Ve,["tfhd"]),Qe=hr(Le[0]),tt=Qe.trackId,st=Et(Ve,["tfdt"]),ut=st.length>0?fr(st[0]).baseMediaDecodeTime:0,at=Et(Ve,["trun"]),dt,Mt;te===tt&&at.length>0&&(dt=vi(at,ut,Qe),Mt=mi(Me,dt,tt),oe[tt]||(oe[tt]={seiNals:[],logs:[]}),oe[tt].seiNals=oe[tt].seiNals.concat(Mt.seiNals),oe[tt].logs=oe[tt].logs.concat(Mt.logs))}),oe},bi=function(B,te,ee){var ie;if(te===null)return null;ie=yi(B,te);var oe=ie[te]||{};return{seiNals:oe.seiNals,logs:oe.logs,timescale:ee}},Ti=function(){var B=!1,te,ee,ie,oe,fe,Ae;this.isInitialized=function(){return B},this.init=function(Me){te=new pi,B=!0,Ae=Me?Me.isPartial:!1,te.on("data",function(Ve){Ve.startTime=Ve.startPts/oe,Ve.endTime=Ve.endPts/oe,fe.captions.push(Ve),fe.captionStreams[Ve.stream]=!0}),te.on("log",function(Ve){fe.logs.push(Ve)})},this.isNewInit=function(Me,Ve){return Me&&Me.length===0||Ve&&typeof Ve=="object"&&Object.keys(Ve).length===0?!1:ie!==Me[0]||oe!==Ve[ie]},this.parse=function(Me,Ve,Le){var Qe;if(this.isInitialized()){if(!Ve||!Le)return null;if(this.isNewInit(Ve,Le))ie=Ve[0],oe=Le[ie];else if(ie===null||!oe)return ee.push(Me),null}else return null;for(;ee.length>0;){var tt=ee.shift();this.parse(tt,Ve,Le)}return Qe=bi(Me,ie,oe),Qe&&Qe.logs&&(fe.logs=fe.logs.concat(Qe.logs)),Qe===null||!Qe.seiNals?fe.logs.length?{logs:fe.logs,captions:[],captionStreams:[]}:null:(this.pushNals(Qe.seiNals),this.flushStream(),fe)},this.pushNals=function(Me){if(!this.isInitialized()||!Me||Me.length===0)return null;Me.forEach(function(Ve){te.push(Ve)})},this.flushStream=function(){if(!this.isInitialized())return null;Ae?te.partialFlush():te.flush()},this.clearParsedCaptions=function(){fe.captions=[],fe.captionStreams={},fe.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;te.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){ee=[],ie=null,oe=null,fe?this.clearParsedCaptions():fe={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Ei=Ti,Nn=kn.toUnsigned,vn=kn.toHexString,Si=a.getUint64,gr,mr,vr,_r,yr,Vn;gr=function(B){var te={},ee=Et(B,["moov","trak"]);return ee.reduce(function(ie,oe){var fe,Ae,Me,Ve,Le;return fe=Et(oe,["tkhd"])[0],!fe||(Ae=fe[0],Me=Ae===0?12:20,Ve=Nn(fe[Me]<<24|fe[Me+1]<<16|fe[Me+2]<<8|fe[Me+3]),Le=Et(oe,["mdia","mdhd"])[0],!Le)?null:(Ae=Le[0],Me=Ae===0?12:20,ie[Ve]=Nn(Le[Me]<<24|Le[Me+1]<<16|Le[Me+2]<<8|Le[Me+3]),ie)},te)},mr=function(B,te){var ee;ee=Et(te,["moof","traf"]);var ie=ee.reduce(function(oe,fe){var Ae=Et(fe,["tfhd"])[0],Me=Nn(Ae[4]<<24|Ae[5]<<16|Ae[6]<<8|Ae[7]),Ve=B[Me]||9e4,Le=Et(fe,["tfdt"])[0],Qe=new DataView(Le.buffer,Le.byteOffset,Le.byteLength),tt;Le[0]===1?tt=Si(Le.subarray(4,12)):tt=Qe.getUint32(4);var st;return typeof tt=="bigint"?st=tt/mn.BigInt(Ve):typeof tt=="number"&&!isNaN(tt)&&(st=tt/Ve),st<Number.MAX_SAFE_INTEGER&&(st=Number(st)),st<oe&&(oe=st),oe},1/0);return typeof ie=="bigint"||isFinite(ie)?ie:0},vr=function(B,te){var ee=Et(te,["moof","traf"]),ie=0,oe=0,fe;if(ee&&ee.length){var Ae=Et(ee[0],["tfhd"])[0],Me=Et(ee[0],["trun"])[0],Ve=Et(ee[0],["tfdt"])[0];if(Ae){var Le=hr(Ae);fe=Le.trackId}if(Ve){var Qe=fr(Ve);ie=Qe.baseMediaDecodeTime}if(Me){var tt=dr(Me);tt.samples&&tt.samples.length&&(oe=tt.samples[0].compositionTimeOffset||0)}}var st=B[fe]||9e4;typeof ie=="bigint"&&(oe=mn.BigInt(oe),st=mn.BigInt(st));var ut=(ie+oe)/st;return typeof ut=="bigint"&&ut<Number.MAX_SAFE_INTEGER&&(ut=Number(ut)),ut},_r=function(B){var te=Et(B,["moov","trak"]),ee=[];return te.forEach(function(ie){var oe=Et(ie,["mdia","hdlr"]),fe=Et(ie,["tkhd"]);oe.forEach(function(Ae,Me){var Ve=Zt(Ae.subarray(8,12)),Le=fe[Me],Qe,tt,st;Ve==="vide"&&(Qe=new DataView(Le.buffer,Le.byteOffset,Le.byteLength),tt=Qe.getUint8(0),st=tt===0?Qe.getUint32(12):Qe.getUint32(20),ee.push(st))})}),ee},Vn=function(B){var te=B[0],ee=te===0?12:20;return Nn(B[ee]<<24|B[ee+1]<<16|B[ee+2]<<8|B[ee+3])},yr=function(B){var te=Et(B,["moov","trak"]),ee=[];return te.forEach(function(ie){var oe={},fe=Et(ie,["tkhd"])[0],Ae,Me;fe&&(Ae=new DataView(fe.buffer,fe.byteOffset,fe.byteLength),Me=Ae.getUint8(0),oe.id=Me===0?Ae.getUint32(12):Ae.getUint32(20));var Ve=Et(ie,["mdia","hdlr"])[0];if(Ve){var Le=Zt(Ve.subarray(8,12));Le==="vide"?oe.type="video":Le==="soun"?oe.type="audio":oe.type=Le}var Qe=Et(ie,["mdia","minf","stbl","stsd"])[0];if(Qe){var tt=Qe.subarray(8);oe.codec=Zt(tt.subarray(4,8));var st=Et(tt,[oe.codec])[0],ut,at;st&&(/^[asm]vc[1-9]$/i.test(oe.codec)?(ut=st.subarray(78),at=Zt(ut.subarray(4,8)),at==="avcC"&&ut.length>11?(oe.codec+=".",oe.codec+=vn(ut[9]),oe.codec+=vn(ut[10]),oe.codec+=vn(ut[11])):oe.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(oe.codec)?(ut=st.subarray(28),at=Zt(ut.subarray(4,8)),at==="esds"&&ut.length>20&&ut[19]!==0?(oe.codec+="."+vn(ut[19]),oe.codec+="."+vn(ut[20]>>>2&63).replace(/^0/,"")):oe.codec="mp4a.40.2"):oe.codec=oe.codec.toLowerCase())}var dt=Et(ie,["mdia","mdhd"])[0];dt&&(oe.timescale=Vn(dt)),ee.push(oe)}),ee};var br={findBox:Et,parseType:Zt,timescale:gr,startTime:mr,compositionStartTime:vr,videoTrackIds:_r,tracks:yr,getTimescaleFromMediaHeader:Vn},Tr=function(B){var te=B[1]&31;return te<<=8,te|=B[2],te},On=function(B){return!!(B[1]&64)},Dn=function(B){var te=0;return(B[3]&48)>>>4>1&&(te+=B[4]+1),te},Ai=function(B,te){var ee=Tr(B);return ee===0?"pat":ee===te?"pmt":te?"pes":null},wi=function(B){var te=On(B),ee=4+Dn(B);return te&&(ee+=B[ee]+1),(B[ee+10]&31)<<8|B[ee+11]},Ci=function(B){var te={},ee=On(B),ie=4+Dn(B);if(ee&&(ie+=B[ie]+1),!!(B[ie+5]&1)){var oe,fe,Ae;oe=(B[ie+1]&15)<<8|B[ie+2],fe=3+oe-4,Ae=(B[ie+10]&15)<<8|B[ie+11];for(var Me=12+Ae;Me<fe;){var Ve=ie+Me;te[(B[Ve+1]&31)<<8|B[Ve+2]]=B[Ve],Me+=((B[Ve+3]&15)<<8|B[Ve+4])+5}return te}},xi=function(B,te){var ee=Tr(B),ie=te[ee];switch(ie){case Pt.H264_STREAM_TYPE:return"video";case Pt.ADTS_STREAM_TYPE:return"audio";case Pt.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Ii=function(B){var te=On(B);if(!te)return null;var ee=4+Dn(B);if(ee>=B.byteLength)return null;var ie=null,oe;return oe=B[ee+7],oe&192&&(ie={},ie.pts=(B[ee+9]&14)<<27|(B[ee+10]&255)<<20|(B[ee+11]&254)<<12|(B[ee+12]&255)<<5|(B[ee+13]&254)>>>3,ie.pts*=4,ie.pts+=(B[ee+13]&6)>>>1,ie.dts=ie.pts,oe&64&&(ie.dts=(B[ee+14]&14)<<27|(B[ee+15]&255)<<20|(B[ee+16]&254)<<12|(B[ee+17]&255)<<5|(B[ee+18]&254)>>>3,ie.dts*=4,ie.dts+=(B[ee+18]&6)>>>1)),ie},Gn=function(B){switch(B){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Mi=function(B){for(var te=4+Dn(B),ee=B.subarray(te),ie=0,oe=0,fe=!1,Ae;oe<ee.byteLength-3;oe++)if(ee[oe+2]===1){ie=oe+5;break}for(;ie<ee.byteLength;)switch(ee[ie]){case 0:if(ee[ie-1]!==0){ie+=2;break}else if(ee[ie-2]!==0){ie++;break}oe+3!==ie-2&&(Ae=Gn(ee[oe+3]&31),Ae==="slice_layer_without_partitioning_rbsp_idr"&&(fe=!0));do ie++;while(ee[ie]!==1&&ie<ee.length);oe=ie-2,ie+=3;break;case 1:if(ee[ie-1]!==0||ee[ie-2]!==0){ie+=3;break}Ae=Gn(ee[oe+3]&31),Ae==="slice_layer_without_partitioning_rbsp_idr"&&(fe=!0),oe=ie-2,ie+=3;break;default:ie+=3;break}return ee=ee.subarray(oe),ie-=oe,oe=0,ee&&ee.byteLength>3&&(Ae=Gn(ee[oe+3]&31),Ae==="slice_layer_without_partitioning_rbsp_idr"&&(fe=!0)),fe},ki={parseType:Ai,parsePat:wi,parsePmt:Ci,parsePayloadUnitStartIndicator:On,parsePesType:xi,parsePesTime:Ii,videoPacketContainsKeyFrame:Mi},ln=Jn.handleRollover,yt={};yt.ts=ki,yt.aac=xn;var en=ct.ONE_SECOND_IN_TS,Rt=188,jt=71,Ni=function(B,te){for(var ee=0,ie=Rt,oe,fe;ie<B.byteLength;){if(B[ee]===jt&&B[ie]===jt){switch(oe=B.subarray(ee,ie),fe=yt.ts.parseType(oe,te.pid),fe){case"pat":te.pid=yt.ts.parsePat(oe);break;case"pmt":var Ae=yt.ts.parsePmt(oe);te.table=te.table||{},Object.keys(Ae).forEach(function(Me){te.table[Me]=Ae[Me]});break}ee+=Rt,ie+=Rt;continue}ee++,ie++}},Er=function(B,te,ee){for(var ie=0,oe=Rt,fe,Ae,Me,Ve,Le,Qe=!1;oe<=B.byteLength;){if(B[ie]===jt&&(B[oe]===jt||oe===B.byteLength)){switch(fe=B.subarray(ie,oe),Ae=yt.ts.parseType(fe,te.pid),Ae){case"pes":Me=yt.ts.parsePesType(fe,te.table),Ve=yt.ts.parsePayloadUnitStartIndicator(fe),Me==="audio"&&Ve&&(Le=yt.ts.parsePesTime(fe),Le&&(Le.type="audio",ee.audio.push(Le),Qe=!0));break}if(Qe)break;ie+=Rt,oe+=Rt;continue}ie++,oe++}for(oe=B.byteLength,ie=oe-Rt,Qe=!1;ie>=0;){if(B[ie]===jt&&(B[oe]===jt||oe===B.byteLength)){switch(fe=B.subarray(ie,oe),Ae=yt.ts.parseType(fe,te.pid),Ae){case"pes":Me=yt.ts.parsePesType(fe,te.table),Ve=yt.ts.parsePayloadUnitStartIndicator(fe),Me==="audio"&&Ve&&(Le=yt.ts.parsePesTime(fe),Le&&(Le.type="audio",ee.audio.push(Le),Qe=!0));break}if(Qe)break;ie-=Rt,oe-=Rt;continue}ie--,oe--}},Oi=function(B,te,ee){for(var ie=0,oe=Rt,fe,Ae,Me,Ve,Le,Qe,tt,st,ut=!1,at={data:[],size:0};oe<B.byteLength;){if(B[ie]===jt&&B[oe]===jt){switch(fe=B.subarray(ie,oe),Ae=yt.ts.parseType(fe,te.pid),Ae){case"pes":if(Me=yt.ts.parsePesType(fe,te.table),Ve=yt.ts.parsePayloadUnitStartIndicator(fe),Me==="video"&&(Ve&&!ut&&(Le=yt.ts.parsePesTime(fe),Le&&(Le.type="video",ee.video.push(Le),ut=!0)),!ee.firstKeyFrame)){if(Ve&&at.size!==0){for(Qe=new Uint8Array(at.size),tt=0;at.data.length;)st=at.data.shift(),Qe.set(st,tt),tt+=st.byteLength;if(yt.ts.videoPacketContainsKeyFrame(Qe)){var dt=yt.ts.parsePesTime(Qe);dt?(ee.firstKeyFrame=dt,ee.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}at.size=0}at.data.push(fe),at.size+=fe.byteLength}break}if(ut&&ee.firstKeyFrame)break;ie+=Rt,oe+=Rt;continue}ie++,oe++}for(oe=B.byteLength,ie=oe-Rt,ut=!1;ie>=0;){if(B[ie]===jt&&B[oe]===jt){switch(fe=B.subarray(ie,oe),Ae=yt.ts.parseType(fe,te.pid),Ae){case"pes":Me=yt.ts.parsePesType(fe,te.table),Ve=yt.ts.parsePayloadUnitStartIndicator(fe),Me==="video"&&Ve&&(Le=yt.ts.parsePesTime(fe),Le&&(Le.type="video",ee.video.push(Le),ut=!0));break}if(ut)break;ie-=Rt,oe-=Rt;continue}ie--,oe--}},Di=function(B,te){if(B.audio&&B.audio.length){var ee=te;(typeof ee>"u"||isNaN(ee))&&(ee=B.audio[0].dts),B.audio.forEach(function(fe){fe.dts=ln(fe.dts,ee),fe.pts=ln(fe.pts,ee),fe.dtsTime=fe.dts/en,fe.ptsTime=fe.pts/en})}if(B.video&&B.video.length){var ie=te;if((typeof ie>"u"||isNaN(ie))&&(ie=B.video[0].dts),B.video.forEach(function(fe){fe.dts=ln(fe.dts,ie),fe.pts=ln(fe.pts,ie),fe.dtsTime=fe.dts/en,fe.ptsTime=fe.pts/en}),B.firstKeyFrame){var oe=B.firstKeyFrame;oe.dts=ln(oe.dts,ie),oe.pts=ln(oe.pts,ie),oe.dtsTime=oe.dts/en,oe.ptsTime=oe.pts/en}}},Pi=function(B){for(var te=!1,ee=0,ie=null,oe=null,fe=0,Ae=0,Me;B.length-Ae>=3;){var Ve=yt.aac.parseType(B,Ae);switch(Ve){case"timed-metadata":if(B.length-Ae<10){te=!0;break}if(fe=yt.aac.parseId3TagSize(B,Ae),fe>B.length){te=!0;break}oe===null&&(Me=B.subarray(Ae,Ae+fe),oe=yt.aac.parseAacTimestamp(Me)),Ae+=fe;break;case"audio":if(B.length-Ae<7){te=!0;break}if(fe=yt.aac.parseAdtsSize(B,Ae),fe>B.length){te=!0;break}ie===null&&(Me=B.subarray(Ae,Ae+fe),ie=yt.aac.parseSampleRate(Me)),ee++,Ae+=fe;break;default:Ae++;break}if(te)return null}if(ie===null||oe===null)return null;var Le=en/ie,Qe={audio:[{type:"audio",dts:oe,pts:oe},{type:"audio",dts:oe+ee*1024*Le,pts:oe+ee*1024*Le}]};return Qe},Ri=function(B){var te={pid:null,table:null},ee={};Ni(B,te);for(var ie in te.table)if(te.table.hasOwnProperty(ie)){var oe=te.table[ie];switch(oe){case Pt.H264_STREAM_TYPE:ee.video=[],Oi(B,te,ee),ee.video.length===0&&delete ee.video;break;case Pt.ADTS_STREAM_TYPE:ee.audio=[],Er(B,te,ee),ee.audio.length===0&&delete ee.audio;break}}return ee},Li=function(B,te){var ee=yt.aac.isLikelyAacData(B),ie;return ee?ie=Pi(B):ie=Ri(B),!ie||!ie.audio&&!ie.video?null:(Di(ie,te),ie)},Bi={inspect:Li,parseAudioPes_:Er},Fi=function(B,te){te.on("data",function(ee){var ie=ee.initSegment;ee.initSegment={data:ie.buffer,byteOffset:ie.byteOffset,byteLength:ie.byteLength};var oe=ee.data;ee.data=oe.buffer,B.postMessage({action:"data",segment:ee,byteOffset:oe.byteOffset,byteLength:oe.byteLength},[ee.data])}),te.on("done",function(ee){B.postMessage({action:"done"})}),te.on("gopInfo",function(ee){B.postMessage({action:"gopInfo",gopInfo:ee})}),te.on("videoSegmentTimingInfo",function(ee){var ie={start:{decode:ct.videoTsToSeconds(ee.start.dts),presentation:ct.videoTsToSeconds(ee.start.pts)},end:{decode:ct.videoTsToSeconds(ee.end.dts),presentation:ct.videoTsToSeconds(ee.end.pts)},baseMediaDecodeTime:ct.videoTsToSeconds(ee.baseMediaDecodeTime)};ee.prependedContentDuration&&(ie.prependedContentDuration=ct.videoTsToSeconds(ee.prependedContentDuration)),B.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:ie})}),te.on("audioSegmentTimingInfo",function(ee){var ie={start:{decode:ct.videoTsToSeconds(ee.start.dts),presentation:ct.videoTsToSeconds(ee.start.pts)},end:{decode:ct.videoTsToSeconds(ee.end.dts),presentation:ct.videoTsToSeconds(ee.end.pts)},baseMediaDecodeTime:ct.videoTsToSeconds(ee.baseMediaDecodeTime)};ee.prependedContentDuration&&(ie.prependedContentDuration=ct.videoTsToSeconds(ee.prependedContentDuration)),B.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:ie})}),te.on("id3Frame",function(ee){B.postMessage({action:"id3Frame",id3Frame:ee})}),te.on("caption",function(ee){B.postMessage({action:"caption",caption:ee})}),te.on("trackinfo",function(ee){B.postMessage({action:"trackinfo",trackInfo:ee})}),te.on("audioTimingInfo",function(ee){B.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:ct.videoTsToSeconds(ee.start),end:ct.videoTsToSeconds(ee.end)}})}),te.on("videoTimingInfo",function(ee){B.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:ct.videoTsToSeconds(ee.start),end:ct.videoTsToSeconds(ee.end)}})}),te.on("log",function(ee){B.postMessage({action:"log",log:ee})})},Sr=function(){function me(te,ee){this.options=ee||{},this.self=te,this.init()}var B=me.prototype;return B.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new ti.Transmuxer(this.options),Fi(this.self,this.transmuxer)},B.pushMp4Captions=function(ee){this.captionParser||(this.captionParser=new Ei,this.captionParser.init());var ie=new Uint8Array(ee.data,ee.byteOffset,ee.byteLength),oe=this.captionParser.parse(ie,ee.trackIds,ee.timescales);this.self.postMessage({action:"mp4Captions",captions:oe&&oe.captions||[],logs:oe&&oe.logs||[],data:ie.buffer},[ie.buffer])},B.probeMp4StartTime=function(ee){var ie=ee.timescales,oe=ee.data,fe=br.startTime(ie,oe);this.self.postMessage({action:"probeMp4StartTime",startTime:fe,data:oe},[oe.buffer])},B.probeMp4Tracks=function(ee){var ie=ee.data,oe=br.tracks(ie);this.self.postMessage({action:"probeMp4Tracks",tracks:oe,data:ie},[ie.buffer])},B.probeTs=function(ee){var ie=ee.data,oe=ee.baseStartTime,fe=typeof oe=="number"&&!isNaN(oe)?oe*ct.ONE_SECOND_IN_TS:void 0,Ae=Bi.inspect(ie,fe),Me=null;Ae&&(Me={hasVideo:Ae.video&&Ae.video.length===2||!1,hasAudio:Ae.audio&&Ae.audio.length===2||!1},Me.hasVideo&&(Me.videoStart=Ae.video[0].ptsTime),Me.hasAudio&&(Me.audioStart=Ae.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:Me,data:ie},[ie.buffer])},B.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},B.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},B.push=function(ee){var ie=new Uint8Array(ee.data,ee.byteOffset,ee.byteLength);this.transmuxer.push(ie)},B.reset=function(){this.transmuxer.reset()},B.setTimestampOffset=function(ee){var ie=ee.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(ct.secondsToVideoTs(ie)))},B.setAudioAppendStart=function(ee){this.transmuxer.setAudioAppendStart(Math.ceil(ct.secondsToVideoTs(ee.appendStart)))},B.setRemux=function(ee){this.transmuxer.setRemux(ee.remux)},B.flush=function(ee){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},B.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},B.alignGopsWith=function(ee){this.transmuxer.alignGopsWith(ee.gopsToAlignWith.slice())},me}();self.onmessage=function(me){if(me.data.action==="init"&&me.data.options){this.messageHandlers=new Sr(self,me.data.options);return}this.messageHandlers||(this.messageHandlers=new Sr(self)),me.data&&me.data.action&&me.data.action!=="init"&&this.messageHandlers[me.data.action]&&this.messageHandlers[me.data.action](me.data)}})),TransmuxWorker=factory(workerCode$1),handleData_=function(e,r,s){var a=e.data.segment,l=a.type,f=a.initSegment,c=a.captions,d=a.captionStreams,g=a.metadata,b=a.videoFrameDtsTime,m=a.videoFramePtsTime;r.buffer.push({captions:c,captionStreams:d,metadata:g});var _=e.data.segment.boxes||{data:e.data.segment.data},x={type:l,data:new Uint8Array(_.data,_.data.byteOffset,_.data.byteLength),initSegment:new Uint8Array(f.data,f.byteOffset,f.byteLength)};typeof b<"u"&&(x.videoFrameDtsTime=b),typeof m<"u"&&(x.videoFramePtsTime=m),s(x)},handleDone_=function(e){var r=e.transmuxedData,s=e.callback;r.buffer=[],s(r)},handleGopInfo_=function(e,r){r.gopInfo=e.data.gopInfo},processTransmux=function(e){var r=e.transmuxer,s=e.bytes,a=e.audioAppendStart,l=e.gopsToAlignWith,f=e.remux,c=e.onData,d=e.onTrackInfo,g=e.onAudioTimingInfo,b=e.onVideoTimingInfo,m=e.onVideoSegmentTimingInfo,_=e.onAudioSegmentTimingInfo,x=e.onId3,k=e.onCaptions,q=e.onDone,j=e.onEndedTimeline,ne=e.onTransmuxerLog,se=e.isEndOfTimeline,le={buffer:[]},ue=se,he=function(ye){r.currentTransmux===e&&(ye.data.action==="data"&&handleData_(ye,le,c),ye.data.action==="trackinfo"&&d(ye.data.trackInfo),ye.data.action==="gopInfo"&&handleGopInfo_(ye,le),ye.data.action==="audioTimingInfo"&&g(ye.data.audioTimingInfo),ye.data.action==="videoTimingInfo"&&b(ye.data.videoTimingInfo),ye.data.action==="videoSegmentTimingInfo"&&m(ye.data.videoSegmentTimingInfo),ye.data.action==="audioSegmentTimingInfo"&&_(ye.data.audioSegmentTimingInfo),ye.data.action==="id3Frame"&&x([ye.data.id3Frame],ye.data.id3Frame.dispatchType),ye.data.action==="caption"&&k(ye.data.caption),ye.data.action==="endedtimeline"&&(ue=!1,j()),ye.data.action==="log"&&ne(ye.data.log),ye.data.type==="transmuxed"&&(ue||(r.onmessage=null,handleDone_({transmuxedData:le,callback:q}),dequeue(r))))};if(r.onmessage=he,a&&r.postMessage({action:"setAudioAppendStart",appendStart:a}),Array.isArray(l)&&r.postMessage({action:"alignGopsWith",gopsToAlignWith:l}),typeof f<"u"&&r.postMessage({action:"setRemux",remux:f}),s.byteLength){var ge=s instanceof ArrayBuffer?s:s.buffer,ve=s instanceof ArrayBuffer?0:s.byteOffset;r.postMessage({action:"push",data:ge,byteOffset:ve,byteLength:s.byteLength},[ge])}se&&r.postMessage({action:"endTimeline"}),r.postMessage({action:"flush"})},dequeue=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),typeof e.currentTransmux=="function"?e.currentTransmux():processTransmux(e.currentTransmux))},processAction=function(e,r){e.postMessage({action:r}),dequeue(e)},enqueueAction=function(e,r){if(!r.currentTransmux){r.currentTransmux=e,processAction(r,e);return}r.transmuxQueue.push(processAction.bind(null,r,e))},reset=function(e){enqueueAction("reset",e)},endTimeline=function(e){enqueueAction("endTimeline",e)},transmux=function(e){if(!e.transmuxer.currentTransmux){e.transmuxer.currentTransmux=e,processTransmux(e);return}e.transmuxer.transmuxQueue.push(e)},createTransmuxer=function(e){var r=new TransmuxWorker;r.currentTransmux=null,r.transmuxQueue=[];var s=r.terminate;return r.terminate=function(){return r.currentTransmux=null,r.transmuxQueue.length=0,s.call(r)},r.postMessage({action:"init",options:e}),r},segmentTransmuxer={reset,endTimeline,transmux,createTransmuxer},workerCallback=function(e){var r=e.transmuxer,s=e.endAction||e.action,a=e.callback,l=_extends$2({},e,{endAction:null,transmuxer:null,callback:null}),f=function g(b){b.data.action===s&&(r.removeEventListener("message",g),b.data.data&&(b.data.data=new Uint8Array(b.data.data,e.byteOffset||0,e.byteLength||b.data.data.byteLength),e.data&&(e.data=b.data.data)),a(b.data))};if(r.addEventListener("message",f),e.data){var c=e.data instanceof ArrayBuffer;l.byteOffset=c?0:e.data.byteOffset,l.byteLength=e.data.byteLength;var d=[c?e.data:e.data.buffer];r.postMessage(l,d)}else r.postMessage(l)},REQUEST_ERRORS={FAILURE:2,TIMEOUT:-101,ABORTED:-102},abortAll=function(e){e.forEach(function(r){r.abort()})},getRequestStats=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},getProgressStats=function(e){var r=e.target,s=Date.now()-r.requestTime,a={bandwidth:1/0,bytesReceived:0,roundTripTime:s||0};return a.bytesReceived=e.loaded,a.bandwidth=Math.floor(a.bytesReceived/a.roundTripTime*8*1e3),a},handleErrors=function(e,r){return r.timedout?{status:r.status,message:"HLS request timed-out at URL: "+r.uri,code:REQUEST_ERRORS.TIMEOUT,xhr:r}:r.aborted?{status:r.status,message:"HLS request aborted at URL: "+r.uri,code:REQUEST_ERRORS.ABORTED,xhr:r}:e?{status:r.status,message:"HLS request errored at URL: "+r.uri,code:REQUEST_ERRORS.FAILURE,xhr:r}:r.responseType==="arraybuffer"&&r.response.byteLength===0?{status:r.status,message:"Empty HLS response at URL: "+r.uri,code:REQUEST_ERRORS.FAILURE,xhr:r}:null},handleKeyResponse=function(e,r,s){return function(a,l){var f=l.response,c=handleErrors(a,l);if(c)return s(c,e);if(f.byteLength!==16)return s({status:l.status,message:"Invalid HLS key at URL: "+l.uri,code:REQUEST_ERRORS.FAILURE,xhr:l},e);for(var d=new DataView(f),g=new Uint32Array([d.getUint32(0),d.getUint32(4),d.getUint32(8),d.getUint32(12)]),b=0;b<r.length;b++)r[b].bytes=g;return s(null,e)}},parseInitSegment=function(e,r){var s=detectContainerForBytes(e.map.bytes);if(s!=="mp4"){var a=e.map.resolvedUri||e.map.uri;return r({internal:!0,message:"Found unsupported "+(s||"unknown")+" container for initialization segment at URL: "+a,code:REQUEST_ERRORS.FAILURE})}workerCallback({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(f){var c=f.tracks,d=f.data;return e.map.bytes=d,c.forEach(function(g){e.map.tracks=e.map.tracks||{},!e.map.tracks[g.type]&&(e.map.tracks[g.type]=g,typeof g.id=="number"&&g.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[g.id]=g.timescale))}),r(null)}})},handleInitSegmentResponse=function(e){var r=e.segment,s=e.finishProcessingFn;return function(a,l){var f=handleErrors(a,l);if(f)return s(f,r);var c=new Uint8Array(l.response);if(r.map.key)return r.map.encryptedBytes=c,s(null,r);r.map.bytes=c,parseInitSegment(r,function(d){if(d)return d.xhr=l,d.status=l.status,s(d,r);s(null,r)})}},handleSegmentResponse=function(e){var r=e.segment,s=e.finishProcessingFn,a=e.responseType;return function(l,f){var c=handleErrors(l,f);if(c)return s(c,r);var d=a==="arraybuffer"||!f.responseText?f.response:stringToArrayBuffer(f.responseText.substring(r.lastReachedChar||0));return r.stats=getRequestStats(f),r.key?r.encryptedBytes=new Uint8Array(d):r.bytes=new Uint8Array(d),s(null,r)}},transmuxAndNotify=function(e){var r=e.segment,s=e.bytes,a=e.trackInfoFn,l=e.timingInfoFn,f=e.videoSegmentTimingInfoFn,c=e.audioSegmentTimingInfoFn,d=e.id3Fn,g=e.captionsFn,b=e.isEndOfTimeline,m=e.endedTimelineFn,_=e.dataFn,x=e.doneFn,k=e.onTransmuxerLog,q=r.map&&r.map.tracks||{},j=Boolean(q.audio&&q.video),ne=l.bind(null,r,"audio","start"),se=l.bind(null,r,"audio","end"),le=l.bind(null,r,"video","start"),ue=l.bind(null,r,"video","end"),he=function(){return transmux({bytes:s,transmuxer:r.transmuxer,audioAppendStart:r.audioAppendStart,gopsToAlignWith:r.gopsToAlignWith,remux:j,onData:function(_e){_e.type=_e.type==="combined"?"video":_e.type,_(r,_e)},onTrackInfo:function(_e){a&&(j&&(_e.isMuxed=!0),a(r,_e))},onAudioTimingInfo:function(_e){ne&&typeof _e.start<"u"&&(ne(_e.start),ne=null),se&&typeof _e.end<"u"&&se(_e.end)},onVideoTimingInfo:function(_e){le&&typeof _e.start<"u"&&(le(_e.start),le=null),ue&&typeof _e.end<"u"&&ue(_e.end)},onVideoSegmentTimingInfo:function(_e){f(_e)},onAudioSegmentTimingInfo:function(_e){c(_e)},onId3:function(_e,ye){d(r,_e,ye)},onCaptions:function(_e){g(r,[_e])},isEndOfTimeline:b,onEndedTimeline:function(){m()},onTransmuxerLog:k,onDone:function(_e){x&&(_e.type=_e.type==="combined"?"video":_e.type,x(null,r,_e))}})};workerCallback({action:"probeTs",transmuxer:r.transmuxer,data:s,baseStartTime:r.baseStartTime,callback:function(ve){r.bytes=s=ve.data;var _e=ve.result;_e&&(a(r,{hasAudio:_e.hasAudio,hasVideo:_e.hasVideo,isMuxed:j}),a=null,_e.hasAudio&&!j&&ne(_e.audioStart),_e.hasVideo&&le(_e.videoStart),ne=null,le=null),he()}})},handleSegmentBytes=function(e){var r=e.segment,s=e.bytes,a=e.trackInfoFn,l=e.timingInfoFn,f=e.videoSegmentTimingInfoFn,c=e.audioSegmentTimingInfoFn,d=e.id3Fn,g=e.captionsFn,b=e.isEndOfTimeline,m=e.endedTimelineFn,_=e.dataFn,x=e.doneFn,k=e.onTransmuxerLog,q=new Uint8Array(s);if(isLikelyFmp4MediaSegment(q)){r.isFmp4=!0;var j=r.map.tracks,ne={isFmp4:!0,hasVideo:!!j.video,hasAudio:!!j.audio};j.audio&&j.audio.codec&&j.audio.codec!=="enca"&&(ne.audioCodec=j.audio.codec),j.video&&j.video.codec&&j.video.codec!=="encv"&&(ne.videoCodec=j.video.codec),j.video&&j.audio&&(ne.isMuxed=!0),a(r,ne);var se=function(ue){_(r,{data:q,type:ne.hasAudio&&!ne.isMuxed?"audio":"video"}),ue&&ue.length&&g(r,ue),x(null,r,{})};workerCallback({action:"probeMp4StartTime",timescales:r.map.timescales,data:q,transmuxer:r.transmuxer,callback:function(ue){var he=ue.data,ge=ue.startTime;if(s=he.buffer,r.bytes=q=he,ne.hasAudio&&!ne.isMuxed&&l(r,"audio","start",ge),ne.hasVideo&&l(r,"video","start",ge),!j.video||!he.byteLength||!r.transmuxer){se();return}workerCallback({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:r.transmuxer,data:q,timescales:r.map.timescales,trackIds:[j.video.id],callback:function(_e){s=_e.data.buffer,r.bytes=q=_e.data,_e.logs.forEach(function(ye){k(videojs.mergeOptions(ye,{stream:"mp4CaptionParser"}))}),se(_e.captions)}})}});return}if(!r.transmuxer){x(null,r,{});return}if(typeof r.container>"u"&&(r.container=detectContainerForBytes(q)),r.container!=="ts"&&r.container!=="aac"){a(r,{hasAudio:!1,hasVideo:!1}),x(null,r,{});return}transmuxAndNotify({segment:r,bytes:s,trackInfoFn:a,timingInfoFn:l,videoSegmentTimingInfoFn:f,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:g,isEndOfTimeline:b,endedTimelineFn:m,dataFn:_,doneFn:x,onTransmuxerLog:k})},decrypt=function(e,r){var s=e.id,a=e.key,l=e.encryptedBytes,f=e.decryptionWorker,c=function g(b){if(b.data.source===s){f.removeEventListener("message",g);var m=b.data.decrypted;r(new Uint8Array(m.bytes,m.byteOffset,m.byteLength))}};f.addEventListener("message",c);var d;a.bytes.slice?d=a.bytes.slice():d=new Uint32Array(Array.prototype.slice.call(a.bytes)),f.postMessage(createTransferableMessage({source:s,encrypted:l,key:d,iv:a.iv}),[l.buffer,d.buffer])},decryptSegment=function(e){var r=e.decryptionWorker,s=e.segment,a=e.trackInfoFn,l=e.timingInfoFn,f=e.videoSegmentTimingInfoFn,c=e.audioSegmentTimingInfoFn,d=e.id3Fn,g=e.captionsFn,b=e.isEndOfTimeline,m=e.endedTimelineFn,_=e.dataFn,x=e.doneFn,k=e.onTransmuxerLog;decrypt({id:s.requestId,key:s.key,encryptedBytes:s.encryptedBytes,decryptionWorker:r},function(q){s.bytes=q,handleSegmentBytes({segment:s,bytes:s.bytes,trackInfoFn:a,timingInfoFn:l,videoSegmentTimingInfoFn:f,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:g,isEndOfTimeline:b,endedTimelineFn:m,dataFn:_,doneFn:x,onTransmuxerLog:k})})},waitForCompletion=function(e){var r=e.activeXhrs,s=e.decryptionWorker,a=e.trackInfoFn,l=e.timingInfoFn,f=e.videoSegmentTimingInfoFn,c=e.audioSegmentTimingInfoFn,d=e.id3Fn,g=e.captionsFn,b=e.isEndOfTimeline,m=e.endedTimelineFn,_=e.dataFn,x=e.doneFn,k=e.onTransmuxerLog,q=0,j=!1;return function(ne,se){if(!j){if(ne)return j=!0,abortAll(r),x(ne,se);if(q+=1,q===r.length){var le=function(){if(se.encryptedBytes)return decryptSegment({decryptionWorker:s,segment:se,trackInfoFn:a,timingInfoFn:l,videoSegmentTimingInfoFn:f,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:g,isEndOfTimeline:b,endedTimelineFn:m,dataFn:_,doneFn:x,onTransmuxerLog:k});handleSegmentBytes({segment:se,bytes:se.bytes,trackInfoFn:a,timingInfoFn:l,videoSegmentTimingInfoFn:f,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:g,isEndOfTimeline:b,endedTimelineFn:m,dataFn:_,doneFn:x,onTransmuxerLog:k})};if(se.endOfAllRequests=Date.now(),se.map&&se.map.encryptedBytes&&!se.map.bytes)return decrypt({decryptionWorker:s,id:se.requestId+"-init",encryptedBytes:se.map.encryptedBytes,key:se.map.key},function(ue){se.map.bytes=ue,parseInitSegment(se,function(he){if(he)return abortAll(r),x(he,se);le()})});le()}}}},handleLoadEnd=function(e){var r=e.loadendState,s=e.abortFn;return function(a){var l=a.target;l.aborted&&s&&!r.calledAbortFn&&(s(),r.calledAbortFn=!0)}},handleProgress=function(e){var r=e.segment,s=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(a){var l=a.target;if(!l.aborted)return r.stats=videojs.mergeOptions(r.stats,getProgressStats(a)),!r.stats.firstBytesReceivedAt&&r.stats.bytesReceived&&(r.stats.firstBytesReceivedAt=Date.now()),s(a,r)}},mediaSegmentRequest=function(e){var r=e.xhr,s=e.xhrOptions,a=e.decryptionWorker,l=e.segment,f=e.abortFn,c=e.progressFn,d=e.trackInfoFn,g=e.timingInfoFn,b=e.videoSegmentTimingInfoFn,m=e.audioSegmentTimingInfoFn,_=e.id3Fn,x=e.captionsFn,k=e.isEndOfTimeline,q=e.endedTimelineFn,j=e.dataFn,ne=e.doneFn,se=e.onTransmuxerLog,le=[],ue=waitForCompletion({activeXhrs:le,decryptionWorker:a,trackInfoFn:d,timingInfoFn:g,videoSegmentTimingInfoFn:b,audioSegmentTimingInfoFn:m,id3Fn:_,captionsFn:x,isEndOfTimeline:k,endedTimelineFn:q,dataFn:j,doneFn:ne,onTransmuxerLog:se});if(l.key&&!l.key.bytes){var he=[l.key];l.map&&!l.map.bytes&&l.map.key&&l.map.key.resolvedUri===l.key.resolvedUri&&he.push(l.map.key);var ge=videojs.mergeOptions(s,{uri:l.key.resolvedUri,responseType:"arraybuffer"}),ve=handleKeyResponse(l,he,ue),_e=r(ge,ve);le.push(_e)}if(l.map&&!l.map.bytes){var ye=l.map.key&&(!l.key||l.key.resolvedUri!==l.map.key.resolvedUri);if(ye){var be=videojs.mergeOptions(s,{uri:l.map.key.resolvedUri,responseType:"arraybuffer"}),He=handleKeyResponse(l,[l.map.key],ue),Oe=r(be,He);le.push(Oe)}var Fe=videojs.mergeOptions(s,{uri:l.map.resolvedUri,responseType:"arraybuffer",headers:segmentXhrHeaders(l.map)}),De=handleInitSegmentResponse({segment:l,finishProcessingFn:ue}),We=r(Fe,De);le.push(We)}var ze=videojs.mergeOptions(s,{uri:l.part&&l.part.resolvedUri||l.resolvedUri,responseType:"arraybuffer",headers:segmentXhrHeaders(l)}),Ge=handleSegmentResponse({segment:l,finishProcessingFn:ue,responseType:ze.responseType}),Je=r(ze,Ge);Je.addEventListener("progress",handleProgress({segment:l,progressFn:c,trackInfoFn:d,timingInfoFn:g,videoSegmentTimingInfoFn:b,audioSegmentTimingInfoFn:m,id3Fn:_,captionsFn:x,isEndOfTimeline:k,endedTimelineFn:q,dataFn:j})),le.push(Je);var Ue={};return le.forEach(function(pe){pe.addEventListener("loadend",handleLoadEnd({loadendState:Ue,abortFn:f}))}),function(){return abortAll(le)}},logFn$1=logger$1("CodecUtils"),getCodecs=function(e){var r=e.attributes||{};if(r.CODECS)return parseCodecs(r.CODECS)},isMaat=function(e,r){var s=r.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&s.AUDIO&&e.mediaGroups.AUDIO[s.AUDIO]},isMuxed=function(e,r){if(!isMaat(e,r))return!0;var s=r.attributes||{},a=e.mediaGroups.AUDIO[s.AUDIO];for(var l in a)if(!a[l].uri&&!a[l].playlists)return!0;return!1},unwrapCodecList=function(e){var r={};return e.forEach(function(s){var a=s.mediaType,l=s.type,f=s.details;r[a]=r[a]||[],r[a].push(translateLegacyCodec(""+l+f))}),Object.keys(r).forEach(function(s){if(r[s].length>1){logFn$1("multiple "+s+" codecs found as attributes: "+r[s].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),r[s]=null;return}r[s]=r[s][0]}),r},codecCount=function(e){var r=0;return e.audio&&r++,e.video&&r++,r},codecsForPlaylist=function(e,r){var s=r.attributes||{},a=unwrapCodecList(getCodecs(r)||[]);if(isMaat(e,r)&&!a.audio&&!isMuxed(e,r)){var l=unwrapCodecList(codecsFromDefault(e,s.AUDIO)||[]);l.audio&&(a.audio=l.audio)}return a},logFn=logger$1("PlaylistSelector"),representationToString=function(e){if(!(!e||!e.playlist)){var r=e.playlist;return JSON.stringify({id:r.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:r.attributes&&r.attributes.CODECS||""})}},safeGetComputedStyle=function(e,r){if(!e)return"";var s=window_1.getComputedStyle(e);return s?s[r]:""},stableSort=function(e,r){var s=e.slice();e.sort(function(a,l){var f=r(a,l);return f===0?s.indexOf(a)-s.indexOf(l):f})},comparePlaylistBandwidth=function(e,r){var s,a;return e.attributes.BANDWIDTH&&(s=e.attributes.BANDWIDTH),s=s||window_1.Number.MAX_VALUE,r.attributes.BANDWIDTH&&(a=r.attributes.BANDWIDTH),a=a||window_1.Number.MAX_VALUE,s-a},comparePlaylistResolution=function(e,r){var s,a;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(s=e.attributes.RESOLUTION.width),s=s||window_1.Number.MAX_VALUE,r.attributes.RESOLUTION&&r.attributes.RESOLUTION.width&&(a=r.attributes.RESOLUTION.width),a=a||window_1.Number.MAX_VALUE,s===a&&e.attributes.BANDWIDTH&&r.attributes.BANDWIDTH?e.attributes.BANDWIDTH-r.attributes.BANDWIDTH:s-a},simpleSelector=function(e,r,s,a,l,f){if(e){var c={bandwidth:r,width:s,height:a,limitRenditionByPlayerDimensions:l},d=e.playlists;Playlist.isAudioOnly(e)&&(d=f.getAudioTrackPlaylists_(),c.audioOnly=!0);var g=d.map(function(be){var He,Oe=be.attributes&&be.attributes.RESOLUTION&&be.attributes.RESOLUTION.width,Fe=be.attributes&&be.attributes.RESOLUTION&&be.attributes.RESOLUTION.height;return He=be.attributes&&be.attributes.BANDWIDTH,He=He||window_1.Number.MAX_VALUE,{bandwidth:He,width:Oe,height:Fe,playlist:be}});stableSort(g,function(be,He){return be.bandwidth-He.bandwidth}),g=g.filter(function(be){return!Playlist.isIncompatible(be.playlist)});var b=g.filter(function(be){return Playlist.isEnabled(be.playlist)});b.length||(b=g.filter(function(be){return!Playlist.isDisabled(be.playlist)}));var m=b.filter(function(be){return be.bandwidth*Config.BANDWIDTH_VARIANCE<r}),_=m[m.length-1],x=m.filter(function(be){return be.bandwidth===_.bandwidth})[0];if(l===!1){var k=x||b[0]||g[0];if(k&&k.playlist){var q="sortedPlaylistReps";return x&&(q="bandwidthBestRep"),b[0]&&(q="enabledPlaylistReps"),logFn("choosing "+representationToString(k)+" using "+q+" with options",c),k.playlist}return logFn("could not choose a playlist with options",c),null}var j=m.filter(function(be){return be.width&&be.height});stableSort(j,function(be,He){return be.width-He.width});var ne=j.filter(function(be){return be.width===s&&be.height===a});_=ne[ne.length-1];var se=ne.filter(function(be){return be.bandwidth===_.bandwidth})[0],le,ue,he;se||(le=j.filter(function(be){return be.width>s||be.height>a}),ue=le.filter(function(be){return be.width===le[0].width&&be.height===le[0].height}),_=ue[ue.length-1],he=ue.filter(function(be){return be.bandwidth===_.bandwidth})[0]);var ge;if(f.experimentalLeastPixelDiffSelector){var ve=j.map(function(be){return be.pixelDiff=Math.abs(be.width-s)+Math.abs(be.height-a),be});stableSort(ve,function(be,He){return be.pixelDiff===He.pixelDiff?He.bandwidth-be.bandwidth:be.pixelDiff-He.pixelDiff}),ge=ve[0]}var _e=ge||he||se||x||b[0]||g[0];if(_e&&_e.playlist){var ye="sortedPlaylistReps";return ge?ye="leastPixelDiffRep":he?ye="resolutionPlusOneRep":se?ye="resolutionBestRep":x?ye="bandwidthBestRep":b[0]&&(ye="enabledPlaylistReps"),logFn("choosing "+representationToString(_e)+" using "+ye+" with options",c),_e.playlist}return logFn("could not choose a playlist with options",c),null}},lastBandwidthSelector=function(){var e=this.useDevicePixelRatio&&window_1.devicePixelRatio||1;return simpleSelector(this.playlists.master,this.systemBandwidth,parseInt(safeGetComputedStyle(this.tech_.el(),"width"),10)*e,parseInt(safeGetComputedStyle(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},movingAverageBandwidthSelector=function(e){var r=-1,s=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var a=this.useDevicePixelRatio&&window_1.devicePixelRatio||1;return r<0&&(r=this.systemBandwidth,s=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==s&&(r=e*this.systemBandwidth+(1-e)*r,s=this.systemBandwidth),simpleSelector(this.playlists.master,r,parseInt(safeGetComputedStyle(this.tech_.el(),"width"),10)*a,parseInt(safeGetComputedStyle(this.tech_.el(),"height"),10)*a,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},minRebufferMaxBandwidthSelector=function(e){var r=e.master,s=e.currentTime,a=e.bandwidth,l=e.duration,f=e.segmentDuration,c=e.timeUntilRebuffer,d=e.currentTimeline,g=e.syncController,b=r.playlists.filter(function(q){return!Playlist.isIncompatible(q)}),m=b.filter(Playlist.isEnabled);m.length||(m=b.filter(function(q){return!Playlist.isDisabled(q)}));var _=m.filter(Playlist.hasAttribute.bind(null,"BANDWIDTH")),x=_.map(function(q){var j=g.getSyncPoint(q,l,d,s),ne=j?1:2,se=Playlist.estimateSegmentRequestTime(f,a,q),le=se*ne-c;return{playlist:q,rebufferingImpact:le}}),k=x.filter(function(q){return q.rebufferingImpact<=0});return stableSort(k,function(q,j){return comparePlaylistBandwidth(j.playlist,q.playlist)}),k.length?k[0]:(stableSort(x,function(q,j){return q.rebufferingImpact-j.rebufferingImpact}),x[0]||null)},lowestBitrateCompatibleVariantSelector=function(){var e=this,r=this.playlists.master.playlists.filter(Playlist.isEnabled);stableSort(r,function(a,l){return comparePlaylistBandwidth(a,l)});var s=r.filter(function(a){return!!codecsForPlaylist(e.playlists.master,a).video});return s[0]||null},concatSegments=function(e){var r=0,s;return e.bytes&&(s=new Uint8Array(e.bytes),e.segments.forEach(function(a){s.set(a,r),r+=a.byteLength})),s},createCaptionsTrackIfNotExists=function(e,r,s){if(!e[s]){r.trigger({type:"usage",name:"vhs-608"}),r.trigger({type:"usage",name:"hls-608"});var a=s;/^cc708_/.test(s)&&(a="SERVICE"+s.split("_")[1]);var l=r.textTracks().getTrackById(a);if(l)e[s]=l;else{var f=r.options_.vhs&&r.options_.vhs.captionServices||{},c=s,d=s,g=!1,b=f[a];b&&(c=b.label,d=b.language,g=b.default),e[s]=r.addRemoteTextTrack({kind:"captions",id:a,default:g,label:c,language:d},!1).track}}},addCaptionData=function(e){var r=e.inbandTextTracks,s=e.captionArray,a=e.timestampOffset;if(s){var l=window_1.WebKitDataCue||window_1.VTTCue;s.forEach(function(f){var c=f.stream;r[c].addCue(new l(f.startTime+a,f.endTime+a,f.text))})}},deprecateOldCue=function(e){Object.defineProperties(e.frame,{id:{get:function(){return videojs.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return videojs.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return videojs.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},addMetadata=function(e){var r=e.inbandTextTracks,s=e.metadataArray,a=e.timestampOffset,l=e.videoDuration;if(s){var f=window_1.WebKitDataCue||window_1.VTTCue,c=r.metadataTrack_;if(c&&(s.forEach(function(x){var k=x.cueTime+a;typeof k!="number"||window_1.isNaN(k)||k<0||!(k<1/0)||x.frames.forEach(function(q){var j=new f(k,k,q.value||q.url||q.data||"");j.frame=q,j.value=q,deprecateOldCue(j),c.addCue(j)})}),!(!c.cues||!c.cues.length))){for(var d=c.cues,g=[],b=0;b<d.length;b++)d[b]&&g.push(d[b]);var m=g.reduce(function(x,k){var q=x[k.startTime]||[];return q.push(k),x[k.startTime]=q,x},{}),_=Object.keys(m).sort(function(x,k){return Number(x)-Number(k)});_.forEach(function(x,k){var q=m[x],j=Number(_[k+1])||l;q.forEach(function(ne){ne.endTime=j})})}}},createMetadataTrackIfNotExists=function(e,r,s){e.metadataTrack_||(e.metadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=r)},removeCuesFromTrack=function(e,r,s){var a,l;if(s&&s.cues)for(a=s.cues.length;a--;)l=s.cues[a],l.startTime>=e&&l.endTime<=r&&s.removeCue(l)},removeDuplicateCuesFromTrack=function(e){var r=e.cues;if(r)for(var s=0;s<r.length;s++){for(var a=[],l=0,f=0;f<r.length;f++)r[s].startTime===r[f].startTime&&r[s].endTime===r[f].endTime&&r[s].text===r[f].text&&(l++,l>1&&a.push(r[f]));a.length&&a.forEach(function(c){return e.removeCue(c)})}},gopsSafeToAlignWith=function(e,r,s){if(typeof r>"u"||r===null||!e.length)return[];var a=Math.ceil((r-s+3)*clock.ONE_SECOND_IN_TS),l;for(l=0;l<e.length&&!(e[l].pts>a);l++);return e.slice(l)},updateGopBuffer=function(e,r,s){if(!r.length)return e;if(s)return r.slice();var a=r[0].pts,l=0;for(l;l<e.length&&!(e[l].pts>=a);l++);return e.slice(0,l).concat(r)},removeGopBuffer=function(e,r,s,a){for(var l=Math.ceil((r-a)*clock.ONE_SECOND_IN_TS),f=Math.ceil((s-a)*clock.ONE_SECOND_IN_TS),c=e.slice(),d=e.length;d--&&!(e[d].pts<=f););if(d===-1)return c;for(var g=d+1;g--&&!(e[g].pts<=l););return g=Math.max(g,0),c.splice(g,d-g+1),c},shallowEqual=function(e,r){if(!e&&!r||!e&&r||e&&!r)return!1;if(e===r)return!0;var s=Object.keys(e).sort(),a=Object.keys(r).sort();if(s.length!==a.length)return!1;for(var l=0;l<s.length;l++){var f=s[l];if(f!==a[l]||e[f]!==r[f])return!1}return!0},QUOTA_EXCEEDED_ERR=22,getSyncSegmentCandidate=function(e,r,s){r=r||[];for(var a=[],l=0,f=0;f<r.length;f++){var c=r[f];if(e===c.timeline&&(a.push(f),l+=c.duration,l>s))return f}return a.length===0?0:a[a.length-1]},MIN_BACK_BUFFER=1,CHECK_BUFFER_DELAY=500,finite=function(e){return typeof e=="number"&&isFinite(e)},MIN_SEGMENT_DURATION_TO_SAVE_STATS=1/60,illegalMediaSwitch=function(e,r,s){return e!=="main"||!r||!s?null:!s.hasAudio&&!s.hasVideo?"Neither audio nor video found in segment.":r.hasVideo&&!s.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!r.hasVideo&&s.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},safeBackBufferTrimTime=function(e,r,s){var a=r-Config.BACK_BUFFER_LENGTH;e.length&&(a=Math.max(a,e.start(0)));var l=r-s;return Math.min(l,a)},segmentInfoString=function(e){var r=e.startOfSegment,s=e.duration,a=e.segment,l=e.part,f=e.playlist,c=f.mediaSequence,d=f.id,g=f.segments,b=g===void 0?[]:g,m=e.mediaIndex,_=e.partIndex,x=e.timeline,k=b.length-1,q="mediaIndex/partIndex increment";e.getMediaInfoForTime?q="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(q="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(q+=" with independent "+e.independent);var j=typeof _=="number",ne=e.segment.uri?"segment":"pre-segment",se=j?getKnownPartCount({preloadSegment:a})-1:0;return ne+" ["+(c+m)+"/"+(c+k)+"]"+(j?" part ["+_+"/"+se+"]":"")+(" segment start/end ["+a.start+" => "+a.end+"]")+(j?" part start/end ["+l.start+" => "+l.end+"]":"")+(" startOfSegment ["+r+"]")+(" duration ["+s+"]")+(" timeline ["+x+"]")+(" selected by ["+q+"]")+(" playlist ["+d+"]")},timingInfoPropertyForMedia=function(e){return e+"TimingInfo"},timestampOffsetForSegment=function(e){var r=e.segmentTimeline,s=e.currentTimeline,a=e.startOfSegment,l=e.buffered,f=e.overrideCheck;return!f&&r===s?null:r<s?a:l.length?l.end(l.length-1):a},shouldWaitForTimelineChange=function(e){var r=e.timelineChangeController,s=e.currentTimeline,a=e.segmentTimeline,l=e.loaderType,f=e.audioDisabled;if(s===a)return!1;if(l==="audio"){var c=r.lastTimelineChange({type:"main"});return!c||c.to!==a}if(l==="main"&&f){var d=r.pendingTimelineChange({type:"audio"});return!(d&&d.to===a)}return!1},mediaDuration=function(e){var r=0;return["video","audio"].forEach(function(s){var a=e[s+"TimingInfo"];if(a){var l=a.start,f=a.end,c;typeof l=="bigint"||typeof f=="bigint"?c=window_1.BigInt(f)-window_1.BigInt(l):typeof l=="number"&&typeof f=="number"&&(c=f-l),typeof c<"u"&&c>r&&(r=c)}}),typeof r=="bigint"&&r<Number.MAX_SAFE_INTEGER&&(r=Number(r)),r},segmentTooLong=function(e){var r=e.segmentDuration,s=e.maxDuration;return r?Math.round(r)>s+TIME_FUDGE_FACTOR:!1},getTroublesomeSegmentDurationMessage=function(e,r){if(r!=="hls")return null;var s=mediaDuration({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!s)return null;var a=e.playlist.targetDuration,l=segmentTooLong({segmentDuration:s,maxDuration:a*2}),f=segmentTooLong({segmentDuration:s,maxDuration:a}),c="Segment with index "+e.mediaIndex+" "+("from playlist "+e.playlist.id+" ")+("has a duration of "+s+" ")+("when the reported duration is "+e.duration+" ")+("and the target duration is "+a+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return l||f?{severity:l?"warn":"info",message:c}:null},SegmentLoader=function(n){_inheritsLoose(e,n);function e(s,a){var l;if(l=n.call(this)||this,!s)throw new TypeError("Initialization settings are required");if(typeof s.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!s.mediaSource)throw new TypeError("No MediaSource specified");return l.bandwidth=s.bandwidth,l.throughput={rate:0,count:0},l.roundTrip=NaN,l.resetStats_(),l.mediaIndex=null,l.partIndex=null,l.hasPlayed_=s.hasPlayed,l.currentTime_=s.currentTime,l.seekable_=s.seekable,l.seeking_=s.seeking,l.duration_=s.duration,l.mediaSource_=s.mediaSource,l.vhs_=s.vhs,l.loaderType_=s.loaderType,l.currentMediaInfo_=void 0,l.startingMediaInfo_=void 0,l.segmentMetadataTrack_=s.segmentMetadataTrack,l.goalBufferLength_=s.goalBufferLength,l.sourceType_=s.sourceType,l.sourceUpdater_=s.sourceUpdater,l.inbandTextTracks_=s.inbandTextTracks,l.state_="INIT",l.timelineChangeController_=s.timelineChangeController,l.shouldSaveSegmentTimingInfo_=!0,l.parse708captions_=s.parse708captions,l.useDtsForTimestampOffset_=s.useDtsForTimestampOffset,l.captionServices_=s.captionServices,l.experimentalExactManifestTimings=s.experimentalExactManifestTimings,l.checkBufferTimeout_=null,l.error_=void 0,l.currentTimeline_=-1,l.pendingSegment_=null,l.xhrOptions_=null,l.pendingSegments_=[],l.audioDisabled_=!1,l.isPendingTimestampOffset_=!1,l.gopBuffer_=[],l.timeMapping_=0,l.safeAppend_=videojs.browser.IE_VERSION>=11,l.appendInitSegment_={audio:!0,video:!0},l.playlistOfLastInitSegment_={audio:null,video:null},l.callQueue_=[],l.loadQueue_=[],l.metadataQueue_={id3:[],caption:[]},l.waitingOnRemove_=!1,l.quotaExceededErrorRetryTimeout_=null,l.activeInitSegmentId_=null,l.initSegments_={},l.cacheEncryptionKeys_=s.cacheEncryptionKeys,l.keyCache_={},l.decrypter_=s.decrypter,l.syncController_=s.syncController,l.syncPoint_={segmentIndex:0,time:0},l.transmuxer_=l.createTransmuxer_(),l.triggerSyncInfoUpdate_=function(){return l.trigger("syncinfoupdate")},l.syncController_.on("syncinfoupdate",l.triggerSyncInfoUpdate_),l.mediaSource_.addEventListener("sourceopen",function(){l.isEndOfStream_()||(l.ended_=!1)}),l.fetchAtBuffer_=!1,l.logger_=logger$1("SegmentLoader["+l.loaderType_+"]"),Object.defineProperty(_assertThisInitialized(l),"state",{get:function(){return this.state_},set:function(c){c!==this.state_&&(this.logger_(this.state_+" -> "+c),this.state_=c,this.trigger("statechange"))}}),l.sourceUpdater_.on("ready",function(){l.hasEnoughInfoToAppend_()&&l.processCallQueue_()}),l.loaderType_==="main"&&l.timelineChangeController_.on("pendingtimelinechange",function(){l.hasEnoughInfoToAppend_()&&l.processCallQueue_()}),l.loaderType_==="audio"&&l.timelineChangeController_.on("timelinechange",function(){l.hasEnoughInfoToLoad_()&&l.processLoadQueue_(),l.hasEnoughInfoToAppend_()&&l.processCallQueue_()}),l}var r=e.prototype;return r.createTransmuxer_=function(){return segmentTransmuxer.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},r.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},r.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&window_1.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},r.setAudio=function(a){this.audioDisabled_=!a,a?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},r.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},r.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,window_1.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},r.checkForAbort_=function(a){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==a},r.error=function(a){return typeof a<"u"&&(this.logger_("error occurred:",a),this.error_=a),this.pendingSegment_=null,this.error_},r.endOfStream=function(){this.ended_=!0,this.transmuxer_&&segmentTransmuxer.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},r.buffered_=function(){var a=this.getMediaInfo_();if(!this.sourceUpdater_||!a)return videojs.createTimeRanges();if(this.loaderType_==="main"){var l=a.hasAudio,f=a.hasVideo,c=a.isMuxed;if(f&&l&&!this.audioDisabled_&&!c)return this.sourceUpdater_.buffered();if(f)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},r.initSegmentForMap=function(a,l){if(l===void 0&&(l=!1),!a)return null;var f=initSegmentId(a),c=this.initSegments_[f];return l&&!c&&a.bytes&&(this.initSegments_[f]=c={resolvedUri:a.resolvedUri,byterange:a.byterange,bytes:a.bytes,tracks:a.tracks,timescales:a.timescales}),c||a},r.segmentKey=function(a,l){if(l===void 0&&(l=!1),!a)return null;var f=segmentKeyId(a),c=this.keyCache_[f];this.cacheEncryptionKeys_&&l&&!c&&a.bytes&&(this.keyCache_[f]=c={resolvedUri:a.resolvedUri,bytes:a.bytes});var d={resolvedUri:(c||a).resolvedUri};return c&&(d.bytes=c.bytes),d},r.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},r.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},r.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},r.playlist=function(a,l){if(l===void 0&&(l={}),!!a){var f=this.playlist_,c=this.pendingSegment_;this.playlist_=a,this.xhrOptions_=l,this.state==="INIT"&&(a.syncInfo={mediaSequence:a.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(a));var d=null;if(f&&(f.id?d=f.id:f.uri&&(d=f.uri)),this.logger_("playlist update ["+d+" => "+(a.id||a.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!f||f.uri!==a.uri){this.mediaIndex!==null&&(a.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var g=a.mediaSequence-f.mediaSequence;if(this.logger_("live window shift ["+g+"]"),this.mediaIndex!==null)if(this.mediaIndex-=g,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var b=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!b.parts||!b.parts.length||!b.parts[this.partIndex])){var m=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=m}}c&&(c.mediaIndex-=g,c.mediaIndex<0?(c.mediaIndex=null,c.partIndex=null):(c.mediaIndex>=0&&(c.segment=a.segments[c.mediaIndex]),c.partIndex>=0&&c.segment.parts&&(c.part=c.segment.parts[c.partIndex]))),this.syncController_.saveExpiredSegmentInfo(f,a)}},r.pause=function(){this.checkBufferTimeout_&&(window_1.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},r.paused=function(){return this.checkBufferTimeout_===null},r.resetEverything=function(a){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,a),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},r.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},r.resyncLoader=function(){this.transmuxer_&&segmentTransmuxer.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},r.remove=function(a,l,f,c){if(f===void 0&&(f=function(){}),c===void 0&&(c=!1),l===1/0&&(l=this.duration_()),l<=a){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var d=1,g=function(){d--,d===0&&f()};(c||!this.audioDisabled_)&&(d++,this.sourceUpdater_.removeAudio(a,l,g)),(c||this.loaderType_==="main")&&(this.gopBuffer_=removeGopBuffer(this.gopBuffer_,a,l,this.timeMapping_),d++,this.sourceUpdater_.removeVideo(a,l,g));for(var b in this.inbandTextTracks_)removeCuesFromTrack(a,l,this.inbandTextTracks_[b]);removeCuesFromTrack(a,l,this.segmentMetadataTrack_),g()},r.monitorBuffer_=function(){this.checkBufferTimeout_&&window_1.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=window_1.setTimeout(this.monitorBufferTick_.bind(this),1)},r.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&window_1.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=window_1.setTimeout(this.monitorBufferTick_.bind(this),CHECK_BUFFER_DELAY)},r.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var a=this.chooseNextRequest_();a&&(typeof a.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:a.timeline})),this.loadSegment_(a))}},r.isEndOfStream_=function(a,l,f){if(a===void 0&&(a=this.mediaIndex),l===void 0&&(l=this.playlist_),f===void 0&&(f=this.partIndex),!l||!this.mediaSource_)return!1;var c=typeof a=="number"&&l.segments[a],d=a+1===l.segments.length,g=!c||!c.parts||f+1===c.parts.length;return l.endList&&this.mediaSource_.readyState==="open"&&d&&g},r.chooseNextRequest_=function(){var a=this.buffered_(),l=lastBufferedEnd(a)||0,f=timeAheadOf(a,this.currentTime_()),c=!this.hasPlayed_()&&f>=1,d=f>=this.goalBufferLength_(),g=this.playlist_.segments;if(!g.length||c||d)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var b={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(b.isSyncRequest)b.mediaIndex=getSyncSegmentCandidate(this.currentTimeline_,g,l);else if(this.mediaIndex!==null){var m=g[this.mediaIndex],_=typeof this.partIndex=="number"?this.partIndex:-1;b.startOfSegment=m.end?m.end:l,m.parts&&m.parts[_+1]?(b.mediaIndex=this.mediaIndex,b.partIndex=_+1):b.mediaIndex=this.mediaIndex+1}else{var x=Playlist.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?l:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),k=x.segmentIndex,q=x.startTime,j=x.partIndex;b.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+l:"currentTime "+this.currentTime_(),b.mediaIndex=k,b.startOfSegment=q,b.partIndex=j}var ne=g[b.mediaIndex],se=ne&&typeof b.partIndex=="number"&&ne.parts&&ne.parts[b.partIndex];if(!ne||typeof b.partIndex=="number"&&!se)return null;if(typeof b.partIndex!="number"&&ne.parts&&(b.partIndex=0,se=ne.parts[0]),!f&&se&&!se.independent)if(b.partIndex===0){var le=g[b.mediaIndex-1],ue=le.parts&&le.parts.length&&le.parts[le.parts.length-1];ue&&ue.independent&&(b.mediaIndex-=1,b.partIndex=le.parts.length-1,b.independent="previous segment")}else ne.parts[b.partIndex-1].independent&&(b.partIndex-=1,b.independent="previous part");var he=this.mediaSource_&&this.mediaSource_.readyState==="ended";return b.mediaIndex>=g.length-1&&he&&!this.seeking_()?null:this.generateSegmentInfo_(b)},r.generateSegmentInfo_=function(a){var l=a.independent,f=a.playlist,c=a.mediaIndex,d=a.startOfSegment,g=a.isSyncRequest,b=a.partIndex,m=a.forceTimestampOffset,_=a.getMediaInfoForTime,x=f.segments[c],k=typeof b=="number"&&x.parts[b],q={requestId:"segment-loader-"+Math.random(),uri:k&&k.resolvedUri||x.resolvedUri,mediaIndex:c,partIndex:k?b:null,isSyncRequest:g,startOfSegment:d,playlist:f,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:x.timeline,duration:k&&k.duration||x.duration,segment:x,part:k,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:_,independent:l},j=typeof m<"u"?m:this.isPendingTimestampOffset_;q.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:x.timeline,currentTimeline:this.currentTimeline_,startOfSegment:d,buffered:this.buffered_(),overrideCheck:j});var ne=lastBufferedEnd(this.sourceUpdater_.audioBuffered());return typeof ne=="number"&&(q.audioAppendStart=ne-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(q.gopsToAlignWith=gopsSafeToAlignWith(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),q},r.timestampOffsetForSegment_=function(a){return timestampOffsetForSegment(a)},r.earlyAbortWhenNeeded_=function(a){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(a.firstBytesReceivedAt||Date.now())<1e3)){var l=this.currentTime_(),f=a.bandwidth,c=this.pendingSegment_.duration,d=Playlist.estimateSegmentRequestTime(c,f,this.playlist_,a.bytesReceived),g=timeUntilRebuffer(this.buffered_(),l,this.vhs_.tech_.playbackRate())-1;if(!(d<=g)){var b=minRebufferMaxBandwidthSelector({master:this.vhs_.playlists.master,currentTime:l,bandwidth:f,duration:this.duration_(),segmentDuration:c,timeUntilRebuffer:g,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(b){var m=d-g,_=m-b.rebufferingImpact,x=.5;g<=TIME_FUDGE_FACTOR&&(x=1),!(!b.playlist||b.playlist.uri===this.playlist_.uri||_<x)&&(this.bandwidth=b.playlist.attributes.BANDWIDTH*Config.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},r.handleAbort_=function(a){this.logger_("Aborting "+segmentInfoString(a)),this.mediaRequestsAborted+=1},r.handleProgress_=function(a,l){this.earlyAbortWhenNeeded_(l.stats),!this.checkForAbort_(l.requestId)&&this.trigger("progress")},r.handleTrackInfo_=function(a,l){this.earlyAbortWhenNeeded_(a.stats),!this.checkForAbort_(a.requestId)&&(this.checkForIllegalMediaSwitch(l)||(l=l||{},shallowEqual(this.currentMediaInfo_,l)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=l,this.currentMediaInfo_=l,this.logger_("trackinfo update",l),this.trigger("trackinfo")),!this.checkForAbort_(a.requestId)&&(this.pendingSegment_.trackInfo=l,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},r.handleTimingInfo_=function(a,l,f,c){if(this.earlyAbortWhenNeeded_(a.stats),!this.checkForAbort_(a.requestId)){var d=this.pendingSegment_,g=timingInfoPropertyForMedia(l);d[g]=d[g]||{},d[g][f]=c,this.logger_("timinginfo: "+l+" - "+f+" - "+c),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},r.handleCaptions_=function(a,l){var f=this;if(this.earlyAbortWhenNeeded_(a.stats),!this.checkForAbort_(a.requestId)){if(l.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var c=this.pendingSegment_;if(!c.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,a,l));return}var d=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),g={};l.forEach(function(b){g[b.stream]=g[b.stream]||{startTime:1/0,captions:[],endTime:0};var m=g[b.stream];m.startTime=Math.min(m.startTime,b.startTime+d),m.endTime=Math.max(m.endTime,b.endTime+d),m.captions.push(b)}),Object.keys(g).forEach(function(b){var m=g[b],_=m.startTime,x=m.endTime,k=m.captions,q=f.inbandTextTracks_;f.logger_("adding cues from "+_+" -> "+x+" for "+b),createCaptionsTrackIfNotExists(q,f.vhs_.tech_,b),removeCuesFromTrack(_,x,q[b]),addCaptionData({captionArray:k,inbandTextTracks:q,timestampOffset:d})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},r.handleId3_=function(a,l,f){if(this.earlyAbortWhenNeeded_(a.stats),!this.checkForAbort_(a.requestId)){var c=this.pendingSegment_;if(!c.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,a,l,f));return}var d=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();createMetadataTrackIfNotExists(this.inbandTextTracks_,f,this.vhs_.tech_),addMetadata({inbandTextTracks:this.inbandTextTracks_,metadataArray:l,timestampOffset:d,videoDuration:this.duration_()})}},r.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(a){return a()}),this.metadataQueue_.caption.forEach(function(a){return a()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},r.processCallQueue_=function(){var a=this.callQueue_;this.callQueue_=[],a.forEach(function(l){return l()})},r.processLoadQueue_=function(){var a=this.loadQueue_;this.loadQueue_=[],a.forEach(function(l){return l()})},r.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var a=this.pendingSegment_;return a?this.getCurrentMediaInfo_()?!shouldWaitForTimelineChange({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:a.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},r.getCurrentMediaInfo_=function(a){return a===void 0&&(a=this.pendingSegment_),a&&a.trackInfo||this.currentMediaInfo_},r.getMediaInfo_=function(a){return a===void 0&&(a=this.pendingSegment_),this.getCurrentMediaInfo_(a)||this.startingMediaInfo_},r.getPendingSegmentPlaylist=function(){return this.pendingSegment_?this.pendingSegment_.playlist:null},r.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var a=this.pendingSegment_,l=this.getCurrentMediaInfo_();if(!a||!l)return!1;var f=l.hasAudio,c=l.hasVideo,d=l.isMuxed;return!(c&&!a.videoTimingInfo||f&&!this.audioDisabled_&&!d&&!a.audioTimingInfo||shouldWaitForTimelineChange({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:a.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},r.handleData_=function(a,l){if(this.earlyAbortWhenNeeded_(a.stats),!this.checkForAbort_(a.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,a,l));return}var f=this.pendingSegment_;if(this.setTimeMapping_(f.timeline),this.updateMediaSecondsLoaded_(f.part||f.segment),this.mediaSource_.readyState!=="closed"){if(a.map&&(a.map=this.initSegmentForMap(a.map,!0),f.segment.map=a.map),a.key&&this.segmentKey(a.key,!0),f.isFmp4=a.isFmp4,f.timingInfo=f.timingInfo||{},f.isFmp4)this.trigger("fmp4"),f.timingInfo.start=f[timingInfoPropertyForMedia(l.type)].start;else{var c=this.getCurrentMediaInfo_(),d=this.loaderType_==="main"&&c&&c.hasVideo,g;d&&(g=f.videoTimingInfo.start),f.timingInfo.start=this.trueSegmentStart_({currentStart:f.timingInfo.start,playlist:f.playlist,mediaIndex:f.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:d,firstVideoFrameTimeForData:g,videoTimingInfo:f.videoTimingInfo,audioTimingInfo:f.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(f,l.type),this.updateSourceBufferTimestampOffset_(f),f.isSyncRequest){this.updateTimingInfoEnd_(f),this.syncController_.saveSegmentTimingInfo({segmentInfo:f,shouldSaveTimelineMapping:this.loaderType_==="main"});var b=this.chooseNextRequest_();if(b.mediaIndex!==f.mediaIndex||b.partIndex!==f.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}f.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(f,l)}}},r.updateAppendInitSegmentStatus=function(a,l){this.loaderType_==="main"&&typeof a.timestampOffset=="number"&&!a.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[l]!==a.playlist&&(this.appendInitSegment_[l]=!0)},r.getInitSegmentAndUpdateState_=function(a){var l=a.type,f=a.initSegment,c=a.map,d=a.playlist;if(c){var g=initSegmentId(c);if(this.activeInitSegmentId_===g)return null;f=this.initSegmentForMap(c,!0).bytes,this.activeInitSegmentId_=g}return f&&this.appendInitSegment_[l]?(this.playlistOfLastInitSegment_[l]=d,this.appendInitSegment_[l]=!1,this.activeInitSegmentId_=null,f):null},r.handleQuotaExceededError_=function(a,l){var f=this,c=a.segmentInfo,d=a.type,g=a.bytes,b=this.sourceUpdater_.audioBuffered(),m=this.sourceUpdater_.videoBuffered();b.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+timeRangesToArray(b).join(", ")),m.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+timeRangesToArray(m).join(", "));var _=b.length?b.start(0):0,x=b.length?b.end(b.length-1):0,k=m.length?m.start(0):0,q=m.length?m.end(m.length-1):0;if(x-_<=MIN_BACK_BUFFER&&q-k<=MIN_BACK_BUFFER){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+g.byteLength+", ")+("audio buffer: "+timeRangesToArray(b).join(", ")+", ")+("video buffer: "+timeRangesToArray(m).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:c,type:d,bytes:g}));var j=this.currentTime_(),ne=j-MIN_BACK_BUFFER;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+ne),this.remove(0,ne,function(){f.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+MIN_BACK_BUFFER+"s"),f.waitingOnRemove_=!1,f.quotaExceededErrorRetryTimeout_=window_1.setTimeout(function(){f.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),f.quotaExceededErrorRetryTimeout_=null,f.processCallQueue_()},MIN_BACK_BUFFER*1e3)},!0)},r.handleAppendError_=function(a,l){var f=a.segmentInfo,c=a.type,d=a.bytes;if(l){if(l.code===QUOTA_EXCEEDED_ERR){this.handleQuotaExceededError_({segmentInfo:f,type:c,bytes:d});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",l),this.error(c+" append of "+d.length+"b failed for segment "+("#"+f.mediaIndex+" in playlist "+f.playlist.id)),this.trigger("appenderror")}},r.appendToSourceBuffer_=function(a){var l=a.segmentInfo,f=a.type,c=a.initSegment,d=a.data,g=a.bytes;if(!g){var b=[d],m=d.byteLength;c&&(b.unshift(c),m+=c.byteLength),g=concatSegments({bytes:m,segments:b})}this.sourceUpdater_.appendBuffer({segmentInfo:l,type:f,bytes:g},this.handleAppendError_.bind(this,{segmentInfo:l,type:f,bytes:g}))},r.handleSegmentTimingInfo_=function(a,l,f){if(!(!this.pendingSegment_||l!==this.pendingSegment_.requestId)){var c=this.pendingSegment_.segment,d=a+"TimingInfo";c[d]||(c[d]={}),c[d].transmuxerPrependedSeconds=f.prependedContentDuration||0,c[d].transmuxedPresentationStart=f.start.presentation,c[d].transmuxedDecodeStart=f.start.decode,c[d].transmuxedPresentationEnd=f.end.presentation,c[d].transmuxedDecodeEnd=f.end.decode,c[d].baseMediaDecodeTime=f.baseMediaDecodeTime}},r.appendData_=function(a,l){var f=l.type,c=l.data;if(!(!c||!c.byteLength)&&!(f==="audio"&&this.audioDisabled_)){var d=this.getInitSegmentAndUpdateState_({type:f,initSegment:l.initSegment,playlist:a.playlist,map:a.isFmp4?a.segment.map:null});this.appendToSourceBuffer_({segmentInfo:a,type:f,initSegment:d,data:c})}},r.loadSegment_=function(a){var l=this;if(this.state="WAITING",this.pendingSegment_=a,this.trimBackBuffer_(a),typeof a.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var f=_extends$2({},a,{forceTimestampOffset:!0});_extends$2(a,l.generateSegmentInfo_(f)),l.isPendingTimestampOffset_=!1,l.updateTransmuxerAndRequestSegment_(a)});return}this.updateTransmuxerAndRequestSegment_(a)},r.updateTransmuxerAndRequestSegment_=function(a){var l=this;this.shouldUpdateTransmuxerTimestampOffset_(a.timestampOffset)&&(this.gopBuffer_.length=0,a.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:a.timestampOffset}));var f=this.createSimplifiedSegmentObj_(a),c=this.isEndOfStream_(a.mediaIndex,a.playlist,a.partIndex),d=this.mediaIndex!==null,g=a.timeline!==this.currentTimeline_&&a.timeline>0,b=c||d&&g;this.logger_("Requesting "+segmentInfoString(a)),f.map&&!f.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),a.abortRequests=mediaSegmentRequest({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:f,abortFn:this.handleAbort_.bind(this,a),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",a.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",a.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:b,endedTimelineFn:function(){l.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(_){var x=_.message,k=_.level,q=_.stream;l.logger_(segmentInfoString(a)+" logged from transmuxer stream "+q+" as a "+k+": "+x)}})},r.trimBackBuffer_=function(a){var l=safeBackBufferTrimTime(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);l>0&&this.remove(0,l)},r.createSimplifiedSegmentObj_=function(a){var l=a.segment,f=a.part,c={resolvedUri:f?f.resolvedUri:l.resolvedUri,byterange:f?f.byterange:l.byterange,requestId:a.requestId,transmuxer:a.transmuxer,audioAppendStart:a.audioAppendStart,gopsToAlignWith:a.gopsToAlignWith,part:a.part},d=a.playlist.segments[a.mediaIndex-1];if(d&&d.timeline===l.timeline&&(d.videoTimingInfo?c.baseStartTime=d.videoTimingInfo.transmuxedDecodeEnd:d.audioTimingInfo&&(c.baseStartTime=d.audioTimingInfo.transmuxedDecodeEnd)),l.key){var g=l.key.iv||new Uint32Array([0,0,0,a.mediaIndex+a.playlist.mediaSequence]);c.key=this.segmentKey(l.key),c.key.iv=g}return l.map&&(c.map=this.initSegmentForMap(l.map)),c},r.saveTransferStats_=function(a){this.mediaRequests+=1,a&&(this.mediaBytesTransferred+=a.bytesReceived,this.mediaTransferDuration+=a.roundTripTime)},r.saveBandwidthRelatedStats_=function(a,l){if(this.pendingSegment_.byteLength=l.bytesReceived,a<MIN_SEGMENT_DURATION_TO_SAVE_STATS){this.logger_("Ignoring segment's bandwidth because its duration of "+a+(" is less than the min to record "+MIN_SEGMENT_DURATION_TO_SAVE_STATS));return}this.bandwidth=l.bandwidth,this.roundTrip=l.roundTripTime},r.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")},r.segmentRequestFinished_=function(a,l,f){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,a,l,f));return}if(this.saveTransferStats_(l.stats),!!this.pendingSegment_&&l.requestId===this.pendingSegment_.requestId){if(a){if(this.pendingSegment_=null,this.state="READY",a.code===REQUEST_ERRORS.ABORTED)return;if(this.pause(),a.code===REQUEST_ERRORS.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(a),this.trigger("error");return}var c=this.pendingSegment_;this.saveBandwidthRelatedStats_(c.duration,l.stats),c.endOfAllRequests=l.endOfAllRequests,f.gopInfo&&(this.gopBuffer_=updateGopBuffer(this.gopBuffer_,f.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(c)}},r.setTimeMapping_=function(a){var l=this.syncController_.mappingForTimeline(a);l!==null&&(this.timeMapping_=l)},r.updateMediaSecondsLoaded_=function(a){typeof a.start=="number"&&typeof a.end=="number"?this.mediaSecondsLoaded+=a.end-a.start:this.mediaSecondsLoaded+=a.duration},r.shouldUpdateTransmuxerTimestampOffset_=function(a){return a===null?!1:this.loaderType_==="main"&&a!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&a!==this.sourceUpdater_.audioTimestampOffset()},r.trueSegmentStart_=function(a){var l=a.currentStart,f=a.playlist,c=a.mediaIndex,d=a.firstVideoFrameTimeForData,g=a.currentVideoTimestampOffset,b=a.useVideoTimingInfo,m=a.videoTimingInfo,_=a.audioTimingInfo;if(typeof l<"u")return l;if(!b)return _.start;var x=f.segments[c-1];return c===0||!x||typeof x.start>"u"||x.end!==d+g?d:m.start},r.waitForAppendsToComplete_=function(a){var l=this.getCurrentMediaInfo_(a);if(!l){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var f=l.hasAudio,c=l.hasVideo,d=l.isMuxed,g=this.loaderType_==="main"&&c,b=!this.audioDisabled_&&f&&!d;if(a.waitingOnAppends=0,!a.hasAppendedData_){!a.timingInfo&&typeof a.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),a.timingInfo={start:0},a.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(a),this.processMetadataQueue_()),this.checkAppendsDone_(a);return}g&&a.waitingOnAppends++,b&&a.waitingOnAppends++,g&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,a)),b&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,a))},r.checkAppendsDone_=function(a){this.checkForAbort_(a.requestId)||(a.waitingOnAppends--,a.waitingOnAppends===0&&this.handleAppendsDone_())},r.checkForIllegalMediaSwitch=function(a){var l=illegalMediaSwitch(this.loaderType_,this.getCurrentMediaInfo_(),a);return l?(this.error({message:l,blacklistDuration:1/0}),this.trigger("error"),!0):!1},r.updateSourceBufferTimestampOffset_=function(a){if(!(a.timestampOffset===null||typeof a.timingInfo.start!="number"||a.changedTimestampOffset||this.loaderType_!=="main")){var l=!1;a.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:a.segment.videoTimingInfo,audioTimingInfo:a.segment.audioTimingInfo,timingInfo:a.timingInfo}),a.changedTimestampOffset=!0,a.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(a.timestampOffset),l=!0),a.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(a.timestampOffset),l=!0),l&&this.trigger("timestampoffset")}},r.getSegmentStartTimeForTimestampOffsetCalculation_=function(a){var l=a.videoTimingInfo,f=a.audioTimingInfo,c=a.timingInfo;return this.useDtsForTimestampOffset_?l&&typeof l.transmuxedDecodeStart=="number"?l.transmuxedDecodeStart:f&&typeof f.transmuxedDecodeStart=="number"?f.transmuxedDecodeStart:c.start:c.start},r.updateTimingInfoEnd_=function(a){a.timingInfo=a.timingInfo||{};var l=this.getMediaInfo_(),f=this.loaderType_==="main"&&l&&l.hasVideo,c=f&&a.videoTimingInfo?a.videoTimingInfo:a.audioTimingInfo;c&&(a.timingInfo.end=typeof c.end=="number"?c.end:c.start+a.duration)},r.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var a=this.pendingSegment_;this.updateTimingInfoEnd_(a),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:a,shouldSaveTimelineMapping:this.loaderType_==="main"});var l=getTroublesomeSegmentDurationMessage(a,this.sourceType_);if(l&&(l.severity==="warn"?videojs.log.warn(l.message):this.logger_(l.message)),this.recordThroughput_(a),this.pendingSegment_=null,this.state="READY",a.isSyncRequest&&(this.trigger("syncinfoupdate"),!a.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+segmentInfoString(a));return}this.logger_("Appended "+segmentInfoString(a)),this.addSegmentMetadataCue_(a),this.fetchAtBuffer_=!0,this.currentTimeline_!==a.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:a.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:a.timeline})),this.currentTimeline_=a.timeline,this.trigger("syncinfoupdate");var f=a.segment,c=a.part,d=f.end&&this.currentTime_()-f.end>a.playlist.targetDuration*3,g=c&&c.end&&this.currentTime_()-c.end>a.playlist.partTargetDuration*3;if(d||g){this.logger_("bad "+(d?"segment":"part")+" "+segmentInfoString(a)),this.resetEverything();return}var b=this.mediaIndex!==null;b&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=a.mediaIndex,this.partIndex=a.partIndex,this.isEndOfStream_(a.mediaIndex,a.playlist,a.partIndex)&&this.endOfStream(),this.trigger("appended"),a.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},r.recordThroughput_=function(a){if(a.duration<MIN_SEGMENT_DURATION_TO_SAVE_STATS){this.logger_("Ignoring segment's throughput because its duration of "+a.duration+(" is less than the min to record "+MIN_SEGMENT_DURATION_TO_SAVE_STATS));return}var l=this.throughput.rate,f=Date.now()-a.endOfAllRequests+1,c=Math.floor(a.byteLength/f*8*1e3);this.throughput.rate+=(c-l)/++this.throughput.count},r.addSegmentMetadataCue_=function(a){if(this.segmentMetadataTrack_){var l=a.segment,f=l.start,c=l.end;if(!(!finite(f)||!finite(c))){removeCuesFromTrack(f,c,this.segmentMetadataTrack_);var d=window_1.WebKitDataCue||window_1.VTTCue,g={custom:l.custom,dateTimeObject:l.dateTimeObject,dateTimeString:l.dateTimeString,bandwidth:a.playlist.attributes.BANDWIDTH,resolution:a.playlist.attributes.RESOLUTION,codecs:a.playlist.attributes.CODECS,byteLength:a.byteLength,uri:a.uri,timeline:a.timeline,playlist:a.playlist.id,start:f,end:c},b=JSON.stringify(g),m=new d(f,c,b);m.value=g,this.segmentMetadataTrack_.addCue(m)}}},e}(videojs.EventTarget);function noop$1(){}var toTitleCase=function(e){return typeof e!="string"?e:e.replace(/./,function(r){return r.toUpperCase()})},bufferTypes=["video","audio"],_updating=function(e,r){var s=r[e+"Buffer"];return s&&s.updating||r.queuePending[e]},nextQueueIndexOfType=function(e,r){for(var s=0;s<r.length;s++){var a=r[s];if(a.type==="mediaSource")return null;if(a.type===e)return s}return null},shiftQueue=function n(e,r){if(r.queue.length!==0){var s=0,a=r.queue[s];if(a.type==="mediaSource"){!r.updating()&&r.mediaSource.readyState!=="closed"&&(r.queue.shift(),a.action(r),a.doneFn&&a.doneFn(),n("audio",r),n("video",r));return}if(e!=="mediaSource"&&!(!r.ready()||r.mediaSource.readyState==="closed"||_updating(e,r))){if(a.type!==e){if(s=nextQueueIndexOfType(e,r.queue),s===null)return;a=r.queue[s]}if(r.queue.splice(s,1),r.queuePending[e]=a,a.action(e,r),!a.doneFn){r.queuePending[e]=null,n(e,r);return}}}},cleanupBuffer=function(e,r){var s=r[e+"Buffer"],a=toTitleCase(e);s&&(s.removeEventListener("updateend",r["on"+a+"UpdateEnd_"]),s.removeEventListener("error",r["on"+a+"Error_"]),r.codecs[e]=null,r[e+"Buffer"]=null)},inSourceBuffers=function(e,r){return e&&r&&Array.prototype.indexOf.call(e.sourceBuffers,r)!==-1},actions={appendBuffer:function(e,r,s){return function(a,l){var f=l[a+"Buffer"];if(inSourceBuffers(l.mediaSource,f)){l.logger_("Appending segment "+r.mediaIndex+"'s "+e.length+" bytes to "+a+"Buffer");try{f.appendBuffer(e)}catch(c){l.logger_("Error with code "+c.code+" "+(c.code===QUOTA_EXCEEDED_ERR?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+r.mediaIndex+" to "+a+"Buffer")),l.queuePending[a]=null,s(c)}}}},remove:function(e,r){return function(s,a){var l=a[s+"Buffer"];if(inSourceBuffers(a.mediaSource,l)){a.logger_("Removing "+e+" to "+r+" from "+s+"Buffer");try{l.remove(e,r)}catch{a.logger_("Remove "+e+" to "+r+" from "+s+"Buffer failed")}}}},timestampOffset:function(e){return function(r,s){var a=s[r+"Buffer"];inSourceBuffers(s.mediaSource,a)&&(s.logger_("Setting "+r+"timestampOffset to "+e),a.timestampOffset=e)}},callback:function(e){return function(r,s){e()}},endOfStream:function(e){return function(r){if(r.mediaSource.readyState==="open"){r.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{r.mediaSource.endOfStream(e)}catch(s){videojs.log.warn("Failed to call media source endOfStream",s)}}}},duration:function(e){return function(r){r.logger_("Setting mediaSource duration to "+e);try{r.mediaSource.duration=e}catch(s){videojs.log.warn("Failed to set media source duration",s)}}},abort:function(){return function(e,r){if(r.mediaSource.readyState==="open"){var s=r[e+"Buffer"];if(inSourceBuffers(r.mediaSource,s)){r.logger_("calling abort on "+e+"Buffer");try{s.abort()}catch(a){videojs.log.warn("Failed to abort on "+e+"Buffer",a)}}}}},addSourceBuffer:function(e,r){return function(s){var a=toTitleCase(e),l=getMimeForCodec(r);s.logger_("Adding "+e+"Buffer with codec "+r+" to mediaSource");var f=s.mediaSource.addSourceBuffer(l);f.addEventListener("updateend",s["on"+a+"UpdateEnd_"]),f.addEventListener("error",s["on"+a+"Error_"]),s.codecs[e]=r,s[e+"Buffer"]=f}},removeSourceBuffer:function(e){return function(r){var s=r[e+"Buffer"];if(cleanupBuffer(e,r),!!inSourceBuffers(r.mediaSource,s)){r.logger_("Removing "+e+"Buffer with codec "+r.codecs[e]+" from mediaSource");try{r.mediaSource.removeSourceBuffer(s)}catch(a){videojs.log.warn("Failed to removeSourceBuffer "+e+"Buffer",a)}}}},changeType:function(e){return function(r,s){var a=s[r+"Buffer"],l=getMimeForCodec(e);inSourceBuffers(s.mediaSource,a)&&s.codecs[r]!==e&&(s.logger_("changing "+r+"Buffer codec from "+s.codecs[r]+" to "+e),a.changeType(l),s.codecs[r]=e)}}},pushQueue=function(e){var r=e.type,s=e.sourceUpdater,a=e.action,l=e.doneFn,f=e.name;s.queue.push({type:r,action:a,doneFn:l,name:f}),shiftQueue(r,s)},onUpdateend=function(e,r){return function(s){if(r.queuePending[e]){var a=r.queuePending[e].doneFn;r.queuePending[e]=null,a&&a(r[e+"Error_"])}shiftQueue(e,r)}},SourceUpdater=function(n){_inheritsLoose(e,n);function e(s){var a;return a=n.call(this)||this,a.mediaSource=s,a.sourceopenListener_=function(){return shiftQueue("mediaSource",_assertThisInitialized(a))},a.mediaSource.addEventListener("sourceopen",a.sourceopenListener_),a.logger_=logger$1("SourceUpdater"),a.audioTimestampOffset_=0,a.videoTimestampOffset_=0,a.queue=[],a.queuePending={audio:null,video:null},a.delayedAudioAppendQueue_=[],a.videoAppendQueued_=!1,a.codecs={},a.onVideoUpdateEnd_=onUpdateend("video",_assertThisInitialized(a)),a.onAudioUpdateEnd_=onUpdateend("audio",_assertThisInitialized(a)),a.onVideoError_=function(l){a.videoError_=l},a.onAudioError_=function(l){a.audioError_=l},a.createdSourceBuffers_=!1,a.initializedEme_=!1,a.triggeredReady_=!1,a}var r=e.prototype;return r.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},r.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},r.hasInitializedAnyEme=function(){return this.initializedEme_},r.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},r.createSourceBuffers=function(a){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(a),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},r.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},r.addSourceBuffer=function(a,l){pushQueue({type:"mediaSource",sourceUpdater:this,action:actions.addSourceBuffer(a,l),name:"addSourceBuffer"})},r.abort=function(a){pushQueue({type:a,sourceUpdater:this,action:actions.abort(a),name:"abort"})},r.removeSourceBuffer=function(a){if(!this.canRemoveSourceBuffer()){videojs.log.error("removeSourceBuffer is not supported!");return}pushQueue({type:"mediaSource",sourceUpdater:this,action:actions.removeSourceBuffer(a),name:"removeSourceBuffer"})},r.canRemoveSourceBuffer=function(){return!videojs.browser.IE_VERSION&&!videojs.browser.IS_FIREFOX&&window_1.MediaSource&&window_1.MediaSource.prototype&&typeof window_1.MediaSource.prototype.removeSourceBuffer=="function"},e.canChangeType=function(){return window_1.SourceBuffer&&window_1.SourceBuffer.prototype&&typeof window_1.SourceBuffer.prototype.changeType=="function"},r.canChangeType=function(){return this.constructor.canChangeType()},r.changeType=function(a,l){if(!this.canChangeType()){videojs.log.error("changeType is not supported!");return}pushQueue({type:a,sourceUpdater:this,action:actions.changeType(l),name:"changeType"})},r.addOrChangeSourceBuffers=function(a){var l=this;if(!a||typeof a!="object"||Object.keys(a).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(a).forEach(function(f){var c=a[f];if(!l.hasCreatedSourceBuffers())return l.addSourceBuffer(f,c);l.canChangeType()&&l.changeType(f,c)})},r.appendBuffer=function(a,l){var f=this,c=a.segmentInfo,d=a.type,g=a.bytes;if(this.processedAppend_=!0,d==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([a,l]),this.logger_("delayed audio append of "+g.length+" until video append");return}var b=l;if(pushQueue({type:d,sourceUpdater:this,action:actions.appendBuffer(g,c||{mediaIndex:-1},b),doneFn:l,name:"appendBuffer"}),d==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var m=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+m.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,m.forEach(function(_){f.appendBuffer.apply(f,_)})}},r.audioBuffered=function(){return inSourceBuffers(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:videojs.createTimeRange()},r.videoBuffered=function(){return inSourceBuffers(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:videojs.createTimeRange()},r.buffered=function(){var a=inSourceBuffers(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,l=inSourceBuffers(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return l&&!a?this.audioBuffered():a&&!l?this.videoBuffered():bufferIntersection(this.audioBuffered(),this.videoBuffered())},r.setDuration=function(a,l){l===void 0&&(l=noop$1),pushQueue({type:"mediaSource",sourceUpdater:this,action:actions.duration(a),name:"duration",doneFn:l})},r.endOfStream=function(a,l){a===void 0&&(a=null),l===void 0&&(l=noop$1),typeof a!="string"&&(a=void 0),pushQueue({type:"mediaSource",sourceUpdater:this,action:actions.endOfStream(a),name:"endOfStream",doneFn:l})},r.removeAudio=function(a,l,f){if(f===void 0&&(f=noop$1),!this.audioBuffered().length||this.audioBuffered().end(0)===0){f();return}pushQueue({type:"audio",sourceUpdater:this,action:actions.remove(a,l),doneFn:f,name:"remove"})},r.removeVideo=function(a,l,f){if(f===void 0&&(f=noop$1),!this.videoBuffered().length||this.videoBuffered().end(0)===0){f();return}pushQueue({type:"video",sourceUpdater:this,action:actions.remove(a,l),doneFn:f,name:"remove"})},r.updating=function(){return!!(_updating("audio",this)||_updating("video",this))},r.audioTimestampOffset=function(a){return typeof a<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==a&&(pushQueue({type:"audio",sourceUpdater:this,action:actions.timestampOffset(a),name:"timestampOffset"}),this.audioTimestampOffset_=a),this.audioTimestampOffset_},r.videoTimestampOffset=function(a){return typeof a<"u"&&this.videoBuffer&&this.videoTimestampOffset!==a&&(pushQueue({type:"video",sourceUpdater:this,action:actions.timestampOffset(a),name:"timestampOffset"}),this.videoTimestampOffset_=a),this.videoTimestampOffset_},r.audioQueueCallback=function(a){this.audioBuffer&&pushQueue({type:"audio",sourceUpdater:this,action:actions.callback(a),name:"callback"})},r.videoQueueCallback=function(a){this.videoBuffer&&pushQueue({type:"video",sourceUpdater:this,action:actions.callback(a),name:"callback"})},r.dispose=function(){var a=this;this.trigger("dispose"),bufferTypes.forEach(function(l){a.abort(l),a.canRemoveSourceBuffer()?a.removeSourceBuffer(l):a[l+"QueueCallback"](function(){return cleanupBuffer(l,a)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},e}(videojs.EventTarget),uint8ToUtf8=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},VTT_LINE_TERMINATORS=new Uint8Array(`

`.split("").map(function(n){return n.charCodeAt(0)})),NoVttJsError=function(n){_inheritsLoose(e,n);function e(){return n.call(this,"Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")||this}return e}(_wrapNativeSuper(Error)),VTTSegmentLoader=function(n){_inheritsLoose(e,n);function e(s,a){var l;return a===void 0&&(a={}),l=n.call(this,s,a)||this,l.mediaSource_=null,l.subtitlesTrack_=null,l.loaderType_="subtitle",l.featuresNativeTextTracks_=s.featuresNativeTextTracks,l.loadVttJs=s.loadVttJs,l.shouldSaveSegmentTimingInfo_=!1,l}var r=e.prototype;return r.createTransmuxer_=function(){return null},r.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return videojs.createTimeRanges();var a=this.subtitlesTrack_.cues,l=a[0].startTime,f=a[a.length-1].startTime;return videojs.createTimeRanges([[l,f]])},r.initSegmentForMap=function(a,l){if(l===void 0&&(l=!1),!a)return null;var f=initSegmentId(a),c=this.initSegments_[f];if(l&&!c&&a.bytes){var d=VTT_LINE_TERMINATORS.byteLength+a.bytes.byteLength,g=new Uint8Array(d);g.set(a.bytes),g.set(VTT_LINE_TERMINATORS,a.bytes.byteLength),this.initSegments_[f]=c={resolvedUri:a.resolvedUri,byterange:a.byterange,bytes:g}}return c||a},r.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},r.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},r.track=function(a){return typeof a>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=a,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},r.remove=function(a,l){removeCuesFromTrack(a,l,this.subtitlesTrack_)},r.fillBuffer_=function(){var a=this,l=this.chooseNextRequest_();if(l){if(this.syncController_.timestampOffsetForTimeline(l.timeline)===null){var f=function(){a.state="READY",a.paused()||a.monitorBuffer_()};this.syncController_.one("timestampoffset",f),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(l)}},r.timestampOffsetForSegment_=function(){return null},r.chooseNextRequest_=function(){return this.skipEmptySegments_(n.prototype.chooseNextRequest_.call(this))},r.skipEmptySegments_=function(a){for(;a&&a.segment.empty;){if(a.mediaIndex+1>=a.playlist.segments.length){a=null;break}a=this.generateSegmentInfo_({playlist:a.playlist,mediaIndex:a.mediaIndex+1,startOfSegment:a.startOfSegment+a.duration,isSyncRequest:a.isSyncRequest})}return a},r.stopForError=function(a){this.error(a),this.state="READY",this.pause(),this.trigger("error")},r.segmentRequestFinished_=function(a,l,f){var c=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(l.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(a){a.code===REQUEST_ERRORS.TIMEOUT&&this.handleTimeout_(),a.code===REQUEST_ERRORS.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(a);return}var d=this.pendingSegment_;this.saveBandwidthRelatedStats_(d.duration,l.stats),l.key&&this.segmentKey(l.key,!0),this.state="APPENDING",this.trigger("appending");var g=d.segment;if(g.map&&(g.map.bytes=l.map.bytes),d.bytes=l.bytes,typeof window_1.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(function(){return c.segmentRequestFinished_(a,l,f)},function(){return c.stopForError({message:"Error loading vtt.js"})});return}g.requested=!0;try{this.parseVTTCues_(d)}catch(b){this.stopForError({message:b.message});return}if(this.updateTimeMapping_(d,this.syncController_.timelines[d.timeline],this.playlist_),d.cues.length?d.timingInfo={start:d.cues[0].startTime,end:d.cues[d.cues.length-1].endTime}:d.timingInfo={start:d.startOfSegment,end:d.startOfSegment+d.duration},d.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}d.byteLength=d.bytes.byteLength,this.mediaSecondsLoaded+=g.duration,d.cues.forEach(function(b){c.subtitlesTrack_.addCue(c.featuresNativeTextTracks_?new window_1.VTTCue(b.startTime,b.endTime,b.text):b)}),removeDuplicateCuesFromTrack(this.subtitlesTrack_),this.handleAppendsDone_()},r.handleData_=function(){},r.updateTimingInfoEnd_=function(){},r.parseVTTCues_=function(a){var l,f=!1;if(typeof window_1.WebVTT!="function")throw new NoVttJsError;typeof window_1.TextDecoder=="function"?l=new window_1.TextDecoder("utf8"):(l=window_1.WebVTT.StringDecoder(),f=!0);var c=new window_1.WebVTT.Parser(window_1,window_1.vttjs,l);if(a.cues=[],a.timestampmap={MPEGTS:0,LOCAL:0},c.oncue=a.cues.push.bind(a.cues),c.ontimestampmap=function(b){a.timestampmap=b},c.onparsingerror=function(b){videojs.log.warn("Error encountered when parsing cues: "+b.message)},a.segment.map){var d=a.segment.map.bytes;f&&(d=uint8ToUtf8(d)),c.parse(d)}var g=a.bytes;f&&(g=uint8ToUtf8(g)),c.parse(g),c.flush()},r.updateTimeMapping_=function(a,l,f){var c=a.segment;if(l){if(!a.cues.length){c.empty=!0;return}var d=a.timestampmap,g=d.MPEGTS/clock.ONE_SECOND_IN_TS-d.LOCAL+l.mapping;if(a.cues.forEach(function(_){_.startTime+=g,_.endTime+=g}),!f.syncInfo){var b=a.cues[0].startTime,m=a.cues[a.cues.length-1].startTime;f.syncInfo={mediaSequence:f.mediaSequence+a.mediaIndex,time:Math.min(b,m-c.duration)}}}},e}(SegmentLoader),findAdCue=function(e,r){for(var s=e.cues,a=0;a<s.length;a++){var l=s[a];if(r>=l.adStartTime&&r<=l.adEndTime)return l}return null},updateAdCues=function(e,r,s){if(s===void 0&&(s=0),!!e.segments)for(var a=s,l,f=0;f<e.segments.length;f++){var c=e.segments[f];if(l||(l=findAdCue(r,a+c.duration/2)),l){if("cueIn"in c){l.endTime=a,l.adEndTime=a,a+=c.duration,l=null;continue}if(a<l.endTime){a+=c.duration;continue}l.endTime+=c.duration}else if("cueOut"in c&&(l=new window_1.VTTCue(a,a+c.duration,c.cueOut),l.adStartTime=a,l.adEndTime=a+parseFloat(c.cueOut),r.addCue(l)),"cueOutCont"in c){var d=c.cueOutCont.split("/").map(parseFloat),g=d[0],b=d[1];l=new window_1.VTTCue(a,a+c.duration,""),l.adStartTime=a-g,l.adEndTime=l.adStartTime+b,r.addCue(l)}a+=c.duration}},MAX_MEDIA_SEQUENCE_DIFF_FOR_SYNC=86400,syncPointStrategies=[{name:"VOD",run:function(e,r,s,a,l){if(s!==1/0){var f={time:0,segmentIndex:0,partIndex:null};return f}return null}},{name:"ProgramDateTime",run:function(e,r,s,a,l){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var f=null,c=null,d=getPartsAndSegments(r);l=l||0;for(var g=0;g<d.length;g++){var b=r.endList||l===0?g:d.length-(g+1),m=d[b],_=m.segment,x=e.timelineToDatetimeMappings[_.timeline];if(!(!x||!_.dateTimeObject)){var k=_.dateTimeObject.getTime()/1e3,q=k+x;if(_.parts&&typeof m.partIndex=="number")for(var j=0;j<m.partIndex;j++)q+=_.parts[j].duration;var ne=Math.abs(l-q);if(c!==null&&(ne===0||c<ne))break;c=ne,f={time:q,segmentIndex:m.segmentIndex,partIndex:m.partIndex}}}return f}},{name:"Segment",run:function(e,r,s,a,l){var f=null,c=null;l=l||0;for(var d=getPartsAndSegments(r),g=0;g<d.length;g++){var b=r.endList||l===0?g:d.length-(g+1),m=d[b],_=m.segment,x=m.part&&m.part.start||_&&_.start;if(_.timeline===a&&typeof x<"u"){var k=Math.abs(l-x);if(c!==null&&c<k)break;(!f||c===null||c>=k)&&(c=k,f={time:x,segmentIndex:m.segmentIndex,partIndex:m.partIndex})}}return f}},{name:"Discontinuity",run:function(e,r,s,a,l){var f=null;if(l=l||0,r.discontinuityStarts&&r.discontinuityStarts.length)for(var c=null,d=0;d<r.discontinuityStarts.length;d++){var g=r.discontinuityStarts[d],b=r.discontinuitySequence+d+1,m=e.discontinuities[b];if(m){var _=Math.abs(l-m.time);if(c!==null&&c<_)break;(!f||c===null||c>=_)&&(c=_,f={time:m.time,segmentIndex:g,partIndex:null})}}return f}},{name:"Playlist",run:function(e,r,s,a,l){if(r.syncInfo){var f={time:r.syncInfo.time,segmentIndex:r.syncInfo.mediaSequence-r.mediaSequence,partIndex:null};return f}return null}}],SyncController=function(n){_inheritsLoose(e,n);function e(s){var a;return a=n.call(this)||this,a.timelines=[],a.discontinuities=[],a.timelineToDatetimeMappings={},a.logger_=logger$1("SyncController"),a}var r=e.prototype;return r.getSyncPoint=function(a,l,f,c){var d=this.runStrategies_(a,l,f,c);return d.length?this.selectSyncPoint_(d,{key:"time",value:c}):null},r.getExpiredTime=function(a,l){if(!a||!a.segments)return null;var f=this.runStrategies_(a,l,a.discontinuitySequence,0);if(!f.length)return null;var c=this.selectSyncPoint_(f,{key:"segmentIndex",value:0});return c.segmentIndex>0&&(c.time*=-1),Math.abs(c.time+sumDurations({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:c.segmentIndex,endIndex:0}))},r.runStrategies_=function(a,l,f,c){for(var d=[],g=0;g<syncPointStrategies.length;g++){var b=syncPointStrategies[g],m=b.run(this,a,l,f,c);m&&(m.strategy=b.name,d.push({strategy:b.name,syncPoint:m}))}return d},r.selectSyncPoint_=function(a,l){for(var f=a[0].syncPoint,c=Math.abs(a[0].syncPoint[l.key]-l.value),d=a[0].strategy,g=1;g<a.length;g++){var b=Math.abs(a[g].syncPoint[l.key]-l.value);b<c&&(c=b,f=a[g].syncPoint,d=a[g].strategy)}return this.logger_("syncPoint for ["+l.key+": "+l.value+"] chosen with strategy"+(" ["+d+"]: [time:"+f.time+",")+(" segmentIndex:"+f.segmentIndex)+(typeof f.partIndex=="number"?",partIndex:"+f.partIndex:"")+"]"),f},r.saveExpiredSegmentInfo=function(a,l){var f=l.mediaSequence-a.mediaSequence;if(f>MAX_MEDIA_SEQUENCE_DIFF_FOR_SYNC){videojs.log.warn("Not saving expired segment info. Media sequence gap "+f+" is too large.");return}for(var c=f-1;c>=0;c--){var d=a.segments[c];if(d&&typeof d.start<"u"){l.syncInfo={mediaSequence:a.mediaSequence+c,time:d.start},this.logger_("playlist refresh sync: [time:"+l.syncInfo.time+","+(" mediaSequence: "+l.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},r.setDateTimeMappingForStart=function(a){if(this.timelineToDatetimeMappings={},a.segments&&a.segments.length&&a.segments[0].dateTimeObject){var l=a.segments[0],f=l.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[l.timeline]=-f}},r.saveSegmentTimingInfo=function(a){var l=a.segmentInfo,f=a.shouldSaveTimelineMapping,c=this.calculateSegmentTimeMapping_(l,l.timingInfo,f),d=l.segment;c&&(this.saveDiscontinuitySyncInfo_(l),l.playlist.syncInfo||(l.playlist.syncInfo={mediaSequence:l.playlist.mediaSequence+l.mediaIndex,time:d.start}));var g=d.dateTimeObject;d.discontinuity&&f&&g&&(this.timelineToDatetimeMappings[d.timeline]=-(g.getTime()/1e3))},r.timestampOffsetForTimeline=function(a){return typeof this.timelines[a]>"u"?null:this.timelines[a].time},r.mappingForTimeline=function(a){return typeof this.timelines[a]>"u"?null:this.timelines[a].mapping},r.calculateSegmentTimeMapping_=function(a,l,f){var c=a.segment,d=a.part,g=this.timelines[a.timeline],b,m;if(typeof a.timestampOffset=="number")g={time:a.startOfSegment,mapping:a.startOfSegment-l.start},f&&(this.timelines[a.timeline]=g,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+a.timeline+": "+("[time: "+g.time+"] [mapping: "+g.mapping+"]"))),b=a.startOfSegment,m=l.end+g.mapping;else if(g)b=l.start+g.mapping,m=l.end+g.mapping;else return!1;return d&&(d.start=b,d.end=m),(!c.start||b<c.start)&&(c.start=b),c.end=m,!0},r.saveDiscontinuitySyncInfo_=function(a){var l=a.playlist,f=a.segment;if(f.discontinuity)this.discontinuities[f.timeline]={time:f.start,accuracy:0};else if(l.discontinuityStarts&&l.discontinuityStarts.length)for(var c=0;c<l.discontinuityStarts.length;c++){var d=l.discontinuityStarts[c],g=l.discontinuitySequence+c+1,b=d-a.mediaIndex,m=Math.abs(b);if(!this.discontinuities[g]||this.discontinuities[g].accuracy>m){var _=void 0;b<0?_=f.start-sumDurations({defaultDuration:l.targetDuration,durationList:l.segments,startIndex:a.mediaIndex,endIndex:d}):_=f.end+sumDurations({defaultDuration:l.targetDuration,durationList:l.segments,startIndex:a.mediaIndex+1,endIndex:d}),this.discontinuities[g]={time:_,accuracy:m}}}},r.dispose=function(){this.trigger("dispose"),this.off()},e}(videojs.EventTarget),TimelineChangeController=function(n){_inheritsLoose(e,n);function e(){var s;return s=n.call(this)||this,s.pendingTimelineChanges_={},s.lastTimelineChanges_={},s}var r=e.prototype;return r.clearPendingTimelineChange=function(a){this.pendingTimelineChanges_[a]=null,this.trigger("pendingtimelinechange")},r.pendingTimelineChange=function(a){var l=a.type,f=a.from,c=a.to;return typeof f=="number"&&typeof c=="number"&&(this.pendingTimelineChanges_[l]={type:l,from:f,to:c},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[l]},r.lastTimelineChange=function(a){var l=a.type,f=a.from,c=a.to;return typeof f=="number"&&typeof c=="number"&&(this.lastTimelineChanges_[l]={type:l,from:f,to:c},delete this.pendingTimelineChanges_[l],this.trigger("timelinechange")),this.lastTimelineChanges_[l]},r.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(videojs.EventTarget),workerCode=transform(getWorkerString(function(){var n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e(ue,he,ge){return ge={path:he,exports:{},require:function(_e,ye){return r(_e,ye??ge.path)}},ue(ge,ge.exports),ge.exports}function r(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var s=e(function(ue){function he(ve,_e){for(var ye=0;ye<_e.length;ye++){var be=_e[ye];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(ve,be.key,be)}}function ge(ve,_e,ye){return _e&&he(ve.prototype,_e),ye&&he(ve,ye),ve}ue.exports=ge,ue.exports.default=ue.exports,ue.exports.__esModule=!0}),a=e(function(ue){function he(ge,ve){return ue.exports=he=Object.setPrototypeOf||function(ye,be){return ye.__proto__=be,ye},ue.exports.default=ue.exports,ue.exports.__esModule=!0,he(ge,ve)}ue.exports=he,ue.exports.default=ue.exports,ue.exports.__esModule=!0}),l=e(function(ue){function he(ge,ve){ge.prototype=Object.create(ve.prototype),ge.prototype.constructor=ge,a(ge,ve)}ue.exports=he,ue.exports.default=ue.exports,ue.exports.__esModule=!0}),f=function(){function ue(){this.listeners={}}var he=ue.prototype;return he.on=function(ve,_e){this.listeners[ve]||(this.listeners[ve]=[]),this.listeners[ve].push(_e)},he.off=function(ve,_e){if(!this.listeners[ve])return!1;var ye=this.listeners[ve].indexOf(_e);return this.listeners[ve]=this.listeners[ve].slice(0),this.listeners[ve].splice(ye,1),ye>-1},he.trigger=function(ve){var _e=this.listeners[ve];if(_e)if(arguments.length===2)for(var ye=_e.length,be=0;be<ye;++be)_e[be].call(this,arguments[1]);else for(var He=Array.prototype.slice.call(arguments,1),Oe=_e.length,Fe=0;Fe<Oe;++Fe)_e[Fe].apply(this,He)},he.dispose=function(){this.listeners={}},he.pipe=function(ve){this.on("data",function(_e){ve.push(_e)})},ue}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function c(ue){return ue.subarray(0,ue.byteLength-ue[ue.byteLength-1])}/*! @name aes-decrypter @version 3.1.3 @license Apache-2.0 */var d=function(){var he=[[[],[],[],[],[]],[[],[],[],[],[]]],ge=he[0],ve=he[1],_e=ge[4],ye=ve[4],be,He,Oe,Fe=[],De=[],We,ze,Ge,Je,Ue,pe;for(be=0;be<256;be++)De[(Fe[be]=be<<1^(be>>7)*283)^be]=be;for(He=Oe=0;!_e[He];He^=We||1,Oe=De[Oe]||1)for(Je=Oe^Oe<<1^Oe<<2^Oe<<3^Oe<<4,Je=Je>>8^Je&255^99,_e[He]=Je,ye[Je]=He,Ge=Fe[ze=Fe[We=Fe[He]]],pe=Ge*16843009^ze*65537^We*257^He*16843008,Ue=Fe[Je]*257^Je*16843008,be=0;be<4;be++)ge[be][He]=Ue=Ue<<24^Ue>>>8,ve[be][Je]=pe=pe<<24^pe>>>8;for(be=0;be<5;be++)ge[be]=ge[be].slice(0),ve[be]=ve[be].slice(0);return he},g=null,b=function(){function ue(ge){g||(g=d()),this._tables=[[g[0][0].slice(),g[0][1].slice(),g[0][2].slice(),g[0][3].slice(),g[0][4].slice()],[g[1][0].slice(),g[1][1].slice(),g[1][2].slice(),g[1][3].slice(),g[1][4].slice()]];var ve,_e,ye,be=this._tables[0][4],He=this._tables[1],Oe=ge.length,Fe=1;if(Oe!==4&&Oe!==6&&Oe!==8)throw new Error("Invalid aes key size");var De=ge.slice(0),We=[];for(this._key=[De,We],ve=Oe;ve<4*Oe+28;ve++)ye=De[ve-1],(ve%Oe===0||Oe===8&&ve%Oe===4)&&(ye=be[ye>>>24]<<24^be[ye>>16&255]<<16^be[ye>>8&255]<<8^be[ye&255],ve%Oe===0&&(ye=ye<<8^ye>>>24^Fe<<24,Fe=Fe<<1^(Fe>>7)*283)),De[ve]=De[ve-Oe]^ye;for(_e=0;ve;_e++,ve--)ye=De[_e&3?ve:ve-4],ve<=4||_e<4?We[_e]=ye:We[_e]=He[0][be[ye>>>24]]^He[1][be[ye>>16&255]]^He[2][be[ye>>8&255]]^He[3][be[ye&255]]}var he=ue.prototype;return he.decrypt=function(ve,_e,ye,be,He,Oe){var Fe=this._key[1],De=ve^Fe[0],We=be^Fe[1],ze=ye^Fe[2],Ge=_e^Fe[3],Je,Ue,pe,ae=Fe.length/4-2,Se,Pe=4,qe=this._tables[1],xe=qe[0],Xe=qe[1],$e=qe[2],Ze=qe[3],et=qe[4];for(Se=0;Se<ae;Se++)Je=xe[De>>>24]^Xe[We>>16&255]^$e[ze>>8&255]^Ze[Ge&255]^Fe[Pe],Ue=xe[We>>>24]^Xe[ze>>16&255]^$e[Ge>>8&255]^Ze[De&255]^Fe[Pe+1],pe=xe[ze>>>24]^Xe[Ge>>16&255]^$e[De>>8&255]^Ze[We&255]^Fe[Pe+2],Ge=xe[Ge>>>24]^Xe[De>>16&255]^$e[We>>8&255]^Ze[ze&255]^Fe[Pe+3],Pe+=4,De=Je,We=Ue,ze=pe;for(Se=0;Se<4;Se++)He[(3&-Se)+Oe]=et[De>>>24]<<24^et[We>>16&255]<<16^et[ze>>8&255]<<8^et[Ge&255]^Fe[Pe++],Je=De,De=We,We=ze,ze=Ge,Ge=Je},ue}(),m=function(ue){l(he,ue);function he(){var ve;return ve=ue.call(this,f)||this,ve.jobs=[],ve.delay=1,ve.timeout_=null,ve}var ge=he.prototype;return ge.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},ge.push=function(_e){this.jobs.push(_e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},he}(f),_=function(he){return he<<24|(he&65280)<<8|(he&16711680)>>8|he>>>24},x=function(he,ge,ve){var _e=new Int32Array(he.buffer,he.byteOffset,he.byteLength>>2),ye=new b(Array.prototype.slice.call(ge)),be=new Uint8Array(he.byteLength),He=new Int32Array(be.buffer),Oe,Fe,De,We,ze,Ge,Je,Ue,pe;for(Oe=ve[0],Fe=ve[1],De=ve[2],We=ve[3],pe=0;pe<_e.length;pe+=4)ze=_(_e[pe]),Ge=_(_e[pe+1]),Je=_(_e[pe+2]),Ue=_(_e[pe+3]),ye.decrypt(ze,Ge,Je,Ue,He,pe),He[pe]=_(He[pe]^Oe),He[pe+1]=_(He[pe+1]^Fe),He[pe+2]=_(He[pe+2]^De),He[pe+3]=_(He[pe+3]^We),Oe=ze,Fe=Ge,De=Je,We=Ue;return be},k=function(){function ue(ge,ve,_e,ye){var be=ue.STEP,He=new Int32Array(ge.buffer),Oe=new Uint8Array(ge.byteLength),Fe=0;for(this.asyncStream_=new m,this.asyncStream_.push(this.decryptChunk_(He.subarray(Fe,Fe+be),ve,_e,Oe)),Fe=be;Fe<He.length;Fe+=be)_e=new Uint32Array([_(He[Fe-4]),_(He[Fe-3]),_(He[Fe-2]),_(He[Fe-1])]),this.asyncStream_.push(this.decryptChunk_(He.subarray(Fe,Fe+be),ve,_e,Oe));this.asyncStream_.push(function(){ye(null,c(Oe))})}var he=ue.prototype;return he.decryptChunk_=function(ve,_e,ye,be){return function(){var He=x(ve,_e,ye);be.set(He,ve.byteOffset)}},s(ue,null,[{key:"STEP",get:function(){return 32e3}}]),ue}(),q;typeof window<"u"?q=window:typeof n<"u"?q=n:typeof self<"u"?q=self:q={};var j=q,ne=function(he){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(he):he&&he.buffer instanceof ArrayBuffer},se=j.BigInt||Number;se("0x1"),se("0x100"),se("0x10000"),se("0x1000000"),se("0x100000000"),se("0x10000000000"),se("0x1000000000000"),se("0x100000000000000"),se("0x10000000000000000");var le=function(he){var ge={};return Object.keys(he).forEach(function(ve){var _e=he[ve];ne(_e)?ge[ve]={bytes:_e.buffer,byteOffset:_e.byteOffset,byteLength:_e.byteLength}:ge[ve]=_e}),ge};self.onmessage=function(ue){var he=ue.data,ge=new Uint8Array(he.encrypted.bytes,he.encrypted.byteOffset,he.encrypted.byteLength),ve=new Uint32Array(he.key.bytes,he.key.byteOffset,he.key.byteLength/4),_e=new Uint32Array(he.iv.bytes,he.iv.byteOffset,he.iv.byteLength/4);new k(ge,ve,_e,function(ye,be){self.postMessage(le({source:he.source,decrypted:be}),[be.buffer])})}})),Decrypter=factory(workerCode),audioTrackKind_=function(e){var r=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(r="main-desc"),r},stopLoaders=function(e,r){e.abort(),e.pause(),r&&r.activePlaylistLoader&&(r.activePlaylistLoader.pause(),r.activePlaylistLoader=null)},startLoaders=function(e,r){r.activePlaylistLoader=e,e.load()},onGroupChanged=function(e,r){return function(){var s=r.segmentLoaders,a=s[e],l=s.main,f=r.mediaTypes[e],c=f.activeTrack(),d=f.getActiveGroup(),g=f.activePlaylistLoader,b=f.lastGroup_;if(!(d&&b&&d.id===b.id)&&(f.lastGroup_=d,f.lastTrack_=c,stopLoaders(a,f),!(!d||d.isMasterPlaylist))){if(!d.playlistLoader){g&&l.resetEverything();return}a.resyncLoader(),startLoaders(d.playlistLoader,f)}}},onGroupChanging=function(e,r){return function(){var s=r.segmentLoaders[e],a=r.mediaTypes[e];a.lastGroup_=null,s.abort(),s.pause()}},onTrackChanged=function(e,r){return function(){var s=r.masterPlaylistLoader,a=r.segmentLoaders,l=a[e],f=a.main,c=r.mediaTypes[e],d=c.activeTrack(),g=c.getActiveGroup(),b=c.activePlaylistLoader,m=c.lastTrack_;if(!(m&&d&&m.id===d.id)&&(c.lastGroup_=g,c.lastTrack_=d,stopLoaders(l,c),!!g)){if(g.isMasterPlaylist){if(!d||!m||d.id===m.id)return;var _=r.vhs.masterPlaylistController_,x=_.selectPlaylist();if(_.media()===x)return;c.logger_("track change. Switching master audio from "+m.id+" to "+d.id),s.pause(),f.resetEverything(),_.fastQualityChange_(x);return}if(e==="AUDIO"){if(!g.playlistLoader){f.setAudio(!0),f.resetEverything();return}l.setAudio(!0),f.setAudio(!1)}if(b===g.playlistLoader){startLoaders(g.playlistLoader,c);return}l.track&&l.track(d),l.resetEverything(),startLoaders(g.playlistLoader,c)}}},onError={AUDIO:function(e,r){return function(){var s=r.segmentLoaders[e],a=r.mediaTypes[e],l=r.blacklistCurrentPlaylist;stopLoaders(s,a);var f=a.activeTrack(),c=a.activeGroup(),d=(c.filter(function(m){return m.default})[0]||c[0]).id,g=a.tracks[d];if(f===g){l({message:"Problem encountered loading the default audio track."});return}videojs.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var b in a.tracks)a.tracks[b].enabled=a.tracks[b]===g;a.onTrackChanged()}},SUBTITLES:function(e,r){return function(){var s=r.segmentLoaders[e],a=r.mediaTypes[e];videojs.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),stopLoaders(s,a);var l=a.activeTrack();l&&(l.mode="disabled"),a.onTrackChanged()}}},setupListeners={AUDIO:function(e,r,s){if(r){var a=s.tech,l=s.requestOptions,f=s.segmentLoaders[e];r.on("loadedmetadata",function(){var c=r.media();f.playlist(c,l),(!a.paused()||c.endList&&a.preload()!=="none")&&f.load()}),r.on("loadedplaylist",function(){f.playlist(r.media(),l),a.paused()||f.load()}),r.on("error",onError[e](e,s))}},SUBTITLES:function(e,r,s){var a=s.tech,l=s.requestOptions,f=s.segmentLoaders[e],c=s.mediaTypes[e];r.on("loadedmetadata",function(){var d=r.media();f.playlist(d,l),f.track(c.activeTrack()),(!a.paused()||d.endList&&a.preload()!=="none")&&f.load()}),r.on("loadedplaylist",function(){f.playlist(r.media(),l),a.paused()||f.load()}),r.on("error",onError[e](e,s))}},initialize$1={AUDIO:function(e,r){var s=r.vhs,a=r.sourceType,l=r.segmentLoaders[e],f=r.requestOptions,c=r.master.mediaGroups,d=r.mediaTypes[e],g=d.groups,b=d.tracks,m=d.logger_,_=r.masterPlaylistLoader,x=isAudioOnly(_.master);(!c[e]||Object.keys(c[e]).length===0)&&(c[e]={main:{default:{default:!0}}},x&&(c[e].main.default.playlists=_.master.playlists));for(var k in c[e]){g[k]||(g[k]=[]);for(var q in c[e][k]){var j=c[e][k][q],ne=void 0;if(x?(m("AUDIO group '"+k+"' label '"+q+"' is a master playlist"),j.isMasterPlaylist=!0,ne=null):a==="vhs-json"&&j.playlists?ne=new PlaylistLoader(j.playlists[0],s,f):j.resolvedUri?ne=new PlaylistLoader(j.resolvedUri,s,f):j.playlists&&a==="dash"?ne=new DashPlaylistLoader(j.playlists[0],s,f,_):ne=null,j=videojs.mergeOptions({id:q,playlistLoader:ne},j),setupListeners[e](e,j.playlistLoader,r),g[k].push(j),typeof b[q]>"u"){var se=new videojs.AudioTrack({id:q,kind:audioTrackKind_(j),enabled:!1,language:j.language,default:j.default,label:q});b[q]=se}}}l.on("error",onError[e](e,r))},SUBTITLES:function(e,r){var s=r.tech,a=r.vhs,l=r.sourceType,f=r.segmentLoaders[e],c=r.requestOptions,d=r.master.mediaGroups,g=r.mediaTypes[e],b=g.groups,m=g.tracks,_=r.masterPlaylistLoader;for(var x in d[e]){b[x]||(b[x]=[]);for(var k in d[e][x])if(!d[e][x][k].forced){var q=d[e][x][k],j=void 0;if(l==="hls")j=new PlaylistLoader(q.resolvedUri,a,c);else if(l==="dash"){var ne=q.playlists.filter(function(le){return le.excludeUntil!==1/0});if(!ne.length)return;j=new DashPlaylistLoader(q.playlists[0],a,c,_)}else l==="vhs-json"&&(j=new PlaylistLoader(q.playlists?q.playlists[0]:q.resolvedUri,a,c));if(q=videojs.mergeOptions({id:k,playlistLoader:j},q),setupListeners[e](e,q.playlistLoader,r),b[x].push(q),typeof m[k]>"u"){var se=s.addRemoteTextTrack({id:k,kind:"subtitles",default:q.default&&q.autoselect,language:q.language,label:k},!1).track;m[k]=se}}}f.on("error",onError[e](e,r))},"CLOSED-CAPTIONS":function(e,r){var s=r.tech,a=r.master.mediaGroups,l=r.mediaTypes[e],f=l.groups,c=l.tracks;for(var d in a[e]){f[d]||(f[d]=[]);for(var g in a[e][d]){var b=a[e][d][g];if(/^(?:CC|SERVICE)/.test(b.instreamId)){var m=s.options_.vhs&&s.options_.vhs.captionServices||{},_={label:g,language:b.language,instreamId:b.instreamId,default:b.default&&b.autoselect};if(m[_.instreamId]&&(_=videojs.mergeOptions(_,m[_.instreamId])),_.default===void 0&&delete _.default,f[d].push(videojs.mergeOptions({id:g},b)),typeof c[g]>"u"){var x=s.addRemoteTextTrack({id:_.instreamId,kind:"captions",default:_.default,language:_.language,label:_.label},!1).track;c[g]=x}}}}}},groupMatch=function n(e,r){for(var s=0;s<e.length;s++)if(playlistMatch(r,e[s])||e[s].playlists&&n(e[s].playlists,r))return!0;return!1},activeGroup=function(e,r){return function(s){var a=r.masterPlaylistLoader,l=r.mediaTypes[e].groups,f=a.media();if(!f)return null;var c=null;f.attributes[e]&&(c=l[f.attributes[e]]);var d=Object.keys(l);if(!c)if(e==="AUDIO"&&d.length>1&&isAudioOnly(r.master))for(var g=0;g<d.length;g++){var b=l[d[g]];if(groupMatch(b,f)){c=b;break}}else l.main?c=l.main:d.length===1&&(c=l[d[0]]);return typeof s>"u"?c:s===null||!c?null:c.filter(function(m){return m.id===s.id})[0]||null}},activeTrack={AUDIO:function(e,r){return function(){var s=r.mediaTypes[e].tracks;for(var a in s)if(s[a].enabled)return s[a];return null}},SUBTITLES:function(e,r){return function(){var s=r.mediaTypes[e].tracks;for(var a in s)if(s[a].mode==="showing"||s[a].mode==="hidden")return s[a];return null}}},getActiveGroup=function(e,r){var s=r.mediaTypes;return function(){var a=s[e].activeTrack();return a?s[e].activeGroup(a):null}},setupMediaGroups=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(k){initialize$1[k](k,e)});var r=e.mediaTypes,s=e.masterPlaylistLoader,a=e.tech,l=e.vhs,f=e.segmentLoaders,c=f.AUDIO,d=f.main;["AUDIO","SUBTITLES"].forEach(function(k){r[k].activeGroup=activeGroup(k,e),r[k].activeTrack=activeTrack[k](k,e),r[k].onGroupChanged=onGroupChanged(k,e),r[k].onGroupChanging=onGroupChanging(k,e),r[k].onTrackChanged=onTrackChanged(k,e),r[k].getActiveGroup=getActiveGroup(k,e)});var g=r.AUDIO.activeGroup();if(g){var b=(g.filter(function(k){return k.default})[0]||g[0]).id;r.AUDIO.tracks[b].enabled=!0,r.AUDIO.onGroupChanged(),r.AUDIO.onTrackChanged();var m=r.AUDIO.getActiveGroup();m.playlistLoader?(d.setAudio(!1),c.setAudio(!0)):d.setAudio(!0)}s.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(k){return r[k].onGroupChanged()})}),s.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(k){return r[k].onGroupChanging()})});var _=function(){r.AUDIO.onTrackChanged(),a.trigger({type:"usage",name:"vhs-audio-change"}),a.trigger({type:"usage",name:"hls-audio-change"})};a.audioTracks().addEventListener("change",_),a.remoteTextTracks().addEventListener("change",r.SUBTITLES.onTrackChanged),l.on("dispose",function(){a.audioTracks().removeEventListener("change",_),a.remoteTextTracks().removeEventListener("change",r.SUBTITLES.onTrackChanged)}),a.clearTracks("audio");for(var x in r.AUDIO.tracks)a.audioTracks().addTrack(r.AUDIO.tracks[x])},createMediaTypes=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(r){e[r]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:noop$1,activeTrack:noop$1,getActiveGroup:noop$1,onGroupChanged:noop$1,onTrackChanged:noop$1,lastTrack_:null,logger_:logger$1("MediaGroups["+r+"]")}}),e},ABORT_EARLY_BLACKLIST_SECONDS=60*2,Vhs$1,loaderStats=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],sumLoaderStat=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},shouldSwitchToMedia=function(e){var r=e.currentPlaylist,s=e.buffered,a=e.currentTime,l=e.nextPlaylist,f=e.bufferLowWaterLine,c=e.bufferHighWaterLine,d=e.duration,g=e.experimentalBufferBasedABR,b=e.log;if(!l)return videojs.log.warn("We received no playlist to switch to. Please check your stream."),!1;var m="allowing switch "+(r&&r.id||"null")+" -> "+l.id;if(!r)return b(m+" as current playlist is not set"),!0;if(l.id===r.id)return!1;var _=Boolean(findRange(s,a).length);if(!r.endList)return!_&&typeof r.partTargetDuration=="number"?(b("not "+m+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(b(m+" as current playlist is live"),!0);var x=timeAheadOf(s,a),k=g?Config.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Config.MAX_BUFFER_LOW_WATER_LINE;if(d<k)return b(m+" as duration < max low water line ("+d+" < "+k+")"),!0;var q=l.attributes.BANDWIDTH,j=r.attributes.BANDWIDTH;if(q<j&&(!g||x<c)){var ne=m+" as next bandwidth < current bandwidth ("+q+" < "+j+")";return g&&(ne+=" and forwardBuffer < bufferHighWaterLine ("+x+" < "+c+")"),b(ne),!0}if((!g||q>j)&&x>=f){var se=m+" as forwardBuffer >= bufferLowWaterLine ("+x+" >= "+f+")";return g&&(se+=" and next bandwidth > current bandwidth ("+q+" > "+j+")"),b(se),!0}return b("not "+m+" as no switching criteria met"),!1},MasterPlaylistController=function(n){_inheritsLoose(e,n);function e(s){var a;a=n.call(this)||this;var l=s.src,f=s.handleManifestRedirects,c=s.withCredentials,d=s.tech,g=s.bandwidth,b=s.externVhs,m=s.useCueTags,_=s.blacklistDuration,x=s.enableLowInitialPlaylist,k=s.sourceType,q=s.cacheEncryptionKeys,j=s.experimentalBufferBasedABR,ne=s.experimentalLeastPixelDiffSelector,se=s.captionServices;if(!l)throw new Error("A non-empty playlist URL or JSON manifest string is required");var le=s.maxPlaylistRetries;(le===null||typeof le>"u")&&(le=1/0),Vhs$1=b,a.experimentalBufferBasedABR=Boolean(j),a.experimentalLeastPixelDiffSelector=Boolean(ne),a.withCredentials=c,a.tech_=d,a.vhs_=d.vhs,a.sourceType_=k,a.useCueTags_=m,a.blacklistDuration=_,a.maxPlaylistRetries=le,a.enableLowInitialPlaylist=x,a.useCueTags_&&(a.cueTagsTrack_=a.tech_.addTextTrack("metadata","ad-cues"),a.cueTagsTrack_.inBandMetadataTrackDispatchType=""),a.requestOptions_={withCredentials:c,handleManifestRedirects:f,maxPlaylistRetries:le,timeout:null},a.on("error",a.pauseLoading),a.mediaTypes_=createMediaTypes(),a.mediaSource=new window_1.MediaSource,a.handleDurationChange_=a.handleDurationChange_.bind(_assertThisInitialized(a)),a.handleSourceOpen_=a.handleSourceOpen_.bind(_assertThisInitialized(a)),a.handleSourceEnded_=a.handleSourceEnded_.bind(_assertThisInitialized(a)),a.mediaSource.addEventListener("durationchange",a.handleDurationChange_),a.mediaSource.addEventListener("sourceopen",a.handleSourceOpen_),a.mediaSource.addEventListener("sourceended",a.handleSourceEnded_),a.seekable_=videojs.createTimeRanges(),a.hasPlayed_=!1,a.syncController_=new SyncController(s),a.segmentMetadataTrack_=d.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,a.decrypter_=new Decrypter,a.sourceUpdater_=new SourceUpdater(a.mediaSource),a.inbandTextTracks_={},a.timelineChangeController_=new TimelineChangeController;var ue={vhs:a.vhs_,parse708captions:s.parse708captions,useDtsForTimestampOffset:s.useDtsForTimestampOffset,captionServices:se,mediaSource:a.mediaSource,currentTime:a.tech_.currentTime.bind(a.tech_),seekable:function(){return a.seekable()},seeking:function(){return a.tech_.seeking()},duration:function(){return a.duration()},hasPlayed:function(){return a.hasPlayed_},goalBufferLength:function(){return a.goalBufferLength()},bandwidth:g,syncController:a.syncController_,decrypter:a.decrypter_,sourceType:a.sourceType_,inbandTextTracks:a.inbandTextTracks_,cacheEncryptionKeys:q,sourceUpdater:a.sourceUpdater_,timelineChangeController:a.timelineChangeController_,experimentalExactManifestTimings:s.experimentalExactManifestTimings};a.masterPlaylistLoader_=a.sourceType_==="dash"?new DashPlaylistLoader(l,a.vhs_,a.requestOptions_):new PlaylistLoader(l,a.vhs_,a.requestOptions_),a.setupMasterPlaylistLoaderListeners_(),a.mainSegmentLoader_=new SegmentLoader(videojs.mergeOptions(ue,{segmentMetadataTrack:a.segmentMetadataTrack_,loaderType:"main"}),s),a.audioSegmentLoader_=new SegmentLoader(videojs.mergeOptions(ue,{loaderType:"audio"}),s),a.subtitleSegmentLoader_=new VTTSegmentLoader(videojs.mergeOptions(ue,{loaderType:"vtt",featuresNativeTextTracks:a.tech_.featuresNativeTextTracks,loadVttJs:function(){return new Promise(function(ve,_e){function ye(){d.off("vttjserror",be),ve()}function be(){d.off("vttjsloaded",ye),_e()}d.one("vttjsloaded",ye),d.one("vttjserror",be),d.addWebVttScript_()})}}),s),a.setupSegmentLoaderListeners_(),a.experimentalBufferBasedABR&&(a.masterPlaylistLoader_.one("loadedplaylist",function(){return a.startABRTimer_()}),a.tech_.on("pause",function(){return a.stopABRTimer_()}),a.tech_.on("play",function(){return a.startABRTimer_()})),loaderStats.forEach(function(ge){a[ge+"_"]=sumLoaderStat.bind(_assertThisInitialized(a),ge)}),a.logger_=logger$1("MPC"),a.triggeredFmp4Usage=!1,a.tech_.preload()==="none"?(a.loadOnPlay_=function(){a.loadOnPlay_=null,a.masterPlaylistLoader_.load()},a.tech_.one("play",a.loadOnPlay_)):a.masterPlaylistLoader_.load(),a.timeToLoadedData__=-1,a.mainAppendsToLoadedData__=-1,a.audioAppendsToLoadedData__=-1;var he=a.tech_.preload()==="none"?"play":"loadstart";return a.tech_.one(he,function(){var ge=Date.now();a.tech_.one("loadeddata",function(){a.timeToLoadedData__=Date.now()-ge,a.mainAppendsToLoadedData__=a.mainSegmentLoader_.mediaAppends,a.audioAppendsToLoadedData__=a.audioSegmentLoader_.mediaAppends})}),a}var r=e.prototype;return r.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},r.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},r.appendsToLoadedData_=function(){var a=this.mainAppendsToLoadedData_(),l=this.audioAppendsToLoadedData_();return a===-1||l===-1?-1:a+l},r.timeToLoadedData_=function(){return this.timeToLoadedData__},r.checkABR_=function(a){a===void 0&&(a="abr");var l=this.selectPlaylist();l&&this.shouldSwitchToMedia_(l)&&this.switchMedia_(l,a)},r.switchMedia_=function(a,l,f){var c=this.media(),d=c&&(c.id||c.uri),g=a.id||a.uri;d&&d!==g&&(this.logger_("switch media "+d+" -> "+g+" from "+l),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+l})),this.masterPlaylistLoader_.media(a,f)},r.startABRTimer_=function(){var a=this;this.stopABRTimer_(),this.abrTimer_=window_1.setInterval(function(){return a.checkABR_()},250)},r.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(window_1.clearInterval(this.abrTimer_),this.abrTimer_=null)},r.getAudioTrackPlaylists_=function(){var a=this.master(),l=a&&a.playlists||[];if(!a||!a.mediaGroups||!a.mediaGroups.AUDIO)return l;var f=a.mediaGroups.AUDIO,c=Object.keys(f),d;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)d=this.mediaTypes_.AUDIO.activeTrack();else{var g=f.main||c.length&&f[c[0]];for(var b in g)if(g[b].default){d={label:b};break}}if(!d)return l;var m=[];for(var _ in f)if(f[_][d.label]){var x=f[_][d.label];if(x.playlists&&x.playlists.length)m.push.apply(m,x.playlists);else if(x.uri)m.push(x);else if(a.playlists.length)for(var k=0;k<a.playlists.length;k++){var q=a.playlists[k];q.attributes&&q.attributes.AUDIO&&q.attributes.AUDIO===_&&m.push(q)}}return m.length?m:l},r.setupMasterPlaylistLoaderListeners_=function(){var a=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var l=a.masterPlaylistLoader_.media(),f=l.targetDuration*1.5*1e3;isLowestEnabledRendition(a.masterPlaylistLoader_.master,a.masterPlaylistLoader_.media())?a.requestOptions_.timeout=0:a.requestOptions_.timeout=f,l.endList&&a.tech_.preload()!=="none"&&(a.mainSegmentLoader_.playlist(l,a.requestOptions_),a.mainSegmentLoader_.load()),setupMediaGroups({sourceType:a.sourceType_,segmentLoaders:{AUDIO:a.audioSegmentLoader_,SUBTITLES:a.subtitleSegmentLoader_,main:a.mainSegmentLoader_},tech:a.tech_,requestOptions:a.requestOptions_,masterPlaylistLoader:a.masterPlaylistLoader_,vhs:a.vhs_,master:a.master(),mediaTypes:a.mediaTypes_,blacklistCurrentPlaylist:a.blacklistCurrentPlaylist.bind(a)}),a.triggerPresenceUsage_(a.master(),l),a.setupFirstPlay(),!a.mediaTypes_.AUDIO.activePlaylistLoader||a.mediaTypes_.AUDIO.activePlaylistLoader.media()?a.trigger("selectedinitialmedia"):a.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){a.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){a.loadOnPlay_&&a.tech_.off("play",a.loadOnPlay_);var l=a.masterPlaylistLoader_.media();if(!l){a.excludeUnsupportedVariants_();var f;if(a.enableLowInitialPlaylist&&(f=a.selectInitialPlaylist()),f||(f=a.selectPlaylist()),!f||!a.shouldSwitchToMedia_(f))return;a.initialMedia_=f,a.switchMedia_(a.initialMedia_,"initial");var c=a.sourceType_==="vhs-json"&&a.initialMedia_.segments;if(!c)return;l=a.initialMedia_}a.handleUpdatedMediaPlaylist(l)}),this.masterPlaylistLoader_.on("error",function(){a.blacklistCurrentPlaylist(a.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){a.mainSegmentLoader_.abort(),a.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var l=a.masterPlaylistLoader_.media(),f=l.targetDuration*1.5*1e3;isLowestEnabledRendition(a.masterPlaylistLoader_.master,a.masterPlaylistLoader_.media())?a.requestOptions_.timeout=0:a.requestOptions_.timeout=f,a.masterPlaylistLoader_.load(),a.mainSegmentLoader_.playlist(l,a.requestOptions_),a.mainSegmentLoader_.load(),a.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var l=a.masterPlaylistLoader_.media();if(l.lastExcludeReason_!=="playlist-unchanged"){var f=a.stuckAtPlaylistEnd_(l);f&&(a.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),a.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){a.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),a.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){a.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),a.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},r.handleUpdatedMediaPlaylist=function(a){this.useCueTags_&&this.updateAdCues_(a),this.mainSegmentLoader_.playlist(a,this.requestOptions_),this.updateDuration(!a.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},r.triggerPresenceUsage_=function(a,l){var f=a.mediaGroups||{},c=!0,d=Object.keys(f.AUDIO);for(var g in f.AUDIO)for(var b in f.AUDIO[g]){var m=f.AUDIO[g][b];m.uri||(c=!1)}c&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(f.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),Vhs$1.Playlist.isAes(l)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),d.length&&Object.keys(f.AUDIO[d[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},r.shouldSwitchToMedia_=function(a){var l=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,f=this.tech_.currentTime(),c=this.bufferLowWaterLine(),d=this.bufferHighWaterLine(),g=this.tech_.buffered();return shouldSwitchToMedia({buffered:g,currentTime:f,currentPlaylist:l,nextPlaylist:a,bufferLowWaterLine:c,bufferHighWaterLine:d,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},r.setupSegmentLoaderListeners_=function(){var a=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){a.checkABR_("bandwidthupdate"),a.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",function(){a.experimentalBufferBasedABR&&a.mainSegmentLoader_.load()}),this.experimentalBufferBasedABR||this.mainSegmentLoader_.on("progress",function(){a.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){a.blacklistCurrentPlaylist(a.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){a.error=a.mainSegmentLoader_.error_,a.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){a.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){a.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),a.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){a.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){a.error=a.audioSegmentLoader_.error_,a.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){a.logger_("main segment loader ended"),a.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(f){a.experimentalBufferBasedABR||(a.delegateLoaders_("all",["abort"]),a.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},ABORT_EARLY_BLACKLIST_SECONDS))});var l=function(){if(!a.sourceUpdater_.hasCreatedSourceBuffers())return a.tryToCreateSourceBuffers_();var c=a.getCodecsOrExclude_();c&&a.sourceUpdater_.addOrChangeSourceBuffers(c)};this.mainSegmentLoader_.on("trackinfo",l),this.audioSegmentLoader_.on("trackinfo",l),this.mainSegmentLoader_.on("fmp4",function(){a.triggeredFmp4Usage||(a.tech_.trigger({type:"usage",name:"vhs-fmp4"}),a.tech_.trigger({type:"usage",name:"hls-fmp4"}),a.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){a.triggeredFmp4Usage||(a.tech_.trigger({type:"usage",name:"vhs-fmp4"}),a.tech_.trigger({type:"usage",name:"hls-fmp4"}),a.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){a.logger_("audioSegmentLoader ended"),a.onEndOfStream()})},r.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},r.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},r.smoothQualityChange_=function(a){a===void 0&&(a=this.selectPlaylist()),this.fastQualityChange_(a)},r.fastQualityChange_=function(a){var l=this;if(a===void 0&&(a=this.selectPlaylist()),a===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(a,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){videojs.browser.IE_VERSION||videojs.browser.IS_EDGE?l.tech_.setCurrentTime(l.tech_.currentTime()+.04):l.tech_.setCurrentTime(l.tech_.currentTime())})},r.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var a=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<a.start(0))return this.tech_.setCurrentTime(a.end(a.length-1))}},r.setupFirstPlay=function(){var a=this,l=this.masterPlaylistLoader_.media();if(!l||this.tech_.paused()||this.hasPlayed_)return!1;if(!l.endList){var f=this.seekable();if(!f.length)return!1;if(videojs.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){a.trigger("firstplay"),a.tech_.setCurrentTime(f.end(0)),a.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(f.end(0))}return this.hasPlayed_=!0,this.load(),!0},r.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var a=this.tech_.play();typeof a<"u"&&typeof a.then=="function"&&a.then(null,function(l){})}this.trigger("sourceopen")},r.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var a=this.inbandTextTracks_.metadataTrack_.cues;if(!(!a||!a.length)){var l=this.duration();a[a.length-1].endTime=isNaN(l)||Math.abs(l)===1/0?Number.MAX_VALUE:l}}},r.handleDurationChange_=function(){this.tech_.trigger("durationchange")},r.onEndOfStream=function(){var a=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var l=this.mainSegmentLoader_.getCurrentMediaInfo_();!l||l.hasVideo?a=a&&this.audioSegmentLoader_.ended_:a=this.audioSegmentLoader_.ended_}a&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},r.stuckAtPlaylistEnd_=function(a){var l=this.seekable();if(!l.length)return!1;var f=this.syncController_.getExpiredTime(a,this.duration());if(f===null)return!1;var c=Vhs$1.Playlist.playlistEnd(a,f),d=this.tech_.currentTime(),g=this.tech_.buffered();if(!g.length)return c-d<=SAFE_TIME_DELTA;var b=g.end(g.length-1);return b-d<=SAFE_TIME_DELTA&&c-b<=SAFE_TIME_DELTA},r.blacklistCurrentPlaylist=function(a,l){a===void 0&&(a={});var f=a.playlist||this.masterPlaylistLoader_.media();if(l=l||a.blacklistDuration||this.blacklistDuration,!f){this.error=a,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}f.playlistErrors_++;var c=this.masterPlaylistLoader_.master.playlists,d=c.filter(isEnabled),g=d.length===1&&d[0]===f;if(c.length===1&&l!==1/0)return videojs.log.warn("Problem encountered with playlist "+f.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(g);if(g){var b=!1;c.forEach(function(ne){if(ne!==f){var se=ne.excludeUntil;typeof se<"u"&&se!==1/0&&(b=!0,delete ne.excludeUntil)}}),b&&(videojs.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var m;f.playlistErrors_>this.maxPlaylistRetries?m=1/0:m=Date.now()+l*1e3,f.excludeUntil=m,a.reason&&(f.lastExcludeReason_=a.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var _=this.selectPlaylist();if(!_){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var x=a.internal?this.logger_:videojs.log.warn,k=a.message?" "+a.message:"";x((a.internal?"Internal problem":"Problem")+" encountered with playlist "+f.id+"."+(k+" Switching to playlist "+_.id+".")),_.attributes.AUDIO!==f.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),_.attributes.SUBTITLES!==f.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var q=_.targetDuration/2*1e3||5*1e3,j=typeof _.lastRequest=="number"&&Date.now()-_.lastRequest<=q;return this.switchMedia_(_,"exclude",g||j)},r.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},r.delegateLoaders_=function(a,l){var f=this,c=[],d=a==="all";(d||a==="main")&&c.push(this.masterPlaylistLoader_);var g=[];(d||a==="audio")&&g.push("AUDIO"),(d||a==="subtitle")&&(g.push("CLOSED-CAPTIONS"),g.push("SUBTITLES")),g.forEach(function(b){var m=f.mediaTypes_[b]&&f.mediaTypes_[b].activePlaylistLoader;m&&c.push(m)}),["main","audio","subtitle"].forEach(function(b){var m=f[b+"SegmentLoader_"];m&&(a===b||a==="all")&&c.push(m)}),c.forEach(function(b){return l.forEach(function(m){typeof b[m]=="function"&&b[m]()})})},r.setCurrentTime=function(a){var l=findRange(this.tech_.buffered(),a);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(l&&l.length)return a;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},r.duration=function(){if(!this.masterPlaylistLoader_)return 0;var a=this.masterPlaylistLoader_.media();return a?a.endList?this.mediaSource?this.mediaSource.duration:Vhs$1.Playlist.duration(a):1/0:0},r.seekable=function(){return this.seekable_},r.onSyncInfoUpdate_=function(){var a;if(this.masterPlaylistLoader_){var l=this.masterPlaylistLoader_.media();if(l){var f=this.syncController_.getExpiredTime(l,this.duration());if(f!==null){var c=this.masterPlaylistLoader_.master,d=Vhs$1.Playlist.seekable(l,f,Vhs$1.Playlist.liveEdgeDelay(c,l));if(d.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(l=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),f=this.syncController_.getExpiredTime(l,this.duration()),f===null||(a=Vhs$1.Playlist.seekable(l,f,Vhs$1.Playlist.liveEdgeDelay(c,l)),a.length===0)))){var g,b;this.seekable_&&this.seekable_.length&&(g=this.seekable_.end(0),b=this.seekable_.start(0)),a?a.start(0)>d.end(0)||d.start(0)>a.end(0)?this.seekable_=d:this.seekable_=videojs.createTimeRanges([[a.start(0)>d.start(0)?a.start(0):d.start(0),a.end(0)<d.end(0)?a.end(0):d.end(0)]]):this.seekable_=d,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===g&&this.seekable_.start(0)===b)&&(this.logger_("seekable updated ["+printableRange(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},r.updateDuration=function(a){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,a),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(a){var l=this.seekable();if(!l.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<l.end(l.length-1))&&this.sourceUpdater_.setDuration(l.end(l.length-1));return}var f=this.tech_.buffered(),c=Vhs$1.Playlist.duration(this.masterPlaylistLoader_.media());f.length>0&&(c=Math.max(c,f.end(f.length-1))),this.mediaSource.duration!==c&&this.sourceUpdater_.setDuration(c)},r.dispose=function(){var a=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(l){var f=a.mediaTypes_[l].groups;for(var c in f)f[c].forEach(function(d){d.playlistLoader&&d.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},r.master=function(){return this.masterPlaylistLoader_.master},r.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},r.areMediaTypesKnown_=function(){var a=!!this.mediaTypes_.AUDIO.activePlaylistLoader,l=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),f=a?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!l||!f)},r.getCodecsOrExclude_=function(){var a=this,l={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},f=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();l.video=l.main;var c=codecsForPlaylist(this.master(),f),d={},g=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(l.main.hasVideo&&(d.video=c.video||l.main.videoCodec||DEFAULT_VIDEO_CODEC),l.main.isMuxed&&(d.video+=","+(c.audio||l.main.audioCodec||DEFAULT_AUDIO_CODEC)),(l.main.hasAudio&&!l.main.isMuxed||l.audio.hasAudio||g)&&(d.audio=c.audio||l.main.audioCodec||l.audio.audioCodec||DEFAULT_AUDIO_CODEC,l.audio.isFmp4=l.main.hasAudio&&!l.main.isMuxed?l.main.isFmp4:l.audio.isFmp4),!d.audio&&!d.video){this.blacklistCurrentPlaylist({playlist:f,message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var b=function(ne,se){return ne?browserSupportsCodec(se):muxerSupportsCodec(se)},m={},_;if(["video","audio"].forEach(function(j){if(d.hasOwnProperty(j)&&!b(l[j].isFmp4,d[j])){var ne=l[j].isFmp4?"browser":"muxer";m[ne]=m[ne]||[],m[ne].push(d[j]),j==="audio"&&(_=ne)}}),g&&_&&f.attributes.AUDIO){var x=f.attributes.AUDIO;this.master().playlists.forEach(function(j){var ne=j.attributes&&j.attributes.AUDIO;ne===x&&j!==f&&(j.excludeUntil=1/0)}),this.logger_("excluding audio group "+x+" as "+_+' does not support codec(s): "'+d.audio+'"')}if(Object.keys(m).length){var k=Object.keys(m).reduce(function(j,ne){return j&&(j+=", "),j+=ne+' does not support codec(s): "'+m[ne].join(",")+'"',j},"")+".";this.blacklistCurrentPlaylist({playlist:f,internal:!0,message:k,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var q=[];if(["video","audio"].forEach(function(j){var ne=(parseCodecs(a.sourceUpdater_.codecs[j]||"")[0]||{}).type,se=(parseCodecs(d[j]||"")[0]||{}).type;ne&&se&&ne.toLowerCase()!==se.toLowerCase()&&q.push('"'+a.sourceUpdater_.codecs[j]+'" -> "'+d[j]+'"')}),q.length){this.blacklistCurrentPlaylist({playlist:f,message:"Codec switching not supported: "+q.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return d},r.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&this.areMediaTypesKnown_()){var a=this.getCodecsOrExclude_();if(a){this.sourceUpdater_.createSourceBuffers(a);var l=[a.video,a.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(l)}}},r.excludeUnsupportedVariants_=function(){var a=this,l=this.master().playlists,f=[];Object.keys(l).forEach(function(c){var d=l[c];if(f.indexOf(d.id)===-1){f.push(d.id);var g=codecsForPlaylist(a.master,d),b=[];g.audio&&!muxerSupportsCodec(g.audio)&&!browserSupportsCodec(g.audio)&&b.push("audio codec "+g.audio),g.video&&!muxerSupportsCodec(g.video)&&!browserSupportsCodec(g.video)&&b.push("video codec "+g.video),g.text&&g.text==="stpp.ttml.im1t"&&b.push("text codec "+g.text),b.length&&(d.excludeUntil=1/0,a.logger_("excluding "+d.id+" for unsupported: "+b.join(", ")))}})},r.excludeIncompatibleVariants_=function(a){var l=this,f=[],c=this.master().playlists,d=unwrapCodecList(parseCodecs(a)),g=codecCount(d),b=d.video&&parseCodecs(d.video)[0]||null,m=d.audio&&parseCodecs(d.audio)[0]||null;Object.keys(c).forEach(function(_){var x=c[_];if(!(f.indexOf(x.id)!==-1||x.excludeUntil===1/0)){f.push(x.id);var k=[],q=codecsForPlaylist(l.masterPlaylistLoader_.master,x),j=codecCount(q);if(!(!q.audio&&!q.video)){if(j!==g&&k.push('codec count "'+j+'" !== "'+g+'"'),!l.sourceUpdater_.canChangeType()){var ne=q.video&&parseCodecs(q.video)[0]||null,se=q.audio&&parseCodecs(q.audio)[0]||null;ne&&b&&ne.type.toLowerCase()!==b.type.toLowerCase()&&k.push('video codec "'+ne.type+'" !== "'+b.type+'"'),se&&m&&se.type.toLowerCase()!==m.type.toLowerCase()&&k.push('audio codec "'+se.type+'" !== "'+m.type+'"')}k.length&&(x.excludeUntil=1/0,l.logger_("blacklisting "+x.id+": "+k.join(" && ")))}}})},r.updateAdCues_=function(a){var l=0,f=this.seekable();f.length&&(l=f.start(0)),updateAdCues(a,this.cueTagsTrack_,l)},r.goalBufferLength=function(){var a=this.tech_.currentTime(),l=Config.GOAL_BUFFER_LENGTH,f=Config.GOAL_BUFFER_LENGTH_RATE,c=Math.max(l,Config.MAX_GOAL_BUFFER_LENGTH);return Math.min(l+a*f,c)},r.bufferLowWaterLine=function(){var a=this.tech_.currentTime(),l=Config.BUFFER_LOW_WATER_LINE,f=Config.BUFFER_LOW_WATER_LINE_RATE,c=Math.max(l,Config.MAX_BUFFER_LOW_WATER_LINE),d=Math.max(l,Config.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(l+a*f,this.experimentalBufferBasedABR?d:c)},r.bufferHighWaterLine=function(){return Config.BUFFER_HIGH_WATER_LINE},e}(videojs.EventTarget),enableFunction=function(e,r,s){return function(a){var l=e.master.playlists[r],f=isIncompatible(l),c=isEnabled(l);return typeof a>"u"?c:(a?delete l.disabled:l.disabled=!0,a!==c&&!f&&(s(),a?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),a)}},Representation=function(e,r,s){var a=e.masterPlaylistController_,l=e.options_.smoothQualityChange,f=l?"smooth":"fast",c=a[f+"QualityChange_"].bind(a);if(r.attributes){var d=r.attributes.RESOLUTION;this.width=d&&d.width,this.height=d&&d.height,this.bandwidth=r.attributes.BANDWIDTH,this.frameRate=r.attributes["FRAME-RATE"]}this.codecs=codecsForPlaylist(a.master(),r),this.playlist=r,this.id=s,this.enabled=enableFunction(e.playlists,r.id,c)},renditionSelectionMixin=function(e){e.representations=function(){var r=e.masterPlaylistController_.master(),s=isAudioOnly(r)?e.masterPlaylistController_.getAudioTrackPlaylists_():r.playlists;return s?s.filter(function(a){return!isIncompatible(a)}).map(function(a,l){return new Representation(e,a,a.id)}):[]}},timerCancelEvents=["seeking","seeked","pause","playing","error"],PlaybackWatcher=function(){function n(r){var s=this;this.masterPlaylistController_=r.masterPlaylistController,this.tech_=r.tech,this.seekable=r.seekable,this.allowSeeksWithinUnsafeLiveWindow=r.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=r.liveRangeSafeTimeDelta,this.media=r.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=logger$1("PlaybackWatcher"),this.logger_("initialize");var a=function(){return s.monitorCurrentTime_()},l=function(){return s.monitorCurrentTime_()},f=function(){return s.techWaiting_()},c=function(){return s.cancelTimer_()},d=this.masterPlaylistController_,g=["main","subtitle","audio"],b={};g.forEach(function(_){b[_]={reset:function(){return s.resetSegmentDownloads_(_)},updateend:function(){return s.checkSegmentDownloads_(_)}},d[_+"SegmentLoader_"].on("appendsdone",b[_].updateend),d[_+"SegmentLoader_"].on("playlistupdate",b[_].reset),s.tech_.on(["seeked","seeking"],b[_].reset)});var m=function(x){["main","audio"].forEach(function(k){d[k+"SegmentLoader_"][x]("appended",s.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){s.fixesBadSeeks_()&&(s.consecutiveUpdates=0,s.lastRecordedTime=s.tech_.currentTime(),m("off"))},this.clearSeekingAppendCheck_=function(){return m("off")},this.watchForBadSeeking_=function(){s.clearSeekingAppendCheck_(),m("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",f),this.tech_.on(timerCancelEvents,c),this.tech_.on("canplay",l),this.tech_.one("play",a),this.dispose=function(){s.clearSeekingAppendCheck_(),s.logger_("dispose"),s.tech_.off("waiting",f),s.tech_.off(timerCancelEvents,c),s.tech_.off("canplay",l),s.tech_.off("play",a),s.tech_.off("seeking",s.watchForBadSeeking_),s.tech_.off("seeked",s.clearSeekingAppendCheck_),g.forEach(function(_){d[_+"SegmentLoader_"].off("appendsdone",b[_].updateend),d[_+"SegmentLoader_"].off("playlistupdate",b[_].reset),s.tech_.off(["seeked","seeking"],b[_].reset)}),s.checkCurrentTimeTimeout_&&window_1.clearTimeout(s.checkCurrentTimeTimeout_),s.cancelTimer_()}}var e=n.prototype;return e.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&window_1.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=window_1.setTimeout(this.monitorCurrentTime_.bind(this),250)},e.resetSegmentDownloads_=function(s){var a=this.masterPlaylistController_[s+"SegmentLoader_"];this[s+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+s+" loader"),this[s+"StalledDownloads_"]=0,this[s+"Buffered_"]=a.buffered_()},e.checkSegmentDownloads_=function(s){var a=this.masterPlaylistController_,l=a[s+"SegmentLoader_"],f=l.buffered_(),c=isRangeDifferent(this[s+"Buffered_"],f);if(this[s+"Buffered_"]=f,c){this.resetSegmentDownloads_(s);return}this[s+"StalledDownloads_"]++,this.logger_("found #"+this[s+"StalledDownloads_"]+" "+s+" appends that did not increase buffer (possible stalled download)",{playlistId:l.playlist_&&l.playlist_.id,buffered:timeRangesToArray(f)}),!(this[s+"StalledDownloads_"]<10)&&(this.logger_(s+" loader stalled download exclusion"),this.resetSegmentDownloads_(s),this.tech_.trigger({type:"usage",name:"vhs-"+s+"-download-exclusion"}),s!=="subtitle"&&a.blacklistCurrentPlaylist({message:"Excessive "+s+" segment downloading detected."},1/0))},e.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var s=this.tech_.currentTime(),a=this.tech_.buffered();if(this.lastRecordedTime===s&&(!a.length||s+SAFE_TIME_DELTA>=a.end(a.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&s===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):s===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=s)}},e.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},e.fixesBadSeeks_=function(){var s=this.tech_.seeking();if(!s)return!1;var a=this.seekable(),l=this.tech_.currentTime(),f=this.afterSeekableWindow_(a,l,this.media(),this.allowSeeksWithinUnsafeLiveWindow),c;if(f){var d=a.end(a.length-1);c=d}if(this.beforeSeekableWindow_(a,l)){var g=a.start(0);c=g+(g===a.end(0)?0:SAFE_TIME_DELTA)}if(typeof c<"u")return this.logger_("Trying to seek outside of seekable at time "+l+" with "+("seekable range "+printableRange(a)+". Seeking to ")+(c+".")),this.tech_.setCurrentTime(c),!0;for(var b=this.masterPlaylistController_.sourceUpdater_,m=this.tech_.buffered(),_=b.audioBuffer?b.audioBuffered():null,x=b.videoBuffer?b.videoBuffered():null,k=this.media(),q=k.partTargetDuration?k.partTargetDuration:(k.targetDuration-TIME_FUDGE_FACTOR)*2,j=[_,x],ne=0;ne<j.length;ne++)if(j[ne]){var se=timeAheadOf(j[ne],l);if(se<q)return!1}var le=findNextRange(m,l);return le.length===0?!1:(c=le.start(0)+SAFE_TIME_DELTA,this.logger_("Buffered region starts ("+le.start(0)+") "+(" just beyond seek point ("+l+"). Seeking to "+c+".")),this.tech_.setCurrentTime(c),!0)},e.waiting_=function(){if(!this.techWaiting_()){var s=this.tech_.currentTime(),a=this.tech_.buffered(),l=findRange(a,s);if(l.length&&s+3<=l.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(s),this.logger_("Stopped at "+s+" while inside a buffered region "+("["+l.start(0)+" -> "+l.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},e.techWaiting_=function(){var s=this.seekable(),a=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(s,a)){var l=s.end(s.length-1);return this.logger_("Fell out of live window at time "+a+". Seeking to "+("live point (seekable end) "+l)),this.cancelTimer_(),this.tech_.setCurrentTime(l),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var f=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,c=this.tech_.buffered(),d=this.videoUnderflow_({audioBuffered:f.audioBuffered(),videoBuffered:f.videoBuffered(),currentTime:a});if(d)return this.cancelTimer_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var g=findNextRange(c,a);if(g.length>0){var b=g.start(0)-a;return this.logger_("Stopped at "+a+", setting timer for "+b+", seeking "+("to "+g.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),b*1e3,a),!0}return!1},e.afterSeekableWindow_=function(s,a,l,f){if(f===void 0&&(f=!1),!s.length)return!1;var c=s.end(s.length-1)+SAFE_TIME_DELTA,d=!l.endList;return d&&f&&(c=s.end(s.length-1)+l.targetDuration*3),a>c},e.beforeSeekableWindow_=function(s,a){return!!(s.length&&s.start(0)>0&&a<s.start(0)-this.liveRangeSafeTimeDelta)},e.videoUnderflow_=function(s){var a=s.videoBuffered,l=s.audioBuffered,f=s.currentTime;if(a){var c;if(a.length&&l.length){var d=findRange(a,f-3),g=findRange(a,f),b=findRange(l,f);b.length&&!g.length&&d.length&&(c={start:d.end(0),end:b.end(0)})}else{var m=findNextRange(a,f);m.length||(c=this.gapFromVideoUnderflow_(a,f))}return c?(this.logger_("Encountered a gap in video from "+c.start+" to "+c.end+". "+("Seeking to current time "+f)),!0):!1}},e.skipTheGap_=function(s){var a=this.tech_.buffered(),l=this.tech_.currentTime(),f=findNextRange(a,l);this.cancelTimer_(),!(f.length===0||l!==s)&&(this.logger_("skipTheGap_:","currentTime:",l,"scheduled currentTime:",s,"nextRange start:",f.start(0)),this.tech_.setCurrentTime(f.start(0)+TIME_FUDGE_FACTOR),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},e.gapFromVideoUnderflow_=function(s,a){for(var l=findGaps(s),f=0;f<l.length;f++){var c=l.start(f),d=l.end(f);if(a-c<4&&a-c>2)return{start:c,end:d}}return null},n}(),defaultOptions$1={errorInterval:30,getSource:function(e){var r=this.tech({IWillNotUseThisInPlugins:!0}),s=r.currentSource_||this.currentSource();return e(s)}},initPlugin=function n(e,r){var s=0,a=0,l=videojs.mergeOptions(defaultOptions$1,r);e.ready(function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var f=function(){a&&e.currentTime(a)},c=function(_){_!=null&&(a=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",f),e.src(_),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},d=function(){if(Date.now()-s<l.errorInterval*1e3){e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),e.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!l.getSource||typeof l.getSource!="function"){videojs.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return s=Date.now(),l.getSource.call(e,c)},g=function m(){e.off("loadedmetadata",f),e.off("error",d),e.off("dispose",m)},b=function(_){g(),n(e,_)};e.on("error",d),e.on("dispose",g),e.reloadSourceOnError=b},reloadSourceOnError=function(e){initPlugin(this,e)},version$4="2.16.2",version$3="6.0.1",version$2$1="0.22.1",version$1$2="4.8.0",version$6="3.1.3",Vhs={PlaylistLoader,Playlist,utils:utils$1,STANDARD_PLAYLIST_SELECTOR:lastBandwidthSelector,INITIAL_PLAYLIST_SELECTOR:lowestBitrateCompatibleVariantSelector,lastBandwidthSelector,movingAverageBandwidthSelector,comparePlaylistBandwidth,comparePlaylistResolution,xhr:xhrFactory()};Object.keys(Config).forEach(function(n){Object.defineProperty(Vhs,n,{get:function(){return videojs.log.warn("using Vhs."+n+" is UNSAFE be sure you know what you are doing"),Config[n]},set:function(r){if(videojs.log.warn("using Vhs."+n+" is UNSAFE be sure you know what you are doing"),typeof r!="number"||r<0){videojs.log.warn("value of Vhs."+n+" must be greater than or equal to 0");return}Config[n]=r}})});var LOCAL_STORAGE_KEY="videojs-vhs",handleVhsMediaChange=function(e,r){for(var s=r.media(),a=-1,l=0;l<e.length;l++)if(e[l].id===s.id){a=l;break}e.selectedIndex_=a,e.trigger({selectedIndex:a,type:"change"})},handleVhsLoadedMetadata=function(e,r){r.representations().forEach(function(s){e.addQualityLevel(s)}),handleVhsMediaChange(e,r.playlists)};Vhs.canPlaySource=function(){return videojs.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var emeKeySystems=function(e,r,s){if(!e)return e;var a={};r&&r.attributes&&r.attributes.CODECS&&(a=unwrapCodecList(parseCodecs(r.attributes.CODECS))),s&&s.attributes&&s.attributes.CODECS&&(a.audio=s.attributes.CODECS);var l=getMimeForCodec(a.video),f=getMimeForCodec(a.audio),c={};for(var d in e)c[d]={},f&&(c[d].audioContentType=f),l&&(c[d].videoContentType=l),r.contentProtection&&r.contentProtection[d]&&r.contentProtection[d].pssh&&(c[d].pssh=r.contentProtection[d].pssh),typeof e[d]=="string"&&(c[d].url=e[d]);return videojs.mergeOptions(e,c)},getAllPsshKeySystemsOptions=function(e,r){return e.reduce(function(s,a){if(!a.contentProtection)return s;var l=r.reduce(function(f,c){var d=a.contentProtection[c];return d&&d.pssh&&(f[c]={pssh:d.pssh}),f},{});return Object.keys(l).length&&s.push(l),s},[])},waitForKeySessionCreation=function(e){var r=e.player,s=e.sourceKeySystems,a=e.audioMedia,l=e.mainPlaylists;if(!r.eme.initializeMediaKeys)return Promise.resolve();var f=a?l.concat([a]):l,c=getAllPsshKeySystemsOptions(f,Object.keys(s)),d=[],g=[];return c.forEach(function(b){g.push(new Promise(function(m,_){r.tech_.one("keysessioncreated",m)})),d.push(new Promise(function(m,_){r.eme.initializeMediaKeys({keySystems:b},function(x){if(x){_(x);return}m()})}))}),Promise.race([Promise.all(d),Promise.race(g)])},setupEmeOptions=function(e){var r=e.player,s=e.sourceKeySystems,a=e.media,l=e.audioMedia,f=emeKeySystems(s,a,l);return f?(r.currentSource().keySystems=f,f&&!r.eme?(videojs.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},getVhsLocalStorage=function(){if(!window_1.localStorage)return null;var e=window_1.localStorage.getItem(LOCAL_STORAGE_KEY);if(!e)return null;try{return JSON.parse(e)}catch{return null}},updateVhsLocalStorage=function(e){if(!window_1.localStorage)return!1;var r=getVhsLocalStorage();r=r?videojs.mergeOptions(r,e):e;try{window_1.localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(r))}catch{return!1}return r},expandDataUri=function(e){return e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(e.substring(e.indexOf(",")+1)):e};Vhs.supportsNativeHls=function(){if(!document_1||!document_1.createElement)return!1;var n=document_1.createElement("video");if(!videojs.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some(function(r){return/maybe|probably/i.test(n.canPlayType(r))})}();Vhs.supportsNativeDash=function(){return!document_1||!document_1.createElement||!videojs.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(document_1.createElement("video").canPlayType("application/dash+xml"))}();Vhs.supportsTypeNatively=function(n){return n==="hls"?Vhs.supportsNativeHls:n==="dash"?Vhs.supportsNativeDash:!1};Vhs.isSupported=function(){return videojs.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Component$2=videojs.getComponent("Component"),VhsHandler=function(n){_inheritsLoose(e,n);function e(s,a,l){var f;if(f=n.call(this,a,videojs.mergeOptions(l.hls,l.vhs))||this,l.hls&&Object.keys(l.hls).length&&videojs.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),typeof l.initialBandwidth=="number"&&(f.options_.bandwidth=l.initialBandwidth),f.logger_=logger$1("VhsHandler"),a.options_&&a.options_.playerId){var c=videojs(a.options_.playerId);c.hasOwnProperty("hls")||Object.defineProperty(c,"hls",{get:function(){return videojs.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),a.trigger({type:"usage",name:"hls-player-access"}),_assertThisInitialized(f)},configurable:!0}),c.hasOwnProperty("vhs")||Object.defineProperty(c,"vhs",{get:function(){return videojs.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),a.trigger({type:"usage",name:"vhs-player-access"}),_assertThisInitialized(f)},configurable:!0}),c.hasOwnProperty("dash")||Object.defineProperty(c,"dash",{get:function(){return videojs.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),_assertThisInitialized(f)},configurable:!0}),f.player_=c}if(f.tech_=a,f.source_=s,f.stats={},f.ignoreNextSeekingEvent_=!1,f.setOptions_(),f.options_.overrideNative&&a.overrideNativeAudioTracks&&a.overrideNativeVideoTracks)a.overrideNativeAudioTracks(!0),a.overrideNativeVideoTracks(!0);else if(f.options_.overrideNative&&(a.featuresNativeVideoTracks||a.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return f.on(document_1,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(d){var g=document_1.fullscreenElement||document_1.webkitFullscreenElement||document_1.mozFullScreenElement||document_1.msFullscreenElement;g&&g.contains(f.tech_.el())?f.masterPlaylistController_.fastQualityChange_():f.masterPlaylistController_.checkABR_()}),f.on(f.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),f.on(f.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),f.on(f.tech_,"play",f.play),f}var r=e.prototype;return r.setOptions_=function(){var a=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var l=getVhsLocalStorage();l&&l.bandwidth&&(this.options_.bandwidth=l.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),l&&l.throughput&&(this.options_.throughput=l.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Config.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Config.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(f){typeof a.source_[f]<"u"&&(a.options_[f]=a.source_[f])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},r.src=function(a,l){var f=this;if(a){this.setOptions_(),this.options_.src=expandDataUri(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Vhs,this.options_.sourceType=simpleTypeFromSourceType(l),this.options_.seekTo=function(g){f.tech_.setCurrentTime(g)},this.options_.smoothQualityChange&&videojs.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new MasterPlaylistController(this.options_);var c=videojs.mergeOptions({liveRangeSafeTimeDelta:SAFE_TIME_DELTA},this.options_,{seekable:function(){return f.seekable()},media:function(){return f.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new PlaybackWatcher(c),this.masterPlaylistController_.on("error",function(){var g=videojs.players[f.tech_.options_.playerId],b=f.masterPlaylistController_.error;typeof b=="object"&&!b.code?b.code=3:typeof b=="string"&&(b={message:b,code:3}),g.error(b)});var d=this.options_.experimentalBufferBasedABR?Vhs.movingAverageBandwidthSelector(.55):Vhs.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):d.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Vhs.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(b){this.masterPlaylistController_.selectPlaylist=b.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(b){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=b,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var b=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,m=window_1.navigator.connection||window_1.navigator.mozConnection||window_1.navigator.webkitConnection,_=1e7;if(this.options_.useNetworkInformationApi&&m){var x=m.downlink*1e3*1e3;x>=_&&b>=_?b=Math.max(b,x):b=x}return b},set:function(b){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=b,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var b=1/(this.bandwidth||1),m;this.throughput>0?m=1/this.throughput:m=0;var _=Math.floor(1/(b+m));return _},set:function(){videojs.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return f.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return f.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return f.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return f.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return f.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return f.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return f.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return f.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return f.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return f.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return f.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return f.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return f.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return timeRangesToArray(f.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return f.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return f.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return f.tech_.name_},enumerable:!0},duration:{get:function(){return f.tech_.duration()},enumerable:!0},master:{get:function(){return f.playlists.master},enumerable:!0},playerDimensions:{get:function(){return f.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return timeRangesToArray(f.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return f.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){f.options_.useBandwidthFromLocalStorage&&updateVhsLocalStorage({bandwidth:f.bandwidth,throughput:Math.round(f.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){renditionSelectionMixin(f)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){f.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=window_1.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},r.createKeySessions_=function(){var a=this,l=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),waitForKeySessionCreation({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:l&&l.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){a.logger_("created EME key session"),a.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(f){a.logger_("error while creating EME key session",f),a.player_.error({message:"Failed to initialize media keys for EME",code:3})})},r.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},r.setupEme_=function(){var a=this,l=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,f=setupEmeOptions({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:l&&l.media()});if(this.player_.tech_.on("keystatuschange",function(c){if(c.status==="output-restricted"){var d=a.masterPlaylistController_.master();if(!(!d||!d.playlists)){var g=[];if(d.playlists.forEach(function(m){m&&m.attributes&&m.attributes.RESOLUTION&&m.attributes.RESOLUTION.height>=720&&(!m.excludeUntil||m.excludeUntil<1/0)&&(m.excludeUntil=1/0,g.push(m))}),g.length){var b;(b=videojs.log).warn.apply(b,['DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.'].concat(g)),a.masterPlaylistController_.fastQualityChange_()}}}}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),videojs.browser.IE_VERSION===11||!f){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()},r.setupQualityLevels_=function(){var a=this,l=videojs.players[this.tech_.options_.playerId];!l||!l.qualityLevels||this.qualityLevels_||(this.qualityLevels_=l.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){handleVhsLoadedMetadata(a.qualityLevels_,a)}),this.playlists.on("mediachange",function(){handleVhsMediaChange(a.qualityLevels_,a.playlists)}))},e.version=function(){return{"@videojs/http-streaming":version$4,"mux.js":version$3,"mpd-parser":version$2$1,"m3u8-parser":version$1$2,"aes-decrypter":version$6}},r.version=function(){return this.constructor.version()},r.canChangeType=function(){return SourceUpdater.canChangeType()},r.play=function(){this.masterPlaylistController_.play()},r.setCurrentTime=function(a){this.masterPlaylistController_.setCurrentTime(a)},r.duration=function(){return this.masterPlaylistController_.duration()},r.seekable=function(){return this.masterPlaylistController_.seekable()},r.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&window_1.URL.revokeObjectURL&&(window_1.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),n.prototype.dispose.call(this)},r.convertToProgramTime=function(a,l){return getProgramTime({playlist:this.masterPlaylistController_.media(),time:a,callback:l})},r.seekToProgramTime=function(a,l,f,c){return f===void 0&&(f=!0),c===void 0&&(c=2),seekToProgramTime({programTime:a,playlist:this.masterPlaylistController_.media(),retryCount:c,pauseAfterSeek:f,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:l})},e}(Component$2),VhsSourceHandler={name:"videojs-http-streaming",VERSION:version$4,canHandleSource:function(e,r){r===void 0&&(r={});var s=videojs.mergeOptions(videojs.options,r);return VhsSourceHandler.canPlayType(e.type,s)},handleSource:function(e,r,s){s===void 0&&(s={});var a=videojs.mergeOptions(videojs.options,s);return r.vhs=new VhsHandler(e,r,a),videojs.hasOwnProperty("hls")||Object.defineProperty(r,"hls",{get:function(){return videojs.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),r.vhs},configurable:!0}),r.vhs.xhr=xhrFactory(),r.vhs.src(e.src,e.type),r.vhs},canPlayType:function(e,r){var s=simpleTypeFromSourceType(e);if(!s)return"";var a=VhsSourceHandler.getOverrideNative(r),l=Vhs.supportsTypeNatively(s),f=!l||a;return f?"maybe":""},getOverrideNative:function(e){e===void 0&&(e={});var r=e,s=r.vhs,a=s===void 0?{}:s,l=r.hls,f=l===void 0?{}:l,c=!(videojs.browser.IS_ANY_SAFARI||videojs.browser.IS_IOS),d=a.overrideNative,g=d===void 0?c:d,b=f.overrideNative,m=b===void 0?!1:b;return m||g}},supportsNativeMediaSources=function(){return browserSupportsCodec("avc1.4d400d,mp4a.40.2")};supportsNativeMediaSources()&&videojs.getTech("Html5").registerSourceHandler(VhsSourceHandler,0);videojs.VhsHandler=VhsHandler;Object.defineProperty(videojs,"HlsHandler",{get:function(){return videojs.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),VhsHandler},configurable:!0});videojs.VhsSourceHandler=VhsSourceHandler;Object.defineProperty(videojs,"HlsSourceHandler",{get:function(){return videojs.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),VhsSourceHandler},configurable:!0});videojs.Vhs=Vhs;Object.defineProperty(videojs,"Hls",{get:function(){return videojs.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),Vhs},configurable:!0});videojs.use||(videojs.registerComponent("Hls",Vhs),videojs.registerComponent("Vhs",Vhs));videojs.options.vhs=videojs.options.vhs||{};videojs.options.hls=videojs.options.hls||{};if(!videojs.getPlugin||!videojs.getPlugin("reloadSourceOnError")){var registerPlugin=videojs.registerPlugin||videojs.plugin;registerPlugin("reloadSourceOnError",reloadSourceOnError)}let t=Symbol("map"),u=Symbol("api"),v=Symbol("marker"),w=Symbol("markerCluster"),y=Symbol("CustomMarker"),z=Symbol("mapTilesLoaded"),A="click dblclick drag dragend dragstart mousedown mousemove mouseout mouseover mouseup rightclick".split(" ");var aa=function n(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var s;if(Array.isArray(e)){var a=e.length;if(a!=r.length)return!1;for(s=a;s--!==0;)if(!n(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();var l=Object.keys(e);if(a=l.length,a!==Object.keys(r).length)return!1;for(s=a;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,l[s]))return!1;for(s=a;s--!==0;)if(a=l[s],!n(e[a],r[a]))return!1;return!0}return e!==e&&r!==r};class C{constructor({apiKey:e,channel:r,client:s,id:a="__googleMapsScriptId",libraries:l=[],language:f,region:c,version:d,mapIds:g,nonce:b,retries:m=3,url:_="https://maps.googleapis.com/maps/api/js"}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.loading=this.done=!1,this.errors=[],this.version=d,this.apiKey=e,this.channel=r,this.client=s,this.id=a||"__googleMapsScriptId",this.libraries=l,this.language=f,this.region=c,this.mapIds=g,this.nonce=b,this.retries=m,this.url=_,C.instance){if(!aa(this.options,C.instance.options))throw Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(C.instance.options)}`);return C.instance}C.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url}}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+=`?callback=${this.CALLBACK}`,this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),0<this.libraries.length&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),e}deleteScript(){let e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,r)=>{this.loadCallback(s=>{s?r(s.error):e(window.google)})})}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){if(document.getElementById(this.id))this.callback();else{var e=this.createUrl(),r=document.createElement("script");r.id=this.id,r.type="text/javascript",r.src=e,r.onerror=this.loadErrorCallback.bind(this),r.defer=!0,r.async=!0,this.nonce&&(r.nonce=this.nonce),document.head.appendChild(r)}}reset(){this.deleteScript(),this.loading=this.done=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){this.errors.push(e),this.errors.length<=this.retries?(e=this.errors.length*Math.pow(2,this.errors.length),console.log(`Failed to load Google Maps script, retrying in ${e} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},e)):(this.onerrorEvent=e,this.callback())}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){this.resetIfRetryingFailed(),this.done?this.callback():window.google&&window.google.maps&&window.google.maps.version?(console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback()):this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}function ba(n){return class extends n.OverlayView{constructor(e){super();let{element:r,...s}=e;this.element=r,this.opts=s,this.opts.map&&this.setMap(this.opts.map)}getPosition(){return this.opts.position?this.opts.position instanceof n.LatLng?this.opts.position:new n.LatLng(this.opts.position):null}getVisible(){if(!this.element)return!1;let e=this.element;return e.style.display!=="none"&&e.style.visibility!=="hidden"&&(e.style.opacity===""||.01<Number(e.style.opacity))}onAdd(){if(this.element){var e=this.getPanes();e&&e.overlayMouseTarget.appendChild(this.element)}}draw(){if(this.element){var e=this.getProjection().fromLatLngToDivPixel(this.getPosition());if(e){this.element.style.position="absolute";let s=this.element.offsetHeight;var r=this.element.offsetWidth;switch(this.opts.anchorPoint){case"TOP_CENTER":r=e.x-r/2,e=e.y;break;case"BOTTOM_CENTER":r=e.x-r/2,e=e.y-s;break;case"LEFT_CENTER":r=e.x,e=e.y-s/2;break;case"RIGHT_CENTER":r=e.x-r,e=e.y-s/2;break;case"TOP_LEFT":r=e.x,e=e.y;break;case"TOP_RIGHT":r=e.x-r,e=e.y;break;case"BOTTOM_LEFT":r=e.x,e=e.y-s;break;case"BOTTOM_RIGHT":r=e.x-r,e=e.y-s;break;default:r=e.x-r/2,e=e.y-s/2}this.element.style.left=r+"px",this.element.style.top=e+"px",this.element.style.transform=`translateX(${this.opts.offsetX||0}px) translateY(${this.opts.offsetY||0}px)`,this.opts.zIndex&&(this.element.style.zIndex=this.opts.zIndex.toString())}}}onRemove(){this.element&&this.element.remove()}setOptions(e){this.opts=e,this.draw()}}}let D,E="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed".split(" ");var F=defineComponent({props:{apiPromise:{type:Promise},apiKey:{type:String,default:""},version:{type:String,default:"weekly"},libraries:{type:Array,default:()=>["places"]},region:{type:String,required:!1},language:{type:String,required:!1},backgroundColor:{type:String,required:!1},center:{type:Object,default:()=>({lat:0,lng:0})},clickableIcons:{type:Boolean,required:!1,default:void 0},controlSize:{type:Number,required:!1},disableDefaultUi:{type:Boolean,required:!1,default:void 0},disableDoubleClickZoom:{type:Boolean,required:!1,default:void 0},draggable:{type:Boolean,required:!1,default:void 0},draggableCursor:{type:String,required:!1},draggingCursor:{type:String,required:!1},fullscreenControl:{type:Boolean,required:!1,default:void 0},fullscreenControlPosition:{type:String,required:!1},gestureHandling:{type:String,required:!1},heading:{type:Number,required:!1},keyboardShortcuts:{type:Boolean,required:!1,default:void 0},mapTypeControl:{type:Boolean,required:!1,default:void 0},mapTypeControlOptions:{type:Object,required:!1},mapTypeId:{type:[Number,String],required:!1},mapId:{type:String,required:!1},maxZoom:{type:Number,required:!1},minZoom:{type:Number,required:!1},noClear:{type:Boolean,required:!1,default:void 0},panControl:{type:Boolean,required:!1,default:void 0},panControlPosition:{type:String,required:!1},restriction:{type:Object,required:!1},rotateControl:{type:Boolean,required:!1,default:void 0},rotateControlPosition:{type:String,required:!1},scaleControl:{type:Boolean,required:!1,default:void 0},scaleControlStyle:{type:Number,required:!1},scrollwheel:{type:Boolean,required:!1,default:void 0},streetView:{type:Object,required:!1},streetViewControl:{type:Boolean,required:!1,default:void 0},streetViewControlPosition:{type:String,required:!1},styles:{type:Array,required:!1},tilt:{type:Number,required:!1},zoom:{type:Number,required:!1},zoomControl:{type:Boolean,required:!1,default:void 0},zoomControlPosition:{type:String,required:!1}},emits:E,setup(n,{emit:e}){let r=ref(),s=ref(!1),a=ref(),l=ref(),f=ref(!1);provide(t,a),provide(u,l),provide(z,f);let c=()=>{const b={...n};Object.keys(b).forEach(_=>{b[_]===void 0&&delete b[_]});var m=_=>{var x;return _?{position:(x=l.value)===null||x===void 0?void 0:x.ControlPosition[_]}:{}};return m={scaleControlOptions:n.scaleControlStyle?{style:n.scaleControlStyle}:{},panControlOptions:m(n.panControlPosition),zoomControlOptions:m(n.zoomControlPosition),rotateControlOptions:m(n.rotateControlPosition),streetViewControlOptions:m(n.streetViewControlPosition),fullscreenControlOptions:m(n.fullscreenControlPosition),disableDefaultUI:n.disableDefaultUi},{...b,...m}},d=watch([l,a],([b,m])=>{b&&m&&(b.event.addListenerOnce(m,"tilesloaded",()=>{f.value=!0}),setTimeout(d,0))},{immediate:!0}),g=b=>{l.value=markRaw(b.maps),a.value=markRaw(new b.maps.Map(r.value,c())),b=ba(l.value),l.value[y]=b,E.forEach(m=>{var _;(_=a.value)===null||_===void 0||_.addListener(m,x=>e(m,x))}),s.value=!0,b=Object.keys(n).filter(m=>!"apiPromise apiKey version libraries region language center zoom".split(" ").includes(m)).map(m=>toRef(n,m)),watch([()=>n.center,()=>n.zoom,...b],([m,_],[x,k])=>{var q,j,ne;const{center:se,zoom:le,...ue}=c();(q=a.value)===null||q===void 0||q.setOptions(ue),_!==void 0&&_!==k&&((j=a.value)===null||j===void 0||j.setZoom(_)),_=!x||m.lng!==x.lng||m.lat!==x.lat,m&&_&&((ne=a.value)===null||ne===void 0||ne.panTo(m))})};return onMounted(()=>{if(n.apiPromise&&n.apiPromise instanceof Promise)n.apiPromise.then(g);else{try{const{apiKey:b,region:m,version:_,language:x,libraries:k}=n;D=new C({apiKey:b,region:m,version:_,language:x,libraries:k})}catch(b){console.error(b)}D.load().then(g)}}),onBeforeUnmount(()=>{var b;f.value=!1,a.value&&((b=l.value)===null||b===void 0||b.event.clearInstanceListeners(a.value))}),{mapRef:r,ready:s,map:a,api:l,mapTilesLoaded:f}}});function G(n,e){if(e===void 0&&(e={}),e=e.insertAt,n&&typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}}G(`
.mapdiv[data-v-177d06e3] {
  width: 100%;
  height: 100%;
}
`);let ca=withScopeId();pushScopeId("data-v-177d06e3");let da={ref:"mapRef",class:"mapdiv"};popScopeId();let ea=ca(n=>(openBlock(),createBlock("div",null,[createVNode("div",da,null,512),renderSlot(n.$slots,"default",{ready:n.ready,map:n.map,api:n.api,mapTilesLoaded:n.mapTilesLoaded},void 0,!0)])));F.render=ea;F.__scopeId="data-v-177d06e3";var I=function n(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var s;if(Array.isArray(e)){var a=e.length;if(a!=r.length)return!1;for(s=a;s--!==0;)if(!n(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();var l=Object.keys(e);if(a=l.length,a!==Object.keys(r).length)return!1;for(s=a;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,l[s]))return!1;for(s=a;s--!==0;)if(a=l[s],!n(e[a],r[a]))return!1;return!0}return e!==e&&r!==r};let J=(n,e,r,s)=>{const a=ref(),l=inject(t,ref()),f=inject(u,ref()),c=inject(w,ref()),d=computed(()=>!!(c.value&&f.value&&(a.value instanceof f.value.Marker||a.value instanceof f.value[y])));return watch([l,r],(g,[b,m])=>{var _,x,k;g=!I(r.value,m)||l.value!==b,l.value&&f.value&&g&&(a.value?(a.value.setOptions(r.value),d.value&&((_=c.value)===null||_===void 0||_.removeMarker(a.value),(x=c.value)===null||x===void 0||x.addMarker(a.value))):(a.value=markRaw(n==="Marker"?new f.value[n](r.value):n===y?new f.value[n](r.value):new f.value[n]({...r.value,map:l.value})),d.value?(k=c.value)===null||k===void 0||k.addMarker(a.value):a.value.setMap(l.value),e.forEach(q=>{var j;(j=a.value)===null||j===void 0||j.addListener(q,ne=>s(q,ne))})))},{immediate:!0}),onBeforeUnmount(()=>{var g,b;a.value&&((g=f.value)===null||g===void 0||g.event.clearInstanceListeners(a.value),d.value?(b=c.value)===null||b===void 0||b.removeMarker(a.value):a.value.setMap(null))}),a},K="animation_changed click dblclick rightclick dragstart dragend drag mouseover mousedown mouseout mouseup draggable_changed clickable_changed contextmenu cursor_changed flat_changed rightclick zindex_changed icon_changed position_changed shape_changed title_changed visible_changed".split(" ");var fa=defineComponent({name:"Marker",props:{options:{type:Object,required:!0}},emits:K,setup(n,{emit:e,expose:r,slots:s}){return n=toRef(n,"options"),e=J("Marker",K,n,e),provide(v,e),r({marker:e}),()=>{var a;return(a=s.default)===null||a===void 0?void 0:a.call(s)}}});defineComponent({name:"Polyline",props:{options:{type:Object,required:!0}},emits:A,setup(n,{emit:e}){return n=toRef(n,"options"),{polyline:J("Polyline",A,n,e)}},render:()=>null});defineComponent({name:"Polygon",props:{options:{type:Object,required:!0}},emits:A,setup(n,{emit:e}){return n=toRef(n,"options"),{polygon:J("Polygon",A,n,e)}},render:()=>null});let L=A.concat(["bounds_changed"]);defineComponent({name:"Rectangle",props:{options:{type:Object,required:!0}},emits:L,setup(n,{emit:e}){return n=toRef(n,"options"),{rectangle:J("Rectangle",L,n,e)}},render:()=>null});let M=A.concat(["center_changed","radius_changed"]);defineComponent({name:"Circle",props:{options:{type:Object,required:!0}},emits:M,setup(n,{emit:e}){return n=toRef(n,"options"),{circle:J("Circle",M,n,e)}},render:()=>null});var N$1=defineComponent({props:{position:{type:String,required:!0},index:{type:Number,default:1}},emits:["content:loaded"],setup(n,{emit:e}){let r=ref(null),s=inject(t,ref()),a=inject(u,ref()),l=inject(z,ref(!1)),f=ref(!1),c=watch([l,a,r],([b,m,_])=>{m&&b&&_&&(d(n.position),f.value=!0,e("content:loaded"),setTimeout(c,0))},{immediate:!0}),d=b=>{s.value&&a.value&&r.value&&s.value.controls[a.value.ControlPosition[b]].push(r.value)},g=b=>{if(s.value&&a.value){let m=null;b=a.value.ControlPosition[b],s.value.controls[b].forEach((_,x)=>{_===r.value&&(m=x)}),m!==null&&s.value.controls[b].removeAt(m)}};return onBeforeUnmount(()=>g(n.position)),watch(()=>n.position,(b,m)=>{g(m),d(b)}),watch(()=>n.index,b=>{b&&r.value&&(r.value.index=n.index)}),{controlRef:r,showContent:f}}});let la={ref:"controlRef"};N$1.render=function(n){return openBlock(),createBlock(Fragment,null,[createCommentVNode(`
    v-show must be used instead of v-if otherwise there
    would be no rendered content pushed to the map controls
  `),withDirectives(createVNode("div",la,[renderSlot(n.$slots,"default")],512),[[vShow,n.showContent]])],2112)};let O="closeclick content_changed domready position_changed visible zindex_changed".split(" ");var P=defineComponent({inheritAttrs:!1,props:{options:{type:Object,default:()=>({})}},emits:O,setup(n,{slots:e,emit:r}){let s=ref(),a=ref(),l=inject(t,ref()),f=inject(u,ref()),c=inject(v,ref()),d,g=computed(()=>{var b;return(b=e.default)===null||b===void 0?void 0:b.call(e).some(m=>m.type!==Comment$1)});return onMounted(()=>{watch([l,()=>n.options],([,b],[m,_])=>{m=!I(b,_)||l.value!==m,l.value&&f.value&&m&&(s.value?(s.value.setOptions({...b,content:g.value?a.value:b.content}),c.value||s.value.open({map:l.value})):(s.value=markRaw(new f.value.InfoWindow({...b,content:g.value?a.value:b.content})),c.value?d=c.value.addListener("click",()=>{s.value&&s.value.open({map:l.value,anchor:c.value})}):s.value.open({map:l.value}),O.forEach(x=>{var k;(k=s.value)===null||k===void 0||k.addListener(x,q=>r(x,q))})))},{immediate:!0})}),onBeforeUnmount(()=>{var b;d&&d.remove(),s.value&&((b=f.value)===null||b===void 0||b.event.clearInstanceListeners(s.value),s.value.close())}),{infoWindow:s,infoWindowRef:a,hasSlotContent:g}}});G(`
.info-window-wrapper[data-v-5b373d6e] {
  display: none;
}
.mapdiv .info-window-wrapper[data-v-5b373d6e] {
  display: inline-block;
}
`);let ma=withScopeId();pushScopeId("data-v-5b373d6e");let na={key:0,class:"info-window-wrapper"};popScopeId();let oa=ma(n=>n.hasSlotContent?(openBlock(),createBlock("div",na,[createVNode("div",mergeProps({ref:"infoWindowRef"},n.$attrs),[renderSlot(n.$slots,"default",{},void 0,!0)],16)])):createCommentVNode("v-if",!0));P.render=oa;P.__scopeId="data-v-5b373d6e";function Q(n,e,r,s,a,l){if(!(a-s<=r)){var f=s+a>>1;pa(n,e,f,s,a,l%2),Q(n,e,r,s,f-1,l+1),Q(n,e,r,f+1,a,l+1)}}function pa(n,e,r,s,a,l){for(;a>s;){if(600<a-s){var f=a-s+1,c=r-s+1,d=Math.log(f),g=.5*Math.exp(2*d/3);d=.5*Math.sqrt(d*g*(f-g)/f)*(0>c-f/2?-1:1),pa(n,e,r,Math.max(s,Math.floor(r-c*g/f+d)),Math.min(a,Math.floor(r+(f-c)*g/f+d)),l)}for(f=e[2*r+l],c=s,g=a,R(n,e,s,r),e[2*a+l]>f&&R(n,e,s,a);c<g;){for(R(n,e,c,g),c++,g--;e[2*c+l]<f;)c++;for(;e[2*g+l]>f;)g--}e[2*s+l]===f?R(n,e,s,g):(g++,R(n,e,g,a)),g<=r&&(s=g+1),r<=g&&(a=g-1)}}function R(n,e,r,s){S(n,r,s),S(e,2*r,2*s),S(e,2*r+1,2*s+1)}function S(n,e,r){let s=n[e];n[e]=n[r],n[r]=s}let qa=n=>n[0],ra=n=>n[1];class sa{constructor(e,r=qa,s=ra,a=64,l=Float64Array){this.nodeSize=a,this.points=e;let f=this.ids=new(65536>e.length?Uint16Array:Uint32Array)(e.length);l=this.coords=new l(2*e.length);for(let c=0;c<e.length;c++)f[c]=c,l[2*c]=r(e[c]),l[2*c+1]=s(e[c]);Q(f,l,a,0,f.length-1,0)}range(e,r,s,a){{var l=this.ids,f=this.coords,c=this.nodeSize;let g=[0,l.length-1,0],b=[],m,_;for(;g.length;){var d=g.pop();let x=g.pop(),k=g.pop();if(x-k<=c){for(d=k;d<=x;d++)m=f[2*d],_=f[2*d+1],m>=e&&m<=s&&_>=r&&_<=a&&b.push(l[d]);continue}let q=Math.floor((k+x)/2);m=f[2*q],_=f[2*q+1],m>=e&&m<=s&&_>=r&&_<=a&&b.push(l[q]);let j=(d+1)%2;(d===0?e<=m:r<=_)&&(g.push(k),g.push(q-1),g.push(j)),(d===0?s>=m:a>=_)&&(g.push(q+1),g.push(x),g.push(j))}e=b}return e}within(e,r,s){{var a=this.ids,l=this.coords,f=this.nodeSize;let m=[0,a.length-1,0],_=[],x=s*s;for(;m.length;){var c=m.pop();let k=m.pop();var d=m.pop();if(k-d<=f){for(c=d;c<=k;c++){d=l[2*c]-e;var g=l[2*c+1]-r;d=d*d+g*g,d<=x&&_.push(a[c])}continue}g=Math.floor((d+k)/2);let q=l[2*g],j=l[2*g+1];{var b=q-e;let ne=j-r;b=b*b+ne*ne}b<=x&&_.push(a[g]),b=(c+1)%2,(c===0?e-s<=q:r-s<=j)&&(m.push(d),m.push(g-1),m.push(b)),(c===0?e+s>=q:r+s>=j)&&(m.push(g+1),m.push(k),m.push(b))}e=_}return e}}let ta={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:n=>n},T=Math.fround||(n=>e=>(n[0]=+e,n[0]))(new Float32Array(1));class ua{constructor(e){this.options=U(Object.create(ta),e),this.trees=Array(this.options.maxZoom+1)}load(e){let{log:r,minZoom:s,maxZoom:a,nodeSize:l}=this.options;r&&console.time("total time");var f=`prepare ${e.length} points`;r&&console.time(f),this.points=e;let c=[];for(let d=0;d<e.length;d++)e[d].geometry&&c.push(va(e[d],d));for(this.trees[a+1]=new sa(c,wa,xa,l,Float32Array),r&&console.timeEnd(f),e=a;e>=s;e--)f=+Date.now(),c=this._cluster(c,e),this.trees[e]=new sa(c,wa,xa,l,Float32Array),r&&console.log("z%d: %d clusters in %dms",e,c.length,+Date.now()-f);return r&&console.timeEnd("total time"),this}getClusters(e,r){let s=((e[0]+180)%360+360)%360-180;var a=Math.max(-90,Math.min(90,e[1])),l=e[2]===180?180:((e[2]+180)%360+360)%360-180;let f=Math.max(-90,Math.min(90,e[3]));if(360<=e[2]-e[0])s=-180,l=180;else if(s>l){var c=this.getClusters([s,a,180,f],r);return a=this.getClusters([-180,a,l,f],r),c.concat(a)}r=this.trees[this._limitZoom(r)],l=r.range(s/360+.5,V(f),l/360+.5,V(a)),a=[];for(c of l)l=r.points[c],a.push(l.numPoints?ya(l):this.points[l.index]);return a}getChildren(e){var r=this._getOriginId(e),s=this._getOriginZoom(e);let a=this.trees[s];if(!a||(r=a.points[r],!r))throw Error("No cluster with the specified id.");r=a.within(r.x,r.y,this.options.radius/(this.options.extent*Math.pow(2,s-1))),s=[];for(let l of r)r=a.points[l],r.parentId===e&&s.push(r.numPoints?ya(r):this.points[r.index]);if(s.length===0)throw Error("No cluster with the specified id.");return s}getLeaves(e,r,s){let a=[];return this._appendLeaves(a,e,r||10,s||0,0),a}getTile(e,r,s){let a=this.trees[this._limitZoom(e)];e=Math.pow(2,e);let{extent:l,radius:f}=this.options,c=f/l,d=(s-c)/e,g=(s+1+c)/e,b={features:[]};return this._addTileFeatures(a.range((r-c)/e,d,(r+1+c)/e,g),a.points,r,s,e,b),r===0&&this._addTileFeatures(a.range(1-c/e,d,1,g),a.points,e,s,e,b),r===e-1&&this._addTileFeatures(a.range(0,d,c/e,g),a.points,-1,s,e,b),b.features.length?b:null}getClusterExpansionZoom(e){let r=this._getOriginZoom(e)-1;for(;r<=this.options.maxZoom&&(e=this.getChildren(e),r++,e.length===1);)e=e[0].properties.cluster_id;return r}_appendLeaves(e,r,s,a,l){r=this.getChildren(r);for(let f of r)if((r=f.properties)&&r.cluster?l=l+r.point_count<=a?l+r.point_count:this._appendLeaves(e,r.cluster_id,s,a,l):l<a?l++:e.push(f),e.length===s)break;return l}_addTileFeatures(e,r,s,a,l,f){for(let g of e){e=r[g];let b=e.numPoints;var c=void 0;let m;var d=void 0;b?(c=za(e),m=e.x,d=e.y):(d=this.points[e.index],c=d.properties,m=d.geometry.coordinates[0]/360+.5,d=V(d.geometry.coordinates[1])),c={type:1,geometry:[[Math.round(this.options.extent*(m*l-s)),Math.round(this.options.extent*(d*l-a))]],tags:c};let _;b?_=e.id:this.options.generateId?_=e.index:this.points[e.index].id&&(_=this.points[e.index].id),_!==void 0&&(c.id=_),f.features.push(c)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,r){let s=[],{radius:a,extent:l,reduce:f,minPoints:c}=this.options,d=a/(l*Math.pow(2,r));for(let x=0;x<e.length;x++){var g=e[x];if(g.zoom<=r)continue;g.zoom=r;let k=this.trees[r+1];var b=k.within(g.x,g.y,d),m=g.numPoints||1;let q=m;for(let j of b){var _=k.points[j];_.zoom>r&&(q+=_.numPoints||1)}if(q>m&&q>=c){_=g.x*m;let j=g.y*m;m=f&&1<m?this._map(g,!0):null;let ne=(x<<5)+(r+1)+this.points.length;for(let se of b){if(b=k.points[se],b.zoom<=r)continue;b.zoom=r;let le=b.numPoints||1;_+=b.x*le,j+=b.y*le,b.parentId=ne,f&&(m||(m=this._map(g,!0)),f(m,this._map(b)))}g.parentId=ne,s.push(Aa(_/q,j/q,ne,q,m))}else if(s.push(g),1<q)for(let j of b)g=k.points[j],g.zoom<=r||(g.zoom=r,s.push(g))}return s}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,r){if(e.numPoints)return r?U({},e.properties):e.properties;e=this.points[e.index].properties;let s=this.options.map(e);return r&&s===e?U({},s):s}}function Aa(n,e,r,s,a){return{x:T(n),y:T(e),zoom:1/0,id:r,parentId:-1,numPoints:s,properties:a}}function va(n,e){let[r,s]=n.geometry.coordinates;return{x:T(r/360+.5),y:T(V(s)),zoom:1/0,index:e,parentId:-1}}function ya(n){var e=n.id,r=za(n);return{type:"Feature",id:e,properties:r,geometry:{type:"Point",coordinates:[360*(n.x-.5),360*Math.atan(Math.exp((180-360*n.y)*Math.PI/180))/Math.PI-90]}}}function za(n){let e=n.numPoints,r=1e4<=e?`${Math.round(e/1e3)}k`:1e3<=e?`${Math.round(e/100)/10}k`:e;return U(U({},n.properties),{cluster:!0,cluster_id:n.id,point_count:e,point_count_abbreviated:r})}function V(n){return n=Math.sin(n*Math.PI/180),n=.5-.25*Math.log((1+n)/(1-n))/Math.PI,0>n?0:1<n?1:n}function U(n,e){for(let r in e)n[r]=e[r];return n}function wa(n){return n.x}function xa(n){return n.y}let W$1=class{constructor({markers:e,position:r}){this.markers=e,r&&(this._position=r instanceof google.maps.LatLng?r:new google.maps.LatLng(r))}get bounds(){if(this.markers.length!==0||this._position)return this.markers.reduce((e,r)=>e.extend(r.getPosition()),new google.maps.LatLngBounds(this._position,this._position))}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>e.getVisible()).length}push(e){this.markers.push(e)}delete(){this.marker&&(this.marker.setMap(null),delete this.marker),this.markers.length=0}};class Ba{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return Ca(e)}}let Ca=n=>n.map(e=>new W$1({position:e.getPosition(),markers:[e]}));class Da extends Ba{constructor(e){var{maxZoom:r,radius:s=60}=e,a=["maxZoom","radius"],l={},f;for(f in e)Object.prototype.hasOwnProperty.call(e,f)&&0>a.indexOf(f)&&(l[f]=e[f]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var c=0;for(f=Object.getOwnPropertySymbols(e);c<f.length;c++)0>a.indexOf(f[c])&&Object.prototype.propertyIsEnumerable.call(e,f[c])&&(l[f[c]]=e[f[c]])}super({maxZoom:r}),this.superCluster=new ua(Object.assign({maxZoom:this.maxZoom,radius:s},l)),this.state={zoom:null}}calculate(e){let r=!1;if(!I(e.markers,this.markers)){r=!0,this.markers=[...e.markers];var s=this.markers.map(a=>({type:"Feature",geometry:{type:"Point",coordinates:[a.getPosition().lng(),a.getPosition().lat()]},properties:{marker:a}}));this.superCluster.load(s)}return s={zoom:e.map.getZoom()},r||this.state.zoom>this.maxZoom&&s.zoom>this.maxZoom||(r=r||!I(this.state,s)),this.state=s,r&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:r}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(this.transformCluster.bind(this))}transformCluster({geometry:{coordinates:[e,r]},properties:s}){return s.cluster?new W$1({markers:this.superCluster.getLeaves(s.cluster_id,1/0).map(a=>a.properties.marker),position:new google.maps.LatLng({lat:r,lng:e})}):(e=s.marker,new W$1({markers:[e],position:e.getPosition()}))}}class Ea{constructor(e,r){this.markers={sum:e.length},e=r.map(a=>a.count);let s=e.reduce((a,l)=>a+l,0);this.clusters={count:r.length,markers:{mean:s/r.length,sum:s,min:Math.min(...e),max:Math.max(...e)}}}}class Fa{render({count:e,position:r},s){return s=window.btoa(`
  <svg fill="${e>Math.max(10,s.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240">
    <circle cx="120" cy="120" opacity=".6" r="70" />
    <circle cx="120" cy="120" opacity=".3" r="90" />
    <circle cx="120" cy="120" opacity=".2" r="110" />
  </svg>`),new google.maps.Marker({position:r,icon:{url:`data:image/svg+xml;base64,${s}`,scaledSize:new google.maps.Size(45,45)},label:{text:String(e),color:"rgba(255,255,255,0.9)",fontSize:"12px"},title:`Cluster of ${e} markers`,zIndex:Number(google.maps.Marker.MAX_ZINDEX)+e})}}class Ga{constructor(){var e=Ga,r=google.maps.OverlayView;for(let s in r.prototype)e.prototype[s]=r.prototype[s]}}var X,Y=X||(X={});Y.CLUSTERING_BEGIN="clusteringbegin";Y.CLUSTERING_END="clusteringend";Y.CLUSTER_CLICK="click";let Ha=(n,e,r)=>{r.fitBounds(e.bounds)};class Ia extends Ga{constructor({map:e,markers:r=[],algorithm:s=new Da({}),renderer:a=new Fa,onClusterClick:l=Ha}){super(),this.markers=[...r],this.clusters=[],this.algorithm=s,this.renderer=a,this.onClusterClick=l,e&&this.setMap(e)}addMarker(e,r){this.markers.includes(e)||(this.markers.push(e),r||this.render())}addMarkers(e,r){e.forEach(s=>{this.addMarker(s,!0)}),r||this.render()}removeMarker(e,r){let s=this.markers.indexOf(e);return s===-1?!1:(e.setMap(null),this.markers.splice(s,1),r||this.render(),!0)}removeMarkers(e,r){let s=!1;return e.forEach(a=>{s=this.removeMarker(a,!0)||s}),s&&!r&&this.render(),s}clearMarkers(e){this.markers.length=0,e||this.render()}render(){let e=this.getMap();if(e instanceof google.maps.Map&&this.getProjection()){google.maps.event.trigger(this,X.CLUSTERING_BEGIN,this);let{clusters:r,changed:s}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});(s||s==null)&&(this.reset(),this.clusters=r,this.renderClusters()),google.maps.event.trigger(this,X.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>e.setMap(null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){let e=new Ea(this.markers,this.clusters),r=this.getMap();this.clusters.forEach(s=>{s.markers.length===1?s.marker=s.markers[0]:(s.marker=this.renderer.render(s,e),this.onClusterClick&&s.marker.addListener("click",a=>{google.maps.event.trigger(this,X.CLUSTER_CLICK,s),this.onClusterClick(a,s,r)})),s.marker.setMap(r)})}}let Ja=Object.values(X);defineComponent({name:"MarkerCluster",props:{options:{type:Object,default:()=>({})}},emits:Ja,setup(n,{emit:e,expose:r,slots:s}){let a=ref(),l=inject(t,ref()),f=inject(u,ref());return provide(w,a),watch(l,()=>{l.value&&(a.value=markRaw(new Ia({map:l.value,...n.options})),Ja.forEach(c=>{var d;(d=a.value)===null||d===void 0||d.addListener(c,g=>e(c,g))}))},{immediate:!0}),onBeforeUnmount(()=>{var c;a.value&&((c=f.value)===null||c===void 0||c.event.clearInstanceListeners(a.value),a.value.clearMarkers(),a.value.setMap(null))}),r({markerCluster:a}),()=>{var c;return(c=s.default)===null||c===void 0?void 0:c.call(s)}}});var Z=defineComponent({inheritAttrs:!1,props:{options:{type:Object,required:!0}},setup(n,{slots:e,emit:r}){let s=ref(),a=ref(),l=computed(()=>{var c;return(c=e.default)===null||c===void 0?void 0:c.call(e).some(d=>d.type!==Comment$1)}),f=computed(()=>({...n.options,element:s.value}));return onMounted(()=>{a=J(y,[],f,r)}),{customMarkerRef:s,customMarker:a,hasSlotContent:l}}});G(`
.custom-marker-wrapper[data-v-b9d5ec8a] {
  display: none;
}
.mapdiv .custom-marker-wrapper[data-v-b9d5ec8a] {
  display: inline-block;
}
`);let La=withScopeId();pushScopeId("data-v-b9d5ec8a");let Ma={key:0,class:"custom-marker-wrapper"};popScopeId();let Na=La(n=>n.hasSlotContent?(openBlock(),createBlock("div",Ma,[createVNode("div",mergeProps({ref:"customMarkerRef",style:{cursor:n.$attrs.onClick?"pointer":void 0}},n.$attrs),[renderSlot(n.$slots,"default",{},void 0,!0)],16)])):createCommentVNode("v-if",!0));Z.render=Na;Z.__scopeId="data-v-b9d5ec8a";defineComponent({name:"HeatmapLayer",props:{options:{type:Object,default:()=>({})}},setup(n){let e=ref(),r=inject(t,ref()),s=inject(u,ref());return watch([r,()=>n.options],([,a],[l,f])=>{var c;if(l=!I(a,f)||r.value!==l,r.value&&s.value&&l){if(a=structuredClone(a),a.data&&!(a.data instanceof s.value.MVCArray)){let d=s.value.LatLng;a.data=(c=a.data)===null||c===void 0?void 0:c.map(g=>g instanceof d||"location"in g&&(g.location instanceof d||g.location===null)?g:"location"in g?{...g,location:new d(g.location)}:new d(g))}e.value?e.value.setOptions(a):e.value=markRaw(new s.value.visualization.HeatmapLayer({...a,map:r.value}))}},{immediate:!0}),onBeforeUnmount(()=>{e.value&&e.value.setMap(null)}),{heatmapLayer:e}},render:()=>null});var howler={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(n){(function(){var e=function(){this.init()};e.prototype={init:function(){var m=this||r;return m._counter=1e3,m._html5AudioPool=[],m.html5PoolSize=10,m._codecs={},m._howls=[],m._muted=!1,m._volume=1,m._canPlayEvent="canplaythrough",m._navigator=typeof window<"u"&&window.navigator?window.navigator:null,m.masterGain=null,m.noAudio=!1,m.usingWebAudio=!0,m.autoSuspend=!0,m.ctx=null,m.autoUnlock=!0,m._setup(),m},volume:function(m){var _=this||r;if(m=parseFloat(m),_.ctx||b(),typeof m<"u"&&m>=0&&m<=1){if(_._volume=m,_._muted)return _;_.usingWebAudio&&_.masterGain.gain.setValueAtTime(m,r.ctx.currentTime);for(var x=0;x<_._howls.length;x++)if(!_._howls[x]._webAudio)for(var k=_._howls[x]._getSoundIds(),q=0;q<k.length;q++){var j=_._howls[x]._soundById(k[q]);j&&j._node&&(j._node.volume=j._volume*m)}return _}return _._volume},mute:function(m){var _=this||r;_.ctx||b(),_._muted=m,_.usingWebAudio&&_.masterGain.gain.setValueAtTime(m?0:_._volume,r.ctx.currentTime);for(var x=0;x<_._howls.length;x++)if(!_._howls[x]._webAudio)for(var k=_._howls[x]._getSoundIds(),q=0;q<k.length;q++){var j=_._howls[x]._soundById(k[q]);j&&j._node&&(j._node.muted=m?!0:j._muted)}return _},stop:function(){for(var m=this||r,_=0;_<m._howls.length;_++)m._howls[_].stop();return m},unload:function(){for(var m=this||r,_=m._howls.length-1;_>=0;_--)m._howls[_].unload();return m.usingWebAudio&&m.ctx&&typeof m.ctx.close<"u"&&(m.ctx.close(),m.ctx=null,b()),m},codecs:function(m){return(this||r)._codecs[m.replace(/^x-/,"")]},_setup:function(){var m=this||r;if(m.state=m.ctx&&m.ctx.state||"suspended",m._autoSuspend(),!m.usingWebAudio)if(typeof Audio<"u")try{var _=new Audio;typeof _.oncanplaythrough>"u"&&(m._canPlayEvent="canplay")}catch{m.noAudio=!0}else m.noAudio=!0;try{var _=new Audio;_.muted&&(m.noAudio=!0)}catch{}return m.noAudio||m._setupCodecs(),m},_setupCodecs:function(){var m=this||r,_=null;try{_=typeof Audio<"u"?new Audio:null}catch{return m}if(!_||typeof _.canPlayType!="function")return m;var x=_.canPlayType("audio/mpeg;").replace(/^no$/,""),k=m._navigator?m._navigator.userAgent:"",q=k.match(/OPR\/([0-6].)/g),j=q&&parseInt(q[0].split("/")[1],10)<33,ne=k.indexOf("Safari")!==-1&&k.indexOf("Chrome")===-1,se=k.match(/Version\/(.*?) /),le=ne&&se&&parseInt(se[1],10)<15;return m._codecs={mp3:!!(!j&&(x||_.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!x,opus:!!_.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!_.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!_.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(_.canPlayType('audio/wav; codecs="1"')||_.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!_.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!_.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(_.canPlayType("audio/x-m4a;")||_.canPlayType("audio/m4a;")||_.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(_.canPlayType("audio/x-m4b;")||_.canPlayType("audio/m4b;")||_.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(_.canPlayType("audio/x-mp4;")||_.canPlayType("audio/mp4;")||_.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!le&&_.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!le&&_.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!_.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(_.canPlayType("audio/x-flac;")||_.canPlayType("audio/flac;")).replace(/^no$/,"")},m},_unlockAudio:function(){var m=this||r;if(!(m._audioUnlocked||!m.ctx)){m._audioUnlocked=!1,m.autoUnlock=!1,!m._mobileUnloaded&&m.ctx.sampleRate!==44100&&(m._mobileUnloaded=!0,m.unload()),m._scratchBuffer=m.ctx.createBuffer(1,1,22050);var _=function(x){for(;m._html5AudioPool.length<m.html5PoolSize;)try{var k=new Audio;k._unlocked=!0,m._releaseHtml5Audio(k)}catch{m.noAudio=!0;break}for(var q=0;q<m._howls.length;q++)if(!m._howls[q]._webAudio)for(var j=m._howls[q]._getSoundIds(),ne=0;ne<j.length;ne++){var se=m._howls[q]._soundById(j[ne]);se&&se._node&&!se._node._unlocked&&(se._node._unlocked=!0,se._node.load())}m._autoResume();var le=m.ctx.createBufferSource();le.buffer=m._scratchBuffer,le.connect(m.ctx.destination),typeof le.start>"u"?le.noteOn(0):le.start(0),typeof m.ctx.resume=="function"&&m.ctx.resume(),le.onended=function(){le.disconnect(0),m._audioUnlocked=!0,document.removeEventListener("touchstart",_,!0),document.removeEventListener("touchend",_,!0),document.removeEventListener("click",_,!0),document.removeEventListener("keydown",_,!0);for(var ue=0;ue<m._howls.length;ue++)m._howls[ue]._emit("unlock")}};return document.addEventListener("touchstart",_,!0),document.addEventListener("touchend",_,!0),document.addEventListener("click",_,!0),document.addEventListener("keydown",_,!0),m}},_obtainHtml5Audio:function(){var m=this||r;if(m._html5AudioPool.length)return m._html5AudioPool.pop();var _=new Audio().play();return _&&typeof Promise<"u"&&(_ instanceof Promise||typeof _.then=="function")&&_.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(m){var _=this||r;return m._unlocked&&_._html5AudioPool.push(m),_},_autoSuspend:function(){var m=this;if(!(!m.autoSuspend||!m.ctx||typeof m.ctx.suspend>"u"||!r.usingWebAudio)){for(var _=0;_<m._howls.length;_++)if(m._howls[_]._webAudio){for(var x=0;x<m._howls[_]._sounds.length;x++)if(!m._howls[_]._sounds[x]._paused)return m}return m._suspendTimer&&clearTimeout(m._suspendTimer),m._suspendTimer=setTimeout(function(){if(m.autoSuspend){m._suspendTimer=null,m.state="suspending";var k=function(){m.state="suspended",m._resumeAfterSuspend&&(delete m._resumeAfterSuspend,m._autoResume())};m.ctx.suspend().then(k,k)}},3e4),m}},_autoResume:function(){var m=this;if(!(!m.ctx||typeof m.ctx.resume>"u"||!r.usingWebAudio))return m.state==="running"&&m.ctx.state!=="interrupted"&&m._suspendTimer?(clearTimeout(m._suspendTimer),m._suspendTimer=null):m.state==="suspended"||m.state==="running"&&m.ctx.state==="interrupted"?(m.ctx.resume().then(function(){m.state="running";for(var _=0;_<m._howls.length;_++)m._howls[_]._emit("resume")}),m._suspendTimer&&(clearTimeout(m._suspendTimer),m._suspendTimer=null)):m.state==="suspending"&&(m._resumeAfterSuspend=!0),m}};var r=new e,s=function(m){var _=this;if(!m.src||m.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}_.init(m)};s.prototype={init:function(m){var _=this;return r.ctx||b(),_._autoplay=m.autoplay||!1,_._format=typeof m.format!="string"?m.format:[m.format],_._html5=m.html5||!1,_._muted=m.mute||!1,_._loop=m.loop||!1,_._pool=m.pool||5,_._preload=typeof m.preload=="boolean"||m.preload==="metadata"?m.preload:!0,_._rate=m.rate||1,_._sprite=m.sprite||{},_._src=typeof m.src!="string"?m.src:[m.src],_._volume=m.volume!==void 0?m.volume:1,_._xhr={method:m.xhr&&m.xhr.method?m.xhr.method:"GET",headers:m.xhr&&m.xhr.headers?m.xhr.headers:null,withCredentials:m.xhr&&m.xhr.withCredentials?m.xhr.withCredentials:!1},_._duration=0,_._state="unloaded",_._sounds=[],_._endTimers={},_._queue=[],_._playLock=!1,_._onend=m.onend?[{fn:m.onend}]:[],_._onfade=m.onfade?[{fn:m.onfade}]:[],_._onload=m.onload?[{fn:m.onload}]:[],_._onloaderror=m.onloaderror?[{fn:m.onloaderror}]:[],_._onplayerror=m.onplayerror?[{fn:m.onplayerror}]:[],_._onpause=m.onpause?[{fn:m.onpause}]:[],_._onplay=m.onplay?[{fn:m.onplay}]:[],_._onstop=m.onstop?[{fn:m.onstop}]:[],_._onmute=m.onmute?[{fn:m.onmute}]:[],_._onvolume=m.onvolume?[{fn:m.onvolume}]:[],_._onrate=m.onrate?[{fn:m.onrate}]:[],_._onseek=m.onseek?[{fn:m.onseek}]:[],_._onunlock=m.onunlock?[{fn:m.onunlock}]:[],_._onresume=[],_._webAudio=r.usingWebAudio&&!_._html5,typeof r.ctx<"u"&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(_),_._autoplay&&_._queue.push({event:"play",action:function(){_.play()}}),_._preload&&_._preload!=="none"&&_.load(),_},load:function(){var m=this,_=null;if(r.noAudio){m._emit("loaderror",null,"No audio support.");return}typeof m._src=="string"&&(m._src=[m._src]);for(var x=0;x<m._src.length;x++){var k,q;if(m._format&&m._format[x])k=m._format[x];else{if(q=m._src[x],typeof q!="string"){m._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}k=/^data:audio\/([^;,]+);/i.exec(q),k||(k=/\.([^.]+)$/.exec(q.split("?",1)[0])),k&&(k=k[1].toLowerCase())}if(k||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),k&&r.codecs(k)){_=m._src[x];break}}if(!_){m._emit("loaderror",null,"No codec support for selected audio sources.");return}return m._src=_,m._state="loading",window.location.protocol==="https:"&&_.slice(0,5)==="http:"&&(m._html5=!0,m._webAudio=!1),new a(m),m._webAudio&&f(m),m},play:function(m,_){var x=this,k=null;if(typeof m=="number")k=m,m=null;else{if(typeof m=="string"&&x._state==="loaded"&&!x._sprite[m])return null;if(typeof m>"u"&&(m="__default",!x._playLock)){for(var q=0,j=0;j<x._sounds.length;j++)x._sounds[j]._paused&&!x._sounds[j]._ended&&(q++,k=x._sounds[j]._id);q===1?m=null:k=null}}var ne=k?x._soundById(k):x._inactiveSound();if(!ne)return null;if(k&&!m&&(m=ne._sprite||"__default"),x._state!=="loaded"){ne._sprite=m,ne._ended=!1;var se=ne._id;return x._queue.push({event:"play",action:function(){x.play(se)}}),se}if(k&&!ne._paused)return _||x._loadQueue("play"),ne._id;x._webAudio&&r._autoResume();var le=Math.max(0,ne._seek>0?ne._seek:x._sprite[m][0]/1e3),ue=Math.max(0,(x._sprite[m][0]+x._sprite[m][1])/1e3-le),he=ue*1e3/Math.abs(ne._rate),ge=x._sprite[m][0]/1e3,ve=(x._sprite[m][0]+x._sprite[m][1])/1e3;ne._sprite=m,ne._ended=!1;var _e=function(){ne._paused=!1,ne._seek=le,ne._start=ge,ne._stop=ve,ne._loop=!!(ne._loop||x._sprite[m][2])};if(le>=ve){x._ended(ne);return}var ye=ne._node;if(x._webAudio){var be=function(){x._playLock=!1,_e(),x._refreshBuffer(ne);var De=ne._muted||x._muted?0:ne._volume;ye.gain.setValueAtTime(De,r.ctx.currentTime),ne._playStart=r.ctx.currentTime,typeof ye.bufferSource.start>"u"?ne._loop?ye.bufferSource.noteGrainOn(0,le,86400):ye.bufferSource.noteGrainOn(0,le,ue):ne._loop?ye.bufferSource.start(0,le,86400):ye.bufferSource.start(0,le,ue),he!==1/0&&(x._endTimers[ne._id]=setTimeout(x._ended.bind(x,ne),he)),_||setTimeout(function(){x._emit("play",ne._id),x._loadQueue()},0)};r.state==="running"&&r.ctx.state!=="interrupted"?be():(x._playLock=!0,x.once("resume",be),x._clearTimer(ne._id))}else{var He=function(){ye.currentTime=le,ye.muted=ne._muted||x._muted||r._muted||ye.muted,ye.volume=ne._volume*r.volume(),ye.playbackRate=ne._rate;try{var De=ye.play();if(De&&typeof Promise<"u"&&(De instanceof Promise||typeof De.then=="function")?(x._playLock=!0,_e(),De.then(function(){x._playLock=!1,ye._unlocked=!0,_?x._loadQueue():x._emit("play",ne._id)}).catch(function(){x._playLock=!1,x._emit("playerror",ne._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),ne._ended=!0,ne._paused=!0})):_||(x._playLock=!1,_e(),x._emit("play",ne._id)),ye.playbackRate=ne._rate,ye.paused){x._emit("playerror",ne._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}m!=="__default"||ne._loop?x._endTimers[ne._id]=setTimeout(x._ended.bind(x,ne),he):(x._endTimers[ne._id]=function(){x._ended(ne),ye.removeEventListener("ended",x._endTimers[ne._id],!1)},ye.addEventListener("ended",x._endTimers[ne._id],!1))}catch(We){x._emit("playerror",ne._id,We)}};ye.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(ye.src=x._src,ye.load());var Oe=window&&window.ejecta||!ye.readyState&&r._navigator.isCocoonJS;if(ye.readyState>=3||Oe)He();else{x._playLock=!0,x._state="loading";var Fe=function(){x._state="loaded",He(),ye.removeEventListener(r._canPlayEvent,Fe,!1)};ye.addEventListener(r._canPlayEvent,Fe,!1),x._clearTimer(ne._id)}}return ne._id},pause:function(m){var _=this;if(_._state!=="loaded"||_._playLock)return _._queue.push({event:"pause",action:function(){_.pause(m)}}),_;for(var x=_._getSoundIds(m),k=0;k<x.length;k++){_._clearTimer(x[k]);var q=_._soundById(x[k]);if(q&&!q._paused&&(q._seek=_.seek(x[k]),q._rateSeek=0,q._paused=!0,_._stopFade(x[k]),q._node))if(_._webAudio){if(!q._node.bufferSource)continue;typeof q._node.bufferSource.stop>"u"?q._node.bufferSource.noteOff(0):q._node.bufferSource.stop(0),_._cleanBuffer(q._node)}else(!isNaN(q._node.duration)||q._node.duration===1/0)&&q._node.pause();arguments[1]||_._emit("pause",q?q._id:null)}return _},stop:function(m,_){var x=this;if(x._state!=="loaded"||x._playLock)return x._queue.push({event:"stop",action:function(){x.stop(m)}}),x;for(var k=x._getSoundIds(m),q=0;q<k.length;q++){x._clearTimer(k[q]);var j=x._soundById(k[q]);j&&(j._seek=j._start||0,j._rateSeek=0,j._paused=!0,j._ended=!0,x._stopFade(k[q]),j._node&&(x._webAudio?j._node.bufferSource&&(typeof j._node.bufferSource.stop>"u"?j._node.bufferSource.noteOff(0):j._node.bufferSource.stop(0),x._cleanBuffer(j._node)):(!isNaN(j._node.duration)||j._node.duration===1/0)&&(j._node.currentTime=j._start||0,j._node.pause(),j._node.duration===1/0&&x._clearSound(j._node))),_||x._emit("stop",j._id))}return x},mute:function(m,_){var x=this;if(x._state!=="loaded"||x._playLock)return x._queue.push({event:"mute",action:function(){x.mute(m,_)}}),x;if(typeof _>"u")if(typeof m=="boolean")x._muted=m;else return x._muted;for(var k=x._getSoundIds(_),q=0;q<k.length;q++){var j=x._soundById(k[q]);j&&(j._muted=m,j._interval&&x._stopFade(j._id),x._webAudio&&j._node?j._node.gain.setValueAtTime(m?0:j._volume,r.ctx.currentTime):j._node&&(j._node.muted=r._muted?!0:m),x._emit("mute",j._id))}return x},volume:function(){var m=this,_=arguments,x,k;if(_.length===0)return m._volume;if(_.length===1||_.length===2&&typeof _[1]>"u"){var q=m._getSoundIds(),j=q.indexOf(_[0]);j>=0?k=parseInt(_[0],10):x=parseFloat(_[0])}else _.length>=2&&(x=parseFloat(_[0]),k=parseInt(_[1],10));var ne;if(typeof x<"u"&&x>=0&&x<=1){if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"volume",action:function(){m.volume.apply(m,_)}}),m;typeof k>"u"&&(m._volume=x),k=m._getSoundIds(k);for(var se=0;se<k.length;se++)ne=m._soundById(k[se]),ne&&(ne._volume=x,_[2]||m._stopFade(k[se]),m._webAudio&&ne._node&&!ne._muted?ne._node.gain.setValueAtTime(x,r.ctx.currentTime):ne._node&&!ne._muted&&(ne._node.volume=x*r.volume()),m._emit("volume",ne._id))}else return ne=k?m._soundById(k):m._sounds[0],ne?ne._volume:0;return m},fade:function(m,_,x,k){var q=this;if(q._state!=="loaded"||q._playLock)return q._queue.push({event:"fade",action:function(){q.fade(m,_,x,k)}}),q;m=Math.min(Math.max(0,parseFloat(m)),1),_=Math.min(Math.max(0,parseFloat(_)),1),x=parseFloat(x),q.volume(m,k);for(var j=q._getSoundIds(k),ne=0;ne<j.length;ne++){var se=q._soundById(j[ne]);if(se){if(k||q._stopFade(j[ne]),q._webAudio&&!se._muted){var le=r.ctx.currentTime,ue=le+x/1e3;se._volume=m,se._node.gain.setValueAtTime(m,le),se._node.gain.linearRampToValueAtTime(_,ue)}q._startFadeInterval(se,m,_,x,j[ne],typeof k>"u")}}return q},_startFadeInterval:function(m,_,x,k,q,j){var ne=this,se=_,le=x-_,ue=Math.abs(le/.01),he=Math.max(4,ue>0?k/ue:k),ge=Date.now();m._fadeTo=x,m._interval=setInterval(function(){var ve=(Date.now()-ge)/k;ge=Date.now(),se+=le*ve,se=Math.round(se*100)/100,le<0?se=Math.max(x,se):se=Math.min(x,se),ne._webAudio?m._volume=se:ne.volume(se,m._id,!0),j&&(ne._volume=se),(x<_&&se<=x||x>_&&se>=x)&&(clearInterval(m._interval),m._interval=null,m._fadeTo=null,ne.volume(x,m._id),ne._emit("fade",m._id))},he)},_stopFade:function(m){var _=this,x=_._soundById(m);return x&&x._interval&&(_._webAudio&&x._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(x._interval),x._interval=null,_.volume(x._fadeTo,m),x._fadeTo=null,_._emit("fade",m)),_},loop:function(){var m=this,_=arguments,x,k,q;if(_.length===0)return m._loop;if(_.length===1)if(typeof _[0]=="boolean")x=_[0],m._loop=x;else return q=m._soundById(parseInt(_[0],10)),q?q._loop:!1;else _.length===2&&(x=_[0],k=parseInt(_[1],10));for(var j=m._getSoundIds(k),ne=0;ne<j.length;ne++)q=m._soundById(j[ne]),q&&(q._loop=x,m._webAudio&&q._node&&q._node.bufferSource&&(q._node.bufferSource.loop=x,x&&(q._node.bufferSource.loopStart=q._start||0,q._node.bufferSource.loopEnd=q._stop,m.playing(j[ne])&&(m.pause(j[ne],!0),m.play(j[ne],!0)))));return m},rate:function(){var m=this,_=arguments,x,k;if(_.length===0)k=m._sounds[0]._id;else if(_.length===1){var q=m._getSoundIds(),j=q.indexOf(_[0]);j>=0?k=parseInt(_[0],10):x=parseFloat(_[0])}else _.length===2&&(x=parseFloat(_[0]),k=parseInt(_[1],10));var ne;if(typeof x=="number"){if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"rate",action:function(){m.rate.apply(m,_)}}),m;typeof k>"u"&&(m._rate=x),k=m._getSoundIds(k);for(var se=0;se<k.length;se++)if(ne=m._soundById(k[se]),ne){m.playing(k[se])&&(ne._rateSeek=m.seek(k[se]),ne._playStart=m._webAudio?r.ctx.currentTime:ne._playStart),ne._rate=x,m._webAudio&&ne._node&&ne._node.bufferSource?ne._node.bufferSource.playbackRate.setValueAtTime(x,r.ctx.currentTime):ne._node&&(ne._node.playbackRate=x);var le=m.seek(k[se]),ue=(m._sprite[ne._sprite][0]+m._sprite[ne._sprite][1])/1e3-le,he=ue*1e3/Math.abs(ne._rate);(m._endTimers[k[se]]||!ne._paused)&&(m._clearTimer(k[se]),m._endTimers[k[se]]=setTimeout(m._ended.bind(m,ne),he)),m._emit("rate",ne._id)}}else return ne=m._soundById(k),ne?ne._rate:m._rate;return m},seek:function(){var m=this,_=arguments,x,k;if(_.length===0)m._sounds.length&&(k=m._sounds[0]._id);else if(_.length===1){var q=m._getSoundIds(),j=q.indexOf(_[0]);j>=0?k=parseInt(_[0],10):m._sounds.length&&(k=m._sounds[0]._id,x=parseFloat(_[0]))}else _.length===2&&(x=parseFloat(_[0]),k=parseInt(_[1],10));if(typeof k>"u")return 0;if(typeof x=="number"&&(m._state!=="loaded"||m._playLock))return m._queue.push({event:"seek",action:function(){m.seek.apply(m,_)}}),m;var ne=m._soundById(k);if(ne)if(typeof x=="number"&&x>=0){var se=m.playing(k);se&&m.pause(k,!0),ne._seek=x,ne._ended=!1,m._clearTimer(k),!m._webAudio&&ne._node&&!isNaN(ne._node.duration)&&(ne._node.currentTime=x);var le=function(){se&&m.play(k,!0),m._emit("seek",k)};if(se&&!m._webAudio){var ue=function(){m._playLock?setTimeout(ue,0):le()};setTimeout(ue,0)}else le()}else if(m._webAudio){var he=m.playing(k)?r.ctx.currentTime-ne._playStart:0,ge=ne._rateSeek?ne._rateSeek-ne._seek:0;return ne._seek+(ge+he*Math.abs(ne._rate))}else return ne._node.currentTime;return m},playing:function(m){var _=this;if(typeof m=="number"){var x=_._soundById(m);return x?!x._paused:!1}for(var k=0;k<_._sounds.length;k++)if(!_._sounds[k]._paused)return!0;return!1},duration:function(m){var _=this,x=_._duration,k=_._soundById(m);return k&&(x=_._sprite[k._sprite][1]/1e3),x},state:function(){return this._state},unload:function(){for(var m=this,_=m._sounds,x=0;x<_.length;x++)_[x]._paused||m.stop(_[x]._id),m._webAudio||(m._clearSound(_[x]._node),_[x]._node.removeEventListener("error",_[x]._errorFn,!1),_[x]._node.removeEventListener(r._canPlayEvent,_[x]._loadFn,!1),_[x]._node.removeEventListener("ended",_[x]._endFn,!1),r._releaseHtml5Audio(_[x]._node)),delete _[x]._node,m._clearTimer(_[x]._id);var k=r._howls.indexOf(m);k>=0&&r._howls.splice(k,1);var q=!0;for(x=0;x<r._howls.length;x++)if(r._howls[x]._src===m._src||m._src.indexOf(r._howls[x]._src)>=0){q=!1;break}return l&&q&&delete l[m._src],r.noAudio=!1,m._state="unloaded",m._sounds=[],m=null,null},on:function(m,_,x,k){var q=this,j=q["_on"+m];return typeof _=="function"&&j.push(k?{id:x,fn:_,once:k}:{id:x,fn:_}),q},off:function(m,_,x){var k=this,q=k["_on"+m],j=0;if(typeof _=="number"&&(x=_,_=null),_||x)for(j=0;j<q.length;j++){var ne=x===q[j].id;if(_===q[j].fn&&ne||!_&&ne){q.splice(j,1);break}}else if(m)k["_on"+m]=[];else{var se=Object.keys(k);for(j=0;j<se.length;j++)se[j].indexOf("_on")===0&&Array.isArray(k[se[j]])&&(k[se[j]]=[])}return k},once:function(m,_,x){var k=this;return k.on(m,_,x,1),k},_emit:function(m,_,x){for(var k=this,q=k["_on"+m],j=q.length-1;j>=0;j--)(!q[j].id||q[j].id===_||m==="load")&&(setTimeout(function(ne){ne.call(this,_,x)}.bind(k,q[j].fn),0),q[j].once&&k.off(m,q[j].fn,q[j].id));return k._loadQueue(m),k},_loadQueue:function(m){var _=this;if(_._queue.length>0){var x=_._queue[0];x.event===m&&(_._queue.shift(),_._loadQueue()),m||x.action()}return _},_ended:function(m){var _=this,x=m._sprite;if(!_._webAudio&&m._node&&!m._node.paused&&!m._node.ended&&m._node.currentTime<m._stop)return setTimeout(_._ended.bind(_,m),100),_;var k=!!(m._loop||_._sprite[x][2]);if(_._emit("end",m._id),!_._webAudio&&k&&_.stop(m._id,!0).play(m._id),_._webAudio&&k){_._emit("play",m._id),m._seek=m._start||0,m._rateSeek=0,m._playStart=r.ctx.currentTime;var q=(m._stop-m._start)*1e3/Math.abs(m._rate);_._endTimers[m._id]=setTimeout(_._ended.bind(_,m),q)}return _._webAudio&&!k&&(m._paused=!0,m._ended=!0,m._seek=m._start||0,m._rateSeek=0,_._clearTimer(m._id),_._cleanBuffer(m._node),r._autoSuspend()),!_._webAudio&&!k&&_.stop(m._id,!0),_},_clearTimer:function(m){var _=this;if(_._endTimers[m]){if(typeof _._endTimers[m]!="function")clearTimeout(_._endTimers[m]);else{var x=_._soundById(m);x&&x._node&&x._node.removeEventListener("ended",_._endTimers[m],!1)}delete _._endTimers[m]}return _},_soundById:function(m){for(var _=this,x=0;x<_._sounds.length;x++)if(m===_._sounds[x]._id)return _._sounds[x];return null},_inactiveSound:function(){var m=this;m._drain();for(var _=0;_<m._sounds.length;_++)if(m._sounds[_]._ended)return m._sounds[_].reset();return new a(m)},_drain:function(){var m=this,_=m._pool,x=0,k=0;if(!(m._sounds.length<_)){for(k=0;k<m._sounds.length;k++)m._sounds[k]._ended&&x++;for(k=m._sounds.length-1;k>=0;k--){if(x<=_)return;m._sounds[k]._ended&&(m._webAudio&&m._sounds[k]._node&&m._sounds[k]._node.disconnect(0),m._sounds.splice(k,1),x--)}}},_getSoundIds:function(m){var _=this;if(typeof m>"u"){for(var x=[],k=0;k<_._sounds.length;k++)x.push(_._sounds[k]._id);return x}else return[m]},_refreshBuffer:function(m){var _=this;return m._node.bufferSource=r.ctx.createBufferSource(),m._node.bufferSource.buffer=l[_._src],m._panner?m._node.bufferSource.connect(m._panner):m._node.bufferSource.connect(m._node),m._node.bufferSource.loop=m._loop,m._loop&&(m._node.bufferSource.loopStart=m._start||0,m._node.bufferSource.loopEnd=m._stop||0),m._node.bufferSource.playbackRate.setValueAtTime(m._rate,r.ctx.currentTime),_},_cleanBuffer:function(m){var _=this,x=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(r._scratchBuffer&&m.bufferSource&&(m.bufferSource.onended=null,m.bufferSource.disconnect(0),x))try{m.bufferSource.buffer=r._scratchBuffer}catch{}return m.bufferSource=null,_},_clearSound:function(m){var _=/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent);_||(m.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var a=function(m){this._parent=m,this.init()};a.prototype={init:function(){var m=this,_=m._parent;return m._muted=_._muted,m._loop=_._loop,m._volume=_._volume,m._rate=_._rate,m._seek=0,m._paused=!0,m._ended=!0,m._sprite="__default",m._id=++r._counter,_._sounds.push(m),m.create(),m},create:function(){var m=this,_=m._parent,x=r._muted||m._muted||m._parent._muted?0:m._volume;return _._webAudio?(m._node=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),m._node.gain.setValueAtTime(x,r.ctx.currentTime),m._node.paused=!0,m._node.connect(r.masterGain)):r.noAudio||(m._node=r._obtainHtml5Audio(),m._errorFn=m._errorListener.bind(m),m._node.addEventListener("error",m._errorFn,!1),m._loadFn=m._loadListener.bind(m),m._node.addEventListener(r._canPlayEvent,m._loadFn,!1),m._endFn=m._endListener.bind(m),m._node.addEventListener("ended",m._endFn,!1),m._node.src=_._src,m._node.preload=_._preload===!0?"auto":_._preload,m._node.volume=x*r.volume(),m._node.load()),m},reset:function(){var m=this,_=m._parent;return m._muted=_._muted,m._loop=_._loop,m._volume=_._volume,m._rate=_._rate,m._seek=0,m._rateSeek=0,m._paused=!0,m._ended=!0,m._sprite="__default",m._id=++r._counter,m},_errorListener:function(){var m=this;m._parent._emit("loaderror",m._id,m._node.error?m._node.error.code:0),m._node.removeEventListener("error",m._errorFn,!1)},_loadListener:function(){var m=this,_=m._parent;_._duration=Math.ceil(m._node.duration*10)/10,Object.keys(_._sprite).length===0&&(_._sprite={__default:[0,_._duration*1e3]}),_._state!=="loaded"&&(_._state="loaded",_._emit("load"),_._loadQueue()),m._node.removeEventListener(r._canPlayEvent,m._loadFn,!1)},_endListener:function(){var m=this,_=m._parent;_._duration===1/0&&(_._duration=Math.ceil(m._node.duration*10)/10,_._sprite.__default[1]===1/0&&(_._sprite.__default[1]=_._duration*1e3),_._ended(m)),m._node.removeEventListener("ended",m._endFn,!1)}};var l={},f=function(m){var _=m._src;if(l[_]){m._duration=l[_].duration,g(m);return}if(/^data:[^;]+;base64,/.test(_)){for(var x=atob(_.split(",")[1]),k=new Uint8Array(x.length),q=0;q<x.length;++q)k[q]=x.charCodeAt(q);d(k.buffer,m)}else{var j=new XMLHttpRequest;j.open(m._xhr.method,_,!0),j.withCredentials=m._xhr.withCredentials,j.responseType="arraybuffer",m._xhr.headers&&Object.keys(m._xhr.headers).forEach(function(ne){j.setRequestHeader(ne,m._xhr.headers[ne])}),j.onload=function(){var ne=(j.status+"")[0];if(ne!=="0"&&ne!=="2"&&ne!=="3"){m._emit("loaderror",null,"Failed loading audio file with status: "+j.status+".");return}d(j.response,m)},j.onerror=function(){m._webAudio&&(m._html5=!0,m._webAudio=!1,m._sounds=[],delete l[_],m.load())},c(j)}},c=function(m){try{m.send()}catch{m.onerror()}},d=function(m,_){var x=function(){_._emit("loaderror",null,"Decoding audio data failed.")},k=function(q){q&&_._sounds.length>0?(l[_._src]=q,g(_,q)):x()};typeof Promise<"u"&&r.ctx.decodeAudioData.length===1?r.ctx.decodeAudioData(m).then(k).catch(x):r.ctx.decodeAudioData(m,k,x)},g=function(m,_){_&&!m._duration&&(m._duration=_.duration),Object.keys(m._sprite).length===0&&(m._sprite={__default:[0,m._duration*1e3]}),m._state!=="loaded"&&(m._state="loaded",m._emit("load"),m._loadQueue())},b=function(){if(r.usingWebAudio){try{typeof AudioContext<"u"?r.ctx=new AudioContext:typeof webkitAudioContext<"u"?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch{r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var m=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),_=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),x=_?parseInt(_[1],10):null;if(m&&x&&x<9){var k=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!k&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};n.Howler=r,n.Howl=s,typeof commonjsGlobal<"u"?(commonjsGlobal.HowlerGlobal=e,commonjsGlobal.Howler=r,commonjsGlobal.Howl=s,commonjsGlobal.Sound=a):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=r,window.Howl=s,window.Sound=a)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(r){var s=this;if(!s.ctx||!s.ctx.listener)return s;for(var a=s._howls.length-1;a>=0;a--)s._howls[a].stereo(r);return s},HowlerGlobal.prototype.pos=function(r,s,a){var l=this;if(!l.ctx||!l.ctx.listener)return l;if(s=typeof s!="number"?l._pos[1]:s,a=typeof a!="number"?l._pos[2]:a,typeof r=="number")l._pos=[r,s,a],typeof l.ctx.listener.positionX<"u"?(l.ctx.listener.positionX.setTargetAtTime(l._pos[0],Howler.ctx.currentTime,.1),l.ctx.listener.positionY.setTargetAtTime(l._pos[1],Howler.ctx.currentTime,.1),l.ctx.listener.positionZ.setTargetAtTime(l._pos[2],Howler.ctx.currentTime,.1)):l.ctx.listener.setPosition(l._pos[0],l._pos[1],l._pos[2]);else return l._pos;return l},HowlerGlobal.prototype.orientation=function(r,s,a,l,f,c){var d=this;if(!d.ctx||!d.ctx.listener)return d;var g=d._orientation;if(s=typeof s!="number"?g[1]:s,a=typeof a!="number"?g[2]:a,l=typeof l!="number"?g[3]:l,f=typeof f!="number"?g[4]:f,c=typeof c!="number"?g[5]:c,typeof r=="number")d._orientation=[r,s,a,l,f,c],typeof d.ctx.listener.forwardX<"u"?(d.ctx.listener.forwardX.setTargetAtTime(r,Howler.ctx.currentTime,.1),d.ctx.listener.forwardY.setTargetAtTime(s,Howler.ctx.currentTime,.1),d.ctx.listener.forwardZ.setTargetAtTime(a,Howler.ctx.currentTime,.1),d.ctx.listener.upX.setTargetAtTime(l,Howler.ctx.currentTime,.1),d.ctx.listener.upY.setTargetAtTime(f,Howler.ctx.currentTime,.1),d.ctx.listener.upZ.setTargetAtTime(c,Howler.ctx.currentTime,.1)):d.ctx.listener.setOrientation(r,s,a,l,f,c);else return g;return d},Howl.prototype.init=function(r){return function(s){var a=this;return a._orientation=s.orientation||[1,0,0],a._stereo=s.stereo||null,a._pos=s.pos||null,a._pannerAttr={coneInnerAngle:typeof s.coneInnerAngle<"u"?s.coneInnerAngle:360,coneOuterAngle:typeof s.coneOuterAngle<"u"?s.coneOuterAngle:360,coneOuterGain:typeof s.coneOuterGain<"u"?s.coneOuterGain:0,distanceModel:typeof s.distanceModel<"u"?s.distanceModel:"inverse",maxDistance:typeof s.maxDistance<"u"?s.maxDistance:1e4,panningModel:typeof s.panningModel<"u"?s.panningModel:"HRTF",refDistance:typeof s.refDistance<"u"?s.refDistance:1,rolloffFactor:typeof s.rolloffFactor<"u"?s.rolloffFactor:1},a._onstereo=s.onstereo?[{fn:s.onstereo}]:[],a._onpos=s.onpos?[{fn:s.onpos}]:[],a._onorientation=s.onorientation?[{fn:s.onorientation}]:[],r.call(this,s)}}(Howl.prototype.init),Howl.prototype.stereo=function(r,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"stereo",action:function(){a.stereo(r,s)}}),a;var l=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof s>"u")if(typeof r=="number")a._stereo=r,a._pos=[r,0,0];else return a._stereo;for(var f=a._getSoundIds(s),c=0;c<f.length;c++){var d=a._soundById(f[c]);if(d)if(typeof r=="number")d._stereo=r,d._pos=[r,0,0],d._node&&(d._pannerAttr.panningModel="equalpower",(!d._panner||!d._panner.pan)&&e(d,l),l==="spatial"?typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):d._panner.setPosition(r,0,0):d._panner.pan.setValueAtTime(r,Howler.ctx.currentTime)),a._emit("stereo",d._id);else return d._stereo}return a},Howl.prototype.pos=function(r,s,a,l){var f=this;if(!f._webAudio)return f;if(f._state!=="loaded")return f._queue.push({event:"pos",action:function(){f.pos(r,s,a,l)}}),f;if(s=typeof s!="number"?0:s,a=typeof a!="number"?-.5:a,typeof l>"u")if(typeof r=="number")f._pos=[r,s,a];else return f._pos;for(var c=f._getSoundIds(l),d=0;d<c.length;d++){var g=f._soundById(c[d]);if(g)if(typeof r=="number")g._pos=[r,s,a],g._node&&((!g._panner||g._panner.pan)&&e(g,"spatial"),typeof g._panner.positionX<"u"?(g._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),g._panner.positionY.setValueAtTime(s,Howler.ctx.currentTime),g._panner.positionZ.setValueAtTime(a,Howler.ctx.currentTime)):g._panner.setPosition(r,s,a)),f._emit("pos",g._id);else return g._pos}return f},Howl.prototype.orientation=function(r,s,a,l){var f=this;if(!f._webAudio)return f;if(f._state!=="loaded")return f._queue.push({event:"orientation",action:function(){f.orientation(r,s,a,l)}}),f;if(s=typeof s!="number"?f._orientation[1]:s,a=typeof a!="number"?f._orientation[2]:a,typeof l>"u")if(typeof r=="number")f._orientation=[r,s,a];else return f._orientation;for(var c=f._getSoundIds(l),d=0;d<c.length;d++){var g=f._soundById(c[d]);if(g)if(typeof r=="number")g._orientation=[r,s,a],g._node&&(g._panner||(g._pos||(g._pos=f._pos||[0,0,-.5]),e(g,"spatial")),typeof g._panner.orientationX<"u"?(g._panner.orientationX.setValueAtTime(r,Howler.ctx.currentTime),g._panner.orientationY.setValueAtTime(s,Howler.ctx.currentTime),g._panner.orientationZ.setValueAtTime(a,Howler.ctx.currentTime)):g._panner.setOrientation(r,s,a)),f._emit("orientation",g._id);else return g._orientation}return f},Howl.prototype.pannerAttr=function(){var r=this,s=arguments,a,l,f;if(!r._webAudio)return r;if(s.length===0)return r._pannerAttr;if(s.length===1)if(typeof s[0]=="object")a=s[0],typeof l>"u"&&(a.pannerAttr||(a.pannerAttr={coneInnerAngle:a.coneInnerAngle,coneOuterAngle:a.coneOuterAngle,coneOuterGain:a.coneOuterGain,distanceModel:a.distanceModel,maxDistance:a.maxDistance,refDistance:a.refDistance,rolloffFactor:a.rolloffFactor,panningModel:a.panningModel}),r._pannerAttr={coneInnerAngle:typeof a.pannerAttr.coneInnerAngle<"u"?a.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:typeof a.pannerAttr.coneOuterAngle<"u"?a.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:typeof a.pannerAttr.coneOuterGain<"u"?a.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:typeof a.pannerAttr.distanceModel<"u"?a.pannerAttr.distanceModel:r._distanceModel,maxDistance:typeof a.pannerAttr.maxDistance<"u"?a.pannerAttr.maxDistance:r._maxDistance,refDistance:typeof a.pannerAttr.refDistance<"u"?a.pannerAttr.refDistance:r._refDistance,rolloffFactor:typeof a.pannerAttr.rolloffFactor<"u"?a.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:typeof a.pannerAttr.panningModel<"u"?a.pannerAttr.panningModel:r._panningModel});else return f=r._soundById(parseInt(s[0],10)),f?f._pannerAttr:r._pannerAttr;else s.length===2&&(a=s[0],l=parseInt(s[1],10));for(var c=r._getSoundIds(l),d=0;d<c.length;d++)if(f=r._soundById(c[d]),f){var g=f._pannerAttr;g={coneInnerAngle:typeof a.coneInnerAngle<"u"?a.coneInnerAngle:g.coneInnerAngle,coneOuterAngle:typeof a.coneOuterAngle<"u"?a.coneOuterAngle:g.coneOuterAngle,coneOuterGain:typeof a.coneOuterGain<"u"?a.coneOuterGain:g.coneOuterGain,distanceModel:typeof a.distanceModel<"u"?a.distanceModel:g.distanceModel,maxDistance:typeof a.maxDistance<"u"?a.maxDistance:g.maxDistance,refDistance:typeof a.refDistance<"u"?a.refDistance:g.refDistance,rolloffFactor:typeof a.rolloffFactor<"u"?a.rolloffFactor:g.rolloffFactor,panningModel:typeof a.panningModel<"u"?a.panningModel:g.panningModel};var b=f._panner;b?(b.coneInnerAngle=g.coneInnerAngle,b.coneOuterAngle=g.coneOuterAngle,b.coneOuterGain=g.coneOuterGain,b.distanceModel=g.distanceModel,b.maxDistance=g.maxDistance,b.refDistance=g.refDistance,b.rolloffFactor=g.rolloffFactor,b.panningModel=g.panningModel):(f._pos||(f._pos=r._pos||[0,0,-.5]),e(f,"spatial"))}return r},Sound.prototype.init=function(r){return function(){var s=this,a=s._parent;s._orientation=a._orientation,s._stereo=a._stereo,s._pos=a._pos,s._pannerAttr=a._pannerAttr,r.call(this),s._stereo?a.stereo(s._stereo):s._pos&&a.pos(s._pos[0],s._pos[1],s._pos[2],s._id)}}(Sound.prototype.init),Sound.prototype.reset=function(r){return function(){var s=this,a=s._parent;return s._orientation=a._orientation,s._stereo=a._stereo,s._pos=a._pos,s._pannerAttr=a._pannerAttr,s._stereo?a.stereo(s._stereo):s._pos?a.pos(s._pos[0],s._pos[1],s._pos[2],s._id):s._panner&&(s._panner.disconnect(0),s._panner=void 0,a._refreshBuffer(s)),r.call(this)}}(Sound.prototype.reset);var e=function(r,s){s=s||"spatial",s==="spatial"?(r._panner=Howler.ctx.createPanner(),r._panner.coneInnerAngle=r._pannerAttr.coneInnerAngle,r._panner.coneOuterAngle=r._pannerAttr.coneOuterAngle,r._panner.coneOuterGain=r._pannerAttr.coneOuterGain,r._panner.distanceModel=r._pannerAttr.distanceModel,r._panner.maxDistance=r._pannerAttr.maxDistance,r._panner.refDistance=r._pannerAttr.refDistance,r._panner.rolloffFactor=r._pannerAttr.rolloffFactor,r._panner.panningModel=r._pannerAttr.panningModel,typeof r._panner.positionX<"u"?(r._panner.positionX.setValueAtTime(r._pos[0],Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(r._pos[1],Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(r._pos[2],Howler.ctx.currentTime)):r._panner.setPosition(r._pos[0],r._pos[1],r._pos[2]),typeof r._panner.orientationX<"u"?(r._panner.orientationX.setValueAtTime(r._orientation[0],Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(r._orientation[1],Howler.ctx.currentTime),r._panner.orientationZ.setValueAtTime(r._orientation[2],Howler.ctx.currentTime)):r._panner.setOrientation(r._orientation[0],r._orientation[1],r._orientation[2])):(r._panner=Howler.ctx.createStereoPanner(),r._panner.pan.setValueAtTime(r._stereo,Howler.ctx.currentTime)),r._panner.connect(r._node),r._paused||r._parent.pause(r._id,!0).play(r._id,!0)}})()})(howler);var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(n,e,r)=>e in n?__defProp(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,__spreadValues=(n,e)=>{for(var r in e||(e={}))__hasOwnProp.call(e,r)&&__defNormalProp(n,r,e[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(e))__propIsEnum.call(e,r)&&__defNormalProp(n,r,e[r]);return n},__spreadProps=(n,e)=>__defProps(n,__getOwnPropDescs(e));const EMOJI_REMOTE_SRC="https://cdn.jsdelivr.net/npm/emoji-datasource-apple@6.0.1/img/apple/64",GROUP_NAMES={recent:"Recently used",smileys_people:"Smiles & People",animals_nature:"Animals & Nature",food_drink:"Food & Drink",activities:"Activities",travel_places:"Travel places",objects:"Objects",symbols:"Symbols",flags:"Flags"},EMOJI_UNICODE_KEY="u",EMOJI_NAME_KEY="n",EMOJI_VARIATIONS_KEY="v",EMOJI_RESULT_KEY="r",DEFAULT_EMOJI={[EMOJI_NAME_KEY]:["grinning face","grinning"],[EMOJI_UNICODE_KEY]:"1f600",[EMOJI_RESULT_KEY]:"1f600"},SKIN_TONE_NEUTRAL="neutral",SKIN_TONE_LIGHT="1f3fb",SKIN_TONE_MEDIUM_LIGHT="1f3fc",SKIN_TONE_MEDIUM="1f3fd",SKIN_TONE_MEDIUM_DARK="1f3fe",SKIN_TONE_DARK="1f3ff",SKIN_TONES=[SKIN_TONE_NEUTRAL,SKIN_TONE_LIGHT,SKIN_TONE_MEDIUM_LIGHT,SKIN_TONE_MEDIUM,SKIN_TONE_MEDIUM_DARK,SKIN_TONE_DARK],STATIC_TEXTS={placeholder:"Search emoji",skinTone:"Skin tone"},COLOR_THEMES=["light","dark","auto"],smileys_people$1=[{n:["grinning face","grinning"],u:"1f600"},{n:["grinning face with smiling eyes","grin"],u:"1f601"},{n:["face with tears of joy","joy"],u:"1f602"},{n:["rolling on the floor laughing","rolling_on_the_floor_laughing"],u:"1f923"},{n:["smiling face with open mouth","smiley"],u:"1f603"},{n:["smiling face with open mouth and smiling eyes","smile"],u:"1f604"},{n:["smiling face with open mouth and cold sweat","sweat_smile"],u:"1f605"},{n:["smiling face with open mouth and tightly-closed eyes","laughing","satisfied"],u:"1f606"},{n:["winking face","wink"],u:"1f609"},{n:["smiling face with smiling eyes","blush"],u:"1f60a"},{n:["face savouring delicious food","yum"],u:"1f60b"},{n:["smiling face with sunglasses","sunglasses"],u:"1f60e"},{n:["smiling face with heart-shaped eyes","heart_eyes"],u:"1f60d"},{n:["face throwing a kiss","kissing_heart"],u:"1f618"},{n:["kissing face","kissing"],u:"1f617"},{n:["kissing face with smiling eyes","kissing_smiling_eyes"],u:"1f619"},{n:["kissing face with closed eyes","kissing_closed_eyes"],u:"1f61a"},{n:["white smiling face","relaxed"],u:"263a-fe0f"},{n:["slightly smiling face","slightly_smiling_face"],u:"1f642"},{n:["hugging face","hugging_face"],u:"1f917"},{n:["grinning face with star eyes","star-struck","grinning_face_with_star_eyes"],u:"1f929"},{n:["thinking face","thinking_face"],u:"1f914"},{n:["face with one eyebrow raised","face_with_raised_eyebrow","face_with_one_eyebrow_raised"],u:"1f928"},{n:["neutral face","neutral_face"],u:"1f610"},{n:["expressionless face","expressionless"],u:"1f611"},{n:["face without mouth","no_mouth"],u:"1f636"},{n:["face with rolling eyes","face_with_rolling_eyes"],u:"1f644"},{n:["smirking face","smirk"],u:"1f60f"},{n:["persevering face","persevere"],u:"1f623"},{n:["disappointed but relieved face","disappointed_relieved"],u:"1f625"},{n:["face with open mouth","open_mouth"],u:"1f62e"},{n:["zipper-mouth face","zipper_mouth_face"],u:"1f910"},{n:["hushed face","hushed"],u:"1f62f"},{n:["sleepy face","sleepy"],u:"1f62a"},{n:["tired face","tired_face"],u:"1f62b"},{n:["sleeping face","sleeping"],u:"1f634"},{n:["relieved face","relieved"],u:"1f60c"},{n:["face with stuck-out tongue","stuck_out_tongue"],u:"1f61b"},{n:["face with stuck-out tongue and winking eye","stuck_out_tongue_winking_eye"],u:"1f61c"},{n:["face with stuck-out tongue and tightly-closed eyes","stuck_out_tongue_closed_eyes"],u:"1f61d"},{n:["drooling face","drooling_face"],u:"1f924"},{n:["unamused face","unamused"],u:"1f612"},{n:["face with cold sweat","sweat"],u:"1f613"},{n:["pensive face","pensive"],u:"1f614"},{n:["confused face","confused"],u:"1f615"},{n:["upside-down face","upside_down_face"],u:"1f643"},{n:["money-mouth face","money_mouth_face"],u:"1f911"},{n:["astonished face","astonished"],u:"1f632"},{n:["white_frowning_face"],u:"2639-fe0f"},{n:["slightly frowning face","slightly_frowning_face"],u:"1f641"},{n:["confounded face","confounded"],u:"1f616"},{n:["disappointed face","disappointed"],u:"1f61e"},{n:["worried face","worried"],u:"1f61f"},{n:["face with look of triumph","triumph"],u:"1f624"},{n:["crying face","cry"],u:"1f622"},{n:["loudly crying face","sob"],u:"1f62d"},{n:["frowning face with open mouth","frowning"],u:"1f626"},{n:["anguished face","anguished"],u:"1f627"},{n:["fearful face","fearful"],u:"1f628"},{n:["weary face","weary"],u:"1f629"},{n:["shocked face with exploding head","exploding_head","shocked_face_with_exploding_head"],u:"1f92f"},{n:["grimacing face","grimacing"],u:"1f62c"},{n:["face with open mouth and cold sweat","cold_sweat"],u:"1f630"},{n:["face screaming in fear","scream"],u:"1f631"},{n:["flushed face","flushed"],u:"1f633"},{n:["grinning face with one large and one small eye","zany_face","grinning_face_with_one_large_and_one_small_eye"],u:"1f92a"},{n:["dizzy face","dizzy_face"],u:"1f635"},{n:["pouting face","rage"],u:"1f621"},{n:["angry face","angry"],u:"1f620"},{n:["serious face with symbols covering mouth","face_with_symbols_on_mouth","serious_face_with_symbols_covering_mouth"],u:"1f92c"},{n:["face with medical mask","mask"],u:"1f637"},{n:["face with thermometer","face_with_thermometer"],u:"1f912"},{n:["face with head-bandage","face_with_head_bandage"],u:"1f915"},{n:["nauseated face","nauseated_face"],u:"1f922"},{n:["face with open mouth vomiting","face_vomiting","face_with_open_mouth_vomiting"],u:"1f92e"},{n:["sneezing face","sneezing_face"],u:"1f927"},{n:["smiling face with halo","innocent"],u:"1f607"},{n:["face with cowboy hat","face_with_cowboy_hat"],u:"1f920"},{n:["clown face","clown_face"],u:"1f921"},{n:["lying face","lying_face"],u:"1f925"},{n:["face with finger covering closed lips","shushing_face","face_with_finger_covering_closed_lips"],u:"1f92b"},{n:["smiling face with smiling eyes and hand covering mouth","face_with_hand_over_mouth","smiling_face_with_smiling_eyes_and_hand_covering_mouth"],u:"1f92d"},{n:["face with monocle","face_with_monocle"],u:"1f9d0"},{n:["nerd face","nerd_face"],u:"1f913"},{n:["smiling face with horns","smiling_imp"],u:"1f608"},{n:["imp"],u:"1f47f"},{n:["japanese ogre","japanese_ogre"],u:"1f479"},{n:["japanese goblin","japanese_goblin"],u:"1f47a"},{n:["skull"],u:"1f480"},{n:["skull_and_crossbones"],u:"2620-fe0f"},{n:["ghost"],u:"1f47b"},{n:["extraterrestrial alien","alien"],u:"1f47d"},{n:["alien monster","space_invader"],u:"1f47e"},{n:["robot face","robot_face"],u:"1f916"},{n:["pile of poo","hankey","poop","shit"],u:"1f4a9"},{n:["smiling cat face with open mouth","smiley_cat"],u:"1f63a"},{n:["grinning cat face with smiling eyes","smile_cat"],u:"1f638"},{n:["cat face with tears of joy","joy_cat"],u:"1f639"},{n:["smiling cat face with heart-shaped eyes","heart_eyes_cat"],u:"1f63b"},{n:["cat face with wry smile","smirk_cat"],u:"1f63c"},{n:["kissing cat face with closed eyes","kissing_cat"],u:"1f63d"},{n:["weary cat face","scream_cat"],u:"1f640"},{n:["crying cat face","crying_cat_face"],u:"1f63f"},{n:["pouting cat face","pouting_cat"],u:"1f63e"},{n:["see-no-evil monkey","see_no_evil"],u:"1f648"},{n:["hear-no-evil monkey","hear_no_evil"],u:"1f649"},{n:["speak-no-evil monkey","speak_no_evil"],u:"1f64a"},{n:["baby"],u:"1f476",v:["1f476-1f3fb","1f476-1f3fc","1f476-1f3fd","1f476-1f3fe","1f476-1f3ff"]},{n:["child"],u:"1f9d2",v:["1f9d2-1f3fb","1f9d2-1f3fc","1f9d2-1f3fd","1f9d2-1f3fe","1f9d2-1f3ff"]},{n:["boy"],u:"1f466",v:["1f466-1f3fb","1f466-1f3fc","1f466-1f3fd","1f466-1f3fe","1f466-1f3ff"]},{n:["girl"],u:"1f467",v:["1f467-1f3fb","1f467-1f3fc","1f467-1f3fd","1f467-1f3fe","1f467-1f3ff"]},{n:["adult"],u:"1f9d1",v:["1f9d1-1f3fb","1f9d1-1f3fc","1f9d1-1f3fd","1f9d1-1f3fe","1f9d1-1f3ff"]},{n:["man"],u:"1f468",v:["1f468-1f3fb","1f468-1f3fc","1f468-1f3fd","1f468-1f3fe","1f468-1f3ff"]},{n:["woman"],u:"1f469",v:["1f469-1f3fb","1f469-1f3fc","1f469-1f3fd","1f469-1f3fe","1f469-1f3ff"]},{n:["older adult","older_adult"],u:"1f9d3",v:["1f9d3-1f3fb","1f9d3-1f3fc","1f9d3-1f3fd","1f9d3-1f3fe","1f9d3-1f3ff"]},{n:["older man","older_man"],u:"1f474",v:["1f474-1f3fb","1f474-1f3fc","1f474-1f3fd","1f474-1f3fe","1f474-1f3ff"]},{n:["older woman","older_woman"],u:"1f475",v:["1f475-1f3fb","1f475-1f3fc","1f475-1f3fd","1f475-1f3fe","1f475-1f3ff"]},{n:["male-doctor"],u:"1f468-200d-2695-fe0f",v:["1f468-1f3fb-200d-2695-fe0f","1f468-1f3fc-200d-2695-fe0f","1f468-1f3fd-200d-2695-fe0f","1f468-1f3fe-200d-2695-fe0f","1f468-1f3ff-200d-2695-fe0f"]},{n:["female-doctor"],u:"1f469-200d-2695-fe0f",v:["1f469-1f3fb-200d-2695-fe0f","1f469-1f3fc-200d-2695-fe0f","1f469-1f3fd-200d-2695-fe0f","1f469-1f3fe-200d-2695-fe0f","1f469-1f3ff-200d-2695-fe0f"]},{n:["male-student"],u:"1f468-200d-1f393",v:["1f468-1f3fb-200d-1f393","1f468-1f3fc-200d-1f393","1f468-1f3fd-200d-1f393","1f468-1f3fe-200d-1f393","1f468-1f3ff-200d-1f393"]},{n:["female-student"],u:"1f469-200d-1f393",v:["1f469-1f3fb-200d-1f393","1f469-1f3fc-200d-1f393","1f469-1f3fd-200d-1f393","1f469-1f3fe-200d-1f393","1f469-1f3ff-200d-1f393"]},{n:["male-teacher"],u:"1f468-200d-1f3eb",v:["1f468-1f3fb-200d-1f3eb","1f468-1f3fc-200d-1f3eb","1f468-1f3fd-200d-1f3eb","1f468-1f3fe-200d-1f3eb","1f468-1f3ff-200d-1f3eb"]},{n:["female-teacher"],u:"1f469-200d-1f3eb",v:["1f469-1f3fb-200d-1f3eb","1f469-1f3fc-200d-1f3eb","1f469-1f3fd-200d-1f3eb","1f469-1f3fe-200d-1f3eb","1f469-1f3ff-200d-1f3eb"]},{n:["male-judge"],u:"1f468-200d-2696-fe0f",v:["1f468-1f3fb-200d-2696-fe0f","1f468-1f3fc-200d-2696-fe0f","1f468-1f3fd-200d-2696-fe0f","1f468-1f3fe-200d-2696-fe0f","1f468-1f3ff-200d-2696-fe0f"]},{n:["female-judge"],u:"1f469-200d-2696-fe0f",v:["1f469-1f3fb-200d-2696-fe0f","1f469-1f3fc-200d-2696-fe0f","1f469-1f3fd-200d-2696-fe0f","1f469-1f3fe-200d-2696-fe0f","1f469-1f3ff-200d-2696-fe0f"]},{n:["male-farmer"],u:"1f468-200d-1f33e",v:["1f468-1f3fb-200d-1f33e","1f468-1f3fc-200d-1f33e","1f468-1f3fd-200d-1f33e","1f468-1f3fe-200d-1f33e","1f468-1f3ff-200d-1f33e"]},{n:["female-farmer"],u:"1f469-200d-1f33e",v:["1f469-1f3fb-200d-1f33e","1f469-1f3fc-200d-1f33e","1f469-1f3fd-200d-1f33e","1f469-1f3fe-200d-1f33e","1f469-1f3ff-200d-1f33e"]},{n:["male-cook"],u:"1f468-200d-1f373",v:["1f468-1f3fb-200d-1f373","1f468-1f3fc-200d-1f373","1f468-1f3fd-200d-1f373","1f468-1f3fe-200d-1f373","1f468-1f3ff-200d-1f373"]},{n:["female-cook"],u:"1f469-200d-1f373",v:["1f469-1f3fb-200d-1f373","1f469-1f3fc-200d-1f373","1f469-1f3fd-200d-1f373","1f469-1f3fe-200d-1f373","1f469-1f3ff-200d-1f373"]},{n:["male-mechanic"],u:"1f468-200d-1f527",v:["1f468-1f3fb-200d-1f527","1f468-1f3fc-200d-1f527","1f468-1f3fd-200d-1f527","1f468-1f3fe-200d-1f527","1f468-1f3ff-200d-1f527"]},{n:["female-mechanic"],u:"1f469-200d-1f527",v:["1f469-1f3fb-200d-1f527","1f469-1f3fc-200d-1f527","1f469-1f3fd-200d-1f527","1f469-1f3fe-200d-1f527","1f469-1f3ff-200d-1f527"]},{n:["male-factory-worker"],u:"1f468-200d-1f3ed",v:["1f468-1f3fb-200d-1f3ed","1f468-1f3fc-200d-1f3ed","1f468-1f3fd-200d-1f3ed","1f468-1f3fe-200d-1f3ed","1f468-1f3ff-200d-1f3ed"]},{n:["female-factory-worker"],u:"1f469-200d-1f3ed",v:["1f469-1f3fb-200d-1f3ed","1f469-1f3fc-200d-1f3ed","1f469-1f3fd-200d-1f3ed","1f469-1f3fe-200d-1f3ed","1f469-1f3ff-200d-1f3ed"]},{n:["male-office-worker"],u:"1f468-200d-1f4bc",v:["1f468-1f3fb-200d-1f4bc","1f468-1f3fc-200d-1f4bc","1f468-1f3fd-200d-1f4bc","1f468-1f3fe-200d-1f4bc","1f468-1f3ff-200d-1f4bc"]},{n:["female-office-worker"],u:"1f469-200d-1f4bc",v:["1f469-1f3fb-200d-1f4bc","1f469-1f3fc-200d-1f4bc","1f469-1f3fd-200d-1f4bc","1f469-1f3fe-200d-1f4bc","1f469-1f3ff-200d-1f4bc"]},{n:["male-scientist"],u:"1f468-200d-1f52c",v:["1f468-1f3fb-200d-1f52c","1f468-1f3fc-200d-1f52c","1f468-1f3fd-200d-1f52c","1f468-1f3fe-200d-1f52c","1f468-1f3ff-200d-1f52c"]},{n:["female-scientist"],u:"1f469-200d-1f52c",v:["1f469-1f3fb-200d-1f52c","1f469-1f3fc-200d-1f52c","1f469-1f3fd-200d-1f52c","1f469-1f3fe-200d-1f52c","1f469-1f3ff-200d-1f52c"]},{n:["male-technologist"],u:"1f468-200d-1f4bb",v:["1f468-1f3fb-200d-1f4bb","1f468-1f3fc-200d-1f4bb","1f468-1f3fd-200d-1f4bb","1f468-1f3fe-200d-1f4bb","1f468-1f3ff-200d-1f4bb"]},{n:["female-technologist"],u:"1f469-200d-1f4bb",v:["1f469-1f3fb-200d-1f4bb","1f469-1f3fc-200d-1f4bb","1f469-1f3fd-200d-1f4bb","1f469-1f3fe-200d-1f4bb","1f469-1f3ff-200d-1f4bb"]},{n:["male-singer"],u:"1f468-200d-1f3a4",v:["1f468-1f3fb-200d-1f3a4","1f468-1f3fc-200d-1f3a4","1f468-1f3fd-200d-1f3a4","1f468-1f3fe-200d-1f3a4","1f468-1f3ff-200d-1f3a4"]},{n:["female-singer"],u:"1f469-200d-1f3a4",v:["1f469-1f3fb-200d-1f3a4","1f469-1f3fc-200d-1f3a4","1f469-1f3fd-200d-1f3a4","1f469-1f3fe-200d-1f3a4","1f469-1f3ff-200d-1f3a4"]},{n:["male-artist"],u:"1f468-200d-1f3a8",v:["1f468-1f3fb-200d-1f3a8","1f468-1f3fc-200d-1f3a8","1f468-1f3fd-200d-1f3a8","1f468-1f3fe-200d-1f3a8","1f468-1f3ff-200d-1f3a8"]},{n:["female-artist"],u:"1f469-200d-1f3a8",v:["1f469-1f3fb-200d-1f3a8","1f469-1f3fc-200d-1f3a8","1f469-1f3fd-200d-1f3a8","1f469-1f3fe-200d-1f3a8","1f469-1f3ff-200d-1f3a8"]},{n:["male-pilot"],u:"1f468-200d-2708-fe0f",v:["1f468-1f3fb-200d-2708-fe0f","1f468-1f3fc-200d-2708-fe0f","1f468-1f3fd-200d-2708-fe0f","1f468-1f3fe-200d-2708-fe0f","1f468-1f3ff-200d-2708-fe0f"]},{n:["female-pilot"],u:"1f469-200d-2708-fe0f",v:["1f469-1f3fb-200d-2708-fe0f","1f469-1f3fc-200d-2708-fe0f","1f469-1f3fd-200d-2708-fe0f","1f469-1f3fe-200d-2708-fe0f","1f469-1f3ff-200d-2708-fe0f"]},{n:["male-astronaut"],u:"1f468-200d-1f680",v:["1f468-1f3fb-200d-1f680","1f468-1f3fc-200d-1f680","1f468-1f3fd-200d-1f680","1f468-1f3fe-200d-1f680","1f468-1f3ff-200d-1f680"]},{n:["female-astronaut"],u:"1f469-200d-1f680",v:["1f469-1f3fb-200d-1f680","1f469-1f3fc-200d-1f680","1f469-1f3fd-200d-1f680","1f469-1f3fe-200d-1f680","1f469-1f3ff-200d-1f680"]},{n:["male-firefighter"],u:"1f468-200d-1f692",v:["1f468-1f3fb-200d-1f692","1f468-1f3fc-200d-1f692","1f468-1f3fd-200d-1f692","1f468-1f3fe-200d-1f692","1f468-1f3ff-200d-1f692"]},{n:["female-firefighter"],u:"1f469-200d-1f692",v:["1f469-1f3fb-200d-1f692","1f469-1f3fc-200d-1f692","1f469-1f3fd-200d-1f692","1f469-1f3fe-200d-1f692","1f469-1f3ff-200d-1f692"]},{n:["police officer","cop"],u:"1f46e",v:["1f46e-1f3fb","1f46e-1f3fc","1f46e-1f3fd","1f46e-1f3fe","1f46e-1f3ff"]},{n:["male-police-officer"],u:"1f46e-200d-2642-fe0f",v:["1f46e-1f3fb-200d-2642-fe0f","1f46e-1f3fc-200d-2642-fe0f","1f46e-1f3fd-200d-2642-fe0f","1f46e-1f3fe-200d-2642-fe0f","1f46e-1f3ff-200d-2642-fe0f"]},{n:["female-police-officer"],u:"1f46e-200d-2640-fe0f",v:["1f46e-1f3fb-200d-2640-fe0f","1f46e-1f3fc-200d-2640-fe0f","1f46e-1f3fd-200d-2640-fe0f","1f46e-1f3fe-200d-2640-fe0f","1f46e-1f3ff-200d-2640-fe0f"]},{n:["sleuth_or_spy"],u:"1f575-fe0f",v:["1f575-1f3fb","1f575-1f3fc","1f575-1f3fd","1f575-1f3fe","1f575-1f3ff"]},{n:["male-detective"],u:"1f575-fe0f-200d-2642-fe0f",v:["1f575-1f3fb-200d-2642-fe0f","1f575-1f3fc-200d-2642-fe0f","1f575-1f3fd-200d-2642-fe0f","1f575-1f3fe-200d-2642-fe0f","1f575-1f3ff-200d-2642-fe0f"]},{n:["female-detective"],u:"1f575-fe0f-200d-2640-fe0f",v:["1f575-1f3fb-200d-2640-fe0f","1f575-1f3fc-200d-2640-fe0f","1f575-1f3fd-200d-2640-fe0f","1f575-1f3fe-200d-2640-fe0f","1f575-1f3ff-200d-2640-fe0f"]},{n:["guardsman"],u:"1f482",v:["1f482-1f3fb","1f482-1f3fc","1f482-1f3fd","1f482-1f3fe","1f482-1f3ff"]},{n:["male-guard"],u:"1f482-200d-2642-fe0f",v:["1f482-1f3fb-200d-2642-fe0f","1f482-1f3fc-200d-2642-fe0f","1f482-1f3fd-200d-2642-fe0f","1f482-1f3fe-200d-2642-fe0f","1f482-1f3ff-200d-2642-fe0f"]},{n:["female-guard"],u:"1f482-200d-2640-fe0f",v:["1f482-1f3fb-200d-2640-fe0f","1f482-1f3fc-200d-2640-fe0f","1f482-1f3fd-200d-2640-fe0f","1f482-1f3fe-200d-2640-fe0f","1f482-1f3ff-200d-2640-fe0f"]},{n:["construction worker","construction_worker"],u:"1f477",v:["1f477-1f3fb","1f477-1f3fc","1f477-1f3fd","1f477-1f3fe","1f477-1f3ff"]},{n:["male-construction-worker"],u:"1f477-200d-2642-fe0f",v:["1f477-1f3fb-200d-2642-fe0f","1f477-1f3fc-200d-2642-fe0f","1f477-1f3fd-200d-2642-fe0f","1f477-1f3fe-200d-2642-fe0f","1f477-1f3ff-200d-2642-fe0f"]},{n:["female-construction-worker"],u:"1f477-200d-2640-fe0f",v:["1f477-1f3fb-200d-2640-fe0f","1f477-1f3fc-200d-2640-fe0f","1f477-1f3fd-200d-2640-fe0f","1f477-1f3fe-200d-2640-fe0f","1f477-1f3ff-200d-2640-fe0f"]},{n:["prince"],u:"1f934",v:["1f934-1f3fb","1f934-1f3fc","1f934-1f3fd","1f934-1f3fe","1f934-1f3ff"]},{n:["princess"],u:"1f478",v:["1f478-1f3fb","1f478-1f3fc","1f478-1f3fd","1f478-1f3fe","1f478-1f3ff"]},{n:["man with turban","man_with_turban"],u:"1f473",v:["1f473-1f3fb","1f473-1f3fc","1f473-1f3fd","1f473-1f3fe","1f473-1f3ff"]},{n:["man-wearing-turban"],u:"1f473-200d-2642-fe0f",v:["1f473-1f3fb-200d-2642-fe0f","1f473-1f3fc-200d-2642-fe0f","1f473-1f3fd-200d-2642-fe0f","1f473-1f3fe-200d-2642-fe0f","1f473-1f3ff-200d-2642-fe0f"]},{n:["woman-wearing-turban"],u:"1f473-200d-2640-fe0f",v:["1f473-1f3fb-200d-2640-fe0f","1f473-1f3fc-200d-2640-fe0f","1f473-1f3fd-200d-2640-fe0f","1f473-1f3fe-200d-2640-fe0f","1f473-1f3ff-200d-2640-fe0f"]},{n:["man with gua pi mao","man_with_gua_pi_mao"],u:"1f472",v:["1f472-1f3fb","1f472-1f3fc","1f472-1f3fd","1f472-1f3fe","1f472-1f3ff"]},{n:["person with headscarf","person_with_headscarf"],u:"1f9d5",v:["1f9d5-1f3fb","1f9d5-1f3fc","1f9d5-1f3fd","1f9d5-1f3fe","1f9d5-1f3ff"]},{n:["bearded person","bearded_person"],u:"1f9d4",v:["1f9d4-1f3fb","1f9d4-1f3fc","1f9d4-1f3fd","1f9d4-1f3fe","1f9d4-1f3ff"]},{n:["person with blond hair","person_with_blond_hair"],u:"1f471",v:["1f471-1f3fb","1f471-1f3fc","1f471-1f3fd","1f471-1f3fe","1f471-1f3ff"]},{n:["blond-haired-man"],u:"1f471-200d-2642-fe0f",v:["1f471-1f3fb-200d-2642-fe0f","1f471-1f3fc-200d-2642-fe0f","1f471-1f3fd-200d-2642-fe0f","1f471-1f3fe-200d-2642-fe0f","1f471-1f3ff-200d-2642-fe0f"]},{n:["blond-haired-woman"],u:"1f471-200d-2640-fe0f",v:["1f471-1f3fb-200d-2640-fe0f","1f471-1f3fc-200d-2640-fe0f","1f471-1f3fd-200d-2640-fe0f","1f471-1f3fe-200d-2640-fe0f","1f471-1f3ff-200d-2640-fe0f"]},{n:["man in tuxedo","man_in_tuxedo"],u:"1f935",v:["1f935-1f3fb","1f935-1f3fc","1f935-1f3fd","1f935-1f3fe","1f935-1f3ff"]},{n:["bride with veil","bride_with_veil"],u:"1f470",v:["1f470-1f3fb","1f470-1f3fc","1f470-1f3fd","1f470-1f3fe","1f470-1f3ff"]},{n:["pregnant woman","pregnant_woman"],u:"1f930",v:["1f930-1f3fb","1f930-1f3fc","1f930-1f3fd","1f930-1f3fe","1f930-1f3ff"]},{n:["breast-feeding"],u:"1f931",v:["1f931-1f3fb","1f931-1f3fc","1f931-1f3fd","1f931-1f3fe","1f931-1f3ff"]},{n:["baby angel","angel"],u:"1f47c",v:["1f47c-1f3fb","1f47c-1f3fc","1f47c-1f3fd","1f47c-1f3fe","1f47c-1f3ff"]},{n:["father christmas","santa"],u:"1f385",v:["1f385-1f3fb","1f385-1f3fc","1f385-1f3fd","1f385-1f3fe","1f385-1f3ff"]},{n:["mother christmas","mrs_claus","mother_christmas"],u:"1f936",v:["1f936-1f3fb","1f936-1f3fc","1f936-1f3fd","1f936-1f3fe","1f936-1f3ff"]},{n:["mage"],u:"1f9d9",v:["1f9d9-1f3fb","1f9d9-1f3fc","1f9d9-1f3fd","1f9d9-1f3fe","1f9d9-1f3ff"]},{n:["female_mage"],u:"1f9d9-200d-2640-fe0f",v:["1f9d9-1f3fb-200d-2640-fe0f","1f9d9-1f3fc-200d-2640-fe0f","1f9d9-1f3fd-200d-2640-fe0f","1f9d9-1f3fe-200d-2640-fe0f","1f9d9-1f3ff-200d-2640-fe0f"]},{n:["male_mage"],u:"1f9d9-200d-2642-fe0f",v:["1f9d9-1f3fb-200d-2642-fe0f","1f9d9-1f3fc-200d-2642-fe0f","1f9d9-1f3fd-200d-2642-fe0f","1f9d9-1f3fe-200d-2642-fe0f","1f9d9-1f3ff-200d-2642-fe0f"]},{n:["fairy"],u:"1f9da",v:["1f9da-1f3fb","1f9da-1f3fc","1f9da-1f3fd","1f9da-1f3fe","1f9da-1f3ff"]},{n:["female_fairy"],u:"1f9da-200d-2640-fe0f",v:["1f9da-1f3fb-200d-2640-fe0f","1f9da-1f3fc-200d-2640-fe0f","1f9da-1f3fd-200d-2640-fe0f","1f9da-1f3fe-200d-2640-fe0f","1f9da-1f3ff-200d-2640-fe0f"]},{n:["male_fairy"],u:"1f9da-200d-2642-fe0f",v:["1f9da-1f3fb-200d-2642-fe0f","1f9da-1f3fc-200d-2642-fe0f","1f9da-1f3fd-200d-2642-fe0f","1f9da-1f3fe-200d-2642-fe0f","1f9da-1f3ff-200d-2642-fe0f"]},{n:["vampire"],u:"1f9db",v:["1f9db-1f3fb","1f9db-1f3fc","1f9db-1f3fd","1f9db-1f3fe","1f9db-1f3ff"]},{n:["female_vampire"],u:"1f9db-200d-2640-fe0f",v:["1f9db-1f3fb-200d-2640-fe0f","1f9db-1f3fc-200d-2640-fe0f","1f9db-1f3fd-200d-2640-fe0f","1f9db-1f3fe-200d-2640-fe0f","1f9db-1f3ff-200d-2640-fe0f"]},{n:["male_vampire"],u:"1f9db-200d-2642-fe0f",v:["1f9db-1f3fb-200d-2642-fe0f","1f9db-1f3fc-200d-2642-fe0f","1f9db-1f3fd-200d-2642-fe0f","1f9db-1f3fe-200d-2642-fe0f","1f9db-1f3ff-200d-2642-fe0f"]},{n:["merperson"],u:"1f9dc",v:["1f9dc-1f3fb","1f9dc-1f3fc","1f9dc-1f3fd","1f9dc-1f3fe","1f9dc-1f3ff"]},{n:["mermaid"],u:"1f9dc-200d-2640-fe0f",v:["1f9dc-1f3fb-200d-2640-fe0f","1f9dc-1f3fc-200d-2640-fe0f","1f9dc-1f3fd-200d-2640-fe0f","1f9dc-1f3fe-200d-2640-fe0f","1f9dc-1f3ff-200d-2640-fe0f"]},{n:["merman"],u:"1f9dc-200d-2642-fe0f",v:["1f9dc-1f3fb-200d-2642-fe0f","1f9dc-1f3fc-200d-2642-fe0f","1f9dc-1f3fd-200d-2642-fe0f","1f9dc-1f3fe-200d-2642-fe0f","1f9dc-1f3ff-200d-2642-fe0f"]},{n:["elf"],u:"1f9dd",v:["1f9dd-1f3fb","1f9dd-1f3fc","1f9dd-1f3fd","1f9dd-1f3fe","1f9dd-1f3ff"]},{n:["female_elf"],u:"1f9dd-200d-2640-fe0f",v:["1f9dd-1f3fb-200d-2640-fe0f","1f9dd-1f3fc-200d-2640-fe0f","1f9dd-1f3fd-200d-2640-fe0f","1f9dd-1f3fe-200d-2640-fe0f","1f9dd-1f3ff-200d-2640-fe0f"]},{n:["male_elf"],u:"1f9dd-200d-2642-fe0f",v:["1f9dd-1f3fb-200d-2642-fe0f","1f9dd-1f3fc-200d-2642-fe0f","1f9dd-1f3fd-200d-2642-fe0f","1f9dd-1f3fe-200d-2642-fe0f","1f9dd-1f3ff-200d-2642-fe0f"]},{n:["genie"],u:"1f9de"},{n:["female_genie"],u:"1f9de-200d-2640-fe0f"},{n:["male_genie"],u:"1f9de-200d-2642-fe0f"},{n:["zombie"],u:"1f9df"},{n:["female_zombie"],u:"1f9df-200d-2640-fe0f"},{n:["male_zombie"],u:"1f9df-200d-2642-fe0f"},{n:["person frowning","person_frowning"],u:"1f64d",v:["1f64d-1f3fb","1f64d-1f3fc","1f64d-1f3fd","1f64d-1f3fe","1f64d-1f3ff"]},{n:["man-frowning"],u:"1f64d-200d-2642-fe0f",v:["1f64d-1f3fb-200d-2642-fe0f","1f64d-1f3fc-200d-2642-fe0f","1f64d-1f3fd-200d-2642-fe0f","1f64d-1f3fe-200d-2642-fe0f","1f64d-1f3ff-200d-2642-fe0f"]},{n:["woman-frowning"],u:"1f64d-200d-2640-fe0f",v:["1f64d-1f3fb-200d-2640-fe0f","1f64d-1f3fc-200d-2640-fe0f","1f64d-1f3fd-200d-2640-fe0f","1f64d-1f3fe-200d-2640-fe0f","1f64d-1f3ff-200d-2640-fe0f"]},{n:["person with pouting face","person_with_pouting_face"],u:"1f64e",v:["1f64e-1f3fb","1f64e-1f3fc","1f64e-1f3fd","1f64e-1f3fe","1f64e-1f3ff"]},{n:["man-pouting"],u:"1f64e-200d-2642-fe0f",v:["1f64e-1f3fb-200d-2642-fe0f","1f64e-1f3fc-200d-2642-fe0f","1f64e-1f3fd-200d-2642-fe0f","1f64e-1f3fe-200d-2642-fe0f","1f64e-1f3ff-200d-2642-fe0f"]},{n:["woman-pouting"],u:"1f64e-200d-2640-fe0f",v:["1f64e-1f3fb-200d-2640-fe0f","1f64e-1f3fc-200d-2640-fe0f","1f64e-1f3fd-200d-2640-fe0f","1f64e-1f3fe-200d-2640-fe0f","1f64e-1f3ff-200d-2640-fe0f"]},{n:["face with no good gesture","no_good"],u:"1f645",v:["1f645-1f3fb","1f645-1f3fc","1f645-1f3fd","1f645-1f3fe","1f645-1f3ff"]},{n:["man-gesturing-no"],u:"1f645-200d-2642-fe0f",v:["1f645-1f3fb-200d-2642-fe0f","1f645-1f3fc-200d-2642-fe0f","1f645-1f3fd-200d-2642-fe0f","1f645-1f3fe-200d-2642-fe0f","1f645-1f3ff-200d-2642-fe0f"]},{n:["woman-gesturing-no"],u:"1f645-200d-2640-fe0f",v:["1f645-1f3fb-200d-2640-fe0f","1f645-1f3fc-200d-2640-fe0f","1f645-1f3fd-200d-2640-fe0f","1f645-1f3fe-200d-2640-fe0f","1f645-1f3ff-200d-2640-fe0f"]},{n:["face with ok gesture","ok_woman"],u:"1f646",v:["1f646-1f3fb","1f646-1f3fc","1f646-1f3fd","1f646-1f3fe","1f646-1f3ff"]},{n:["man-gesturing-ok"],u:"1f646-200d-2642-fe0f",v:["1f646-1f3fb-200d-2642-fe0f","1f646-1f3fc-200d-2642-fe0f","1f646-1f3fd-200d-2642-fe0f","1f646-1f3fe-200d-2642-fe0f","1f646-1f3ff-200d-2642-fe0f"]},{n:["woman-gesturing-ok"],u:"1f646-200d-2640-fe0f",v:["1f646-1f3fb-200d-2640-fe0f","1f646-1f3fc-200d-2640-fe0f","1f646-1f3fd-200d-2640-fe0f","1f646-1f3fe-200d-2640-fe0f","1f646-1f3ff-200d-2640-fe0f"]},{n:["information desk person","information_desk_person"],u:"1f481",v:["1f481-1f3fb","1f481-1f3fc","1f481-1f3fd","1f481-1f3fe","1f481-1f3ff"]},{n:["man-tipping-hand"],u:"1f481-200d-2642-fe0f",v:["1f481-1f3fb-200d-2642-fe0f","1f481-1f3fc-200d-2642-fe0f","1f481-1f3fd-200d-2642-fe0f","1f481-1f3fe-200d-2642-fe0f","1f481-1f3ff-200d-2642-fe0f"]},{n:["woman-tipping-hand"],u:"1f481-200d-2640-fe0f",v:["1f481-1f3fb-200d-2640-fe0f","1f481-1f3fc-200d-2640-fe0f","1f481-1f3fd-200d-2640-fe0f","1f481-1f3fe-200d-2640-fe0f","1f481-1f3ff-200d-2640-fe0f"]},{n:["happy person raising one hand","raising_hand"],u:"1f64b",v:["1f64b-1f3fb","1f64b-1f3fc","1f64b-1f3fd","1f64b-1f3fe","1f64b-1f3ff"]},{n:["man-raising-hand"],u:"1f64b-200d-2642-fe0f",v:["1f64b-1f3fb-200d-2642-fe0f","1f64b-1f3fc-200d-2642-fe0f","1f64b-1f3fd-200d-2642-fe0f","1f64b-1f3fe-200d-2642-fe0f","1f64b-1f3ff-200d-2642-fe0f"]},{n:["woman-raising-hand"],u:"1f64b-200d-2640-fe0f",v:["1f64b-1f3fb-200d-2640-fe0f","1f64b-1f3fc-200d-2640-fe0f","1f64b-1f3fd-200d-2640-fe0f","1f64b-1f3fe-200d-2640-fe0f","1f64b-1f3ff-200d-2640-fe0f"]},{n:["person bowing deeply","bow"],u:"1f647",v:["1f647-1f3fb","1f647-1f3fc","1f647-1f3fd","1f647-1f3fe","1f647-1f3ff"]},{n:["man-bowing"],u:"1f647-200d-2642-fe0f",v:["1f647-1f3fb-200d-2642-fe0f","1f647-1f3fc-200d-2642-fe0f","1f647-1f3fd-200d-2642-fe0f","1f647-1f3fe-200d-2642-fe0f","1f647-1f3ff-200d-2642-fe0f"]},{n:["woman-bowing"],u:"1f647-200d-2640-fe0f",v:["1f647-1f3fb-200d-2640-fe0f","1f647-1f3fc-200d-2640-fe0f","1f647-1f3fd-200d-2640-fe0f","1f647-1f3fe-200d-2640-fe0f","1f647-1f3ff-200d-2640-fe0f"]},{n:["face palm","face_palm"],u:"1f926",v:["1f926-1f3fb","1f926-1f3fc","1f926-1f3fd","1f926-1f3fe","1f926-1f3ff"]},{n:["man-facepalming"],u:"1f926-200d-2642-fe0f",v:["1f926-1f3fb-200d-2642-fe0f","1f926-1f3fc-200d-2642-fe0f","1f926-1f3fd-200d-2642-fe0f","1f926-1f3fe-200d-2642-fe0f","1f926-1f3ff-200d-2642-fe0f"]},{n:["woman-facepalming"],u:"1f926-200d-2640-fe0f",v:["1f926-1f3fb-200d-2640-fe0f","1f926-1f3fc-200d-2640-fe0f","1f926-1f3fd-200d-2640-fe0f","1f926-1f3fe-200d-2640-fe0f","1f926-1f3ff-200d-2640-fe0f"]},{n:["shrug"],u:"1f937",v:["1f937-1f3fb","1f937-1f3fc","1f937-1f3fd","1f937-1f3fe","1f937-1f3ff"]},{n:["man-shrugging"],u:"1f937-200d-2642-fe0f",v:["1f937-1f3fb-200d-2642-fe0f","1f937-1f3fc-200d-2642-fe0f","1f937-1f3fd-200d-2642-fe0f","1f937-1f3fe-200d-2642-fe0f","1f937-1f3ff-200d-2642-fe0f"]},{n:["woman-shrugging"],u:"1f937-200d-2640-fe0f",v:["1f937-1f3fb-200d-2640-fe0f","1f937-1f3fc-200d-2640-fe0f","1f937-1f3fd-200d-2640-fe0f","1f937-1f3fe-200d-2640-fe0f","1f937-1f3ff-200d-2640-fe0f"]},{n:["face massage","massage"],u:"1f486",v:["1f486-1f3fb","1f486-1f3fc","1f486-1f3fd","1f486-1f3fe","1f486-1f3ff"]},{n:["man-getting-massage"],u:"1f486-200d-2642-fe0f",v:["1f486-1f3fb-200d-2642-fe0f","1f486-1f3fc-200d-2642-fe0f","1f486-1f3fd-200d-2642-fe0f","1f486-1f3fe-200d-2642-fe0f","1f486-1f3ff-200d-2642-fe0f"]},{n:["woman-getting-massage"],u:"1f486-200d-2640-fe0f",v:["1f486-1f3fb-200d-2640-fe0f","1f486-1f3fc-200d-2640-fe0f","1f486-1f3fd-200d-2640-fe0f","1f486-1f3fe-200d-2640-fe0f","1f486-1f3ff-200d-2640-fe0f"]},{n:["haircut"],u:"1f487",v:["1f487-1f3fb","1f487-1f3fc","1f487-1f3fd","1f487-1f3fe","1f487-1f3ff"]},{n:["man-getting-haircut"],u:"1f487-200d-2642-fe0f",v:["1f487-1f3fb-200d-2642-fe0f","1f487-1f3fc-200d-2642-fe0f","1f487-1f3fd-200d-2642-fe0f","1f487-1f3fe-200d-2642-fe0f","1f487-1f3ff-200d-2642-fe0f"]},{n:["woman-getting-haircut"],u:"1f487-200d-2640-fe0f",v:["1f487-1f3fb-200d-2640-fe0f","1f487-1f3fc-200d-2640-fe0f","1f487-1f3fd-200d-2640-fe0f","1f487-1f3fe-200d-2640-fe0f","1f487-1f3ff-200d-2640-fe0f"]},{n:["pedestrian","walking"],u:"1f6b6",v:["1f6b6-1f3fb","1f6b6-1f3fc","1f6b6-1f3fd","1f6b6-1f3fe","1f6b6-1f3ff"]},{n:["man-walking"],u:"1f6b6-200d-2642-fe0f",v:["1f6b6-1f3fb-200d-2642-fe0f","1f6b6-1f3fc-200d-2642-fe0f","1f6b6-1f3fd-200d-2642-fe0f","1f6b6-1f3fe-200d-2642-fe0f","1f6b6-1f3ff-200d-2642-fe0f"]},{n:["woman-walking"],u:"1f6b6-200d-2640-fe0f",v:["1f6b6-1f3fb-200d-2640-fe0f","1f6b6-1f3fc-200d-2640-fe0f","1f6b6-1f3fd-200d-2640-fe0f","1f6b6-1f3fe-200d-2640-fe0f","1f6b6-1f3ff-200d-2640-fe0f"]},{n:["runner","running"],u:"1f3c3",v:["1f3c3-1f3fb","1f3c3-1f3fc","1f3c3-1f3fd","1f3c3-1f3fe","1f3c3-1f3ff"]},{n:["man-running"],u:"1f3c3-200d-2642-fe0f",v:["1f3c3-1f3fb-200d-2642-fe0f","1f3c3-1f3fc-200d-2642-fe0f","1f3c3-1f3fd-200d-2642-fe0f","1f3c3-1f3fe-200d-2642-fe0f","1f3c3-1f3ff-200d-2642-fe0f"]},{n:["woman-running"],u:"1f3c3-200d-2640-fe0f",v:["1f3c3-1f3fb-200d-2640-fe0f","1f3c3-1f3fc-200d-2640-fe0f","1f3c3-1f3fd-200d-2640-fe0f","1f3c3-1f3fe-200d-2640-fe0f","1f3c3-1f3ff-200d-2640-fe0f"]},{n:["dancer"],u:"1f483",v:["1f483-1f3fb","1f483-1f3fc","1f483-1f3fd","1f483-1f3fe","1f483-1f3ff"]},{n:["man dancing","man_dancing"],u:"1f57a",v:["1f57a-1f3fb","1f57a-1f3fc","1f57a-1f3fd","1f57a-1f3fe","1f57a-1f3ff"]},{n:["woman with bunny ears","dancers"],u:"1f46f"},{n:["man-with-bunny-ears-partying"],u:"1f46f-200d-2642-fe0f"},{n:["woman-with-bunny-ears-partying"],u:"1f46f-200d-2640-fe0f"},{n:["person in steamy room","person_in_steamy_room"],u:"1f9d6",v:["1f9d6-1f3fb","1f9d6-1f3fc","1f9d6-1f3fd","1f9d6-1f3fe","1f9d6-1f3ff"]},{n:["woman_in_steamy_room"],u:"1f9d6-200d-2640-fe0f",v:["1f9d6-1f3fb-200d-2640-fe0f","1f9d6-1f3fc-200d-2640-fe0f","1f9d6-1f3fd-200d-2640-fe0f","1f9d6-1f3fe-200d-2640-fe0f","1f9d6-1f3ff-200d-2640-fe0f"]},{n:["man_in_steamy_room"],u:"1f9d6-200d-2642-fe0f",v:["1f9d6-1f3fb-200d-2642-fe0f","1f9d6-1f3fc-200d-2642-fe0f","1f9d6-1f3fd-200d-2642-fe0f","1f9d6-1f3fe-200d-2642-fe0f","1f9d6-1f3ff-200d-2642-fe0f"]},{n:["person climbing","person_climbing"],u:"1f9d7",v:["1f9d7-1f3fb","1f9d7-1f3fc","1f9d7-1f3fd","1f9d7-1f3fe","1f9d7-1f3ff"]},{n:["woman_climbing"],u:"1f9d7-200d-2640-fe0f",v:["1f9d7-1f3fb-200d-2640-fe0f","1f9d7-1f3fc-200d-2640-fe0f","1f9d7-1f3fd-200d-2640-fe0f","1f9d7-1f3fe-200d-2640-fe0f","1f9d7-1f3ff-200d-2640-fe0f"]},{n:["man_climbing"],u:"1f9d7-200d-2642-fe0f",v:["1f9d7-1f3fb-200d-2642-fe0f","1f9d7-1f3fc-200d-2642-fe0f","1f9d7-1f3fd-200d-2642-fe0f","1f9d7-1f3fe-200d-2642-fe0f","1f9d7-1f3ff-200d-2642-fe0f"]},{n:["person in lotus position","person_in_lotus_position"],u:"1f9d8",v:["1f9d8-1f3fb","1f9d8-1f3fc","1f9d8-1f3fd","1f9d8-1f3fe","1f9d8-1f3ff"]},{n:["woman_in_lotus_position"],u:"1f9d8-200d-2640-fe0f",v:["1f9d8-1f3fb-200d-2640-fe0f","1f9d8-1f3fc-200d-2640-fe0f","1f9d8-1f3fd-200d-2640-fe0f","1f9d8-1f3fe-200d-2640-fe0f","1f9d8-1f3ff-200d-2640-fe0f"]},{n:["man_in_lotus_position"],u:"1f9d8-200d-2642-fe0f",v:["1f9d8-1f3fb-200d-2642-fe0f","1f9d8-1f3fc-200d-2642-fe0f","1f9d8-1f3fd-200d-2642-fe0f","1f9d8-1f3fe-200d-2642-fe0f","1f9d8-1f3ff-200d-2642-fe0f"]},{n:["bath"],u:"1f6c0",v:["1f6c0-1f3fb","1f6c0-1f3fc","1f6c0-1f3fd","1f6c0-1f3fe","1f6c0-1f3ff"]},{n:["sleeping accommodation","sleeping_accommodation"],u:"1f6cc",v:["1f6cc-1f3fb","1f6cc-1f3fc","1f6cc-1f3fd","1f6cc-1f3fe","1f6cc-1f3ff"]},{n:["man_in_business_suit_levitating"],u:"1f574-fe0f",v:["1f574-1f3fb","1f574-1f3fc","1f574-1f3fd","1f574-1f3fe","1f574-1f3ff"]},{n:["speaking_head_in_silhouette"],u:"1f5e3-fe0f"},{n:["bust in silhouette","bust_in_silhouette"],u:"1f464"},{n:["busts in silhouette","busts_in_silhouette"],u:"1f465"},{n:["fencer"],u:"1f93a"},{n:["horse racing","horse_racing"],u:"1f3c7",v:["1f3c7-1f3fb","1f3c7-1f3fc","1f3c7-1f3fd","1f3c7-1f3fe","1f3c7-1f3ff"]},{n:["skier"],u:"26f7-fe0f"},{n:["snowboarder"],u:"1f3c2",v:["1f3c2-1f3fb","1f3c2-1f3fc","1f3c2-1f3fd","1f3c2-1f3fe","1f3c2-1f3ff"]},{n:["golfer"],u:"1f3cc-fe0f",v:["1f3cc-1f3fb","1f3cc-1f3fc","1f3cc-1f3fd","1f3cc-1f3fe","1f3cc-1f3ff"]},{n:["man-golfing"],u:"1f3cc-fe0f-200d-2642-fe0f",v:["1f3cc-1f3fb-200d-2642-fe0f","1f3cc-1f3fc-200d-2642-fe0f","1f3cc-1f3fd-200d-2642-fe0f","1f3cc-1f3fe-200d-2642-fe0f","1f3cc-1f3ff-200d-2642-fe0f"]},{n:["woman-golfing"],u:"1f3cc-fe0f-200d-2640-fe0f",v:["1f3cc-1f3fb-200d-2640-fe0f","1f3cc-1f3fc-200d-2640-fe0f","1f3cc-1f3fd-200d-2640-fe0f","1f3cc-1f3fe-200d-2640-fe0f","1f3cc-1f3ff-200d-2640-fe0f"]},{n:["surfer"],u:"1f3c4",v:["1f3c4-1f3fb","1f3c4-1f3fc","1f3c4-1f3fd","1f3c4-1f3fe","1f3c4-1f3ff"]},{n:["man-surfing"],u:"1f3c4-200d-2642-fe0f",v:["1f3c4-1f3fb-200d-2642-fe0f","1f3c4-1f3fc-200d-2642-fe0f","1f3c4-1f3fd-200d-2642-fe0f","1f3c4-1f3fe-200d-2642-fe0f","1f3c4-1f3ff-200d-2642-fe0f"]},{n:["woman-surfing"],u:"1f3c4-200d-2640-fe0f",v:["1f3c4-1f3fb-200d-2640-fe0f","1f3c4-1f3fc-200d-2640-fe0f","1f3c4-1f3fd-200d-2640-fe0f","1f3c4-1f3fe-200d-2640-fe0f","1f3c4-1f3ff-200d-2640-fe0f"]},{n:["rowboat"],u:"1f6a3",v:["1f6a3-1f3fb","1f6a3-1f3fc","1f6a3-1f3fd","1f6a3-1f3fe","1f6a3-1f3ff"]},{n:["man-rowing-boat"],u:"1f6a3-200d-2642-fe0f",v:["1f6a3-1f3fb-200d-2642-fe0f","1f6a3-1f3fc-200d-2642-fe0f","1f6a3-1f3fd-200d-2642-fe0f","1f6a3-1f3fe-200d-2642-fe0f","1f6a3-1f3ff-200d-2642-fe0f"]},{n:["woman-rowing-boat"],u:"1f6a3-200d-2640-fe0f",v:["1f6a3-1f3fb-200d-2640-fe0f","1f6a3-1f3fc-200d-2640-fe0f","1f6a3-1f3fd-200d-2640-fe0f","1f6a3-1f3fe-200d-2640-fe0f","1f6a3-1f3ff-200d-2640-fe0f"]},{n:["swimmer"],u:"1f3ca",v:["1f3ca-1f3fb","1f3ca-1f3fc","1f3ca-1f3fd","1f3ca-1f3fe","1f3ca-1f3ff"]},{n:["man-swimming"],u:"1f3ca-200d-2642-fe0f",v:["1f3ca-1f3fb-200d-2642-fe0f","1f3ca-1f3fc-200d-2642-fe0f","1f3ca-1f3fd-200d-2642-fe0f","1f3ca-1f3fe-200d-2642-fe0f","1f3ca-1f3ff-200d-2642-fe0f"]},{n:["woman-swimming"],u:"1f3ca-200d-2640-fe0f",v:["1f3ca-1f3fb-200d-2640-fe0f","1f3ca-1f3fc-200d-2640-fe0f","1f3ca-1f3fd-200d-2640-fe0f","1f3ca-1f3fe-200d-2640-fe0f","1f3ca-1f3ff-200d-2640-fe0f"]},{n:["person_with_ball"],u:"26f9-fe0f",v:["26f9-1f3fb","26f9-1f3fc","26f9-1f3fd","26f9-1f3fe","26f9-1f3ff"]},{n:["man-bouncing-ball"],u:"26f9-fe0f-200d-2642-fe0f",v:["26f9-1f3fb-200d-2642-fe0f","26f9-1f3fc-200d-2642-fe0f","26f9-1f3fd-200d-2642-fe0f","26f9-1f3fe-200d-2642-fe0f","26f9-1f3ff-200d-2642-fe0f"]},{n:["woman-bouncing-ball"],u:"26f9-fe0f-200d-2640-fe0f",v:["26f9-1f3fb-200d-2640-fe0f","26f9-1f3fc-200d-2640-fe0f","26f9-1f3fd-200d-2640-fe0f","26f9-1f3fe-200d-2640-fe0f","26f9-1f3ff-200d-2640-fe0f"]},{n:["weight_lifter"],u:"1f3cb-fe0f",v:["1f3cb-1f3fb","1f3cb-1f3fc","1f3cb-1f3fd","1f3cb-1f3fe","1f3cb-1f3ff"]},{n:["man-lifting-weights"],u:"1f3cb-fe0f-200d-2642-fe0f",v:["1f3cb-1f3fb-200d-2642-fe0f","1f3cb-1f3fc-200d-2642-fe0f","1f3cb-1f3fd-200d-2642-fe0f","1f3cb-1f3fe-200d-2642-fe0f","1f3cb-1f3ff-200d-2642-fe0f"]},{n:["woman-lifting-weights"],u:"1f3cb-fe0f-200d-2640-fe0f",v:["1f3cb-1f3fb-200d-2640-fe0f","1f3cb-1f3fc-200d-2640-fe0f","1f3cb-1f3fd-200d-2640-fe0f","1f3cb-1f3fe-200d-2640-fe0f","1f3cb-1f3ff-200d-2640-fe0f"]},{n:["bicyclist"],u:"1f6b4",v:["1f6b4-1f3fb","1f6b4-1f3fc","1f6b4-1f3fd","1f6b4-1f3fe","1f6b4-1f3ff"]},{n:["man-biking"],u:"1f6b4-200d-2642-fe0f",v:["1f6b4-1f3fb-200d-2642-fe0f","1f6b4-1f3fc-200d-2642-fe0f","1f6b4-1f3fd-200d-2642-fe0f","1f6b4-1f3fe-200d-2642-fe0f","1f6b4-1f3ff-200d-2642-fe0f"]},{n:["woman-biking"],u:"1f6b4-200d-2640-fe0f",v:["1f6b4-1f3fb-200d-2640-fe0f","1f6b4-1f3fc-200d-2640-fe0f","1f6b4-1f3fd-200d-2640-fe0f","1f6b4-1f3fe-200d-2640-fe0f","1f6b4-1f3ff-200d-2640-fe0f"]},{n:["mountain bicyclist","mountain_bicyclist"],u:"1f6b5",v:["1f6b5-1f3fb","1f6b5-1f3fc","1f6b5-1f3fd","1f6b5-1f3fe","1f6b5-1f3ff"]},{n:["man-mountain-biking"],u:"1f6b5-200d-2642-fe0f",v:["1f6b5-1f3fb-200d-2642-fe0f","1f6b5-1f3fc-200d-2642-fe0f","1f6b5-1f3fd-200d-2642-fe0f","1f6b5-1f3fe-200d-2642-fe0f","1f6b5-1f3ff-200d-2642-fe0f"]},{n:["woman-mountain-biking"],u:"1f6b5-200d-2640-fe0f",v:["1f6b5-1f3fb-200d-2640-fe0f","1f6b5-1f3fc-200d-2640-fe0f","1f6b5-1f3fd-200d-2640-fe0f","1f6b5-1f3fe-200d-2640-fe0f","1f6b5-1f3ff-200d-2640-fe0f"]},{n:["racing_car"],u:"1f3ce-fe0f"},{n:["racing_motorcycle"],u:"1f3cd-fe0f"},{n:["person doing cartwheel","person_doing_cartwheel"],u:"1f938",v:["1f938-1f3fb","1f938-1f3fc","1f938-1f3fd","1f938-1f3fe","1f938-1f3ff"]},{n:["man-cartwheeling"],u:"1f938-200d-2642-fe0f",v:["1f938-1f3fb-200d-2642-fe0f","1f938-1f3fc-200d-2642-fe0f","1f938-1f3fd-200d-2642-fe0f","1f938-1f3fe-200d-2642-fe0f","1f938-1f3ff-200d-2642-fe0f"]},{n:["woman-cartwheeling"],u:"1f938-200d-2640-fe0f",v:["1f938-1f3fb-200d-2640-fe0f","1f938-1f3fc-200d-2640-fe0f","1f938-1f3fd-200d-2640-fe0f","1f938-1f3fe-200d-2640-fe0f","1f938-1f3ff-200d-2640-fe0f"]},{n:["wrestlers"],u:"1f93c"},{n:["man-wrestling"],u:"1f93c-200d-2642-fe0f"},{n:["woman-wrestling"],u:"1f93c-200d-2640-fe0f"},{n:["water polo","water_polo"],u:"1f93d",v:["1f93d-1f3fb","1f93d-1f3fc","1f93d-1f3fd","1f93d-1f3fe","1f93d-1f3ff"]},{n:["man-playing-water-polo"],u:"1f93d-200d-2642-fe0f",v:["1f93d-1f3fb-200d-2642-fe0f","1f93d-1f3fc-200d-2642-fe0f","1f93d-1f3fd-200d-2642-fe0f","1f93d-1f3fe-200d-2642-fe0f","1f93d-1f3ff-200d-2642-fe0f"]},{n:["woman-playing-water-polo"],u:"1f93d-200d-2640-fe0f",v:["1f93d-1f3fb-200d-2640-fe0f","1f93d-1f3fc-200d-2640-fe0f","1f93d-1f3fd-200d-2640-fe0f","1f93d-1f3fe-200d-2640-fe0f","1f93d-1f3ff-200d-2640-fe0f"]},{n:["handball"],u:"1f93e",v:["1f93e-1f3fb","1f93e-1f3fc","1f93e-1f3fd","1f93e-1f3fe","1f93e-1f3ff"]},{n:["man-playing-handball"],u:"1f93e-200d-2642-fe0f",v:["1f93e-1f3fb-200d-2642-fe0f","1f93e-1f3fc-200d-2642-fe0f","1f93e-1f3fd-200d-2642-fe0f","1f93e-1f3fe-200d-2642-fe0f","1f93e-1f3ff-200d-2642-fe0f"]},{n:["woman-playing-handball"],u:"1f93e-200d-2640-fe0f",v:["1f93e-1f3fb-200d-2640-fe0f","1f93e-1f3fc-200d-2640-fe0f","1f93e-1f3fd-200d-2640-fe0f","1f93e-1f3fe-200d-2640-fe0f","1f93e-1f3ff-200d-2640-fe0f"]},{n:["juggling"],u:"1f939",v:["1f939-1f3fb","1f939-1f3fc","1f939-1f3fd","1f939-1f3fe","1f939-1f3ff"]},{n:["man-juggling"],u:"1f939-200d-2642-fe0f",v:["1f939-1f3fb-200d-2642-fe0f","1f939-1f3fc-200d-2642-fe0f","1f939-1f3fd-200d-2642-fe0f","1f939-1f3fe-200d-2642-fe0f","1f939-1f3ff-200d-2642-fe0f"]},{n:["woman-juggling"],u:"1f939-200d-2640-fe0f",v:["1f939-1f3fb-200d-2640-fe0f","1f939-1f3fc-200d-2640-fe0f","1f939-1f3fd-200d-2640-fe0f","1f939-1f3fe-200d-2640-fe0f","1f939-1f3ff-200d-2640-fe0f"]},{n:["man and woman holding hands","couple","man_and_woman_holding_hands"],u:"1f46b"},{n:["two men holding hands","two_men_holding_hands"],u:"1f46c"},{n:["two women holding hands","two_women_holding_hands"],u:"1f46d"},{n:["kiss","couplekiss"],u:"1f48f"},{n:["woman-kiss-man"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468"},{n:["man-kiss-man"],u:"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468"},{n:["woman-kiss-woman"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469"},{n:["couple with heart","couple_with_heart"],u:"1f491"},{n:["woman-heart-man"],u:"1f469-200d-2764-fe0f-200d-1f468"},{n:["man-heart-man"],u:"1f468-200d-2764-fe0f-200d-1f468"},{n:["woman-heart-woman"],u:"1f469-200d-2764-fe0f-200d-1f469"},{n:["family","man-woman-boy"],u:"1f46a"},{n:["man-woman-boy","family"],u:"1f468-200d-1f469-200d-1f466"},{n:["man-woman-girl"],u:"1f468-200d-1f469-200d-1f467"},{n:["man-woman-girl-boy"],u:"1f468-200d-1f469-200d-1f467-200d-1f466"},{n:["man-woman-boy-boy"],u:"1f468-200d-1f469-200d-1f466-200d-1f466"},{n:["man-woman-girl-girl"],u:"1f468-200d-1f469-200d-1f467-200d-1f467"},{n:["man-man-boy"],u:"1f468-200d-1f468-200d-1f466"},{n:["man-man-girl"],u:"1f468-200d-1f468-200d-1f467"},{n:["man-man-girl-boy"],u:"1f468-200d-1f468-200d-1f467-200d-1f466"},{n:["man-man-boy-boy"],u:"1f468-200d-1f468-200d-1f466-200d-1f466"},{n:["man-man-girl-girl"],u:"1f468-200d-1f468-200d-1f467-200d-1f467"},{n:["woman-woman-boy"],u:"1f469-200d-1f469-200d-1f466"},{n:["woman-woman-girl"],u:"1f469-200d-1f469-200d-1f467"},{n:["woman-woman-girl-boy"],u:"1f469-200d-1f469-200d-1f467-200d-1f466"},{n:["woman-woman-boy-boy"],u:"1f469-200d-1f469-200d-1f466-200d-1f466"},{n:["woman-woman-girl-girl"],u:"1f469-200d-1f469-200d-1f467-200d-1f467"},{n:["man-boy"],u:"1f468-200d-1f466"},{n:["man-boy-boy"],u:"1f468-200d-1f466-200d-1f466"},{n:["man-girl"],u:"1f468-200d-1f467"},{n:["man-girl-boy"],u:"1f468-200d-1f467-200d-1f466"},{n:["man-girl-girl"],u:"1f468-200d-1f467-200d-1f467"},{n:["woman-boy"],u:"1f469-200d-1f466"},{n:["woman-boy-boy"],u:"1f469-200d-1f466-200d-1f466"},{n:["woman-girl"],u:"1f469-200d-1f467"},{n:["woman-girl-boy"],u:"1f469-200d-1f467-200d-1f466"},{n:["woman-girl-girl"],u:"1f469-200d-1f467-200d-1f467"},{n:["selfie"],u:"1f933",v:["1f933-1f3fb","1f933-1f3fc","1f933-1f3fd","1f933-1f3fe","1f933-1f3ff"]},{n:["flexed biceps","muscle"],u:"1f4aa",v:["1f4aa-1f3fb","1f4aa-1f3fc","1f4aa-1f3fd","1f4aa-1f3fe","1f4aa-1f3ff"]},{n:["white left pointing backhand index","point_left"],u:"1f448",v:["1f448-1f3fb","1f448-1f3fc","1f448-1f3fd","1f448-1f3fe","1f448-1f3ff"]},{n:["white right pointing backhand index","point_right"],u:"1f449",v:["1f449-1f3fb","1f449-1f3fc","1f449-1f3fd","1f449-1f3fe","1f449-1f3ff"]},{n:["white up pointing index","point_up"],u:"261d-fe0f",v:["261d-1f3fb","261d-1f3fc","261d-1f3fd","261d-1f3fe","261d-1f3ff"]},{n:["white up pointing backhand index","point_up_2"],u:"1f446",v:["1f446-1f3fb","1f446-1f3fc","1f446-1f3fd","1f446-1f3fe","1f446-1f3ff"]},{n:["reversed hand with middle finger extended","middle_finger","reversed_hand_with_middle_finger_extended"],u:"1f595",v:["1f595-1f3fb","1f595-1f3fc","1f595-1f3fd","1f595-1f3fe","1f595-1f3ff"]},{n:["white down pointing backhand index","point_down"],u:"1f447",v:["1f447-1f3fb","1f447-1f3fc","1f447-1f3fd","1f447-1f3fe","1f447-1f3ff"]},{n:["victory hand","v"],u:"270c-fe0f",v:["270c-1f3fb","270c-1f3fc","270c-1f3fd","270c-1f3fe","270c-1f3ff"]},{n:["hand with index and middle fingers crossed","crossed_fingers","hand_with_index_and_middle_fingers_crossed"],u:"1f91e",v:["1f91e-1f3fb","1f91e-1f3fc","1f91e-1f3fd","1f91e-1f3fe","1f91e-1f3ff"]},{n:["raised hand with part between middle and ring fingers","spock-hand"],u:"1f596",v:["1f596-1f3fb","1f596-1f3fc","1f596-1f3fd","1f596-1f3fe","1f596-1f3ff"]},{n:["sign of the horns","the_horns","sign_of_the_horns"],u:"1f918",v:["1f918-1f3fb","1f918-1f3fc","1f918-1f3fd","1f918-1f3fe","1f918-1f3ff"]},{n:["call me hand","call_me_hand"],u:"1f919",v:["1f919-1f3fb","1f919-1f3fc","1f919-1f3fd","1f919-1f3fe","1f919-1f3ff"]},{n:["raised_hand_with_fingers_splayed"],u:"1f590-fe0f",v:["1f590-1f3fb","1f590-1f3fc","1f590-1f3fd","1f590-1f3fe","1f590-1f3ff"]},{n:["raised hand","hand","raised_hand"],u:"270b",v:["270b-1f3fb","270b-1f3fc","270b-1f3fd","270b-1f3fe","270b-1f3ff"]},{n:["ok hand sign","ok_hand"],u:"1f44c",v:["1f44c-1f3fb","1f44c-1f3fc","1f44c-1f3fd","1f44c-1f3fe","1f44c-1f3ff"]},{n:["thumbs up sign","+1","thumbsup"],u:"1f44d",v:["1f44d-1f3fb","1f44d-1f3fc","1f44d-1f3fd","1f44d-1f3fe","1f44d-1f3ff"]},{n:["thumbs down sign","-1","thumbsdown"],u:"1f44e",v:["1f44e-1f3fb","1f44e-1f3fc","1f44e-1f3fd","1f44e-1f3fe","1f44e-1f3ff"]},{n:["raised fist","fist"],u:"270a",v:["270a-1f3fb","270a-1f3fc","270a-1f3fd","270a-1f3fe","270a-1f3ff"]},{n:["fisted hand sign","facepunch","punch"],u:"1f44a",v:["1f44a-1f3fb","1f44a-1f3fc","1f44a-1f3fd","1f44a-1f3fe","1f44a-1f3ff"]},{n:["left-facing fist","left-facing_fist"],u:"1f91b",v:["1f91b-1f3fb","1f91b-1f3fc","1f91b-1f3fd","1f91b-1f3fe","1f91b-1f3ff"]},{n:["right-facing fist","right-facing_fist"],u:"1f91c",v:["1f91c-1f3fb","1f91c-1f3fc","1f91c-1f3fd","1f91c-1f3fe","1f91c-1f3ff"]},{n:["raised back of hand","raised_back_of_hand"],u:"1f91a",v:["1f91a-1f3fb","1f91a-1f3fc","1f91a-1f3fd","1f91a-1f3fe","1f91a-1f3ff"]},{n:["waving hand sign","wave"],u:"1f44b",v:["1f44b-1f3fb","1f44b-1f3fc","1f44b-1f3fd","1f44b-1f3fe","1f44b-1f3ff"]},{n:["i love you hand sign","i_love_you_hand_sign"],u:"1f91f",v:["1f91f-1f3fb","1f91f-1f3fc","1f91f-1f3fd","1f91f-1f3fe","1f91f-1f3ff"]},{n:["writing_hand"],u:"270d-fe0f",v:["270d-1f3fb","270d-1f3fc","270d-1f3fd","270d-1f3fe","270d-1f3ff"]},{n:["clapping hands sign","clap"],u:"1f44f",v:["1f44f-1f3fb","1f44f-1f3fc","1f44f-1f3fd","1f44f-1f3fe","1f44f-1f3ff"]},{n:["open hands sign","open_hands"],u:"1f450",v:["1f450-1f3fb","1f450-1f3fc","1f450-1f3fd","1f450-1f3fe","1f450-1f3ff"]},{n:["person raising both hands in celebration","raised_hands"],u:"1f64c",v:["1f64c-1f3fb","1f64c-1f3fc","1f64c-1f3fd","1f64c-1f3fe","1f64c-1f3ff"]},{n:["palms up together","palms_up_together"],u:"1f932",v:["1f932-1f3fb","1f932-1f3fc","1f932-1f3fd","1f932-1f3fe","1f932-1f3ff"]},{n:["person with folded hands","pray"],u:"1f64f",v:["1f64f-1f3fb","1f64f-1f3fc","1f64f-1f3fd","1f64f-1f3fe","1f64f-1f3ff"]},{n:["handshake"],u:"1f91d"},{n:["nail polish","nail_care"],u:"1f485",v:["1f485-1f3fb","1f485-1f3fc","1f485-1f3fd","1f485-1f3fe","1f485-1f3ff"]},{n:["ear"],u:"1f442",v:["1f442-1f3fb","1f442-1f3fc","1f442-1f3fd","1f442-1f3fe","1f442-1f3ff"]},{n:["nose"],u:"1f443",v:["1f443-1f3fb","1f443-1f3fc","1f443-1f3fd","1f443-1f3fe","1f443-1f3ff"]},{n:["footprints"],u:"1f463"},{n:["eyes"],u:"1f440"},{n:["eye"],u:"1f441-fe0f"},{n:["eye-in-speech-bubble"],u:"1f441-fe0f-200d-1f5e8-fe0f"},{n:["brain"],u:"1f9e0"},{n:["tongue"],u:"1f445"},{n:["mouth","lips"],u:"1f444"},{n:["kiss mark","kiss"],u:"1f48b"},{n:["heart with arrow","cupid"],u:"1f498"},{n:["heavy black heart","heart"],u:"2764-fe0f"},{n:["beating heart","heartbeat"],u:"1f493"},{n:["broken heart","broken_heart"],u:"1f494"},{n:["two hearts","two_hearts"],u:"1f495"},{n:["sparkling heart","sparkling_heart"],u:"1f496"},{n:["growing heart","heartpulse"],u:"1f497"},{n:["blue heart","blue_heart"],u:"1f499"},{n:["green heart","green_heart"],u:"1f49a"},{n:["yellow heart","yellow_heart"],u:"1f49b"},{n:["orange heart","orange_heart"],u:"1f9e1"},{n:["purple heart","purple_heart"],u:"1f49c"},{n:["black heart","black_heart"],u:"1f5a4"},{n:["heart with ribbon","gift_heart"],u:"1f49d"},{n:["revolving hearts","revolving_hearts"],u:"1f49e"},{n:["heart decoration","heart_decoration"],u:"1f49f"},{n:["heavy_heart_exclamation_mark_ornament"],u:"2763-fe0f"},{n:["love letter","love_letter"],u:"1f48c"},{n:["sleeping symbol","zzz"],u:"1f4a4"},{n:["anger symbol","anger"],u:"1f4a2"},{n:["bomb"],u:"1f4a3"},{n:["collision symbol","boom","collision"],u:"1f4a5"},{n:["splashing sweat symbol","sweat_drops"],u:"1f4a6"},{n:["dash symbol","dash"],u:"1f4a8"},{n:["dizzy symbol","dizzy"],u:"1f4ab"},{n:["speech balloon","speech_balloon"],u:"1f4ac"},{n:["left_speech_bubble"],u:"1f5e8-fe0f"},{n:["right_anger_bubble"],u:"1f5ef-fe0f"},{n:["thought balloon","thought_balloon"],u:"1f4ad"},{n:["hole"],u:"1f573-fe0f"},{n:["eyeglasses"],u:"1f453"},{n:["dark_sunglasses"],u:"1f576-fe0f"},{n:["necktie"],u:"1f454"},{n:["t-shirt","shirt","tshirt"],u:"1f455"},{n:["jeans"],u:"1f456"},{n:["scarf"],u:"1f9e3"},{n:["gloves"],u:"1f9e4"},{n:["coat"],u:"1f9e5"},{n:["socks"],u:"1f9e6"},{n:["dress"],u:"1f457"},{n:["kimono"],u:"1f458"},{n:["bikini"],u:"1f459"},{n:["womans clothes","womans_clothes"],u:"1f45a"},{n:["purse"],u:"1f45b"},{n:["handbag"],u:"1f45c"},{n:["pouch"],u:"1f45d"},{n:["shopping_bags"],u:"1f6cd-fe0f"},{n:["school satchel","school_satchel"],u:"1f392"},{n:["mans shoe","mans_shoe","shoe"],u:"1f45e"},{n:["athletic shoe","athletic_shoe"],u:"1f45f"},{n:["high-heeled shoe","high_heel"],u:"1f460"},{n:["womans sandal","sandal"],u:"1f461"},{n:["womans boots","boot"],u:"1f462"},{n:["crown"],u:"1f451"},{n:["womans hat","womans_hat"],u:"1f452"},{n:["top hat","tophat"],u:"1f3a9"},{n:["graduation cap","mortar_board"],u:"1f393"},{n:["billed cap","billed_cap"],u:"1f9e2"},{n:["helmet_with_white_cross"],u:"26d1-fe0f"},{n:["prayer beads","prayer_beads"],u:"1f4ff"},{n:["lipstick"],u:"1f484"},{n:["ring"],u:"1f48d"},{n:["gem stone","gem"],u:"1f48e"}],animals_nature$1=[{n:["monkey face","monkey_face"],u:"1f435"},{n:["monkey"],u:"1f412"},{n:["gorilla"],u:"1f98d"},{n:["dog face","dog"],u:"1f436"},{n:["dog","dog2"],u:"1f415"},{n:["poodle"],u:"1f429"},{n:["wolf face","wolf"],u:"1f43a"},{n:["fox face","fox_face"],u:"1f98a"},{n:["cat face","cat"],u:"1f431"},{n:["cat","cat2"],u:"1f408"},{n:["lion face","lion_face"],u:"1f981"},{n:["tiger face","tiger"],u:"1f42f"},{n:["tiger","tiger2"],u:"1f405"},{n:["leopard"],u:"1f406"},{n:["horse face","horse"],u:"1f434"},{n:["horse","racehorse"],u:"1f40e"},{n:["unicorn face","unicorn_face"],u:"1f984"},{n:["zebra face","zebra_face"],u:"1f993"},{n:["deer"],u:"1f98c"},{n:["cow face","cow"],u:"1f42e"},{n:["ox"],u:"1f402"},{n:["water buffalo","water_buffalo"],u:"1f403"},{n:["cow","cow2"],u:"1f404"},{n:["pig face","pig"],u:"1f437"},{n:["pig","pig2"],u:"1f416"},{n:["boar"],u:"1f417"},{n:["pig nose","pig_nose"],u:"1f43d"},{n:["ram"],u:"1f40f"},{n:["sheep"],u:"1f411"},{n:["goat"],u:"1f410"},{n:["dromedary camel","dromedary_camel"],u:"1f42a"},{n:["bactrian camel","camel"],u:"1f42b"},{n:["giraffe face","giraffe_face"],u:"1f992"},{n:["elephant"],u:"1f418"},{n:["rhinoceros"],u:"1f98f"},{n:["mouse face","mouse"],u:"1f42d"},{n:["mouse","mouse2"],u:"1f401"},{n:["rat"],u:"1f400"},{n:["hamster face","hamster"],u:"1f439"},{n:["rabbit face","rabbit"],u:"1f430"},{n:["rabbit","rabbit2"],u:"1f407"},{n:["chipmunk"],u:"1f43f-fe0f"},{n:["hedgehog"],u:"1f994"},{n:["bat"],u:"1f987"},{n:["bear face","bear"],u:"1f43b"},{n:["koala"],u:"1f428"},{n:["panda face","panda_face"],u:"1f43c"},{n:["paw prints","feet","paw_prints"],u:"1f43e"},{n:["turkey"],u:"1f983"},{n:["chicken"],u:"1f414"},{n:["rooster"],u:"1f413"},{n:["hatching chick","hatching_chick"],u:"1f423"},{n:["baby chick","baby_chick"],u:"1f424"},{n:["front-facing baby chick","hatched_chick"],u:"1f425"},{n:["bird"],u:"1f426"},{n:["penguin"],u:"1f427"},{n:["dove_of_peace"],u:"1f54a-fe0f"},{n:["eagle"],u:"1f985"},{n:["duck"],u:"1f986"},{n:["owl"],u:"1f989"},{n:["frog face","frog"],u:"1f438"},{n:["crocodile"],u:"1f40a"},{n:["turtle"],u:"1f422"},{n:["lizard"],u:"1f98e"},{n:["snake"],u:"1f40d"},{n:["dragon face","dragon_face"],u:"1f432"},{n:["dragon"],u:"1f409"},{n:["sauropod"],u:"1f995"},{n:["t-rex"],u:"1f996"},{n:["spouting whale","whale"],u:"1f433"},{n:["whale","whale2"],u:"1f40b"},{n:["dolphin","flipper"],u:"1f42c"},{n:["fish"],u:"1f41f"},{n:["tropical fish","tropical_fish"],u:"1f420"},{n:["blowfish"],u:"1f421"},{n:["shark"],u:"1f988"},{n:["octopus"],u:"1f419"},{n:["spiral shell","shell"],u:"1f41a"},{n:["crab"],u:"1f980"},{n:["shrimp"],u:"1f990"},{n:["squid"],u:"1f991"},{n:["snail"],u:"1f40c"},{n:["butterfly"],u:"1f98b"},{n:["bug"],u:"1f41b"},{n:["ant"],u:"1f41c"},{n:["honeybee","bee"],u:"1f41d"},{n:["lady beetle","beetle"],u:"1f41e"},{n:["cricket"],u:"1f997"},{n:["spider"],u:"1f577-fe0f"},{n:["spider_web"],u:"1f578-fe0f"},{n:["scorpion"],u:"1f982"},{n:["bouquet"],u:"1f490"},{n:["cherry blossom","cherry_blossom"],u:"1f338"},{n:["white flower","white_flower"],u:"1f4ae"},{n:["rosette"],u:"1f3f5-fe0f"},{n:["rose"],u:"1f339"},{n:["wilted flower","wilted_flower"],u:"1f940"},{n:["hibiscus"],u:"1f33a"},{n:["sunflower"],u:"1f33b"},{n:["blossom"],u:"1f33c"},{n:["tulip"],u:"1f337"},{n:["seedling"],u:"1f331"},{n:["evergreen tree","evergreen_tree"],u:"1f332"},{n:["deciduous tree","deciduous_tree"],u:"1f333"},{n:["palm tree","palm_tree"],u:"1f334"},{n:["cactus"],u:"1f335"},{n:["ear of rice","ear_of_rice"],u:"1f33e"},{n:["herb"],u:"1f33f"},{n:["shamrock"],u:"2618-fe0f"},{n:["four leaf clover","four_leaf_clover"],u:"1f340"},{n:["maple leaf","maple_leaf"],u:"1f341"},{n:["fallen leaf","fallen_leaf"],u:"1f342"},{n:["leaf fluttering in wind","leaves"],u:"1f343"}],food_drink$1=[{n:["grapes"],u:"1f347"},{n:["melon"],u:"1f348"},{n:["watermelon"],u:"1f349"},{n:["tangerine"],u:"1f34a"},{n:["lemon"],u:"1f34b"},{n:["banana"],u:"1f34c"},{n:["pineapple"],u:"1f34d"},{n:["red apple","apple"],u:"1f34e"},{n:["green apple","green_apple"],u:"1f34f"},{n:["pear"],u:"1f350"},{n:["peach"],u:"1f351"},{n:["cherries"],u:"1f352"},{n:["strawberry"],u:"1f353"},{n:["kiwifruit"],u:"1f95d"},{n:["tomato"],u:"1f345"},{n:["coconut"],u:"1f965"},{n:["avocado"],u:"1f951"},{n:["aubergine","eggplant"],u:"1f346"},{n:["potato"],u:"1f954"},{n:["carrot"],u:"1f955"},{n:["ear of maize","corn"],u:"1f33d"},{n:["hot_pepper"],u:"1f336-fe0f"},{n:["cucumber"],u:"1f952"},{n:["broccoli"],u:"1f966"},{n:["mushroom"],u:"1f344"},{n:["peanuts"],u:"1f95c"},{n:["chestnut"],u:"1f330"},{n:["bread"],u:"1f35e"},{n:["croissant"],u:"1f950"},{n:["baguette bread","baguette_bread"],u:"1f956"},{n:["pretzel"],u:"1f968"},{n:["pancakes"],u:"1f95e"},{n:["cheese wedge","cheese_wedge"],u:"1f9c0"},{n:["meat on bone","meat_on_bone"],u:"1f356"},{n:["poultry leg","poultry_leg"],u:"1f357"},{n:["cut of meat","cut_of_meat"],u:"1f969"},{n:["bacon"],u:"1f953"},{n:["hamburger"],u:"1f354"},{n:["french fries","fries"],u:"1f35f"},{n:["slice of pizza","pizza"],u:"1f355"},{n:["hot dog","hotdog"],u:"1f32d"},{n:["sandwich"],u:"1f96a"},{n:["taco"],u:"1f32e"},{n:["burrito"],u:"1f32f"},{n:["stuffed flatbread","stuffed_flatbread"],u:"1f959"},{n:["egg"],u:"1f95a"},{n:["cooking","fried_egg"],u:"1f373"},{n:["shallow pan of food","shallow_pan_of_food"],u:"1f958"},{n:["pot of food","stew"],u:"1f372"},{n:["bowl with spoon","bowl_with_spoon"],u:"1f963"},{n:["green salad","green_salad"],u:"1f957"},{n:["popcorn"],u:"1f37f"},{n:["canned food","canned_food"],u:"1f96b"},{n:["bento box","bento"],u:"1f371"},{n:["rice cracker","rice_cracker"],u:"1f358"},{n:["rice ball","rice_ball"],u:"1f359"},{n:["cooked rice","rice"],u:"1f35a"},{n:["curry and rice","curry"],u:"1f35b"},{n:["steaming bowl","ramen"],u:"1f35c"},{n:["spaghetti"],u:"1f35d"},{n:["roasted sweet potato","sweet_potato"],u:"1f360"},{n:["oden"],u:"1f362"},{n:["sushi"],u:"1f363"},{n:["fried shrimp","fried_shrimp"],u:"1f364"},{n:["fish cake with swirl design","fish_cake"],u:"1f365"},{n:["dango"],u:"1f361"},{n:["dumpling"],u:"1f95f"},{n:["fortune cookie","fortune_cookie"],u:"1f960"},{n:["takeout box","takeout_box"],u:"1f961"},{n:["soft ice cream","icecream"],u:"1f366"},{n:["shaved ice","shaved_ice"],u:"1f367"},{n:["ice cream","ice_cream"],u:"1f368"},{n:["doughnut"],u:"1f369"},{n:["cookie"],u:"1f36a"},{n:["birthday cake","birthday"],u:"1f382"},{n:["shortcake","cake"],u:"1f370"},{n:["pie"],u:"1f967"},{n:["chocolate bar","chocolate_bar"],u:"1f36b"},{n:["candy"],u:"1f36c"},{n:["lollipop"],u:"1f36d"},{n:["custard"],u:"1f36e"},{n:["honey pot","honey_pot"],u:"1f36f"},{n:["baby bottle","baby_bottle"],u:"1f37c"},{n:["glass of milk","glass_of_milk"],u:"1f95b"},{n:["hot beverage","coffee"],u:"2615"},{n:["teacup without handle","tea"],u:"1f375"},{n:["sake bottle and cup","sake"],u:"1f376"},{n:["bottle with popping cork","champagne"],u:"1f37e"},{n:["wine glass","wine_glass"],u:"1f377"},{n:["cocktail glass","cocktail"],u:"1f378"},{n:["tropical drink","tropical_drink"],u:"1f379"},{n:["beer mug","beer"],u:"1f37a"},{n:["clinking beer mugs","beers"],u:"1f37b"},{n:["clinking glasses","clinking_glasses"],u:"1f942"},{n:["tumbler glass","tumbler_glass"],u:"1f943"},{n:["cup with straw","cup_with_straw"],u:"1f964"},{n:["chopsticks"],u:"1f962"},{n:["knife_fork_plate"],u:"1f37d-fe0f"},{n:["fork and knife","fork_and_knife"],u:"1f374"},{n:["spoon"],u:"1f944"},{n:["hocho","knife"],u:"1f52a"},{n:["amphora"],u:"1f3fa"}],activities$1=[{n:["jack-o-lantern","jack_o_lantern"],u:"1f383"},{n:["christmas tree","christmas_tree"],u:"1f384"},{n:["fireworks"],u:"1f386"},{n:["firework sparkler","sparkler"],u:"1f387"},{n:["sparkles"],u:"2728"},{n:["balloon"],u:"1f388"},{n:["party popper","tada"],u:"1f389"},{n:["confetti ball","confetti_ball"],u:"1f38a"},{n:["tanabata tree","tanabata_tree"],u:"1f38b"},{n:["pine decoration","bamboo"],u:"1f38d"},{n:["japanese dolls","dolls"],u:"1f38e"},{n:["carp streamer","flags"],u:"1f38f"},{n:["wind chime","wind_chime"],u:"1f390"},{n:["moon viewing ceremony","rice_scene"],u:"1f391"},{n:["ribbon"],u:"1f380"},{n:["wrapped present","gift"],u:"1f381"},{n:["reminder_ribbon"],u:"1f397-fe0f"},{n:["admission_tickets"],u:"1f39f-fe0f"},{n:["ticket"],u:"1f3ab"},{n:["medal"],u:"1f396-fe0f"},{n:["trophy"],u:"1f3c6"},{n:["sports medal","sports_medal"],u:"1f3c5"},{n:["first place medal","first_place_medal"],u:"1f947"},{n:["second place medal","second_place_medal"],u:"1f948"},{n:["third place medal","third_place_medal"],u:"1f949"},{n:["soccer ball","soccer"],u:"26bd"},{n:["baseball"],u:"26be"},{n:["basketball and hoop","basketball"],u:"1f3c0"},{n:["volleyball"],u:"1f3d0"},{n:["american football","football"],u:"1f3c8"},{n:["rugby football","rugby_football"],u:"1f3c9"},{n:["tennis racquet and ball","tennis"],u:"1f3be"},{n:["billiards","8ball"],u:"1f3b1"},{n:["bowling"],u:"1f3b3"},{n:["cricket bat and ball","cricket_bat_and_ball"],u:"1f3cf"},{n:["field hockey stick and ball","field_hockey_stick_and_ball"],u:"1f3d1"},{n:["ice hockey stick and puck","ice_hockey_stick_and_puck"],u:"1f3d2"},{n:["table tennis paddle and ball","table_tennis_paddle_and_ball"],u:"1f3d3"},{n:["badminton racquet and shuttlecock","badminton_racquet_and_shuttlecock"],u:"1f3f8"},{n:["boxing glove","boxing_glove"],u:"1f94a"},{n:["martial arts uniform","martial_arts_uniform"],u:"1f94b"},{n:["goal net","goal_net"],u:"1f945"},{n:["direct hit","dart"],u:"1f3af"},{n:["flag in hole","golf"],u:"26f3"},{n:["ice_skate"],u:"26f8-fe0f"},{n:["fishing pole and fish","fishing_pole_and_fish"],u:"1f3a3"},{n:["running shirt with sash","running_shirt_with_sash"],u:"1f3bd"},{n:["ski and ski boot","ski"],u:"1f3bf"},{n:["sled"],u:"1f6f7"},{n:["curling stone","curling_stone"],u:"1f94c"},{n:["video game","video_game"],u:"1f3ae"},{n:["joystick"],u:"1f579-fe0f"},{n:["game die","game_die"],u:"1f3b2"},{n:["black spade suit","spades"],u:"2660-fe0f"},{n:["black heart suit","hearts"],u:"2665-fe0f"},{n:["black diamond suit","diamonds"],u:"2666-fe0f"},{n:["black club suit","clubs"],u:"2663-fe0f"},{n:["playing card black joker","black_joker"],u:"1f0cf"},{n:["mahjong tile red dragon","mahjong"],u:"1f004"},{n:["flower playing cards","flower_playing_cards"],u:"1f3b4"}],travel_places$1=[{n:["earth globe europe-africa","earth_africa"],u:"1f30d"},{n:["earth globe americas","earth_americas"],u:"1f30e"},{n:["earth globe asia-australia","earth_asia"],u:"1f30f"},{n:["globe with meridians","globe_with_meridians"],u:"1f310"},{n:["world_map"],u:"1f5fa-fe0f"},{n:["silhouette of japan","japan"],u:"1f5fe"},{n:["snow_capped_mountain"],u:"1f3d4-fe0f"},{n:["mountain"],u:"26f0-fe0f"},{n:["volcano"],u:"1f30b"},{n:["mount fuji","mount_fuji"],u:"1f5fb"},{n:["camping"],u:"1f3d5-fe0f"},{n:["beach_with_umbrella"],u:"1f3d6-fe0f"},{n:["desert"],u:"1f3dc-fe0f"},{n:["desert_island"],u:"1f3dd-fe0f"},{n:["national_park"],u:"1f3de-fe0f"},{n:["stadium"],u:"1f3df-fe0f"},{n:["classical_building"],u:"1f3db-fe0f"},{n:["building_construction"],u:"1f3d7-fe0f"},{n:["house_buildings"],u:"1f3d8-fe0f"},{n:["cityscape"],u:"1f3d9-fe0f"},{n:["derelict_house_building"],u:"1f3da-fe0f"},{n:["house building","house"],u:"1f3e0"},{n:["house with garden","house_with_garden"],u:"1f3e1"},{n:["office building","office"],u:"1f3e2"},{n:["japanese post office","post_office"],u:"1f3e3"},{n:["european post office","european_post_office"],u:"1f3e4"},{n:["hospital"],u:"1f3e5"},{n:["bank"],u:"1f3e6"},{n:["hotel"],u:"1f3e8"},{n:["love hotel","love_hotel"],u:"1f3e9"},{n:["convenience store","convenience_store"],u:"1f3ea"},{n:["school"],u:"1f3eb"},{n:["department store","department_store"],u:"1f3ec"},{n:["factory"],u:"1f3ed"},{n:["japanese castle","japanese_castle"],u:"1f3ef"},{n:["european castle","european_castle"],u:"1f3f0"},{n:["wedding"],u:"1f492"},{n:["tokyo tower","tokyo_tower"],u:"1f5fc"},{n:["statue of liberty","statue_of_liberty"],u:"1f5fd"},{n:["church"],u:"26ea"},{n:["mosque"],u:"1f54c"},{n:["synagogue"],u:"1f54d"},{n:["shinto_shrine"],u:"26e9-fe0f"},{n:["kaaba"],u:"1f54b"},{n:["fountain"],u:"26f2"},{n:["tent"],u:"26fa"},{n:["foggy"],u:"1f301"},{n:["night with stars","night_with_stars"],u:"1f303"},{n:["sunrise over mountains","sunrise_over_mountains"],u:"1f304"},{n:["sunrise"],u:"1f305"},{n:["cityscape at dusk","city_sunset"],u:"1f306"},{n:["sunset over buildings","city_sunrise"],u:"1f307"},{n:["bridge at night","bridge_at_night"],u:"1f309"},{n:["hot springs","hotsprings"],u:"2668-fe0f"},{n:["milky way","milky_way"],u:"1f30c"},{n:["carousel horse","carousel_horse"],u:"1f3a0"},{n:["ferris wheel","ferris_wheel"],u:"1f3a1"},{n:["roller coaster","roller_coaster"],u:"1f3a2"},{n:["barber pole","barber"],u:"1f488"},{n:["circus tent","circus_tent"],u:"1f3aa"},{n:["performing arts","performing_arts"],u:"1f3ad"},{n:["frame_with_picture"],u:"1f5bc-fe0f"},{n:["artist palette","art"],u:"1f3a8"},{n:["slot machine","slot_machine"],u:"1f3b0"},{n:["steam locomotive","steam_locomotive"],u:"1f682"},{n:["railway car","railway_car"],u:"1f683"},{n:["high-speed train","bullettrain_side"],u:"1f684"},{n:["high-speed train with bullet nose","bullettrain_front"],u:"1f685"},{n:["train","train2"],u:"1f686"},{n:["metro"],u:"1f687"},{n:["light rail","light_rail"],u:"1f688"},{n:["station"],u:"1f689"},{n:["tram"],u:"1f68a"},{n:["monorail"],u:"1f69d"},{n:["mountain railway","mountain_railway"],u:"1f69e"},{n:["tram car","train"],u:"1f68b"},{n:["bus"],u:"1f68c"},{n:["oncoming bus","oncoming_bus"],u:"1f68d"},{n:["trolleybus"],u:"1f68e"},{n:["minibus"],u:"1f690"},{n:["ambulance"],u:"1f691"},{n:["fire engine","fire_engine"],u:"1f692"},{n:["police car","police_car"],u:"1f693"},{n:["oncoming police car","oncoming_police_car"],u:"1f694"},{n:["taxi"],u:"1f695"},{n:["oncoming taxi","oncoming_taxi"],u:"1f696"},{n:["automobile","car","red_car"],u:"1f697"},{n:["oncoming automobile","oncoming_automobile"],u:"1f698"},{n:["recreational vehicle","blue_car"],u:"1f699"},{n:["delivery truck","truck"],u:"1f69a"},{n:["articulated lorry","articulated_lorry"],u:"1f69b"},{n:["tractor"],u:"1f69c"},{n:["bicycle","bike"],u:"1f6b2"},{n:["scooter"],u:"1f6f4"},{n:["motor scooter","motor_scooter"],u:"1f6f5"},{n:["bus stop","busstop"],u:"1f68f"},{n:["motorway"],u:"1f6e3-fe0f"},{n:["railway_track"],u:"1f6e4-fe0f"},{n:["fuel pump","fuelpump"],u:"26fd"},{n:["police cars revolving light","rotating_light"],u:"1f6a8"},{n:["horizontal traffic light","traffic_light"],u:"1f6a5"},{n:["vertical traffic light","vertical_traffic_light"],u:"1f6a6"},{n:["construction sign","construction"],u:"1f6a7"},{n:["octagonal sign","octagonal_sign"],u:"1f6d1"},{n:["anchor"],u:"2693"},{n:["sailboat","boat"],u:"26f5"},{n:["canoe"],u:"1f6f6"},{n:["speedboat"],u:"1f6a4"},{n:["passenger_ship"],u:"1f6f3-fe0f"},{n:["ferry"],u:"26f4-fe0f"},{n:["motor_boat"],u:"1f6e5-fe0f"},{n:["ship"],u:"1f6a2"},{n:["airplane"],u:"2708-fe0f"},{n:["small_airplane"],u:"1f6e9-fe0f"},{n:["airplane departure","airplane_departure"],u:"1f6eb"},{n:["airplane arriving","airplane_arriving"],u:"1f6ec"},{n:["seat"],u:"1f4ba"},{n:["helicopter"],u:"1f681"},{n:["suspension railway","suspension_railway"],u:"1f69f"},{n:["mountain cableway","mountain_cableway"],u:"1f6a0"},{n:["aerial tramway","aerial_tramway"],u:"1f6a1"},{n:["satellite"],u:"1f6f0-fe0f"},{n:["rocket"],u:"1f680"},{n:["flying saucer","flying_saucer"],u:"1f6f8"},{n:["bellhop_bell"],u:"1f6ce-fe0f"},{n:["door"],u:"1f6aa"},{n:["bed"],u:"1f6cf-fe0f"},{n:["couch_and_lamp"],u:"1f6cb-fe0f"},{n:["toilet"],u:"1f6bd"},{n:["shower"],u:"1f6bf"},{n:["bathtub"],u:"1f6c1"},{n:["hourglass"],u:"231b"},{n:["hourglass with flowing sand","hourglass_flowing_sand"],u:"23f3"},{n:["watch"],u:"231a"},{n:["alarm clock","alarm_clock"],u:"23f0"},{n:["stopwatch"],u:"23f1-fe0f"},{n:["timer_clock"],u:"23f2-fe0f"},{n:["mantelpiece_clock"],u:"1f570-fe0f"},{n:["clock face twelve oclock","clock12"],u:"1f55b"},{n:["clock face twelve-thirty","clock1230"],u:"1f567"},{n:["clock face one oclock","clock1"],u:"1f550"},{n:["clock face one-thirty","clock130"],u:"1f55c"},{n:["clock face two oclock","clock2"],u:"1f551"},{n:["clock face two-thirty","clock230"],u:"1f55d"},{n:["clock face three oclock","clock3"],u:"1f552"},{n:["clock face three-thirty","clock330"],u:"1f55e"},{n:["clock face four oclock","clock4"],u:"1f553"},{n:["clock face four-thirty","clock430"],u:"1f55f"},{n:["clock face five oclock","clock5"],u:"1f554"},{n:["clock face five-thirty","clock530"],u:"1f560"},{n:["clock face six oclock","clock6"],u:"1f555"},{n:["clock face six-thirty","clock630"],u:"1f561"},{n:["clock face seven oclock","clock7"],u:"1f556"},{n:["clock face seven-thirty","clock730"],u:"1f562"},{n:["clock face eight oclock","clock8"],u:"1f557"},{n:["clock face eight-thirty","clock830"],u:"1f563"},{n:["clock face nine oclock","clock9"],u:"1f558"},{n:["clock face nine-thirty","clock930"],u:"1f564"},{n:["clock face ten oclock","clock10"],u:"1f559"},{n:["clock face ten-thirty","clock1030"],u:"1f565"},{n:["clock face eleven oclock","clock11"],u:"1f55a"},{n:["clock face eleven-thirty","clock1130"],u:"1f566"},{n:["new moon symbol","new_moon"],u:"1f311"},{n:["waxing crescent moon symbol","waxing_crescent_moon"],u:"1f312"},{n:["first quarter moon symbol","first_quarter_moon"],u:"1f313"},{n:["waxing gibbous moon symbol","moon","waxing_gibbous_moon"],u:"1f314"},{n:["full moon symbol","full_moon"],u:"1f315"},{n:["waning gibbous moon symbol","waning_gibbous_moon"],u:"1f316"},{n:["last quarter moon symbol","last_quarter_moon"],u:"1f317"},{n:["waning crescent moon symbol","waning_crescent_moon"],u:"1f318"},{n:["crescent moon","crescent_moon"],u:"1f319"},{n:["new moon with face","new_moon_with_face"],u:"1f31a"},{n:["first quarter moon with face","first_quarter_moon_with_face"],u:"1f31b"},{n:["last quarter moon with face","last_quarter_moon_with_face"],u:"1f31c"},{n:["thermometer"],u:"1f321-fe0f"},{n:["black sun with rays","sunny"],u:"2600-fe0f"},{n:["full moon with face","full_moon_with_face"],u:"1f31d"},{n:["sun with face","sun_with_face"],u:"1f31e"},{n:["white medium star","star"],u:"2b50"},{n:["glowing star","star2"],u:"1f31f"},{n:["shooting star","stars"],u:"1f320"},{n:["cloud"],u:"2601-fe0f"},{n:["sun behind cloud","partly_sunny"],u:"26c5"},{n:["thunder_cloud_and_rain"],u:"26c8-fe0f"},{n:["mostly_sunny","sun_small_cloud"],u:"1f324-fe0f"},{n:["barely_sunny","sun_behind_cloud"],u:"1f325-fe0f"},{n:["partly_sunny_rain","sun_behind_rain_cloud"],u:"1f326-fe0f"},{n:["rain_cloud"],u:"1f327-fe0f"},{n:["snow_cloud"],u:"1f328-fe0f"},{n:["lightning","lightning_cloud"],u:"1f329-fe0f"},{n:["tornado","tornado_cloud"],u:"1f32a-fe0f"},{n:["fog"],u:"1f32b-fe0f"},{n:["wind_blowing_face"],u:"1f32c-fe0f"},{n:["cyclone"],u:"1f300"},{n:["rainbow"],u:"1f308"},{n:["closed umbrella","closed_umbrella"],u:"1f302"},{n:["umbrella"],u:"2602-fe0f"},{n:["umbrella with rain drops","umbrella_with_rain_drops"],u:"2614"},{n:["umbrella_on_ground"],u:"26f1-fe0f"},{n:["high voltage sign","zap"],u:"26a1"},{n:["snowflake"],u:"2744-fe0f"},{n:["snowman"],u:"2603-fe0f"},{n:["snowman without snow","snowman_without_snow"],u:"26c4"},{n:["comet"],u:"2604-fe0f"},{n:["fire"],u:"1f525"},{n:["droplet"],u:"1f4a7"},{n:["water wave","ocean"],u:"1f30a"}],objects$1=[{n:["speaker with cancellation stroke","mute"],u:"1f507"},{n:["speaker"],u:"1f508"},{n:["speaker with one sound wave","sound"],u:"1f509"},{n:["speaker with three sound waves","loud_sound"],u:"1f50a"},{n:["public address loudspeaker","loudspeaker"],u:"1f4e2"},{n:["cheering megaphone","mega"],u:"1f4e3"},{n:["postal horn","postal_horn"],u:"1f4ef"},{n:["bell"],u:"1f514"},{n:["bell with cancellation stroke","no_bell"],u:"1f515"},{n:["musical score","musical_score"],u:"1f3bc"},{n:["musical note","musical_note"],u:"1f3b5"},{n:["multiple musical notes","notes"],u:"1f3b6"},{n:["studio_microphone"],u:"1f399-fe0f"},{n:["level_slider"],u:"1f39a-fe0f"},{n:["control_knobs"],u:"1f39b-fe0f"},{n:["microphone"],u:"1f3a4"},{n:["headphone","headphones"],u:"1f3a7"},{n:["radio"],u:"1f4fb"},{n:["saxophone"],u:"1f3b7"},{n:["guitar"],u:"1f3b8"},{n:["musical keyboard","musical_keyboard"],u:"1f3b9"},{n:["trumpet"],u:"1f3ba"},{n:["violin"],u:"1f3bb"},{n:["drum with drumsticks","drum_with_drumsticks"],u:"1f941"},{n:["mobile phone","iphone"],u:"1f4f1"},{n:["mobile phone with rightwards arrow at left","calling"],u:"1f4f2"},{n:["black telephone","phone","telephone"],u:"260e-fe0f"},{n:["telephone receiver","telephone_receiver"],u:"1f4de"},{n:["pager"],u:"1f4df"},{n:["fax machine","fax"],u:"1f4e0"},{n:["battery"],u:"1f50b"},{n:["electric plug","electric_plug"],u:"1f50c"},{n:["personal computer","computer"],u:"1f4bb"},{n:["desktop_computer"],u:"1f5a5-fe0f"},{n:["printer"],u:"1f5a8-fe0f"},{n:["keyboard"],u:"2328-fe0f"},{n:["three_button_mouse"],u:"1f5b1-fe0f"},{n:["trackball"],u:"1f5b2-fe0f"},{n:["minidisc"],u:"1f4bd"},{n:["floppy disk","floppy_disk"],u:"1f4be"},{n:["optical disc","cd"],u:"1f4bf"},{n:["dvd"],u:"1f4c0"},{n:["movie camera","movie_camera"],u:"1f3a5"},{n:["film_frames"],u:"1f39e-fe0f"},{n:["film_projector"],u:"1f4fd-fe0f"},{n:["clapper board","clapper"],u:"1f3ac"},{n:["television","tv"],u:"1f4fa"},{n:["camera"],u:"1f4f7"},{n:["camera with flash","camera_with_flash"],u:"1f4f8"},{n:["video camera","video_camera"],u:"1f4f9"},{n:["videocassette","vhs"],u:"1f4fc"},{n:["left-pointing magnifying glass","mag"],u:"1f50d"},{n:["right-pointing magnifying glass","mag_right"],u:"1f50e"},{n:["microscope"],u:"1f52c"},{n:["telescope"],u:"1f52d"},{n:["satellite antenna","satellite_antenna"],u:"1f4e1"},{n:["candle"],u:"1f56f-fe0f"},{n:["electric light bulb","bulb"],u:"1f4a1"},{n:["electric torch","flashlight"],u:"1f526"},{n:["izakaya lantern","izakaya_lantern","lantern"],u:"1f3ee"},{n:["notebook with decorative cover","notebook_with_decorative_cover"],u:"1f4d4"},{n:["closed book","closed_book"],u:"1f4d5"},{n:["open book","book","open_book"],u:"1f4d6"},{n:["green book","green_book"],u:"1f4d7"},{n:["blue book","blue_book"],u:"1f4d8"},{n:["orange book","orange_book"],u:"1f4d9"},{n:["books"],u:"1f4da"},{n:["notebook"],u:"1f4d3"},{n:["ledger"],u:"1f4d2"},{n:["page with curl","page_with_curl"],u:"1f4c3"},{n:["scroll"],u:"1f4dc"},{n:["page facing up","page_facing_up"],u:"1f4c4"},{n:["newspaper"],u:"1f4f0"},{n:["rolled_up_newspaper"],u:"1f5de-fe0f"},{n:["bookmark tabs","bookmark_tabs"],u:"1f4d1"},{n:["bookmark"],u:"1f516"},{n:["label"],u:"1f3f7-fe0f"},{n:["money bag","moneybag"],u:"1f4b0"},{n:["banknote with yen sign","yen"],u:"1f4b4"},{n:["banknote with dollar sign","dollar"],u:"1f4b5"},{n:["banknote with euro sign","euro"],u:"1f4b6"},{n:["banknote with pound sign","pound"],u:"1f4b7"},{n:["money with wings","money_with_wings"],u:"1f4b8"},{n:["credit card","credit_card"],u:"1f4b3"},{n:["chart with upwards trend and yen sign","chart"],u:"1f4b9"},{n:["currency exchange","currency_exchange"],u:"1f4b1"},{n:["heavy dollar sign","heavy_dollar_sign"],u:"1f4b2"},{n:["envelope","email"],u:"2709-fe0f"},{n:["e-mail symbol","e-mail"],u:"1f4e7"},{n:["incoming envelope","incoming_envelope"],u:"1f4e8"},{n:["envelope with downwards arrow above","envelope_with_arrow"],u:"1f4e9"},{n:["outbox tray","outbox_tray"],u:"1f4e4"},{n:["inbox tray","inbox_tray"],u:"1f4e5"},{n:["package"],u:"1f4e6"},{n:["closed mailbox with raised flag","mailbox"],u:"1f4eb"},{n:["closed mailbox with lowered flag","mailbox_closed"],u:"1f4ea"},{n:["open mailbox with raised flag","mailbox_with_mail"],u:"1f4ec"},{n:["open mailbox with lowered flag","mailbox_with_no_mail"],u:"1f4ed"},{n:["postbox"],u:"1f4ee"},{n:["ballot_box_with_ballot"],u:"1f5f3-fe0f"},{n:["pencil","pencil2"],u:"270f-fe0f"},{n:["black nib","black_nib"],u:"2712-fe0f"},{n:["lower_left_fountain_pen"],u:"1f58b-fe0f"},{n:["lower_left_ballpoint_pen"],u:"1f58a-fe0f"},{n:["lower_left_paintbrush"],u:"1f58c-fe0f"},{n:["lower_left_crayon"],u:"1f58d-fe0f"},{n:["memo","pencil"],u:"1f4dd"},{n:["briefcase"],u:"1f4bc"},{n:["file folder","file_folder"],u:"1f4c1"},{n:["open file folder","open_file_folder"],u:"1f4c2"},{n:["card_index_dividers"],u:"1f5c2-fe0f"},{n:["calendar","date"],u:"1f4c5"},{n:["tear-off calendar","calendar"],u:"1f4c6"},{n:["spiral_note_pad"],u:"1f5d2-fe0f"},{n:["spiral_calendar_pad"],u:"1f5d3-fe0f"},{n:["card index","card_index"],u:"1f4c7"},{n:["chart with upwards trend","chart_with_upwards_trend"],u:"1f4c8"},{n:["chart with downwards trend","chart_with_downwards_trend"],u:"1f4c9"},{n:["bar chart","bar_chart"],u:"1f4ca"},{n:["clipboard"],u:"1f4cb"},{n:["pushpin"],u:"1f4cc"},{n:["round pushpin","round_pushpin"],u:"1f4cd"},{n:["paperclip"],u:"1f4ce"},{n:["linked_paperclips"],u:"1f587-fe0f"},{n:["straight ruler","straight_ruler"],u:"1f4cf"},{n:["triangular ruler","triangular_ruler"],u:"1f4d0"},{n:["black scissors","scissors"],u:"2702-fe0f"},{n:["card_file_box"],u:"1f5c3-fe0f"},{n:["file_cabinet"],u:"1f5c4-fe0f"},{n:["wastebasket"],u:"1f5d1-fe0f"},{n:["lock"],u:"1f512"},{n:["open lock","unlock"],u:"1f513"},{n:["lock with ink pen","lock_with_ink_pen"],u:"1f50f"},{n:["closed lock with key","closed_lock_with_key"],u:"1f510"},{n:["key"],u:"1f511"},{n:["old_key"],u:"1f5dd-fe0f"},{n:["hammer"],u:"1f528"},{n:["pick"],u:"26cf-fe0f"},{n:["hammer_and_pick"],u:"2692-fe0f"},{n:["hammer_and_wrench"],u:"1f6e0-fe0f"},{n:["dagger_knife"],u:"1f5e1-fe0f"},{n:["crossed_swords"],u:"2694-fe0f"},{n:["pistol","gun"],u:"1f52b"},{n:["bow and arrow","bow_and_arrow"],u:"1f3f9"},{n:["shield"],u:"1f6e1-fe0f"},{n:["wrench"],u:"1f527"},{n:["nut and bolt","nut_and_bolt"],u:"1f529"},{n:["gear"],u:"2699-fe0f"},{n:["compression"],u:"1f5dc-fe0f"},{n:["alembic"],u:"2697-fe0f"},{n:["scales"],u:"2696-fe0f"},{n:["link symbol","link"],u:"1f517"},{n:["chains"],u:"26d3-fe0f"},{n:["syringe"],u:"1f489"},{n:["pill"],u:"1f48a"},{n:["smoking symbol","smoking"],u:"1f6ac"},{n:["coffin"],u:"26b0-fe0f"},{n:["funeral_urn"],u:"26b1-fe0f"},{n:["moyai"],u:"1f5ff"},{n:["oil_drum"],u:"1f6e2-fe0f"},{n:["crystal ball","crystal_ball"],u:"1f52e"},{n:["shopping trolley","shopping_trolley"],u:"1f6d2"}],symbols$1=[{n:["automated teller machine","atm"],u:"1f3e7"},{n:["put litter in its place symbol","put_litter_in_its_place"],u:"1f6ae"},{n:["potable water symbol","potable_water"],u:"1f6b0"},{n:["wheelchair symbol","wheelchair"],u:"267f"},{n:["mens symbol","mens"],u:"1f6b9"},{n:["womens symbol","womens"],u:"1f6ba"},{n:["restroom"],u:"1f6bb"},{n:["baby symbol","baby_symbol"],u:"1f6bc"},{n:["water closet","wc"],u:"1f6be"},{n:["passport control","passport_control"],u:"1f6c2"},{n:["customs"],u:"1f6c3"},{n:["baggage claim","baggage_claim"],u:"1f6c4"},{n:["left luggage","left_luggage"],u:"1f6c5"},{n:["warning sign","warning"],u:"26a0-fe0f"},{n:["children crossing","children_crossing"],u:"1f6b8"},{n:["no entry","no_entry"],u:"26d4"},{n:["no entry sign","no_entry_sign"],u:"1f6ab"},{n:["no bicycles","no_bicycles"],u:"1f6b3"},{n:["no smoking symbol","no_smoking"],u:"1f6ad"},{n:["do not litter symbol","do_not_litter"],u:"1f6af"},{n:["non-potable water symbol","non-potable_water"],u:"1f6b1"},{n:["no pedestrians","no_pedestrians"],u:"1f6b7"},{n:["no mobile phones","no_mobile_phones"],u:"1f4f5"},{n:["no one under eighteen symbol","underage"],u:"1f51e"},{n:["radioactive_sign"],u:"2622-fe0f"},{n:["biohazard_sign"],u:"2623-fe0f"},{n:["upwards black arrow","arrow_up"],u:"2b06-fe0f"},{n:["north east arrow","arrow_upper_right"],u:"2197-fe0f"},{n:["black rightwards arrow","arrow_right"],u:"27a1-fe0f"},{n:["south east arrow","arrow_lower_right"],u:"2198-fe0f"},{n:["downwards black arrow","arrow_down"],u:"2b07-fe0f"},{n:["south west arrow","arrow_lower_left"],u:"2199-fe0f"},{n:["leftwards black arrow","arrow_left"],u:"2b05-fe0f"},{n:["north west arrow","arrow_upper_left"],u:"2196-fe0f"},{n:["up down arrow","arrow_up_down"],u:"2195-fe0f"},{n:["left right arrow","left_right_arrow"],u:"2194-fe0f"},{n:["leftwards arrow with hook","leftwards_arrow_with_hook"],u:"21a9-fe0f"},{n:["rightwards arrow with hook","arrow_right_hook"],u:"21aa-fe0f"},{n:["arrow pointing rightwards then curving upwards","arrow_heading_up"],u:"2934-fe0f"},{n:["arrow pointing rightwards then curving downwards","arrow_heading_down"],u:"2935-fe0f"},{n:["clockwise downwards and upwards open circle arrows","arrows_clockwise"],u:"1f503"},{n:["anticlockwise downwards and upwards open circle arrows","arrows_counterclockwise"],u:"1f504"},{n:["back with leftwards arrow above","back"],u:"1f519"},{n:["end with leftwards arrow above","end"],u:"1f51a"},{n:["on with exclamation mark with left right arrow above","on"],u:"1f51b"},{n:["soon with rightwards arrow above","soon"],u:"1f51c"},{n:["top with upwards arrow above","top"],u:"1f51d"},{n:["place of worship","place_of_worship"],u:"1f6d0"},{n:["atom_symbol"],u:"269b-fe0f"},{n:["om_symbol"],u:"1f549-fe0f"},{n:["star_of_david"],u:"2721-fe0f"},{n:["wheel_of_dharma"],u:"2638-fe0f"},{n:["yin_yang"],u:"262f-fe0f"},{n:["latin_cross"],u:"271d-fe0f"},{n:["orthodox_cross"],u:"2626-fe0f"},{n:["star_and_crescent"],u:"262a-fe0f"},{n:["peace_symbol"],u:"262e-fe0f"},{n:["menorah with nine branches","menorah_with_nine_branches"],u:"1f54e"},{n:["six pointed star with middle dot","six_pointed_star"],u:"1f52f"},{n:["aries"],u:"2648"},{n:["taurus"],u:"2649"},{n:["gemini"],u:"264a"},{n:["cancer"],u:"264b"},{n:["leo"],u:"264c"},{n:["virgo"],u:"264d"},{n:["libra"],u:"264e"},{n:["scorpius"],u:"264f"},{n:["sagittarius"],u:"2650"},{n:["capricorn"],u:"2651"},{n:["aquarius"],u:"2652"},{n:["pisces"],u:"2653"},{n:["ophiuchus"],u:"26ce"},{n:["twisted rightwards arrows","twisted_rightwards_arrows"],u:"1f500"},{n:["clockwise rightwards and leftwards open circle arrows","repeat"],u:"1f501"},{n:["clockwise rightwards and leftwards open circle arrows with circled one overlay","repeat_one"],u:"1f502"},{n:["black right-pointing triangle","arrow_forward"],u:"25b6-fe0f"},{n:["black right-pointing double triangle","fast_forward"],u:"23e9"},{n:["black_right_pointing_double_triangle_with_vertical_bar"],u:"23ed-fe0f"},{n:["black_right_pointing_triangle_with_double_vertical_bar"],u:"23ef-fe0f"},{n:["black left-pointing triangle","arrow_backward"],u:"25c0-fe0f"},{n:["black left-pointing double triangle","rewind"],u:"23ea"},{n:["black_left_pointing_double_triangle_with_vertical_bar"],u:"23ee-fe0f"},{n:["up-pointing small red triangle","arrow_up_small"],u:"1f53c"},{n:["black up-pointing double triangle","arrow_double_up"],u:"23eb"},{n:["down-pointing small red triangle","arrow_down_small"],u:"1f53d"},{n:["black down-pointing double triangle","arrow_double_down"],u:"23ec"},{n:["double_vertical_bar"],u:"23f8-fe0f"},{n:["black_square_for_stop"],u:"23f9-fe0f"},{n:["black_circle_for_record"],u:"23fa-fe0f"},{n:["eject"],u:"23cf-fe0f"},{n:["cinema"],u:"1f3a6"},{n:["low brightness symbol","low_brightness"],u:"1f505"},{n:["high brightness symbol","high_brightness"],u:"1f506"},{n:["antenna with bars","signal_strength"],u:"1f4f6"},{n:["vibration mode","vibration_mode"],u:"1f4f3"},{n:["mobile phone off","mobile_phone_off"],u:"1f4f4"},{n:["female_sign"],u:"2640-fe0f"},{n:["male_sign"],u:"2642-fe0f"},{n:["medical_symbol","staff_of_aesculapius"],u:"2695-fe0f"},{n:["black universal recycling symbol","recycle"],u:"267b-fe0f"},{n:["fleur_de_lis"],u:"269c-fe0f"},{n:["trident emblem","trident"],u:"1f531"},{n:["name badge","name_badge"],u:"1f4db"},{n:["japanese symbol for beginner","beginner"],u:"1f530"},{n:["heavy large circle","o"],u:"2b55"},{n:["white heavy check mark","white_check_mark"],u:"2705"},{n:["ballot box with check","ballot_box_with_check"],u:"2611-fe0f"},{n:["heavy check mark","heavy_check_mark"],u:"2714-fe0f"},{n:["heavy multiplication x","heavy_multiplication_x"],u:"2716-fe0f"},{n:["cross mark","x"],u:"274c"},{n:["negative squared cross mark","negative_squared_cross_mark"],u:"274e"},{n:["heavy plus sign","heavy_plus_sign"],u:"2795"},{n:["heavy minus sign","heavy_minus_sign"],u:"2796"},{n:["heavy division sign","heavy_division_sign"],u:"2797"},{n:["curly loop","curly_loop"],u:"27b0"},{n:["double curly loop","loop"],u:"27bf"},{n:["part alternation mark","part_alternation_mark"],u:"303d-fe0f"},{n:["eight spoked asterisk","eight_spoked_asterisk"],u:"2733-fe0f"},{n:["eight pointed black star","eight_pointed_black_star"],u:"2734-fe0f"},{n:["sparkle"],u:"2747-fe0f"},{n:["double exclamation mark","bangbang"],u:"203c-fe0f"},{n:["exclamation question mark","interrobang"],u:"2049-fe0f"},{n:["black question mark ornament","question"],u:"2753"},{n:["white question mark ornament","grey_question"],u:"2754"},{n:["white exclamation mark ornament","grey_exclamation"],u:"2755"},{n:["heavy exclamation mark symbol","exclamation","heavy_exclamation_mark"],u:"2757"},{n:["wavy dash","wavy_dash"],u:"3030-fe0f"},{n:["copyright sign","copyright"],u:"00a9-fe0f"},{n:["registered sign","registered"],u:"00ae-fe0f"},{n:["trade mark sign","tm"],u:"2122-fe0f"},{n:["hash key","hash"],u:"0023-fe0f-20e3"},{n:["keycap_star"],u:"002a-fe0f-20e3"},{n:["keycap 0","zero"],u:"0030-fe0f-20e3"},{n:["keycap 1","one"],u:"0031-fe0f-20e3"},{n:["keycap 2","two"],u:"0032-fe0f-20e3"},{n:["keycap 3","three"],u:"0033-fe0f-20e3"},{n:["keycap 4","four"],u:"0034-fe0f-20e3"},{n:["keycap 5","five"],u:"0035-fe0f-20e3"},{n:["keycap 6","six"],u:"0036-fe0f-20e3"},{n:["keycap 7","seven"],u:"0037-fe0f-20e3"},{n:["keycap 8","eight"],u:"0038-fe0f-20e3"},{n:["keycap 9","nine"],u:"0039-fe0f-20e3"},{n:["keycap ten","keycap_ten"],u:"1f51f"},{n:["hundred points symbol","100"],u:"1f4af"},{n:["input symbol for latin capital letters","capital_abcd"],u:"1f520"},{n:["input symbol for latin small letters","abcd"],u:"1f521"},{n:["input symbol for numbers","1234"],u:"1f522"},{n:["input symbol for symbols","symbols"],u:"1f523"},{n:["input symbol for latin letters","abc"],u:"1f524"},{n:["negative squared latin capital letter a","a"],u:"1f170-fe0f"},{n:["negative squared ab","ab"],u:"1f18e"},{n:["negative squared latin capital letter b","b"],u:"1f171-fe0f"},{n:["squared cl","cl"],u:"1f191"},{n:["squared cool","cool"],u:"1f192"},{n:["squared free","free"],u:"1f193"},{n:["information source","information_source"],u:"2139-fe0f"},{n:["squared id","id"],u:"1f194"},{n:["circled latin capital letter m","m"],u:"24c2-fe0f"},{n:["squared new","new"],u:"1f195"},{n:["squared ng","ng"],u:"1f196"},{n:["negative squared latin capital letter o","o2"],u:"1f17e-fe0f"},{n:["squared ok","ok"],u:"1f197"},{n:["negative squared latin capital letter p","parking"],u:"1f17f-fe0f"},{n:["squared sos","sos"],u:"1f198"},{n:["squared up with exclamation mark","up"],u:"1f199"},{n:["squared vs","vs"],u:"1f19a"},{n:["squared katakana koko","koko"],u:"1f201"},{n:["squared katakana sa","sa"],u:"1f202-fe0f"},{n:["squared cjk unified ideograph-6708","u6708"],u:"1f237-fe0f"},{n:["squared cjk unified ideograph-6709","u6709"],u:"1f236"},{n:["squared cjk unified ideograph-6307","u6307"],u:"1f22f"},{n:["circled ideograph advantage","ideograph_advantage"],u:"1f250"},{n:["squared cjk unified ideograph-5272","u5272"],u:"1f239"},{n:["squared cjk unified ideograph-7121","u7121"],u:"1f21a"},{n:["squared cjk unified ideograph-7981","u7981"],u:"1f232"},{n:["circled ideograph accept","accept"],u:"1f251"},{n:["squared cjk unified ideograph-7533","u7533"],u:"1f238"},{n:["squared cjk unified ideograph-5408","u5408"],u:"1f234"},{n:["squared cjk unified ideograph-7a7a","u7a7a"],u:"1f233"},{n:["circled ideograph congratulation","congratulations"],u:"3297-fe0f"},{n:["circled ideograph secret","secret"],u:"3299-fe0f"},{n:["squared cjk unified ideograph-55b6","u55b6"],u:"1f23a"},{n:["squared cjk unified ideograph-6e80","u6e80"],u:"1f235"},{n:["black small square","black_small_square"],u:"25aa-fe0f"},{n:["white small square","white_small_square"],u:"25ab-fe0f"},{n:["white medium square","white_medium_square"],u:"25fb-fe0f"},{n:["black medium square","black_medium_square"],u:"25fc-fe0f"},{n:["white medium small square","white_medium_small_square"],u:"25fd"},{n:["black medium small square","black_medium_small_square"],u:"25fe"},{n:["black large square","black_large_square"],u:"2b1b"},{n:["white large square","white_large_square"],u:"2b1c"},{n:["large orange diamond","large_orange_diamond"],u:"1f536"},{n:["large blue diamond","large_blue_diamond"],u:"1f537"},{n:["small orange diamond","small_orange_diamond"],u:"1f538"},{n:["small blue diamond","small_blue_diamond"],u:"1f539"},{n:["up-pointing red triangle","small_red_triangle"],u:"1f53a"},{n:["down-pointing red triangle","small_red_triangle_down"],u:"1f53b"},{n:["diamond shape with a dot inside","diamond_shape_with_a_dot_inside"],u:"1f4a0"},{n:["radio button","radio_button"],u:"1f518"},{n:["black square button","black_square_button"],u:"1f532"},{n:["white square button","white_square_button"],u:"1f533"},{n:["medium white circle","white_circle"],u:"26aa"},{n:["medium black circle","black_circle"],u:"26ab"},{n:["large red circle","red_circle"],u:"1f534"},{n:["large blue circle","large_blue_circle"],u:"1f535"}],flags$1=[{n:["chequered flag","checkered_flag"],u:"1f3c1"},{n:["triangular flag on post","triangular_flag_on_post"],u:"1f6a9"},{n:["crossed flags","crossed_flags"],u:"1f38c"},{n:["waving black flag","waving_black_flag"],u:"1f3f4"},{n:["waving_white_flag"],u:"1f3f3-fe0f"},{n:["rainbow-flag"],u:"1f3f3-fe0f-200d-1f308"},{n:["ascension island flag","flag-ac"],u:"1f1e6-1f1e8"},{n:["andorra flag","flag-ad"],u:"1f1e6-1f1e9"},{n:["united arab emirates flag","flag-ae"],u:"1f1e6-1f1ea"},{n:["afghanistan flag","flag-af"],u:"1f1e6-1f1eb"},{n:["antigua & barbuda flag","flag-ag"],u:"1f1e6-1f1ec"},{n:["anguilla flag","flag-ai"],u:"1f1e6-1f1ee"},{n:["albania flag","flag-al"],u:"1f1e6-1f1f1"},{n:["armenia flag","flag-am"],u:"1f1e6-1f1f2"},{n:["angola flag","flag-ao"],u:"1f1e6-1f1f4"},{n:["antarctica flag","flag-aq"],u:"1f1e6-1f1f6"},{n:["argentina flag","flag-ar"],u:"1f1e6-1f1f7"},{n:["american samoa flag","flag-as"],u:"1f1e6-1f1f8"},{n:["austria flag","flag-at"],u:"1f1e6-1f1f9"},{n:["australia flag","flag-au"],u:"1f1e6-1f1fa"},{n:["aruba flag","flag-aw"],u:"1f1e6-1f1fc"},{n:["åland islands flag","flag-ax"],u:"1f1e6-1f1fd"},{n:["azerbaijan flag","flag-az"],u:"1f1e6-1f1ff"},{n:["bosnia & herzegovina flag","flag-ba"],u:"1f1e7-1f1e6"},{n:["barbados flag","flag-bb"],u:"1f1e7-1f1e7"},{n:["bangladesh flag","flag-bd"],u:"1f1e7-1f1e9"},{n:["belgium flag","flag-be"],u:"1f1e7-1f1ea"},{n:["burkina faso flag","flag-bf"],u:"1f1e7-1f1eb"},{n:["bulgaria flag","flag-bg"],u:"1f1e7-1f1ec"},{n:["bahrain flag","flag-bh"],u:"1f1e7-1f1ed"},{n:["burundi flag","flag-bi"],u:"1f1e7-1f1ee"},{n:["benin flag","flag-bj"],u:"1f1e7-1f1ef"},{n:["st. barthélemy flag","flag-bl"],u:"1f1e7-1f1f1"},{n:["bermuda flag","flag-bm"],u:"1f1e7-1f1f2"},{n:["brunei flag","flag-bn"],u:"1f1e7-1f1f3"},{n:["bolivia flag","flag-bo"],u:"1f1e7-1f1f4"},{n:["caribbean netherlands flag","flag-bq"],u:"1f1e7-1f1f6"},{n:["brazil flag","flag-br"],u:"1f1e7-1f1f7"},{n:["bahamas flag","flag-bs"],u:"1f1e7-1f1f8"},{n:["bhutan flag","flag-bt"],u:"1f1e7-1f1f9"},{n:["bouvet island flag","flag-bv"],u:"1f1e7-1f1fb"},{n:["botswana flag","flag-bw"],u:"1f1e7-1f1fc"},{n:["belarus flag","flag-by"],u:"1f1e7-1f1fe"},{n:["belize flag","flag-bz"],u:"1f1e7-1f1ff"},{n:["canada flag","flag-ca"],u:"1f1e8-1f1e6"},{n:["cocos (keeling) islands flag","flag-cc"],u:"1f1e8-1f1e8"},{n:["congo - kinshasa flag","flag-cd"],u:"1f1e8-1f1e9"},{n:["central african republic flag","flag-cf"],u:"1f1e8-1f1eb"},{n:["congo - brazzaville flag","flag-cg"],u:"1f1e8-1f1ec"},{n:["switzerland flag","flag-ch"],u:"1f1e8-1f1ed"},{n:["côte d’ivoire flag","flag-ci"],u:"1f1e8-1f1ee"},{n:["cook islands flag","flag-ck"],u:"1f1e8-1f1f0"},{n:["chile flag","flag-cl"],u:"1f1e8-1f1f1"},{n:["cameroon flag","flag-cm"],u:"1f1e8-1f1f2"},{n:["china flag","cn","flag-cn"],u:"1f1e8-1f1f3"},{n:["colombia flag","flag-co"],u:"1f1e8-1f1f4"},{n:["clipperton island flag","flag-cp"],u:"1f1e8-1f1f5"},{n:["costa rica flag","flag-cr"],u:"1f1e8-1f1f7"},{n:["cuba flag","flag-cu"],u:"1f1e8-1f1fa"},{n:["cape verde flag","flag-cv"],u:"1f1e8-1f1fb"},{n:["curaçao flag","flag-cw"],u:"1f1e8-1f1fc"},{n:["christmas island flag","flag-cx"],u:"1f1e8-1f1fd"},{n:["cyprus flag","flag-cy"],u:"1f1e8-1f1fe"},{n:["czechia flag","flag-cz"],u:"1f1e8-1f1ff"},{n:["germany flag","de","flag-de"],u:"1f1e9-1f1ea"},{n:["diego garcia flag","flag-dg"],u:"1f1e9-1f1ec"},{n:["djibouti flag","flag-dj"],u:"1f1e9-1f1ef"},{n:["denmark flag","flag-dk"],u:"1f1e9-1f1f0"},{n:["dominica flag","flag-dm"],u:"1f1e9-1f1f2"},{n:["dominican republic flag","flag-do"],u:"1f1e9-1f1f4"},{n:["algeria flag","flag-dz"],u:"1f1e9-1f1ff"},{n:["ceuta & melilla flag","flag-ea"],u:"1f1ea-1f1e6"},{n:["ecuador flag","flag-ec"],u:"1f1ea-1f1e8"},{n:["estonia flag","flag-ee"],u:"1f1ea-1f1ea"},{n:["egypt flag","flag-eg"],u:"1f1ea-1f1ec"},{n:["western sahara flag","flag-eh"],u:"1f1ea-1f1ed"},{n:["eritrea flag","flag-er"],u:"1f1ea-1f1f7"},{n:["spain flag","es","flag-es"],u:"1f1ea-1f1f8"},{n:["ethiopia flag","flag-et"],u:"1f1ea-1f1f9"},{n:["european union flag","flag-eu"],u:"1f1ea-1f1fa"},{n:["finland flag","flag-fi"],u:"1f1eb-1f1ee"},{n:["fiji flag","flag-fj"],u:"1f1eb-1f1ef"},{n:["falkland islands flag","flag-fk"],u:"1f1eb-1f1f0"},{n:["micronesia flag","flag-fm"],u:"1f1eb-1f1f2"},{n:["faroe islands flag","flag-fo"],u:"1f1eb-1f1f4"},{n:["france flag","fr","flag-fr"],u:"1f1eb-1f1f7"},{n:["gabon flag","flag-ga"],u:"1f1ec-1f1e6"},{n:["united kingdom flag","gb","uk","flag-gb"],u:"1f1ec-1f1e7"},{n:["grenada flag","flag-gd"],u:"1f1ec-1f1e9"},{n:["georgia flag","flag-ge"],u:"1f1ec-1f1ea"},{n:["french guiana flag","flag-gf"],u:"1f1ec-1f1eb"},{n:["guernsey flag","flag-gg"],u:"1f1ec-1f1ec"},{n:["ghana flag","flag-gh"],u:"1f1ec-1f1ed"},{n:["gibraltar flag","flag-gi"],u:"1f1ec-1f1ee"},{n:["greenland flag","flag-gl"],u:"1f1ec-1f1f1"},{n:["gambia flag","flag-gm"],u:"1f1ec-1f1f2"},{n:["guinea flag","flag-gn"],u:"1f1ec-1f1f3"},{n:["guadeloupe flag","flag-gp"],u:"1f1ec-1f1f5"},{n:["equatorial guinea flag","flag-gq"],u:"1f1ec-1f1f6"},{n:["greece flag","flag-gr"],u:"1f1ec-1f1f7"},{n:["south georgia & south sandwich islands flag","flag-gs"],u:"1f1ec-1f1f8"},{n:["guatemala flag","flag-gt"],u:"1f1ec-1f1f9"},{n:["guam flag","flag-gu"],u:"1f1ec-1f1fa"},{n:["guinea-bissau flag","flag-gw"],u:"1f1ec-1f1fc"},{n:["guyana flag","flag-gy"],u:"1f1ec-1f1fe"},{n:["hong kong sar china flag","flag-hk"],u:"1f1ed-1f1f0"},{n:["heard & mcdonald islands flag","flag-hm"],u:"1f1ed-1f1f2"},{n:["honduras flag","flag-hn"],u:"1f1ed-1f1f3"},{n:["croatia flag","flag-hr"],u:"1f1ed-1f1f7"},{n:["haiti flag","flag-ht"],u:"1f1ed-1f1f9"},{n:["hungary flag","flag-hu"],u:"1f1ed-1f1fa"},{n:["canary islands flag","flag-ic"],u:"1f1ee-1f1e8"},{n:["indonesia flag","flag-id"],u:"1f1ee-1f1e9"},{n:["ireland flag","flag-ie"],u:"1f1ee-1f1ea"},{n:["israel flag","flag-il"],u:"1f1ee-1f1f1"},{n:["isle of man flag","flag-im"],u:"1f1ee-1f1f2"},{n:["india flag","flag-in"],u:"1f1ee-1f1f3"},{n:["british indian ocean territory flag","flag-io"],u:"1f1ee-1f1f4"},{n:["iraq flag","flag-iq"],u:"1f1ee-1f1f6"},{n:["iran flag","flag-ir"],u:"1f1ee-1f1f7"},{n:["iceland flag","flag-is"],u:"1f1ee-1f1f8"},{n:["italy flag","it","flag-it"],u:"1f1ee-1f1f9"},{n:["jersey flag","flag-je"],u:"1f1ef-1f1ea"},{n:["jamaica flag","flag-jm"],u:"1f1ef-1f1f2"},{n:["jordan flag","flag-jo"],u:"1f1ef-1f1f4"},{n:["japan flag","jp","flag-jp"],u:"1f1ef-1f1f5"},{n:["kenya flag","flag-ke"],u:"1f1f0-1f1ea"},{n:["kyrgyzstan flag","flag-kg"],u:"1f1f0-1f1ec"},{n:["cambodia flag","flag-kh"],u:"1f1f0-1f1ed"},{n:["kiribati flag","flag-ki"],u:"1f1f0-1f1ee"},{n:["comoros flag","flag-km"],u:"1f1f0-1f1f2"},{n:["st. kitts & nevis flag","flag-kn"],u:"1f1f0-1f1f3"},{n:["north korea flag","flag-kp"],u:"1f1f0-1f1f5"},{n:["south korea flag","kr","flag-kr"],u:"1f1f0-1f1f7"},{n:["kuwait flag","flag-kw"],u:"1f1f0-1f1fc"},{n:["cayman islands flag","flag-ky"],u:"1f1f0-1f1fe"},{n:["kazakhstan flag","flag-kz"],u:"1f1f0-1f1ff"},{n:["laos flag","flag-la"],u:"1f1f1-1f1e6"},{n:["lebanon flag","flag-lb"],u:"1f1f1-1f1e7"},{n:["st. lucia flag","flag-lc"],u:"1f1f1-1f1e8"},{n:["liechtenstein flag","flag-li"],u:"1f1f1-1f1ee"},{n:["sri lanka flag","flag-lk"],u:"1f1f1-1f1f0"},{n:["liberia flag","flag-lr"],u:"1f1f1-1f1f7"},{n:["lesotho flag","flag-ls"],u:"1f1f1-1f1f8"},{n:["lithuania flag","flag-lt"],u:"1f1f1-1f1f9"},{n:["luxembourg flag","flag-lu"],u:"1f1f1-1f1fa"},{n:["latvia flag","flag-lv"],u:"1f1f1-1f1fb"},{n:["libya flag","flag-ly"],u:"1f1f1-1f1fe"},{n:["morocco flag","flag-ma"],u:"1f1f2-1f1e6"},{n:["monaco flag","flag-mc"],u:"1f1f2-1f1e8"},{n:["moldova flag","flag-md"],u:"1f1f2-1f1e9"},{n:["montenegro flag","flag-me"],u:"1f1f2-1f1ea"},{n:["st. martin flag","flag-mf"],u:"1f1f2-1f1eb"},{n:["madagascar flag","flag-mg"],u:"1f1f2-1f1ec"},{n:["marshall islands flag","flag-mh"],u:"1f1f2-1f1ed"},{n:["macedonia flag","flag-mk"],u:"1f1f2-1f1f0"},{n:["mali flag","flag-ml"],u:"1f1f2-1f1f1"},{n:["myanmar (burma) flag","flag-mm"],u:"1f1f2-1f1f2"},{n:["mongolia flag","flag-mn"],u:"1f1f2-1f1f3"},{n:["macau sar china flag","flag-mo"],u:"1f1f2-1f1f4"},{n:["northern mariana islands flag","flag-mp"],u:"1f1f2-1f1f5"},{n:["martinique flag","flag-mq"],u:"1f1f2-1f1f6"},{n:["mauritania flag","flag-mr"],u:"1f1f2-1f1f7"},{n:["montserrat flag","flag-ms"],u:"1f1f2-1f1f8"},{n:["malta flag","flag-mt"],u:"1f1f2-1f1f9"},{n:["mauritius flag","flag-mu"],u:"1f1f2-1f1fa"},{n:["maldives flag","flag-mv"],u:"1f1f2-1f1fb"},{n:["malawi flag","flag-mw"],u:"1f1f2-1f1fc"},{n:["mexico flag","flag-mx"],u:"1f1f2-1f1fd"},{n:["malaysia flag","flag-my"],u:"1f1f2-1f1fe"},{n:["mozambique flag","flag-mz"],u:"1f1f2-1f1ff"},{n:["namibia flag","flag-na"],u:"1f1f3-1f1e6"},{n:["new caledonia flag","flag-nc"],u:"1f1f3-1f1e8"},{n:["niger flag","flag-ne"],u:"1f1f3-1f1ea"},{n:["norfolk island flag","flag-nf"],u:"1f1f3-1f1eb"},{n:["nigeria flag","flag-ng"],u:"1f1f3-1f1ec"},{n:["nicaragua flag","flag-ni"],u:"1f1f3-1f1ee"},{n:["netherlands flag","flag-nl"],u:"1f1f3-1f1f1"},{n:["norway flag","flag-no"],u:"1f1f3-1f1f4"},{n:["nepal flag","flag-np"],u:"1f1f3-1f1f5"},{n:["nauru flag","flag-nr"],u:"1f1f3-1f1f7"},{n:["niue flag","flag-nu"],u:"1f1f3-1f1fa"},{n:["new zealand flag","flag-nz"],u:"1f1f3-1f1ff"},{n:["oman flag","flag-om"],u:"1f1f4-1f1f2"},{n:["panama flag","flag-pa"],u:"1f1f5-1f1e6"},{n:["peru flag","flag-pe"],u:"1f1f5-1f1ea"},{n:["french polynesia flag","flag-pf"],u:"1f1f5-1f1eb"},{n:["papua new guinea flag","flag-pg"],u:"1f1f5-1f1ec"},{n:["philippines flag","flag-ph"],u:"1f1f5-1f1ed"},{n:["pakistan flag","flag-pk"],u:"1f1f5-1f1f0"},{n:["poland flag","flag-pl"],u:"1f1f5-1f1f1"},{n:["st. pierre & miquelon flag","flag-pm"],u:"1f1f5-1f1f2"},{n:["pitcairn islands flag","flag-pn"],u:"1f1f5-1f1f3"},{n:["puerto rico flag","flag-pr"],u:"1f1f5-1f1f7"},{n:["palestinian territories flag","flag-ps"],u:"1f1f5-1f1f8"},{n:["portugal flag","flag-pt"],u:"1f1f5-1f1f9"},{n:["palau flag","flag-pw"],u:"1f1f5-1f1fc"},{n:["paraguay flag","flag-py"],u:"1f1f5-1f1fe"},{n:["qatar flag","flag-qa"],u:"1f1f6-1f1e6"},{n:["réunion flag","flag-re"],u:"1f1f7-1f1ea"},{n:["romania flag","flag-ro"],u:"1f1f7-1f1f4"},{n:["serbia flag","flag-rs"],u:"1f1f7-1f1f8"},{n:["russia flag","ru","flag-ru"],u:"1f1f7-1f1fa"},{n:["rwanda flag","flag-rw"],u:"1f1f7-1f1fc"},{n:["saudi arabia flag","flag-sa"],u:"1f1f8-1f1e6"},{n:["solomon islands flag","flag-sb"],u:"1f1f8-1f1e7"},{n:["seychelles flag","flag-sc"],u:"1f1f8-1f1e8"},{n:["sudan flag","flag-sd"],u:"1f1f8-1f1e9"},{n:["sweden flag","flag-se"],u:"1f1f8-1f1ea"},{n:["singapore flag","flag-sg"],u:"1f1f8-1f1ec"},{n:["st. helena flag","flag-sh"],u:"1f1f8-1f1ed"},{n:["slovenia flag","flag-si"],u:"1f1f8-1f1ee"},{n:["svalbard & jan mayen flag","flag-sj"],u:"1f1f8-1f1ef"},{n:["slovakia flag","flag-sk"],u:"1f1f8-1f1f0"},{n:["sierra leone flag","flag-sl"],u:"1f1f8-1f1f1"},{n:["san marino flag","flag-sm"],u:"1f1f8-1f1f2"},{n:["senegal flag","flag-sn"],u:"1f1f8-1f1f3"},{n:["somalia flag","flag-so"],u:"1f1f8-1f1f4"},{n:["suriname flag","flag-sr"],u:"1f1f8-1f1f7"},{n:["south sudan flag","flag-ss"],u:"1f1f8-1f1f8"},{n:["são tomé & príncipe flag","flag-st"],u:"1f1f8-1f1f9"},{n:["el salvador flag","flag-sv"],u:"1f1f8-1f1fb"},{n:["sint maarten flag","flag-sx"],u:"1f1f8-1f1fd"},{n:["syria flag","flag-sy"],u:"1f1f8-1f1fe"},{n:["swaziland flag","flag-sz"],u:"1f1f8-1f1ff"},{n:["tristan da cunha flag","flag-ta"],u:"1f1f9-1f1e6"},{n:["turks & caicos islands flag","flag-tc"],u:"1f1f9-1f1e8"},{n:["chad flag","flag-td"],u:"1f1f9-1f1e9"},{n:["french southern territories flag","flag-tf"],u:"1f1f9-1f1eb"},{n:["togo flag","flag-tg"],u:"1f1f9-1f1ec"},{n:["thailand flag","flag-th"],u:"1f1f9-1f1ed"},{n:["tajikistan flag","flag-tj"],u:"1f1f9-1f1ef"},{n:["tokelau flag","flag-tk"],u:"1f1f9-1f1f0"},{n:["timor-leste flag","flag-tl"],u:"1f1f9-1f1f1"},{n:["turkmenistan flag","flag-tm"],u:"1f1f9-1f1f2"},{n:["tunisia flag","flag-tn"],u:"1f1f9-1f1f3"},{n:["tonga flag","flag-to"],u:"1f1f9-1f1f4"},{n:["turkey flag","flag-tr"],u:"1f1f9-1f1f7"},{n:["trinidad & tobago flag","flag-tt"],u:"1f1f9-1f1f9"},{n:["tuvalu flag","flag-tv"],u:"1f1f9-1f1fb"},{n:["taiwan flag","flag-tw"],u:"1f1f9-1f1fc"},{n:["tanzania flag","flag-tz"],u:"1f1f9-1f1ff"},{n:["ukraine flag","flag-ua"],u:"1f1fa-1f1e6"},{n:["uganda flag","flag-ug"],u:"1f1fa-1f1ec"},{n:["u.s. outlying islands flag","flag-um"],u:"1f1fa-1f1f2"},{n:["united nations flag","flag-un"],u:"1f1fa-1f1f3"},{n:["united states flag","us","flag-us"],u:"1f1fa-1f1f8"},{n:["uruguay flag","flag-uy"],u:"1f1fa-1f1fe"},{n:["uzbekistan flag","flag-uz"],u:"1f1fa-1f1ff"},{n:["vatican city flag","flag-va"],u:"1f1fb-1f1e6"},{n:["st. vincent & grenadines flag","flag-vc"],u:"1f1fb-1f1e8"},{n:["venezuela flag","flag-ve"],u:"1f1fb-1f1ea"},{n:["british virgin islands flag","flag-vg"],u:"1f1fb-1f1ec"},{n:["u.s. virgin islands flag","flag-vi"],u:"1f1fb-1f1ee"},{n:["vietnam flag","flag-vn"],u:"1f1fb-1f1f3"},{n:["vanuatu flag","flag-vu"],u:"1f1fb-1f1fa"},{n:["wallis & futuna flag","flag-wf"],u:"1f1fc-1f1eb"},{n:["samoa flag","flag-ws"],u:"1f1fc-1f1f8"},{n:["kosovo flag","flag-xk"],u:"1f1fd-1f1f0"},{n:["yemen flag","flag-ye"],u:"1f1fe-1f1ea"},{n:["mayotte flag","flag-yt"],u:"1f1fe-1f1f9"},{n:["south africa flag","flag-za"],u:"1f1ff-1f1e6"},{n:["zambia flag","flag-zm"],u:"1f1ff-1f1f2"},{n:["zimbabwe flag","flag-zw"],u:"1f1ff-1f1fc"},{n:["england flag","flag-england"],u:"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f"},{n:["scotland flag","flag-scotland"],u:"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f"},{n:["wales flag","flag-wales"],u:"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f"}];var emojis={smileys_people:smileys_people$1,animals_nature:animals_nature$1,food_drink:food_drink$1,activities:activities$1,travel_places:travel_places$1,objects:objects$1,symbols:symbols$1,flags:flags$1},_groups=[{key:"recent",title:"Recently Used",u:"1f551"},{key:"smileys_people",title:"Smiles & People",u:"1f600"},{key:"animals_nature",title:"Animals & Nature",u:"1F431"},{key:"food_drink",title:"Food & Drink",u:"2615"},{key:"activities",title:"Activities",u:"26BD"},{key:"travel_places",title:"Travel & Places",u:"1F697"},{key:"objects",title:"Objects",u:"1F4A1"},{key:"symbols",title:"Symbols",u:"1f4af"},{key:"flags",title:"Flags",u:"1f3f3-fe0f"}];const instanceOfAny$1=(n,e)=>e.some(r=>n instanceof r);let idbProxyableTypes$1,cursorAdvanceMethods$1;function getIdbProxyableTypes$1(){return idbProxyableTypes$1||(idbProxyableTypes$1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods$1(){return cursorAdvanceMethods$1||(cursorAdvanceMethods$1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap$1=new WeakMap,transactionDoneMap$1=new WeakMap,transactionStoreNamesMap$1=new WeakMap,transformCache$1=new WeakMap,reverseTransformCache$1=new WeakMap;function promisifyRequest$1(n){const e=new Promise((r,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",f)},l=()=>{r(wrap$1(n.result)),a()},f=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",f)});return e.then(r=>{r instanceof IDBCursor&&cursorRequestMap$1.set(r,n)}).catch(()=>{}),reverseTransformCache$1.set(e,n),e}function cacheDonePromiseForTransaction$1(n){if(transactionDoneMap$1.has(n))return;const e=new Promise((r,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",f),n.removeEventListener("abort",f)},l=()=>{r(),a()},f=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",f),n.addEventListener("abort",f)});transactionDoneMap$1.set(n,e)}let idbProxyTraps$1={get(n,e,r){if(n instanceof IDBTransaction){if(e==="done")return transactionDoneMap$1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||transactionStoreNamesMap$1.get(n);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return wrap$1(n[e])},set(n,e,r){return n[e]=r,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function replaceTraps$1(n){idbProxyTraps$1=n(idbProxyTraps$1)}function wrapFunction$1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=n.call(unwrap$1(this),e,...r);return transactionStoreNamesMap$1.set(s,e.sort?e.sort():[e]),wrap$1(s)}:getCursorAdvanceMethods$1().includes(n)?function(...e){return n.apply(unwrap$1(this),e),wrap$1(cursorRequestMap$1.get(this))}:function(...e){return wrap$1(n.apply(unwrap$1(this),e))}}function transformCachableValue$1(n){return typeof n=="function"?wrapFunction$1(n):(n instanceof IDBTransaction&&cacheDonePromiseForTransaction$1(n),instanceOfAny$1(n,getIdbProxyableTypes$1())?new Proxy(n,idbProxyTraps$1):n)}function wrap$1(n){if(n instanceof IDBRequest)return promisifyRequest$1(n);if(transformCache$1.has(n))return transformCache$1.get(n);const e=transformCachableValue$1(n);return e!==n&&(transformCache$1.set(n,e),reverseTransformCache$1.set(e,n)),e}const unwrap$1=n=>reverseTransformCache$1.get(n);function openDB$1(n,e,{blocked:r,upgrade:s,blocking:a,terminated:l}={}){const f=indexedDB.open(n,e),c=wrap$1(f);return s&&f.addEventListener("upgradeneeded",d=>{s(wrap$1(f.result),d.oldVersion,d.newVersion,wrap$1(f.transaction),d)}),r&&f.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),c.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),c}const readMethods$1=["get","getKey","getAll","getAllKeys","count"],writeMethods$1=["put","add","delete","clear"],cachedMethods$1=new Map;function getMethod$1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(cachedMethods$1.get(e))return cachedMethods$1.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,a=writeMethods$1.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(a||readMethods$1.includes(r)))return;const l=async function(f,...c){const d=this.transaction(f,a?"readwrite":"readonly");let g=d.store;return s&&(g=g.index(c.shift())),(await Promise.all([g[r](...c),a&&d.done]))[0]};return cachedMethods$1.set(e,l),l}replaceTraps$1(n=>__spreadProps(__spreadValues({},n),{get:(e,r,s)=>getMethod$1(e,r)||n.get(e,r,s),has:(e,r)=>!!getMethod$1(e,r)||n.has(e,r)}));const DB_KEY="EMJ",STORE_KEY="emojis",DB_VERSION$1=3;async function initialize(){(await openDB$1(DB_KEY,DB_VERSION$1,{upgrade(e,r){e.objectStoreNames.contains(STORE_KEY)||e.createObjectStore(STORE_KEY,{keyPath:"id",autoIncrement:!0}).createIndex("id","id",{unique:!0})}})).close()}initialize();const defaultOptions={native:!1,hideSearch:!0,hideGroupIcons:!1,hideGroupNames:!1,staticTexts:{},disabledGroups:[],groupNames:{},displayRecent:!1,additionalGroups:{},groupOrder:[],groupIcons:{}};async function getRecentEmojis(){return await(await openDB$1(DB_KEY,DB_VERSION$1)).transaction(STORE_KEY,"readonly").objectStore(STORE_KEY).getAll()}function Store(){const n=reactive({search:"",emoji:DEFAULT_EMOJI,activeGroup:"",skinTone:SKIN_TONE_NEUTRAL,options:defaultOptions,additionalGroups:{},recent:[],get emojis(){return __spreadValues(__spreadValues({recent:this.recent},this.options.additionalGroups),emojis)},get disabled(){let m=Array.isArray(this.options.disabledGroups)?this.options.disabledGroups:[];return this.options.displayRecent||(m=["recent",...m]),m},get groups(){return _groups.filter(m=>!this.disabled.includes(m.key))},get orderedGroupKeys(){const m=[...this.options.groupOrder,...Object.keys(this.options.additionalGroups),..._groups.map(_=>_.key)];return[...new Set(m)].filter(_=>!this.disabled.includes(_))}});function e(){n.options.displayRecent&&s()}async function r(){var m;let _=await getRecentEmojis();return Array.isArray(_)&&_.length?_=JSON.parse(((m=_[0])==null?void 0:m.value)||""):_=[],_}function s(){r().then(m=>{n.recent=m,g()})}const a=m=>{n.search=m},l=m=>{n.emoji=m},f=m=>{n.activeGroup=m},c=(m=SKIN_TONE_NEUTRAL)=>{n.skinTone=m},d=m=>{n.options=Object.assign({},n.options,m),e()};async function g(){(await openDB$1(DB_KEY,DB_VERSION$1)).transaction(STORE_KEY,"readwrite").objectStore(STORE_KEY).put({id:0,value:JSON.stringify(n.recent)})}const b=m=>{if(n.options.displayRecent!==!0)return;const _=n.recent.findIndex(k=>k.u===m.u);if(_>0&&n.recent.splice(_,1),_===0)return;const x={u:m.u,n:toRaw(m.n)};n.recent=[x,...n.recent],n.recent.length>24&&(n.recent.length=24),g()};return{state:readonly(n),updateSearch:a,updateEmoji:l,updateActiveGroup:f,updateSkinTone:c,updateOptions:d,updateSelect:b}}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(n,e){return n.concat([e+"-"+start,e+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(n,e){return n.concat([e,e+"-"+start,e+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(n){return n?(n.nodeName||"").toLowerCase():null}function getWindow(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function isElement(n){var e=getWindow(n).Element;return n instanceof e||n instanceof Element}function isHTMLElement(n){var e=getWindow(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function isShadowRoot(n){if(typeof ShadowRoot>"u")return!1;var e=getWindow(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function applyStyles(n){var e=n.state;Object.keys(e.elements).forEach(function(r){var s=e.styles[r]||{},a=e.attributes[r]||{},l=e.elements[r];!isHTMLElement(l)||!getNodeName(l)||(Object.assign(l.style,s),Object.keys(a).forEach(function(f){var c=a[f];c===!1?l.removeAttribute(f):l.setAttribute(f,c===!0?"":c)}))})}function effect$2(n){var e=n.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(s){var a=e.elements[s],l=e.attributes[s]||{},f=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:r[s]),c=f.reduce(function(d,g){return d[g]="",d},{});!isHTMLElement(a)||!getNodeName(a)||(Object.assign(a.style,c),Object.keys(l).forEach(function(d){a.removeAttribute(d)}))})}}var applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(n){return n.split("-")[0]}var max=Math.max,min=Math.min,round=Math.round;function getBoundingClientRect(n,e){e===void 0&&(e=!1);var r=n.getBoundingClientRect(),s=1,a=1;if(isHTMLElement(n)&&e){var l=n.offsetHeight,f=n.offsetWidth;f>0&&(s=round(r.width)/f||1),l>0&&(a=round(r.height)/l||1)}return{width:r.width/s,height:r.height/a,top:r.top/a,right:r.right/s,bottom:r.bottom/a,left:r.left/s,x:r.left/s,y:r.top/a}}function getLayoutRect(n){var e=getBoundingClientRect(n),r=n.offsetWidth,s=n.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:n.offsetLeft,y:n.offsetTop,width:r,height:s}}function contains(n,e){var r=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(r&&isShadowRoot(r)){var s=e;do{if(s&&n.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function getComputedStyle$1(n){return getWindow(n).getComputedStyle(n)}function isTableElement(n){return["table","td","th"].indexOf(getNodeName(n))>=0}function getDocumentElement(n){return((isElement(n)?n.ownerDocument:n.document)||window.document).documentElement}function getParentNode(n){return getNodeName(n)==="html"?n:n.assignedSlot||n.parentNode||(isShadowRoot(n)?n.host:null)||getDocumentElement(n)}function getTrueOffsetParent(n){return!isHTMLElement(n)||getComputedStyle$1(n).position==="fixed"?null:n.offsetParent}function getContainingBlock(n){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&isHTMLElement(n)){var s=getComputedStyle$1(n);if(s.position==="fixed")return null}for(var a=getParentNode(n);isHTMLElement(a)&&["html","body"].indexOf(getNodeName(a))<0;){var l=getComputedStyle$1(a);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||e&&l.willChange==="filter"||e&&l.filter&&l.filter!=="none")return a;a=a.parentNode}return null}function getOffsetParent(n){for(var e=getWindow(n),r=getTrueOffsetParent(n);r&&isTableElement(r)&&getComputedStyle$1(r).position==="static";)r=getTrueOffsetParent(r);return r&&(getNodeName(r)==="html"||getNodeName(r)==="body"&&getComputedStyle$1(r).position==="static")?e:r||getContainingBlock(n)||e}function getMainAxisFromPlacement(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function within(n,e,r){return max(n,min(e,r))}function withinMaxClamp(n,e,r){var s=within(n,e,r);return s>r?r:s}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(n){return Object.assign({},getFreshSideObject(),n)}function expandToHashMap(n,e){return e.reduce(function(r,s){return r[s]=n,r},{})}var toPaddingObject=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,mergePaddingObject(typeof e!="number"?e:expandToHashMap(e,basePlacements))};function arrow(n){var e,r=n.state,s=n.name,a=n.options,l=r.elements.arrow,f=r.modifiersData.popperOffsets,c=getBasePlacement(r.placement),d=getMainAxisFromPlacement(c),g=[left,right].indexOf(c)>=0,b=g?"height":"width";if(!(!l||!f)){var m=toPaddingObject(a.padding,r),_=getLayoutRect(l),x=d==="y"?top:left,k=d==="y"?bottom:right,q=r.rects.reference[b]+r.rects.reference[d]-f[d]-r.rects.popper[b],j=f[d]-r.rects.reference[d],ne=getOffsetParent(l),se=ne?d==="y"?ne.clientHeight||0:ne.clientWidth||0:0,le=q/2-j/2,ue=m[x],he=se-_[b]-m[k],ge=se/2-_[b]/2+le,ve=within(ue,ge,he),_e=d;r.modifiersData[s]=(e={},e[_e]=ve,e.centerOffset=ve-ge,e)}}function effect$1(n){var e=n.state,r=n.options,s=r.element,a=s===void 0?"[data-popper-arrow]":s;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||contains(e.elements.popper,a)&&(e.elements.arrow=a))}var arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(n){return n.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(n){var e=n.x,r=n.y,s=window,a=s.devicePixelRatio||1;return{x:round(e*a)/a||0,y:round(r*a)/a||0}}function mapToStyles(n){var e,r=n.popper,s=n.popperRect,a=n.placement,l=n.variation,f=n.offsets,c=n.position,d=n.gpuAcceleration,g=n.adaptive,b=n.roundOffsets,m=n.isFixed,_=b===!0?roundOffsetsByDPR(f):typeof b=="function"?b(f):f,x=_.x,k=x===void 0?0:x,q=_.y,j=q===void 0?0:q,ne=f.hasOwnProperty("x"),se=f.hasOwnProperty("y"),le=left,ue=top,he=window;if(g){var ge=getOffsetParent(r),ve="clientHeight",_e="clientWidth";if(ge===getWindow(r)&&(ge=getDocumentElement(r),getComputedStyle$1(ge).position!=="static"&&c==="absolute"&&(ve="scrollHeight",_e="scrollWidth")),ge=ge,a===top||(a===left||a===right)&&l===end){ue=bottom;var ye=m&&he.visualViewport?he.visualViewport.height:ge[ve];j-=ye-s.height,j*=d?1:-1}if(a===left||(a===top||a===bottom)&&l===end){le=right;var be=m&&he.visualViewport?he.visualViewport.width:ge[_e];k-=be-s.width,k*=d?1:-1}}var He=Object.assign({position:c},g&&unsetSides);if(d){var Oe;return Object.assign({},He,(Oe={},Oe[ue]=se?"0":"",Oe[le]=ne?"0":"",Oe.transform=(he.devicePixelRatio||1)<=1?"translate("+k+"px, "+j+"px)":"translate3d("+k+"px, "+j+"px, 0)",Oe))}return Object.assign({},He,(e={},e[ue]=se?j+"px":"",e[le]=ne?k+"px":"",e.transform="",e))}function computeStyles(n){var e=n.state,r=n.options,s=r.gpuAcceleration,a=s===void 0?!0:s,l=r.adaptive,f=l===void 0?!0:l,c=r.roundOffsets,d=c===void 0?!0:c,g={placement:getBasePlacement(e.placement),variation:getVariation(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,mapToStyles(Object.assign({},g,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:f,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,mapToStyles(Object.assign({},g,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}},passive={passive:!0};function effect(n){var e=n.state,r=n.instance,s=n.options,a=s.scroll,l=a===void 0?!0:a,f=s.resize,c=f===void 0?!0:f,d=getWindow(e.elements.popper),g=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&g.forEach(function(b){b.addEventListener("scroll",r.update,passive)}),c&&d.addEventListener("resize",r.update,passive),function(){l&&g.forEach(function(b){b.removeEventListener("scroll",r.update,passive)}),c&&d.removeEventListener("resize",r.update,passive)}}var eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}},hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(n){return n.replace(/left|right|bottom|top/g,function(e){return hash$1[e]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(n){return n.replace(/start|end/g,function(e){return hash[e]})}function getWindowScroll(n){var e=getWindow(n),r=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:r,scrollTop:s}}function getWindowScrollBarX(n){return getBoundingClientRect(getDocumentElement(n)).left+getWindowScroll(n).scrollLeft}function getViewportRect(n){var e=getWindow(n),r=getDocumentElement(n),s=e.visualViewport,a=r.clientWidth,l=r.clientHeight,f=0,c=0;return s&&(a=s.width,l=s.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(f=s.offsetLeft,c=s.offsetTop)),{width:a,height:l,x:f+getWindowScrollBarX(n),y:c}}function getDocumentRect(n){var e,r=getDocumentElement(n),s=getWindowScroll(n),a=(e=n.ownerDocument)==null?void 0:e.body,l=max(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),f=max(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),c=-s.scrollLeft+getWindowScrollBarX(n),d=-s.scrollTop;return getComputedStyle$1(a||r).direction==="rtl"&&(c+=max(r.clientWidth,a?a.clientWidth:0)-l),{width:l,height:f,x:c,y:d}}function isScrollParent(n){var e=getComputedStyle$1(n),r=e.overflow,s=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+s)}function getScrollParent(n){return["html","body","#document"].indexOf(getNodeName(n))>=0?n.ownerDocument.body:isHTMLElement(n)&&isScrollParent(n)?n:getScrollParent(getParentNode(n))}function listScrollParents(n,e){var r;e===void 0&&(e=[]);var s=getScrollParent(n),a=s===((r=n.ownerDocument)==null?void 0:r.body),l=getWindow(s),f=a?[l].concat(l.visualViewport||[],isScrollParent(s)?s:[]):s,c=e.concat(f);return a?c:c.concat(listScrollParents(getParentNode(f)))}function rectToClientRect(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function getInnerBoundingClientRect(n){var e=getBoundingClientRect(n);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function getClientRectFromMixedType(n,e){return e===viewport?rectToClientRect(getViewportRect(n)):isElement(e)?getInnerBoundingClientRect(e):rectToClientRect(getDocumentRect(getDocumentElement(n)))}function getClippingParents(n){var e=listScrollParents(getParentNode(n)),r=["absolute","fixed"].indexOf(getComputedStyle$1(n).position)>=0,s=r&&isHTMLElement(n)?getOffsetParent(n):n;return isElement(s)?e.filter(function(a){return isElement(a)&&contains(a,s)&&getNodeName(a)!=="body"&&(r?getComputedStyle$1(a).position!=="static":!0)}):[]}function getClippingRect(n,e,r){var s=e==="clippingParents"?getClippingParents(n):[].concat(e),a=[].concat(s,[r]),l=a[0],f=a.reduce(function(c,d){var g=getClientRectFromMixedType(n,d);return c.top=max(g.top,c.top),c.right=min(g.right,c.right),c.bottom=min(g.bottom,c.bottom),c.left=max(g.left,c.left),c},getClientRectFromMixedType(n,l));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}function computeOffsets(n){var e=n.reference,r=n.element,s=n.placement,a=s?getBasePlacement(s):null,l=s?getVariation(s):null,f=e.x+e.width/2-r.width/2,c=e.y+e.height/2-r.height/2,d;switch(a){case top:d={x:f,y:e.y-r.height};break;case bottom:d={x:f,y:e.y+e.height};break;case right:d={x:e.x+e.width,y:c};break;case left:d={x:e.x-r.width,y:c};break;default:d={x:e.x,y:e.y}}var g=a?getMainAxisFromPlacement(a):null;if(g!=null){var b=g==="y"?"height":"width";switch(l){case start:d[g]=d[g]-(e[b]/2-r[b]/2);break;case end:d[g]=d[g]+(e[b]/2-r[b]/2);break}}return d}function detectOverflow(n,e){e===void 0&&(e={});var r=e,s=r.placement,a=s===void 0?n.placement:s,l=r.boundary,f=l===void 0?clippingParents:l,c=r.rootBoundary,d=c===void 0?viewport:c,g=r.elementContext,b=g===void 0?popper:g,m=r.altBoundary,_=m===void 0?!1:m,x=r.padding,k=x===void 0?0:x,q=mergePaddingObject(typeof k!="number"?k:expandToHashMap(k,basePlacements)),j=b===popper?reference:popper,ne=n.rects.popper,se=n.elements[_?j:b],le=getClippingRect(isElement(se)?se:se.contextElement||getDocumentElement(n.elements.popper),f,d),ue=getBoundingClientRect(n.elements.reference),he=computeOffsets({reference:ue,element:ne,strategy:"absolute",placement:a}),ge=rectToClientRect(Object.assign({},ne,he)),ve=b===popper?ge:ue,_e={top:le.top-ve.top+q.top,bottom:ve.bottom-le.bottom+q.bottom,left:le.left-ve.left+q.left,right:ve.right-le.right+q.right},ye=n.modifiersData.offset;if(b===popper&&ye){var be=ye[a];Object.keys(_e).forEach(function(He){var Oe=[right,bottom].indexOf(He)>=0?1:-1,Fe=[top,bottom].indexOf(He)>=0?"y":"x";_e[He]+=be[Fe]*Oe})}return _e}function computeAutoPlacement(n,e){e===void 0&&(e={});var r=e,s=r.placement,a=r.boundary,l=r.rootBoundary,f=r.padding,c=r.flipVariations,d=r.allowedAutoPlacements,g=d===void 0?placements:d,b=getVariation(s),m=b?c?variationPlacements:variationPlacements.filter(function(k){return getVariation(k)===b}):basePlacements,_=m.filter(function(k){return g.indexOf(k)>=0});_.length===0&&(_=m);var x=_.reduce(function(k,q){return k[q]=detectOverflow(n,{placement:q,boundary:a,rootBoundary:l,padding:f})[getBasePlacement(q)],k},{});return Object.keys(x).sort(function(k,q){return x[k]-x[q]})}function getExpandedFallbackPlacements(n){if(getBasePlacement(n)===auto)return[];var e=getOppositePlacement(n);return[getOppositeVariationPlacement(n),e,getOppositeVariationPlacement(e)]}function flip(n){var e=n.state,r=n.options,s=n.name;if(!e.modifiersData[s]._skip){for(var a=r.mainAxis,l=a===void 0?!0:a,f=r.altAxis,c=f===void 0?!0:f,d=r.fallbackPlacements,g=r.padding,b=r.boundary,m=r.rootBoundary,_=r.altBoundary,x=r.flipVariations,k=x===void 0?!0:x,q=r.allowedAutoPlacements,j=e.options.placement,ne=getBasePlacement(j),se=ne===j,le=d||(se||!k?[getOppositePlacement(j)]:getExpandedFallbackPlacements(j)),ue=[j].concat(le).reduce(function(qe,xe){return qe.concat(getBasePlacement(xe)===auto?computeAutoPlacement(e,{placement:xe,boundary:b,rootBoundary:m,padding:g,flipVariations:k,allowedAutoPlacements:q}):xe)},[]),he=e.rects.reference,ge=e.rects.popper,ve=new Map,_e=!0,ye=ue[0],be=0;be<ue.length;be++){var He=ue[be],Oe=getBasePlacement(He),Fe=getVariation(He)===start,De=[top,bottom].indexOf(Oe)>=0,We=De?"width":"height",ze=detectOverflow(e,{placement:He,boundary:b,rootBoundary:m,altBoundary:_,padding:g}),Ge=De?Fe?right:left:Fe?bottom:top;he[We]>ge[We]&&(Ge=getOppositePlacement(Ge));var Je=getOppositePlacement(Ge),Ue=[];if(l&&Ue.push(ze[Oe]<=0),c&&Ue.push(ze[Ge]<=0,ze[Je]<=0),Ue.every(function(qe){return qe})){ye=He,_e=!1;break}ve.set(He,Ue)}if(_e)for(var pe=k?3:1,ae=function(xe){var Xe=ue.find(function($e){var Ze=ve.get($e);if(Ze)return Ze.slice(0,xe).every(function(et){return et})});if(Xe)return ye=Xe,"break"},Se=pe;Se>0;Se--){var Pe=ae(Se);if(Pe==="break")break}e.placement!==ye&&(e.modifiersData[s]._skip=!0,e.placement=ye,e.reset=!0)}}var flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(n,e,r){return r===void 0&&(r={x:0,y:0}),{top:n.top-e.height-r.y,right:n.right-e.width+r.x,bottom:n.bottom-e.height+r.y,left:n.left-e.width-r.x}}function isAnySideFullyClipped(n){return[top,right,bottom,left].some(function(e){return n[e]>=0})}function hide(n){var e=n.state,r=n.name,s=e.rects.reference,a=e.rects.popper,l=e.modifiersData.preventOverflow,f=detectOverflow(e,{elementContext:"reference"}),c=detectOverflow(e,{altBoundary:!0}),d=getSideOffsets(f,s),g=getSideOffsets(c,a,l),b=isAnySideFullyClipped(d),m=isAnySideFullyClipped(g);e.modifiersData[r]={referenceClippingOffsets:d,popperEscapeOffsets:g,isReferenceHidden:b,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":b,"data-popper-escaped":m})}var hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(n,e,r){var s=getBasePlacement(n),a=[left,top].indexOf(s)>=0?-1:1,l=typeof r=="function"?r(Object.assign({},e,{placement:n})):r,f=l[0],c=l[1];return f=f||0,c=(c||0)*a,[left,right].indexOf(s)>=0?{x:c,y:f}:{x:f,y:c}}function offset(n){var e=n.state,r=n.options,s=n.name,a=r.offset,l=a===void 0?[0,0]:a,f=placements.reduce(function(b,m){return b[m]=distanceAndSkiddingToXY(m,e.rects,l),b},{}),c=f[e.placement],d=c.x,g=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=g),e.modifiersData[s]=f}var offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(n){var e=n.state,r=n.name;e.modifiersData[r]=computeOffsets({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(n){return n==="x"?"y":"x"}function preventOverflow(n){var e=n.state,r=n.options,s=n.name,a=r.mainAxis,l=a===void 0?!0:a,f=r.altAxis,c=f===void 0?!1:f,d=r.boundary,g=r.rootBoundary,b=r.altBoundary,m=r.padding,_=r.tether,x=_===void 0?!0:_,k=r.tetherOffset,q=k===void 0?0:k,j=detectOverflow(e,{boundary:d,rootBoundary:g,padding:m,altBoundary:b}),ne=getBasePlacement(e.placement),se=getVariation(e.placement),le=!se,ue=getMainAxisFromPlacement(ne),he=getAltAxis(ue),ge=e.modifiersData.popperOffsets,ve=e.rects.reference,_e=e.rects.popper,ye=typeof q=="function"?q(Object.assign({},e.rects,{placement:e.placement})):q,be=typeof ye=="number"?{mainAxis:ye,altAxis:ye}:Object.assign({mainAxis:0,altAxis:0},ye),He=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Oe={x:0,y:0};if(ge){if(l){var Fe,De=ue==="y"?top:left,We=ue==="y"?bottom:right,ze=ue==="y"?"height":"width",Ge=ge[ue],Je=Ge+j[De],Ue=Ge-j[We],pe=x?-_e[ze]/2:0,ae=se===start?ve[ze]:_e[ze],Se=se===start?-_e[ze]:-ve[ze],Pe=e.elements.arrow,qe=x&&Pe?getLayoutRect(Pe):{width:0,height:0},xe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Xe=xe[De],$e=xe[We],Ze=within(0,ve[ze],qe[ze]),et=le?ve[ze]/2-pe-Ze-Xe-be.mainAxis:ae-Ze-Xe-be.mainAxis,nt=le?-ve[ze]/2+pe+Ze+$e+be.mainAxis:Se+Ze+$e+be.mainAxis,it=e.elements.arrow&&getOffsetParent(e.elements.arrow),Ee=it?ue==="y"?it.clientTop||0:it.clientLeft||0:0,de=(Fe=He==null?void 0:He[ue])!=null?Fe:0,ce=Ge+et-de-Ee,we=Ge+nt-de,Be=within(x?min(Je,ce):Je,Ge,x?max(Ue,we):Ue);ge[ue]=Be,Oe[ue]=Be-Ge}if(c){var Ie,Ye=ue==="x"?top:left,Ke=ue==="x"?bottom:right,Re=ge[he],je=he==="y"?"height":"width",Ce=Re+j[Ye],Ne=Re-j[Ke],Te=[top,left].indexOf(ne)!==-1,ke=(Ie=He==null?void 0:He[he])!=null?Ie:0,rt=Te?Ce:Re-ve[je]-_e[je]-ke+be.altAxis,lt=Te?Re+ve[je]+_e[je]-ke-be.altAxis:Ne,ot=x&&Te?withinMaxClamp(rt,Re,lt):within(x?rt:Ce,Re,x?lt:Ne);ge[he]=ot,Oe[he]=ot-Re}e.modifiersData[s]=Oe}}var preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function getNodeScroll(n){return n===getWindow(n)||!isHTMLElement(n)?getWindowScroll(n):getHTMLElementScroll(n)}function isElementScaled(n){var e=n.getBoundingClientRect(),r=round(e.width)/n.offsetWidth||1,s=round(e.height)/n.offsetHeight||1;return r!==1||s!==1}function getCompositeRect(n,e,r){r===void 0&&(r=!1);var s=isHTMLElement(e),a=isHTMLElement(e)&&isElementScaled(e),l=getDocumentElement(e),f=getBoundingClientRect(n,a),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(s||!s&&!r)&&((getNodeName(e)!=="body"||isScrollParent(l))&&(c=getNodeScroll(e)),isHTMLElement(e)?(d=getBoundingClientRect(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):l&&(d.x=getWindowScrollBarX(l))),{x:f.left+c.scrollLeft-d.x,y:f.top+c.scrollTop-d.y,width:f.width,height:f.height}}function order(n){var e=new Map,r=new Set,s=[];n.forEach(function(l){e.set(l.name,l)});function a(l){r.add(l.name);var f=[].concat(l.requires||[],l.requiresIfExists||[]);f.forEach(function(c){if(!r.has(c)){var d=e.get(c);d&&a(d)}}),s.push(l)}return n.forEach(function(l){r.has(l.name)||a(l)}),s}function orderModifiers(n){var e=order(n);return modifierPhases.reduce(function(r,s){return r.concat(e.filter(function(a){return a.phase===s}))},[])}function debounce(n){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(n())})})),e}}function mergeByName(n){var e=n.reduce(function(r,s){var a=r[s.name];return r[s.name]=a?Object.assign({},a,s,{options:Object.assign({},a.options,s.options),data:Object.assign({},a.data,s.data)}):s,r},{});return Object.keys(e).map(function(r){return e[r]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function popperGenerator(n){n===void 0&&(n={});var e=n,r=e.defaultModifiers,s=r===void 0?[]:r,a=e.defaultOptions,l=a===void 0?DEFAULT_OPTIONS:a;return function(c,d,g){g===void 0&&(g=l);var b={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,l),modifiersData:{},elements:{reference:c,popper:d},attributes:{},styles:{}},m=[],_=!1,x={state:b,setOptions:function(ne){var se=typeof ne=="function"?ne(b.options):ne;q(),b.options=Object.assign({},l,b.options,se),b.scrollParents={reference:isElement(c)?listScrollParents(c):c.contextElement?listScrollParents(c.contextElement):[],popper:listScrollParents(d)};var le=orderModifiers(mergeByName([].concat(s,b.options.modifiers)));return b.orderedModifiers=le.filter(function(ue){return ue.enabled}),k(),x.update()},forceUpdate:function(){if(!_){var ne=b.elements,se=ne.reference,le=ne.popper;if(areValidElements(se,le)){b.rects={reference:getCompositeRect(se,getOffsetParent(le),b.options.strategy==="fixed"),popper:getLayoutRect(le)},b.reset=!1,b.placement=b.options.placement,b.orderedModifiers.forEach(function(be){return b.modifiersData[be.name]=Object.assign({},be.data)});for(var ue=0;ue<b.orderedModifiers.length;ue++){if(b.reset===!0){b.reset=!1,ue=-1;continue}var he=b.orderedModifiers[ue],ge=he.fn,ve=he.options,_e=ve===void 0?{}:ve,ye=he.name;typeof ge=="function"&&(b=ge({state:b,options:_e,name:ye,instance:x})||b)}}}},update:debounce(function(){return new Promise(function(j){x.forceUpdate(),j(b)})}),destroy:function(){q(),_=!0}};if(!areValidElements(c,d))return x;x.setOptions(g).then(function(j){!_&&g.onFirstUpdate&&g.onFirstUpdate(j)});function k(){b.orderedModifiers.forEach(function(j){var ne=j.name,se=j.options,le=se===void 0?{}:se,ue=j.effect;if(typeof ue=="function"){var he=ue({state:b,name:ne,instance:x,options:le}),ge=function(){};m.push(he||ge)}})}function q(){m.forEach(function(j){return j()}),m=[]}return x}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers}),smileys_people="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxNiA0IEMgOS4zODI4MTMgNCA0IDkuMzgyODEzIDQgMTYgQyA0IDIyLjYxNzE4OCA5LjM4MjgxMyAyOCAxNiAyOCBDIDIyLjYxNzE4OCAyOCAyOCAyMi42MTcxODggMjggMTYgQyAyOCA5LjM4MjgxMyAyMi42MTcxODggNCAxNiA0IFogTSAxNiA2IEMgMjEuNTM1MTU2IDYgMjYgMTAuNDY0ODQ0IDI2IDE2IEMgMjYgMjEuNTM1MTU2IDIxLjUzNTE1NiAyNiAxNiAyNiBDIDEwLjQ2NDg0NCAyNiA2IDIxLjUzNTE1NiA2IDE2IEMgNiAxMC40NjQ4NDQgMTAuNDY0ODQ0IDYgMTYgNiBaIE0gMTEuNSAxMiBDIDEwLjY3MTg3NSAxMiAxMCAxMi42NzE4NzUgMTAgMTMuNSBDIDEwIDE0LjMyODEyNSAxMC42NzE4NzUgMTUgMTEuNSAxNSBDIDEyLjMyODEyNSAxNSAxMyAxNC4zMjgxMjUgMTMgMTMuNSBDIDEzIDEyLjY3MTg3NSAxMi4zMjgxMjUgMTIgMTEuNSAxMiBaIE0gMjAuNSAxMiBDIDE5LjY3MTg3NSAxMiAxOSAxMi42NzE4NzUgMTkgMTMuNSBDIDE5IDE0LjMyODEyNSAxOS42NzE4NzUgMTUgMjAuNSAxNSBDIDIxLjMyODEyNSAxNSAyMiAxNC4zMjgxMjUgMjIgMTMuNSBDIDIyIDEyLjY3MTg3NSAyMS4zMjgxMjUgMTIgMjAuNSAxMiBaIE0gMTAuODEyNSAxOSBMIDkuMDkzNzUgMjAgQyAxMC40NzY1NjMgMjIuMzg2NzE5IDEzLjA0Njg3NSAyNCAxNiAyNCBDIDE4Ljk1MzEyNSAyNCAyMS41MjM0MzggMjIuMzg2NzE5IDIyLjkwNjI1IDIwIEwgMjEuMTg3NSAxOSBDIDIwLjE0ODQzOCAyMC43OTI5NjkgMTguMjI2NTYzIDIyIDE2IDIyIEMgMTMuNzczNDM4IDIyIDExLjg1MTU2MyAyMC43OTI5NjkgMTAuODEyNSAxOSBaIi8+PC9zdmc+";function unicodeToEmoji(n){return n.split("-").map(e=>parseInt(e,16)).map(e=>String.fromCodePoint(e)).join("")}function filterEmojis(n,e,r,s=[]){const a={};return Object.keys(n).forEach(l=>{if(s.includes(l))return;const f=[];n[l].forEach(c=>{var d;if(c[EMOJI_NAME_KEY][0].includes(e.toLocaleLowerCase())){let g=c[EMOJI_UNICODE_KEY];if(r!==SKIN_TONE_NEUTRAL&&Array.isArray(c[EMOJI_VARIATIONS_KEY])){const b=((d=c[EMOJI_VARIATIONS_KEY])==null?void 0:d.findIndex(m=>m.includes(r)))||-1;b!==-1&&c[EMOJI_VARIATIONS_KEY]&&(g=c[EMOJI_VARIATIONS_KEY][b])}return f.push(__spreadProps(__spreadValues({},c),{[EMOJI_RESULT_KEY]:g}))}}),f.length&&(a[l]=f)}),a}function isMac(){var n;return(((n=navigator==null?void 0:navigator.userAgentData)==null?void 0:n.platform)||(navigator==null?void 0:navigator.platform)||"unknown").toUpperCase().indexOf("MAC")!==-1}function snakeToCapitalizedCase(n){return n.replace(/^_*(.)|_+(.)/g,(e,r,s)=>r?r.toUpperCase():" "+s.toUpperCase())}var _export_sfc=(n,e)=>{for(const[r,s]of e)n[r]=s;return n};const _sfc_main$4=defineComponent({name:"Body",setup(){const{state:n,updateEmoji:e,updateSelect:r}=inject("store"),s=ref(null),a=computed(()=>filterEmojis(n.emojis,n.search,n.skinTone,n.options.disabledGroups)),l=getCurrentInstance(),f=computed(()=>!n.options.hideGroupNames),c=computed(()=>!n.options.disableStickyGroupNames),d=toRaw(n.options.groupNames),g=n.orderedGroupKeys;n.options.additionalGroups&&Object.keys(n.options.additionalGroups).map(k=>{n.options.groupNames[k]?d[k]=n.options.groupNames[k]:d[k]=snakeToCapitalizedCase(k)});const b=isMac()?"is-mac":"";function m(k){e(k)}function _(k){r(k),l==null||l.emit("select",__spreadProps(__spreadValues({},k),{t:n.skinTone,i:unicodeToEmoji(k.r)}))}function x(k,q){var j;const ne=(j=k==null?void 0:k.target)==null?void 0:j.closest("button");ne&&(ne.innerHTML=`<span>${unicodeToEmoji(q)}</span>`)}return watch(()=>n.activeGroup,()=>{var k;const q=(k=s.value)==null?void 0:k.querySelector("#"+n.activeGroup);q&&(q.parentNode.scrollTop=q.offsetTop-q.parentNode.offsetTop)}),{emojis:a,bodyInner:s,EMOJI_REMOTE_SRC,GROUP_NAMES,handleClick:_,handleError:x,handleMouseEnter:m,native:n.options.native,unicodeToEmoji,EMOJI_RESULT_KEY,EMOJI_NAME_KEY,hasGroupNames:f,isSticky:c,platform:b,groupNames:d,orderedKeys:g}}}),_hoisted_1$3={class:"v3-body"},_hoisted_2$3=["id"],_hoisted_3$3={class:"v3-emojis"},_hoisted_4$3=["onMouseenter","onClick"],_hoisted_5$3={key:0},_hoisted_6$2=["src","alt","onError"],_hoisted_7$1={key:1,class:"v3-no-result"};function _sfc_render$4(n,e,r,s,a,l){return openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("div",{ref:"bodyInner",class:normalizeClass([n.platform,"v3-body-inner"])},[n.orderedKeys.length?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(n.orderedKeys,f=>(openBlock(),createElementBlock("div",{id:f,key:f,class:"v3-group"},[n.hasGroupNames?withDirectives((openBlock(),createElementBlock("h5",{key:0,class:normalizeClass(n.isSticky?"v3-sticky":"")},toDisplayString$1(n.groupNames[f]),3)),[[vShow,n.emojis[f]]]):createCommentVNode("",!0),withDirectives(createBaseVNode("div",_hoisted_3$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.emojis[f],c=>(openBlock(),createElementBlock("button",{key:c.r,type:"button",onMouseenter:d=>n.handleMouseEnter(c),onClick:d=>n.handleClick(c)},[n.native?(openBlock(),createElementBlock("span",_hoisted_5$3,toDisplayString$1(n.unicodeToEmoji(c.r)),1)):(openBlock(),createElementBlock("img",{key:1,src:n.EMOJI_REMOTE_SRC+`/${c.r}.png`,alt:c.n[0],onError:d=>n.handleError(d,c.r)},null,40,_hoisted_6$2))],40,_hoisted_4$3))),128))],512),[[vShow,n.emojis[f]]])],8,_hoisted_2$3))),128)):(openBlock(),createElementBlock("span",_hoisted_7$1," No emoji has been found! "))],2)])}var Body=_export_sfc(_sfc_main$4,[["render",_sfc_render$4]]),animals_nature="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxMi41IDUgQyAxMS40Mjk2ODggNSAxMC41IDUuNjA5Mzc1IDkuOTA2MjUgNi40Mzc1IEMgOS4zMTI1IDcuMjY1NjI1IDkgOC4zMzk4NDQgOSA5LjUgQyA5IDEwLjY2MDE1NiA5LjMxMjUgMTEuNzM0Mzc1IDkuOTA2MjUgMTIuNTYyNSBDIDEwLjUgMTMuMzkwNjI1IDExLjQyOTY4OCAxNCAxMi41IDE0IEMgMTMuNTcwMzEzIDE0IDE0LjUgMTMuMzkwNjI1IDE1LjA5Mzc1IDEyLjU2MjUgQyAxNS42ODc1IDExLjczNDM3NSAxNiAxMC42NjAxNTYgMTYgOS41IEMgMTYgOC4zMzk4NDQgMTUuNjg3NSA3LjI2NTYyNSAxNS4wOTM3NSA2LjQzNzUgQyAxNC41IDUuNjA5Mzc1IDEzLjU3MDMxMyA1IDEyLjUgNSBaIE0gMTYgOS41IEMgMTYgMTAuNjYwMTU2IDE2LjMxMjUgMTEuNzM0Mzc1IDE2LjkwNjI1IDEyLjU2MjUgQyAxNy41IDEzLjM5MDYyNSAxOC40Mjk2ODggMTQgMTkuNSAxNCBDIDIwLjU3MDMxMyAxNCAyMS41IDEzLjM5MDYyNSAyMi4wOTM3NSAxMi41NjI1IEMgMjIuNjg3NSAxMS43MzQzNzUgMjMgMTAuNjYwMTU2IDIzIDkuNSBDIDIzIDguMzM5ODQ0IDIyLjY4NzUgNy4yNjU2MjUgMjIuMDkzNzUgNi40Mzc1IEMgMjEuNSA1LjYwOTM3NSAyMC41NzAzMTMgNSAxOS41IDUgQyAxOC40Mjk2ODggNSAxNy41IDUuNjA5Mzc1IDE2LjkwNjI1IDYuNDM3NSBDIDE2LjMxMjUgNy4yNjU2MjUgMTYgOC4zMzk4NDQgMTYgOS41IFogTSAxMi41IDcgQyAxMi44MTI1IDcgMTMuMTU2MjUgNy4xNTYyNSAxMy40Njg3NSA3LjU5Mzc1IEMgMTMuNzgxMjUgOC4wMzEyNSAxNCA4LjcyNjU2MyAxNCA5LjUgQyAxNCAxMC4yNzM0MzggMTMuNzgxMjUgMTAuOTY4NzUgMTMuNDY4NzUgMTEuNDA2MjUgQyAxMy4xNTYyNSAxMS44NDM3NSAxMi44MTI1IDEyIDEyLjUgMTIgQyAxMi4xODc1IDEyIDExLjg0Mzc1IDExLjg0Mzc1IDExLjUzMTI1IDExLjQwNjI1IEMgMTEuMjE4NzUgMTAuOTY4NzUgMTEgMTAuMjczNDM4IDExIDkuNSBDIDExIDguNzI2NTYzIDExLjIxODc1IDguMDMxMjUgMTEuNTMxMjUgNy41OTM3NSBDIDExLjg0Mzc1IDcuMTU2MjUgMTIuMTg3NSA3IDEyLjUgNyBaIE0gMTkuNSA3IEMgMTkuODEyNSA3IDIwLjE1NjI1IDcuMTU2MjUgMjAuNDY4NzUgNy41OTM3NSBDIDIwLjc4MTI1IDguMDMxMjUgMjEgOC43MjY1NjMgMjEgOS41IEMgMjEgMTAuMjczNDM4IDIwLjc4MTI1IDEwLjk2ODc1IDIwLjQ2ODc1IDExLjQwNjI1IEMgMjAuMTU2MjUgMTEuODQzNzUgMTkuODEyNSAxMiAxOS41IDEyIEMgMTkuMTg3NSAxMiAxOC44NDM3NSAxMS44NDM3NSAxOC41MzEyNSAxMS40MDYyNSBDIDE4LjIxODc1IDEwLjk2ODc1IDE4IDEwLjI3MzQzOCAxOCA5LjUgQyAxOCA4LjcyNjU2MyAxOC4yMTg3NSA4LjAzMTI1IDE4LjUzMTI1IDcuNTkzNzUgQyAxOC44NDM3NSA3LjE1NjI1IDE5LjE4NzUgNyAxOS41IDcgWiBNIDcuNSAxMiBDIDYuNDI5Njg4IDEyIDUuNSAxMi42MDkzNzUgNC45MDYyNSAxMy40Mzc1IEMgNC4zMTI1IDE0LjI2NTYyNSA0IDE1LjMzOTg0NCA0IDE2LjUgQyA0IDE3LjY2MDE1NiA0LjMxMjUgMTguNzM0Mzc1IDQuOTA2MjUgMTkuNTYyNSBDIDUuNSAyMC4zOTA2MjUgNi40Mjk2ODggMjEgNy41IDIxIEMgOC41NzAzMTMgMjEgOS41IDIwLjM5MDYyNSAxMC4wOTM3NSAxOS41NjI1IEMgMTAuNjg3NSAxOC43MzQzNzUgMTEgMTcuNjYwMTU2IDExIDE2LjUgQyAxMSAxNS4zMzk4NDQgMTAuNjg3NSAxNC4yNjU2MjUgMTAuMDkzNzUgMTMuNDM3NSBDIDkuNSAxMi42MDkzNzUgOC41NzAzMTMgMTIgNy41IDEyIFogTSAyNC41IDEyIEMgMjMuNDI5Njg4IDEyIDIyLjUgMTIuNjA5Mzc1IDIxLjkwNjI1IDEzLjQzNzUgQyAyMS4zMTI1IDE0LjI2NTYyNSAyMSAxNS4zMzk4NDQgMjEgMTYuNSBDIDIxIDE3LjY2MDE1NiAyMS4zMTI1IDE4LjczNDM3NSAyMS45MDYyNSAxOS41NjI1IEMgMjIuNSAyMC4zOTA2MjUgMjMuNDI5Njg4IDIxIDI0LjUgMjEgQyAyNS41NzAzMTMgMjEgMjYuNSAyMC4zOTA2MjUgMjcuMDkzNzUgMTkuNTYyNSBDIDI3LjY4NzUgMTguNzM0Mzc1IDI4IDE3LjY2MDE1NiAyOCAxNi41IEMgMjggMTUuMzM5ODQ0IDI3LjY4NzUgMTQuMjY1NjI1IDI3LjA5Mzc1IDEzLjQzNzUgQyAyNi41IDEyLjYwOTM3NSAyNS41NzAzMTMgMTIgMjQuNSAxMiBaIE0gNy41IDE0IEMgNy44MTI1IDE0IDguMTU2MjUgMTQuMTU2MjUgOC40Njg3NSAxNC41OTM3NSBDIDguNzgxMjUgMTUuMDMxMjUgOSAxNS43MjY1NjMgOSAxNi41IEMgOSAxNy4yNzM0MzggOC43ODEyNSAxNy45Njg3NSA4LjQ2ODc1IDE4LjQwNjI1IEMgOC4xNTYyNSAxOC44NDM3NSA3LjgxMjUgMTkgNy41IDE5IEMgNy4xODc1IDE5IDYuODQzNzUgMTguODQzNzUgNi41MzEyNSAxOC40MDYyNSBDIDYuMjE4NzUgMTcuOTY4NzUgNiAxNy4yNzM0MzggNiAxNi41IEMgNiAxNS43MjY1NjMgNi4yMTg3NSAxNS4wMzEyNSA2LjUzMTI1IDE0LjU5Mzc1IEMgNi44NDM3NSAxNC4xNTYyNSA3LjE4NzUgMTQgNy41IDE0IFogTSAyNC41IDE0IEMgMjQuODEyNSAxNCAyNS4xNTYyNSAxNC4xNTYyNSAyNS40Njg3NSAxNC41OTM3NSBDIDI1Ljc4MTI1IDE1LjAzMTI1IDI2IDE1LjcyNjU2MyAyNiAxNi41IEMgMjYgMTcuMjczNDM4IDI1Ljc4MTI1IDE3Ljk2ODc1IDI1LjQ2ODc1IDE4LjQwNjI1IEMgMjUuMTU2MjUgMTguODQzNzUgMjQuODEyNSAxOSAyNC41IDE5IEMgMjQuMTg3NSAxOSAyMy44NDM3NSAxOC44NDM3NSAyMy41MzEyNSAxOC40MDYyNSBDIDIzLjIxODc1IDE3Ljk2ODc1IDIzIDE3LjI3MzQzOCAyMyAxNi41IEMgMjMgMTUuNzI2NTYzIDIzLjIxODc1IDE1LjAzMTI1IDIzLjUzMTI1IDE0LjU5Mzc1IEMgMjMuODQzNzUgMTQuMTU2MjUgMjQuMTg3NSAxNCAyNC41IDE0IFogTSAxNiAxNiBDIDE0LjY2Nzk2OSAxNiAxMy43MzgyODEgMTYuODY3MTg4IDEzLjI4MTI1IDE3LjYyNSBDIDEyLjgyNDIxOSAxOC4zODI4MTMgMTIuNTQ2ODc1IDE5LjAxNTYyNSAxMi4yODEyNSAxOS4yODEyNSBDIDEyLjEyNSAxOS40Mzc1IDExLjE2MDE1NiAxOS44MDA3ODEgMTAuMTU2MjUgMjAuMzEyNSBDIDkuNjUyMzQ0IDIwLjU3MDMxMyA5LjE0NDUzMSAyMC45MTQwNjMgOC43MTg3NSAyMS40Mzc1IEMgOC4yOTI5NjkgMjEuOTYwOTM4IDggMjIuNjg3NSA4IDIzLjUgQyA4IDI1LjQyMTg3NSA5LjU3ODEyNSAyNyAxMS41IDI3IEMgMTIuMzY3MTg4IDI3IDEzLjI2OTUzMSAyNi43MjI2NTYgMTQuMTU2MjUgMjYuNDY4NzUgQyAxNS4wNDI5NjkgMjYuMjE0ODQ0IDE2IDI2IDE2IDI2IEMgMTYgMjYgMTYuOTU3MDMxIDI2LjIxNDg0NCAxNy44NDM3NSAyNi40Njg3NSBDIDE4LjczMDQ2OSAyNi43MjI2NTYgMTkuNjMyODEzIDI3IDIwLjUgMjcgQyAyMi40MjE4NzUgMjcgMjQgMjUuNDIxODc1IDI0IDIzLjUgQyAyNCAyMi43MDcwMzEgMjMuNzA3MDMxIDIxLjk4MDQ2OSAyMy4yODEyNSAyMS40Njg3NSBDIDIyLjg1NTQ2OSAyMC45NTcwMzEgMjIuMzQzNzUgMjAuNjQwNjI1IDIxLjg0Mzc1IDIwLjM3NSBDIDIwLjg0Mzc1IDE5Ljg0Mzc1IDE5Ljg1OTM3NSAxOS40MjE4NzUgMTkuNzE4NzUgMTkuMjgxMjUgQyAxOS40ODA0NjkgMTkuMDQyOTY5IDE5LjIxMDkzOCAxOC4zOTA2MjUgMTguNzUgMTcuNjI1IEMgMTguMjg5MDYzIDE2Ljg1OTM3NSAxNy4zMzk4NDQgMTYgMTYgMTYgWiBNIDE2IDE4IEMgMTYuNjYwMTU2IDE4IDE2LjczNDM3NSAxOC4xNjAxNTYgMTcuMDMxMjUgMTguNjU2MjUgQyAxNy4zMjgxMjUgMTkuMTUyMzQ0IDE3LjU1NDY4OCAxOS45OTIxODggMTguMjgxMjUgMjAuNzE4NzUgQyAxOS4xMDU0NjkgMjEuNTQyOTY5IDIwLjE0ODQzOCAyMS43MjI2NTYgMjAuOTA2MjUgMjIuMTI1IEMgMjEuMjg1MTU2IDIyLjMyODEyNSAyMS41NzgxMjUgMjIuNTQyOTY5IDIxLjc1IDIyLjc1IEMgMjEuOTIxODc1IDIyLjk1NzAzMSAyMiAyMy4xNDg0MzggMjIgMjMuNSBDIDIyIDI0LjMzOTg0NCAyMS4zMzk4NDQgMjUgMjAuNSAyNSBDIDIwLjIxMDkzOCAyNSAxOS4yNzczNDQgMjQuNzc3MzQ0IDE4LjQwNjI1IDI0LjUzMTI1IEMgMTcuNTM1MTU2IDI0LjI4NTE1NiAxNi44MTY0MDYgMjQgMTYgMjQgQyAxNS4xODM1OTQgMjQgMTQuNDY0ODQ0IDI0LjI4NTE1NiAxMy41OTM3NSAyNC41MzEyNSBDIDEyLjcyMjY1NiAyNC43NzczNDQgMTEuNzg5MDYzIDI1IDExLjUgMjUgQyAxMC42NjAxNTYgMjUgMTAgMjQuMzM5ODQ0IDEwIDIzLjUgQyAxMCAyMy4wOTc2NTYgMTAuMDgyMDMxIDIyLjg5MDYyNSAxMC4yNSAyMi42ODc1IEMgMTAuNDE3OTY5IDIyLjQ4NDM3NSAxMC43MjI2NTYgMjIuMjg1MTU2IDExLjA5Mzc1IDIyLjA5Mzc1IEMgMTEuODM5ODQ0IDIxLjcxNDg0NCAxMi44NzUgMjEuNTYyNSAxMy43MTg3NSAyMC43MTg3NSBDIDE0LjQ1MzEyNSAxOS45ODQzNzUgMTQuNjc1NzgxIDE5LjExNzE4OCAxNC45Njg3NSAxOC42MjUgQyAxNS4yNjE3MTkgMTguMTMyODEzIDE1LjMzMjAzMSAxOCAxNiAxOCBaIi8+PC9zdmc+",food_drink="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxMSAzIEwgMTEgNyBMIDEzIDcgTCAxMyAzIFogTSAxNSA0IEwgMTUgNyBMIDE3IDcgTCAxNyA0IFogTSA0Ljg3NSA4IEwgNSA5LjA5Mzc1IEwgNi44MTI1IDI2LjMxMjUgQyA2Ljk3MjY1NiAyNy44MzIwMzEgOC4yODUxNTYgMjkgOS44MTI1IDI5IEwgMTkuMTg3NSAyOSBDIDIwLjcxNDg0NCAyOSAyMi4wMjczNDQgMjcuODMyMDMxIDIyLjE4NzUgMjYuMzEyNSBMIDIyLjY1NjI1IDIyIEwgMjUgMjIgQyAyNi42NDQ1MzEgMjIgMjggMjAuNjQ0NTMxIDI4IDE5IEwgMjggMTYgQyAyOCAxNC4zNTU0NjkgMjYuNjQ0NTMxIDEzIDI1IDEzIEwgMjMuNTkzNzUgMTMgTCAyNCA5LjA5Mzc1IEwgMjQuMTI1IDggWiBNIDcuMTI1IDEwIEwgMjEuODc1IDEwIEwgMjAuMTg3NSAyNi4wOTM3NSBDIDIwLjEzMjgxMyAyNi42MTMyODEgMTkuNzA3MDMxIDI3IDE5LjE4NzUgMjcgTCA5LjgxMjUgMjcgQyA5LjI5Mjk2OSAyNyA4Ljg2NzE4OCAyNi42MTMyODEgOC44MTI1IDI2LjA5Mzc1IFogTSAyMy4zNzUgMTUgTCAyNSAxNSBDIDI1LjU2NjQwNiAxNSAyNiAxNS40MzM1OTQgMjYgMTYgTCAyNiAxOSBDIDI2IDE5LjU2NjQwNiAyNS41NjY0MDYgMjAgMjUgMjAgTCAyMi44NDM3NSAyMCBaIi8+PC9zdmc+",activities="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxNiAzIEMgOC44MzIwMzEgMyAzIDguODMyMDMxIDMgMTYgQyAzIDIzLjE2Nzk2OSA4LjgzMjAzMSAyOSAxNiAyOSBDIDIzLjE2Nzk2OSAyOSAyOSAyMy4xNjc5NjkgMjkgMTYgQyAyOSA4LjgzMjAzMSAyMy4xNjc5NjkgMyAxNiAzIFogTSAxNiA1IEMgMTYuNjAxNTYzIDUgMTcuMTc1NzgxIDUuMDYyNSAxNy43NSA1LjE1NjI1IEwgMTYgNi40MDYyNSBMIDE0LjI1IDUuMTU2MjUgQyAxNC44MjAzMTMgNS4wNjY0MDYgMTUuNDAyMzQ0IDUgMTYgNSBaIE0gMTEuODEyNSA1Ljg0Mzc1IEwgMTUuNDA2MjUgOC40Njg3NSBMIDE2IDguOTA2MjUgTCAxNi41OTM3NSA4LjQ2ODc1IEwgMjAuMTg3NSA1Ljg0Mzc1IEMgMjEuNzg1MTU2IDYuNTA3ODEzIDIzLjE5NTMxMyA3LjUyMzQzOCAyNC4zMTI1IDguODEyNSBMIDIyLjkzNzUgMTMuMDkzNzUgTCAyMi43MTg3NSAxMy43ODEyNSBMIDIzLjMxMjUgMTQuMTg3NSBMIDI2LjkzNzUgMTYuODQzNzUgQyAyNi44MDQ2ODggMTguNjA1NDY5IDI2LjI2NTYyNSAyMC4yNTc4MTMgMjUuNDA2MjUgMjEuNjg3NSBMIDIwLjEyNSAyMS42ODc1IEwgMTkuOTA2MjUgMjIuMzc1IEwgMTguNSAyNi43MTg3NSBDIDE3LjY5OTIxOSAyNi45MDYyNSAxNi44NTkzNzUgMjcgMTYgMjcgQyAxNS4xMDU0NjkgMjcgMTQuMjM4MjgxIDI2Ljg4NjcxOSAxMy40MDYyNSAyNi42ODc1IEwgMTIuMDMxMjUgMjIuNDA2MjUgTCAxMS44MTI1IDIxLjcxODc1IEwgNi41OTM3NSAyMS43MTg3NSBDIDUuNzE4NzUgMjAuMjgxMjUgNS4xOTkyMTkgMTguNjIxMDk0IDUuMDYyNSAxNi44NDM3NSBMIDguNjU2MjUgMTQuMjE4NzUgTCA5LjI1IDEzLjgxMjUgTCA5LjAzMTI1IDEzLjEyNSBMIDcuNjI1IDguODc1IEMgOC43NSA3LjU1NDY4OCAxMC4xODM1OTQgNi41MTU2MjUgMTEuODEyNSA1Ljg0Mzc1IFogTSAxNiAxMC4wOTM3NSBMIDE1LjQwNjI1IDEwLjUzMTI1IEwgMTAuODQzNzUgMTMuODQzNzUgTCAxMC4yODEyNSAxNC4yODEyNSBMIDEwLjUgMTQuOTY4NzUgTCAxMi4yNSAyMC4zMTI1IEwgMTIuNDY4NzUgMjEgTCAxOS41MzEyNSAyMSBMIDE5Ljc1IDIwLjMxMjUgTCAyMS41IDE0Ljk2ODc1IEwgMjEuNzE4NzUgMTQuMjgxMjUgTCAyMS4xNTYyNSAxMy44NDM3NSBMIDE2LjU5Mzc1IDEwLjUzMTI1IFogTSAyNS43NSAxMC45MDYyNSBDIDI2LjI5Njg3NSAxMS45NTMxMjUgMjYuNjU2MjUgMTMuMTAxNTYzIDI2Ljg0Mzc1IDE0LjMxMjUgTCAyNS4wNjI1IDEzLjAzMTI1IFogTSA2LjIxODc1IDEwLjk2ODc1IEwgNi45MDYyNSAxMy4wMzEyNSBMIDUuMTU2MjUgMTQuMzEyNSBDIDUuMzM5ODQ0IDEzLjEyNSA1LjY4NzUgMTIgNi4yMTg3NSAxMC45Njg3NSBaIE0gMTYgMTIuNTkzNzUgTCAxOS4zNzUgMTUuMDMxMjUgTCAxOC4wOTM3NSAxOSBMIDEzLjkwNjI1IDE5IEwgMTIuNjI1IDE1LjAzMTI1IFogTSAyMS41OTM3NSAyMy42ODc1IEwgMjMuODQzNzUgMjMuNjg3NSBDIDIyLjk5MjE4OCAyNC41NjY0MDYgMjIuMDExNzE5IDI1LjI5Mjk2OSAyMC45MDYyNSAyNS44NDM3NSBaIE0gOC4xNTYyNSAyMy43MTg3NSBMIDEwLjM0Mzc1IDIzLjcxODc1IEwgMTEuMDMxMjUgMjUuODEyNSBDIDkuOTYwOTM4IDI1LjI2OTUzMSA4Ljk4ODI4MSAyNC41NjI1IDguMTU2MjUgMjMuNzE4NzUgWiIvPjwvc3ZnPg==",travel_places="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSA5LjUgNiBDIDguMTc5Njg4IDYgNy4wMDM5MDYgNi44NTkzNzUgNi42MjUgOC4xMjUgTCA1LjI1IDEyLjcxODc1IEwgMy4zMTI1IDEyLjA2MjUgTCAyLjY4NzUgMTMuOTM3NSBMIDQuNjU2MjUgMTQuNTkzNzUgTCA0LjAzMTI1IDE2LjcxODc1IEMgNC4wMDc4MTMgMTYuODA4NTk0IDMuOTk2MDk0IDE2LjkwNjI1IDQgMTcgTCA0IDI0IEMgNCAyNC4wMzEyNSA0IDI0LjA2MjUgNCAyNC4wOTM3NSBMIDQgMjUgQyA0IDI1LjU1MDc4MSA0LjQ0OTIxOSAyNiA1IDI2IEwgOCAyNiBMIDguMzQzNzUgMjUgTCAyMy42NTYyNSAyNSBMIDI0IDI2IEwgMjcgMjYgQyAyNy41NTA3ODEgMjYgMjggMjUuNTUwNzgxIDI4IDI1IEwgMjggMjQuMTU2MjUgQyAyOC4wMDM5MDYgMjQuMTA1NDY5IDI4LjAwMzkwNiAyNC4wNTA3ODEgMjggMjQgTCAyOCAxNyBDIDI4LjAwMzkwNiAxNi45MDYyNSAyNy45OTIxODggMTYuODA4NTk0IDI3Ljk2ODc1IDE2LjcxODc1IEwgMjcuMzQzNzUgMTQuNTkzNzUgTCAyOS4zMTI1IDEzLjkzNzUgTCAyOC42ODc1IDEyLjA2MjUgTCAyNi43NSAxMi43MTg3NSBMIDI1LjM3NSA4LjEyNSBDIDI0Ljk5NjA5NCA2Ljg1OTM3NSAyMy44MjAzMTMgNiAyMi41IDYgWiBNIDkuNSA4IEwgMjIuNSA4IEMgMjIuOTQ1MzEzIDggMjMuMzM5ODQ0IDguMjkyOTY5IDIzLjQ2ODc1IDguNzE4NzUgTCAyNC43NSAxMyBMIDcuMjUgMTMgTCA4LjUzMTI1IDguNzE4NzUgQyA4LjY2MDE1NiA4LjI4OTA2MyA5LjA1NDY4OCA4IDkuNSA4IFogTSA2LjY1NjI1IDE1IEwgMjUuMzQzNzUgMTUgTCAyNiAxNy4xODc1IEwgMjYgMjMgTCA2IDIzIEwgNiAxNy4xODc1IFogTSA4LjUgMTYgQyA3LjY3MTg3NSAxNiA3IDE2LjY3MTg3NSA3IDE3LjUgQyA3IDE4LjMyODEyNSA3LjY3MTg3NSAxOSA4LjUgMTkgQyA5LjMyODEyNSAxOSAxMCAxOC4zMjgxMjUgMTAgMTcuNSBDIDEwIDE2LjY3MTg3NSA5LjMyODEyNSAxNiA4LjUgMTYgWiBNIDIzLjUgMTYgQyAyMi42NzE4NzUgMTYgMjIgMTYuNjcxODc1IDIyIDE3LjUgQyAyMiAxOC4zMjgxMjUgMjIuNjcxODc1IDE5IDIzLjUgMTkgQyAyNC4zMjgxMjUgMTkgMjUgMTguMzI4MTI1IDI1IDE3LjUgQyAyNSAxNi42NzE4NzUgMjQuMzI4MTI1IDE2IDIzLjUgMTYgWiBNIDEyIDE5IEwgMTAuNzUgMjIgTCAxMi45MDYyNSAyMiBMIDEzLjM0Mzc1IDIxIEwgMTguNjU2MjUgMjEgTCAxOS4wOTM3NSAyMiBMIDIxLjI1IDIyIEwgMjAgMTkgWiIvPjwvc3ZnPg==",objects="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxNiA0IEMgMTEuMDQyOTY5IDQgNyA4LjA0Mjk2OSA3IDEzIEMgNyAxNC45MTc5NjkgNy44NDM3NSAxNi45MDYyNSA5IDE4LjY4NzUgQyA5Ljg1OTM3NSAyMC4wMTE3MTkgMTAuODg2NzE5IDIxLjIzMDQ2OSAxMiAyMi4xNTYyNSBMIDEyIDI1IEMgMTIgMjYuMDkzNzUgMTIuOTA2MjUgMjcgMTQgMjcgTCAxNSAyOCBMIDE3IDI4IEwgMTggMjcgQyAxOS4wOTM3NSAyNyAyMCAyNi4wOTM3NSAyMCAyNSBMIDIwIDIyLjE1NjI1IEMgMjEuMTEzMjgxIDIxLjIzMDQ2OSAyMi4xNDA2MjUgMjAuMDExNzE5IDIzIDE4LjY4NzUgQyAyNC4xNTYyNSAxNi45MDYyNSAyNSAxNC45MTc5NjkgMjUgMTMgQyAyNSA4LjA0Mjk2OSAyMC45NTcwMzEgNCAxNiA0IFogTSAxNiA2IEMgMTkuODc4OTA2IDYgMjMgOS4xMjEwOTQgMjMgMTMgQyAyMyAxNC4zMDg1OTQgMjIuMzU1NDY5IDE2LjAzNTE1NiAyMS4zNDM3NSAxNy41OTM3NSBDIDIwLjQ0MTQwNiAxOC45ODQzNzUgMTkuMjUzOTA2IDIwLjIyMjY1NiAxOC4xNTYyNSAyMSBMIDEzLjg0Mzc1IDIxIEMgMTIuNzQ2MDk0IDIwLjIyMjY1NiAxMS41NTg1OTQgMTguOTg0Mzc1IDEwLjY1NjI1IDE3LjU5Mzc1IEMgOS42NDQ1MzEgMTYuMDM1MTU2IDkgMTQuMzA4NTk0IDkgMTMgQyA5IDkuMTIxMDk0IDEyLjEyMTA5NCA2IDE2IDYgWiBNIDE0LjI1IDIzIEwgMTcuNzUgMjMgQyAxNy44MjgxMjUgMjMuMDU0Njg4IDE3LjkxMDE1NiAyMy4wOTM3NSAxOCAyMy4xMjUgTCAxOCAyNSBMIDE0IDI1IEwgMTQgMjMuMTI1IEMgMTQuMDg5ODQ0IDIzLjA5Mzc1IDE0LjE3MTg3NSAyMy4wNTQ2ODggMTQuMjUgMjMgWiIvPjwvc3ZnPg==",symbols="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxMSA1IEwgMTEgMTEgTCA1IDExIEwgNSAxMyBMIDExIDEzIEwgMTEgMTkgTCA1IDE5IEwgNSAyMSBMIDExIDIxIEwgMTEgMjcgTCAxMyAyNyBMIDEzIDIxIEwgMTkgMjEgTCAxOSAyNyBMIDIxIDI3IEwgMjEgMjEgTCAyNyAyMSBMIDI3IDE5IEwgMjEgMTkgTCAyMSAxMyBMIDI3IDEzIEwgMjcgMTEgTCAyMSAxMSBMIDIxIDUgTCAxOSA1IEwgMTkgMTEgTCAxMyAxMSBMIDEzIDUgWiBNIDEzIDEzIEwgMTkgMTMgTCAxOSAxOSBMIDEzIDE5IFoiLz48L3N2Zz4=",flags="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSA5IDQgQyA3LjM0NiA0IDYgNS4zNDYgNiA3IEMgNiA4LjMwMTYwOTQgNi44Mzg3NDg2IDkuNDAyMTM5MSA4IDkuODE2NDA2MiBMIDggMTEuMzA0Njg4IEwgOCAyMy4yMDcwMzEgTCA4IDI3LjAyMzQzOCBDIDggMjcuNTYzNDM4IDguNDM2NTYyNSAyOCA4Ljk3NjU2MjUgMjggTCA5LjAyMzQzNzUgMjggQyA5LjU2MzQzNzUgMjggMTAgMjcuNTYzNDM3IDEwIDI3LjAyMzQzOCBMIDEwIDIyLjIyODUxNiBDIDEwLjMzNDcwNyAyMS44Mzk3NTYgMTEuMTM4NDIzIDIxLjA0Njg3NSAxMy40NDUzMTIgMjEuMDQ2ODc1IEMgMTQuNjY5MzEzIDIxLjA0Njg3NSAxNS42NzA0MjIgMjEuNDczNzgxIDE2LjczMjQyMiAyMS45MjU3ODEgQyAxNy43Njk0MjIgMjIuMzY3NzgxIDE4Ljg0MTg5MSAyMi44MjQyMTkgMjAuMDg3ODkxIDIyLjgyNDIxOSBDIDIyLjQ0Njg5MSAyMi44MjQyMTkgMjQuMDQ5Mzc1IDIxLjU4NDY4OCAyNC43MzQzNzUgMjEuMDU0Njg4IEwgMjQuODg2NzE5IDIwLjkzOTQ1MyBDIDI1LjQzNzcxOSAyMC41NDA0NTMgMjYgMTkuOTk2IDI2IDE5IEwgMjYgMTAuNjc1NzgxIEMgMjYgOS43Njc3ODEyIDI1LjIyMTgyOCA5IDI0LjI5ODgyOCA5IEMgMjMuODAzODI4IDkgMjMuNDQwNDA2IDkuMjg2NTkzNyAyMi45NDE0MDYgOS42ODM1OTM4IEMgMjIuMjc5NDA2IDEwLjIwNzU5NCAyMS4yODA4OTEgMTEgMjAuMDg3ODkxIDExIEMgMTkuMjcyODkxIDExIDE4LjQ3NzY4OCAxMC42MTk3MzQgMTcuNTU0Njg4IDEwLjE3NzczNCBDIDE2LjQwMzY4NyA5LjYyNTczNDQgMTUuMDk4MzU5IDkgMTMuNDQzMzU5IDkgQyAxMi4zMDgyNTcgOSAxMS40MjE2ODcgOS4xODgzMzkzIDEwLjcxMjg5MSA5LjQ1NzAzMTIgQyAxMS40ODkwNzEgOC45MTQxODI0IDEyIDguMDE2NzgwMiAxMiA3IEMgMTIgNS4zNDYgMTAuNjU0IDQgOSA0IHogTSA5IDYgQyA5LjU1MiA2IDEwIDYuNDQ5IDEwIDcgQyAxMCA3LjU1MSA5LjU1MiA4IDkgOCBDIDguNDQ4IDggOCA3LjU1MSA4IDcgQyA4IDYuNDQ5IDguNDQ4IDYgOSA2IHogTSAxMy40NDMzNTkgMTEgQyAxNC42NDUzNTkgMTEgMTUuNjM4NDA2IDExLjQ3NjQ2OSAxNi42OTE0MDYgMTEuOTgwNDY5IEMgMTcuNzM2NDA2IDEyLjQ4MjQ2OSAxOC44MTc4OTEgMTMgMjAuMDg3ODkxIDEzIEMgMjEuODQyODkxIDEzIDIzLjE1ODA0NyAxMi4wNTQ0ODQgMjMuOTk4MDQ3IDExLjM5NjQ4NCBMIDIzLjk5ODA0NyAxOS4wNjY0MDYgQyAyMy45OTcwNDcgMTkuMDcwNDA2IDIzLjk1Mjk4NCAxOS4xNDUyNjYgMjMuNzA4OTg0IDE5LjMyMjI2NiBMIDIzLjUwOTc2NiAxOS40NzQ2MDkgQyAyMi45NDI3NjYgMTkuOTEyNjA5IDIxLjc2Mjg5MSAyMC44MjQyMTkgMjAuMDg3ODkxIDIwLjgyNDIxOSBDIDE5LjI0OTg5MSAyMC44MjQyMTkgMTguNDQ2NjI1IDIwLjQ4MjkzNyAxNy41MTU2MjUgMjAuMDg1OTM4IEMgMTYuMzcyNjI1IDE5LjU5NzkzOCAxNS4wNzYzNTkgMTkuMDQ0OTIyIDEzLjQ0MzM1OSAxOS4wNDQ5MjIgQyAxMS44OTEzNTkgMTkuMDQ0OTIyIDEwLjc4NiAxOS4zNTggMTAgMTkuNzUgTCAxMCAxMi4zNjEzMjggQyAxMC4zNDUgMTEuOTA1MzI4IDExLjEzMjM1OSAxMSAxMy40NDMzNTkgMTEgeiIvPjwvc3ZnPg==",recent="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZD0iTSAxNiA0IEMgMTEuODMyMDMxIDQgOC4xNTIzNDQgNi4xMTMyODEgNiA5LjM0Mzc1IEwgNiA2IEwgNCA2IEwgNCAxMyBMIDExIDEzIEwgMTEgMTEgTCA3LjM3NSAxMSBDIDkuMTAxNTYzIDguMDE5NTMxIDEyLjI5Njg3NSA2IDE2IDYgQyAyMS41MzUxNTYgNiAyNiAxMC40NjQ4NDQgMjYgMTYgQyAyNiAyMS41MzUxNTYgMjEuNTM1MTU2IDI2IDE2IDI2IEMgMTAuNDY0ODQ0IDI2IDYgMjEuNTM1MTU2IDYgMTYgTCA0IDE2IEMgNCAyMi42MTcxODggOS4zODI4MTMgMjggMTYgMjggQyAyMi42MTcxODggMjggMjggMjIuNjE3MTg4IDI4IDE2IEMgMjggOS4zODI4MTMgMjIuNjE3MTg4IDQgMTYgNCBaIE0gMTUgOCBMIDE1IDE3IEwgMjIgMTcgTCAyMiAxNSBMIDE3IDE1IEwgMTcgOCBaIi8+PC9zdmc+Cg==";const _sfc_main$3=defineComponent({name:"Header",setup(n){const{state:e,updateSearch:r,updateActiveGroup:s}=inject("store"),a=computed(()=>!e.options.hideSearch),l=computed(()=>!e.options.hideGroupIcons),f=JSON.parse(JSON.stringify(e.orderedGroupKeys)),c=computed(()=>e.options.staticTexts.placeholder||""),d=computed({get:()=>e.search,set:m=>r(m)}),g=[...e.groups,...Object.keys(e.options.additionalGroups).map(m=>({key:m,title:e.options.groupNames[m]?e.options.groupNames[m]:snakeToCapitalizedCase(m)}))],b=[];return f.forEach(m=>{const _=g.findIndex(x=>x.key===m);_!==-1&&(b.push(g[_]),g.splice(_,1))}),{orderedGroups:b,orderedKeys:f,searchValue:d,updateActiveGroup:s,hasSearch:a,hasGroupIcons:l,placeholder:c,icons:__spreadProps(__spreadValues({smileys_people,animals_nature,food_drink,activities,travel_places,objects,symbols,flags},e.options.groupIcons),{recent})}}}),_hoisted_1$2={key:0,class:"v3-header"},_hoisted_2$2={key:0,class:"v3-groups"},_hoisted_3$2=["onClick"],_hoisted_4$2=["title"],_hoisted_5$2=["src"],_hoisted_6$1={key:1,class:"v3-spacing"},_hoisted_7={key:2,class:"v3-search"},_hoisted_8=["placeholder"];function _sfc_render$3(n,e,r,s,a,l){return n.hasGroupIcons||n.hasSearch?(openBlock(),createElementBlock("div",_hoisted_1$2,[n.hasGroupIcons?(openBlock(),createElementBlock("div",_hoisted_2$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.orderedGroups,f=>(openBlock(),createElementBlock("button",{key:f.key,type:"button",class:normalizeClass(["v3-group",{"v3-is-hidden":!n.icons[f.key]}]),onClick:c=>n.updateActiveGroup(f.key)},[createBaseVNode("span",{title:f.title,class:"v3-icon"},[createBaseVNode("img",{src:n.icons[f.key],alt:""},null,8,_hoisted_5$2)],8,_hoisted_4$2)],10,_hoisted_3$2))),128))])):createCommentVNode("",!0),n.hasGroupIcons&&n.hasSearch?(openBlock(),createElementBlock("div",_hoisted_6$1)):createCommentVNode("",!0),n.hasSearch?(openBlock(),createElementBlock("div",_hoisted_7,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":e[0]||(e[0]=f=>n.searchValue=f),type:"text",placeholder:n.placeholder},null,8,_hoisted_8),[[vModelText,n.searchValue]])])):createCommentVNode("",!0)])):createCommentVNode("",!0)}var Header=_export_sfc(_sfc_main$3,[["render",_sfc_render$3]]);const _sfc_main$2=defineComponent({name:"Header",setup(){const{state:n,updateSkinTone:e}=inject("store"),r=ref(!1),s=ref(!1),a=computed(()=>n.skinTone),l=computed(()=>n.options.staticTexts.skinTone||"Skin tone"),f=computed(()=>!n.options.disableSkinTones),c=isMac()?"is-mac":"",d=computed(()=>__spreadProps(__spreadValues({},n.emoji),{src:EMOJI_REMOTE_SRC+"/"+n.emoji[EMOJI_RESULT_KEY]+".png"}));function g(_=!0){r.value=_}function b(){r.value=!r.value}function m(_){e(_),g(!1)}return watch(()=>n.emoji,()=>{s.value=!1}),{emoji:d,SKIN_TONES,updateSkinToneState:g,skinTone:r,stateSkinTone:a,selectSkinTone:m,toggleSkinToneState:b,EMOJI_RESULT_KEY,EMOJI_NAME_KEY,skinToneText:l,hasSkinTones:f,native:n.options.native,unicodeToEmoji,platform:c,hasError:s}}}),_hoisted_1$1={class:"v3-foot-left"},_hoisted_2$1={key:0},_hoisted_3$1=["alt","src"],_hoisted_4$1={class:"v3-text"},_hoisted_5$1={class:"v3-text"},_hoisted_6=["onClick"];function _sfc_render$2(n,e,r,s,a,l){return openBlock(),createElementBlock("div",{class:"v3-footer",onMouseleave:e[2]||(e[2]=f=>n.updateSkinToneState(!1))},[createBaseVNode("div",_hoisted_1$1,[createBaseVNode("span",{class:normalizeClass([n.platform,"v3-icon"])},[n.native||n.hasError?(openBlock(),createElementBlock("span",_hoisted_2$1,toDisplayString$1(n.unicodeToEmoji(n.emoji.r)),1)):(openBlock(),createElementBlock("img",{key:1,alt:n.unicodeToEmoji(n.emoji.r),src:n.emoji.src,onError:e[0]||(e[0]=f=>n.hasError=!0)},null,40,_hoisted_3$1))],2),createBaseVNode("span",_hoisted_4$1," :"+toDisplayString$1(n.emoji[n.EMOJI_NAME_KEY][1]||n.emoji[n.EMOJI_NAME_KEY][0])+": ",1)]),n.hasSkinTones?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("button",{type:"button",class:"v3-tone",onClick:e[1]||(e[1]=(...f)=>n.toggleSkinToneState&&n.toggleSkinToneState(...f))},[createBaseVNode("span",_hoisted_5$1,toDisplayString$1(n.skinToneText),1),createBaseVNode("span",{class:normalizeClass(`v3-icon v3-tone-${n.stateSkinTone}`)},null,2)]),createBaseVNode("div",{class:normalizeClass([n.skinTone?"v3-is-open":"","v3-skin-tones"])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.SKIN_TONES,f=>(openBlock(),createElementBlock("button",{key:f,type:"button",class:normalizeClass(["v3-skin-tone-"+f,"v3-skin-tone"]),onClick:c=>n.selectSkinTone(f)},null,10,_hoisted_6))),128))],2)],64)):createCommentVNode("",!0)],32)}var Footer=_export_sfc(_sfc_main$2,[["render",_sfc_render$2]]);const _sfc_main$1=defineComponent({name:"PickerRoot",components:{Header,Body,Footer},props:{type:{type:String,default:""},text:{type:String,default:""},additionalGroups:{type:Object,default:()=>({})},groupOrder:{type:Array,default:()=>[]},groupIcons:{type:Object,default:()=>({})},groupNames:{type:Object,default:()=>({})}},emits:["update:text","select"],setup(n,{emit:e}){const r=ref(),s=ref(),a=ref(),l=ref(!1),f=ref(n.text),c=n.type==="input"||n.type==="textarea";let d=-1;const{state:g}=inject("store"),b=computed(()=>g.options.colorTheme);function m(j){if(c){const ne=g.options.mode;ne==="prepend"?f.value=j.i+f.value:ne==="insert"&&d!==-1?(f.value=`${f.value.slice(0,d)}${j.i}${f.value.slice(d)}`,d+=j.i.length):f.value+=j.i,e("update:text",f.value)}e("select",j)}function _(){var j;r.value&&(d=((j=r.value)==null?void 0:j.selectionEnd)||-1)}function x(j){var ne;!((ne=j.target)!=null&&ne.closest(".v3-input-picker-wrap"))&&l.value&&(l.value=!1)}function k(){if(s.value&&a.value&&c){let j=g.options.offset;typeof j!="number"&&(j=6),createPopper(s.value,a.value,{placement:"bottom-end",modifiers:[{name:"offset",options:{offset:[0,j]}}]}),document.body.addEventListener("click",x)}}function q(j){f.value=j.target.value||"",e("update:text",f.value)}return onMounted(()=>{k()}),onBeforeUnmount(()=>{document.body.removeEventListener("click",x)}),{face:smileys_people,open:l,onSelect:m,input:f,elem:r,updateCursor:_,button:s,picker:a,isInputType:c,onChangeText:q,colorTheme:b}}}),_hoisted_1={key:0,class:"v3-input-emoji-picker"},_hoisted_2={class:"v3-input-picker-root"},_hoisted_3=["value"],_hoisted_4=["value"],_hoisted_5=["src"];function _sfc_render$1(n,e,r,s,a,l){const f=resolveComponent("Header"),c=resolveComponent("Body"),d=resolveComponent("Footer");return n.isInputType?(openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[n.type==="input"?(openBlock(),createElementBlock("input",{key:0,ref:"elem",value:n.input,type:"text",class:"v3-emoji-picker-input",onInput:e[0]||(e[0]=(...g)=>n.onChangeText&&n.onChangeText(...g)),onBlur:e[1]||(e[1]=(...g)=>n.updateCursor&&n.updateCursor(...g))},null,40,_hoisted_3)):(openBlock(),createElementBlock("textarea",{key:1,ref:"elem",value:n.input,class:"v3-emoji-picker-textarea",onInput:e[2]||(e[2]=(...g)=>n.onChangeText&&n.onChangeText(...g)),onBlur:e[3]||(e[3]=(...g)=>n.updateCursor&&n.updateCursor(...g))},null,40,_hoisted_4)),createBaseVNode("div",{class:normalizeClass(["v3-input-picker-wrap",n.open?"v3-picker-is-open":""])},[createBaseVNode("button",{ref:"button",type:"button",class:"v3-input-picker-icon",onClick:e[4]||(e[4]=g=>n.open=!n.open)},[createBaseVNode("img",{src:n.face,alt:""},null,8,_hoisted_5)],512),createBaseVNode("div",{ref:"picker",class:normalizeClass(["v3-emoji-picker","v3-color-theme-"+n.colorTheme])},[createVNode(f),createVNode(c,{onSelect:n.onSelect},null,8,["onSelect"]),createVNode(d)],2)],2)])])):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(["v3-emoji-picker","v3-color-theme-"+n.colorTheme])},[createVNode(f),createVNode(c,{onSelect:n.onSelect},null,8,["onSelect"]),createVNode(d)],2))}var PickerRoot=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]);const _sfc_main=defineComponent({name:"Picker",components:{PickerRoot},props:{native:{type:Boolean,default:!1},hideSearch:{type:Boolean,default:!1},hideGroupIcons:{type:Boolean,default:!1},hideGroupNames:{type:Boolean,default:!1},staticTexts:{type:Object,default:()=>({})},disableStickyGroupNames:{type:Boolean,default:!1},disabledGroups:{type:Array,default:()=>[]},groupNames:{type:Object,default:()=>({})},disableSkinTones:{type:Boolean,default:!1},text:{type:String,default:""},mode:{type:String,default:"insert"},offset:{type:Number,default:6},additionalGroups:{type:Object,default:()=>({})},groupOrder:{type:Array,default:()=>[]},groupIcons:{type:Object,default:()=>({})},pickerType:{type:String,default:""},displayRecent:{type:Boolean,default:!1},theme:{type:String,default:"light"}},emits:["update:text","select"],setup(n,{emit:e}){const r=ref(n.text);function s(l){r.value=l||"",e("update:text",r.value)}const a=Store();return a.updateOptions({native:n.native,hideSearch:n.hideSearch,hideGroupIcons:n.hideGroupIcons,hideGroupNames:n.hideGroupNames,staticTexts:__spreadValues(__spreadValues({},STATIC_TEXTS),n.staticTexts),disableStickyGroupNames:n.disableStickyGroupNames,disabledGroups:n.disabledGroups,groupNames:__spreadValues(__spreadValues({},GROUP_NAMES),n.groupNames),disableSkinTones:n.disableSkinTones,displayRecent:n.displayRecent,additionalGroups:n.additionalGroups,mode:n.mode,offset:n.offset,groupOrder:n.groupOrder,groupIcons:n.groupIcons,colorTheme:COLOR_THEMES.includes(n.theme)?n.theme:"light"}),provide("store",a),{type:n.pickerType,input:r,onChangeText:s}}});function _sfc_render(n,e,r,s,a,l){const f=resolveComponent("picker-root");return openBlock(),createBlock(f,{type:n.type,text:n.input,onSelect:e[0]||(e[0]=c=>n.$emit("select",c)),"onUpdate:text":n.onChangeText},null,8,["type","text","onUpdate:text"])}var Picker=_export_sfc(_sfc_main,[["render",_sfc_render]]);/*!
 * hash-wasm (https://www.npmjs.com/package/hash-wasm)
 * (c) Dani Biro
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __awaiter(n,e,r,s){function a(l){return l instanceof r?l:new r(function(f){f(l)})}return new(r||(r=Promise))(function(l,f){function c(b){try{g(s.next(b))}catch(m){f(m)}}function d(b){try{g(s.throw(b))}catch(m){f(m)}}function g(b){b.done?l(b.value):a(b.value).then(c,d)}g((s=s.apply(n,e||[])).next())})}class Mutex{constructor(){this.mutex=Promise.resolve()}lock(){let e=()=>{};return this.mutex=this.mutex.then(()=>new Promise(e)),new Promise(r=>{e=r})}dispatch(e){return __awaiter(this,void 0,void 0,function*(){const r=yield this.lock();try{return yield Promise.resolve(e())}finally{r()}})}}var _a;function getGlobal$1(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global}const globalObject=getGlobal$1(),nodeBuffer=(_a=globalObject.Buffer)!==null&&_a!==void 0?_a:null,textEncoder=globalObject.TextEncoder?new globalObject.TextEncoder:null;function hexCharCodesToInt(n,e){return(n&15)+(n>>6|n>>3&8)<<4|(e&15)+(e>>6|e>>3&8)}function writeHexToUInt8(n,e){const r=e.length>>1;for(let s=0;s<r;s++){const a=s<<1;n[s]=hexCharCodesToInt(e.charCodeAt(a),e.charCodeAt(a+1))}}function hexStringEqualsUInt8(n,e){if(n.length!==e.length*2)return!1;for(let r=0;r<e.length;r++){const s=r<<1;if(e[r]!==hexCharCodesToInt(n.charCodeAt(s),n.charCodeAt(s+1)))return!1}return!0}const alpha="a".charCodeAt(0)-10,digit="0".charCodeAt(0);function getDigestHex(n,e,r){let s=0;for(let a=0;a<r;a++){let l=e[a]>>>4;n[s++]=l>9?l+alpha:l+digit,l=e[a]&15,n[s++]=l>9?l+alpha:l+digit}return String.fromCharCode.apply(null,n)}const getUInt8Buffer=nodeBuffer!==null?n=>{if(typeof n=="string"){const e=nodeBuffer.from(n,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.length)}if(nodeBuffer.isBuffer(n))return new Uint8Array(n.buffer,n.byteOffset,n.length);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Invalid data type!")}:n=>{if(typeof n=="string")return textEncoder.encode(n);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Invalid data type!")},base64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",base64Lookup=new Uint8Array(256);for(let n=0;n<base64Chars.length;n++)base64Lookup[base64Chars.charCodeAt(n)]=n;function getDecodeBase64Length(n){let e=Math.floor(n.length*.75);const r=n.length;return n[r-1]==="="&&(e-=1,n[r-2]==="="&&(e-=1)),e}function decodeBase64(n){const e=getDecodeBase64Length(n),r=n.length,s=new Uint8Array(e);let a=0;for(let l=0;l<r;l+=4){const f=base64Lookup[n.charCodeAt(l)],c=base64Lookup[n.charCodeAt(l+1)],d=base64Lookup[n.charCodeAt(l+2)],g=base64Lookup[n.charCodeAt(l+3)];s[a]=f<<2|c>>4,a+=1,s[a]=(c&15)<<4|d>>2,a+=1,s[a]=(d&3)<<6|g&63,a+=1}return s}const MAX_HEAP=16*1024,WASM_FUNC_HASH_LENGTH=4,wasmMutex=new Mutex,wasmModuleCache=new Map;function WASMInterface(n,e){return __awaiter(this,void 0,void 0,function*(){let r=null,s=null,a=!1;if(typeof WebAssembly>"u")throw new Error("WebAssembly is not supported in this environment!");const l=(ge,ve=0)=>{s.set(ge,ve)},f=()=>s,c=()=>r.exports,d=ge=>{r.exports.Hash_SetMemorySize(ge);const ve=r.exports.Hash_GetBuffer(),_e=r.exports.memory.buffer;s=new Uint8Array(_e,ve,ge)},g=()=>new DataView(r.exports.memory.buffer).getUint32(r.exports.STATE_SIZE,!0),b=wasmMutex.dispatch(()=>__awaiter(this,void 0,void 0,function*(){if(!wasmModuleCache.has(n.name)){const ve=decodeBase64(n.data),_e=WebAssembly.compile(ve);wasmModuleCache.set(n.name,_e)}const ge=yield wasmModuleCache.get(n.name);r=yield WebAssembly.instantiate(ge,{})})),m=()=>__awaiter(this,void 0,void 0,function*(){r||(yield b);const ge=r.exports.Hash_GetBuffer(),ve=r.exports.memory.buffer;s=new Uint8Array(ve,ge,MAX_HEAP)}),_=(ge=null)=>{a=!0,r.exports.Hash_Init(ge)},x=ge=>{let ve=0;for(;ve<ge.length;){const _e=ge.subarray(ve,ve+MAX_HEAP);ve+=_e.length,s.set(_e),r.exports.Hash_Update(_e.length)}},k=ge=>{if(!a)throw new Error("update() called before init()");const ve=getUInt8Buffer(ge);x(ve)},q=new Uint8Array(e*2),j=(ge,ve=null)=>{if(!a)throw new Error("digest() called before init()");return a=!1,r.exports.Hash_Final(ve),ge==="binary"?s.slice(0,e):getDigestHex(q,s,e)},ne=()=>{if(!a)throw new Error("save() can only be called after init() and before digest()");const ge=r.exports.Hash_GetState(),ve=g(),_e=r.exports.memory.buffer,ye=new Uint8Array(_e,ge,ve),be=new Uint8Array(WASM_FUNC_HASH_LENGTH+ve);return writeHexToUInt8(be,n.hash),be.set(ye,WASM_FUNC_HASH_LENGTH),be},se=ge=>{if(!(ge instanceof Uint8Array))throw new Error("load() expects an Uint8Array generated by save()");const ve=r.exports.Hash_GetState(),_e=g(),ye=WASM_FUNC_HASH_LENGTH+_e,be=r.exports.memory.buffer;if(ge.length!==ye)throw new Error(`Bad state length (expected ${ye} bytes, got ${ge.length})`);if(!hexStringEqualsUInt8(n.hash,ge.subarray(0,WASM_FUNC_HASH_LENGTH)))throw new Error("This state was written by an incompatible hash implementation");const He=ge.subarray(WASM_FUNC_HASH_LENGTH);new Uint8Array(be,ve,_e).set(He),a=!0},le=ge=>typeof ge=="string"?ge.length<MAX_HEAP/4:ge.byteLength<MAX_HEAP;let ue=le;switch(n.name){case"argon2":case"scrypt":ue=()=>!0;break;case"blake2b":case"blake2s":ue=(ge,ve)=>ve<=512&&le(ge);break;case"blake3":ue=(ge,ve)=>ve===0&&le(ge);break;case"xxhash64":case"xxhash3":case"xxhash128":ue=()=>!1;break}const he=(ge,ve=null,_e=null)=>{if(!ue(ge,ve))return _(ve),k(ge),j("hex",_e);const ye=getUInt8Buffer(ge);return s.set(ye),r.exports.Hash_Calculate(ye.length,ve,_e),getDigestHex(q,s,e)};return yield m(),{getMemory:f,writeMemory:l,getExports:c,setMemorySize:d,init:_,update:k,digest:j,save:ne,load:se,calculate:he,hashLength:e}})}function lockedCreate(n,e,r){return __awaiter(this,void 0,void 0,function*(){const s=yield n.lock(),a=yield WASMInterface(e,r);return s(),a})}new Mutex;new Mutex;new Mutex;new Mutex;new Mutex;new Mutex;new Mutex;new Mutex;var name$c$1="sha1",data$c="AGFzbQEAAAABEQRgAAF/YAJ/fwBgAABgAX8AAwkIAAECAQMCAAMEBQFwAQEBBQQBAQICBg4CfwFB4IkFC38AQYAICwdwCAZtZW1vcnkCAA5IYXNoX0dldEJ1ZmZlcgAACUhhc2hfSW5pdAACC0hhc2hfVXBkYXRlAAQKSGFzaF9GaW5hbAAFDUhhc2hfR2V0U3RhdGUABg5IYXNoX0NhbGN1bGF0ZQAHClNUQVRFX1NJWkUDAQqfKQgFAEGACQurIgoBfgJ/AX4BfwF+A38BfgF/AX5HfyAAIAEpAxAiAkIgiKciA0EYdCADQQh0QYCA/AdxciACQiiIp0GA/gNxIAJCOIincnIiBCABKQMIIgVCIIinIgNBGHQgA0EIdEGAgPwHcXIgBUIoiKdBgP4DcSAFQjiIp3JyIgZzIAEpAygiB0IgiKciA0EYdCADQQh0QYCA/AdxciAHQiiIp0GA/gNxIAdCOIincnIiCHMgBaciA0EYdCADQQh0QYCA/AdxciADQQh2QYD+A3EgA0EYdnJyIgkgASkDACIFpyIDQRh0IANBCHRBgID8B3FyIANBCHZBgP4DcSADQRh2cnIiCnMgASkDICILpyIDQRh0IANBCHRBgID8B3FyIANBCHZBgP4DcSADQRh2cnIiDHMgASkDMCINQiCIpyIDQRh0IANBCHRBgID8B3FyIA1CKIinQYD+A3EgDUI4iKdyciIDc0EBdyIOc0EBdyIPIAYgBUIgiKciEEEYdCAQQQh0QYCA/AdxciAFQiiIp0GA/gNxIAVCOIincnIiEXMgC0IgiKciEEEYdCAQQQh0QYCA/AdxciALQiiIp0GA/gNxIAtCOIincnIiEnMgASkDOCIFpyIQQRh0IBBBCHRBgID8B3FyIBBBCHZBgP4DcSAQQRh2cnIiEHNBAXciE3MgCCAScyATcyAMIAEpAxgiC6ciAUEYdCABQQh0QYCA/AdxciABQQh2QYD+A3EgAUEYdnJyIhRzIBBzIA9zQQF3IgFzQQF3IhVzIA4gEHMgAXMgAyAIcyAPcyAHpyIWQRh0IBZBCHRBgID8B3FyIBZBCHZBgP4DcSAWQRh2cnIiFyAMcyAOcyALQiCIpyIWQRh0IBZBCHRBgID8B3FyIAtCKIinQYD+A3EgC0I4iKdyciIYIARzIANzIAKnIhZBGHQgFkEIdEGAgPwHcXIgFkEIdkGA/gNxIBZBGHZyciIZIAlzIBdzIAVCIIinIhZBGHQgFkEIdEGAgPwHcXIgBUIoiKdBgP4DcSAFQjiIp3JyIhZzQQF3IhpzQQF3IhtzQQF3IhxzQQF3Ih1zQQF3Ih5zQQF3Ih8gEyAWcyASIBhzIBZzIBQgGXMgDaciIEEYdCAgQQh0QYCA/AdxciAgQQh2QYD+A3EgIEEYdnJyIiFzIBNzQQF3IiBzQQF3IiJzIBAgIXMgIHMgFXNBAXciI3NBAXciJHMgFSAicyAkcyABICBzICNzIB9zQQF3IiVzQQF3IiZzIB4gI3MgJXMgHSAVcyAfcyAcIAFzIB5zIBsgD3MgHXMgGiAOcyAccyAWIANzIBtzICEgF3MgGnMgInNBAXciJ3NBAXciKHNBAXciKXNBAXciKnNBAXciK3NBAXciLHNBAXciLXNBAXciLiAkIChzICIgG3MgKHMgICAacyAncyAkc0EBdyIvc0EBdyIwcyAjICdzIC9zICZzQQF3IjFzQQF3IjJzICYgMHMgMnMgJSAvcyAxcyAuc0EBdyIzc0EBdyI0cyAtIDFzIDNzICwgJnMgLnMgKyAlcyAtcyAqIB9zICxzICkgHnMgK3MgKCAdcyAqcyAnIBxzIClzIDBzQQF3IjVzQQF3IjZzQQF3IjdzQQF3IjhzQQF3IjlzQQF3IjpzQQF3IjtzQQF3IjwgMiA2cyAwICpzIDZzIC8gKXMgNXMgMnNBAXciPXNBAXciPnMgMSA1cyA9cyA0c0EBdyI/c0EBdyJAcyA0ID5zIEBzIDMgPXMgP3MgPHNBAXciQXNBAXciQnMgOyA/cyBBcyA6IDRzIDxzIDkgM3MgO3MgOCAucyA6cyA3IC1zIDlzIDYgLHMgOHMgNSArcyA3cyA+c0EBdyJDc0EBdyJEc0EBdyJFc0EBdyJGc0EBdyJHc0EBdyJIc0EBdyJJc0EBdyJKID8gQ3MgPSA3cyBDcyBAc0EBdyJLcyBCc0EBdyJMID4gOHMgRHMgS3NBAXciTSBFIDogMyAyIDUgKiAeIBUgICAWIBcgACgCACJOQQV3IAAoAhAiT2ogCmogACgCDCJQIAAoAggiCnMgACgCBCJRcSBQc2pBmfOJ1AVqIlJBHnciUyAEaiBRQR53IgQgBmogUCAEIApzIE5xIApzaiARaiBSQQV3akGZ84nUBWoiESBTIE5BHnciBnNxIAZzaiAKIAlqIFIgBCAGc3EgBHNqIBFBBXdqQZnzidQFaiJSQQV3akGZ84nUBWoiVCBSQR53IgQgEUEedyIJc3EgCXNqIAYgGWogUiAJIFNzcSBTc2ogVEEFd2pBmfOJ1AVqIgZBBXdqQZnzidQFaiIZQR53IlNqIAwgVEEedyIXaiAJIBRqIAYgFyAEc3EgBHNqIBlBBXdqQZnzidQFaiIJIFMgBkEedyIMc3EgDHNqIBggBGogGSAMIBdzcSAXc2ogCUEFd2pBmfOJ1AVqIgZBBXdqQZnzidQFaiIUIAZBHnciFyAJQR53IgRzcSAEc2ogEiAMaiAGIAQgU3NxIFNzaiAUQQV3akGZ84nUBWoiEkEFd2pBmfOJ1AVqIlNBHnciDGogAyAUQR53IhZqIAggBGogEiAWIBdzcSAXc2ogU0EFd2pBmfOJ1AVqIgggDCASQR53IgNzcSADc2ogISAXaiBTIAMgFnNxIBZzaiAIQQV3akGZ84nUBWoiEkEFd2pBmfOJ1AVqIhcgEkEedyIWIAhBHnciCHNxIAhzaiAQIANqIBIgCCAMc3EgDHNqIBdBBXdqQZnzidQFaiIMQQV3akGZ84nUBWoiEkEedyIDaiATIBZqIBIgDEEedyIQIBdBHnciE3NxIBNzaiAOIAhqIAwgEyAWc3EgFnNqIBJBBXdqQZnzidQFaiIOQQV3akGZ84nUBWoiFkEedyIgIA5BHnciCHMgGiATaiAOIAMgEHNxIBBzaiAWQQV3akGZ84nUBWoiDnNqIA8gEGogFiAIIANzcSADc2ogDkEFd2pBmfOJ1AVqIgNBBXdqQaHX5/YGaiIPQR53IhBqIAEgIGogA0EedyIBIA5BHnciDnMgD3NqIBsgCGogDiAgcyADc2ogD0EFd2pBodfn9gZqIgNBBXdqQaHX5/YGaiIPQR53IhMgA0EedyIVcyAiIA5qIBAgAXMgA3NqIA9BBXdqQaHX5/YGaiIDc2ogHCABaiAVIBBzIA9zaiADQQV3akGh1+f2BmoiAUEFd2pBodfn9gZqIg5BHnciD2ogHSATaiABQR53IhAgA0EedyIDcyAOc2ogJyAVaiADIBNzIAFzaiAOQQV3akGh1+f2BmoiAUEFd2pBodfn9gZqIg5BHnciEyABQR53IhVzICMgA2ogDyAQcyABc2ogDkEFd2pBodfn9gZqIgFzaiAoIBBqIBUgD3MgDnNqIAFBBXdqQaHX5/YGaiIDQQV3akGh1+f2BmoiDkEedyIPaiApIBNqIANBHnciECABQR53IgFzIA5zaiAkIBVqIAEgE3MgA3NqIA5BBXdqQaHX5/YGaiIDQQV3akGh1+f2BmoiDkEedyITIANBHnciFXMgHyABaiAPIBBzIANzaiAOQQV3akGh1+f2BmoiAXNqIC8gEGogFSAPcyAOc2ogAUEFd2pBodfn9gZqIgNBBXdqQaHX5/YGaiIOQR53Ig9qICsgAUEedyIBaiAPIANBHnciEHMgJSAVaiABIBNzIANzaiAOQQV3akGh1+f2BmoiFXNqIDAgE2ogECABcyAOc2ogFUEFd2pBodfn9gZqIg5BBXdqQaHX5/YGaiIBIA5BHnciA3IgFUEedyITcSABIANxcmogJiAQaiATIA9zIA5zaiABQQV3akGh1+f2BmoiDkEFd2pB3Pnu+HhqIg9BHnciEGogNiABQR53IgFqICwgE2ogDiABciADcSAOIAFxcmogD0EFd2pB3Pnu+HhqIhMgEHIgDkEedyIOcSATIBBxcmogMSADaiAPIA5yIAFxIA8gDnFyaiATQQV3akHc+e74eGoiAUEFd2pB3Pnu+HhqIgMgAUEedyIPciATQR53IhNxIAMgD3FyaiAtIA5qIAEgE3IgEHEgASATcXJqIANBBXdqQdz57vh4aiIBQQV3akHc+e74eGoiDkEedyIQaiA9IANBHnciA2ogNyATaiABIANyIA9xIAEgA3FyaiAOQQV3akHc+e74eGoiEyAQciABQR53IgFxIBMgEHFyaiAuIA9qIA4gAXIgA3EgDiABcXJqIBNBBXdqQdz57vh4aiIDQQV3akHc+e74eGoiDiADQR53Ig9yIBNBHnciE3EgDiAPcXJqIDggAWogAyATciAQcSADIBNxcmogDkEFd2pB3Pnu+HhqIgFBBXdqQdz57vh4aiIDQR53IhBqIDQgDkEedyIOaiA+IBNqIAEgDnIgD3EgASAOcXJqIANBBXdqQdz57vh4aiITIBByIAFBHnciAXEgEyAQcXJqIDkgD2ogAyABciAOcSADIAFxcmogE0EFd2pB3Pnu+HhqIgNBBXdqQdz57vh4aiIOIANBHnciD3IgE0EedyITcSAOIA9xcmogQyABaiADIBNyIBBxIAMgE3FyaiAOQQV3akHc+e74eGoiAUEFd2pB3Pnu+HhqIgNBHnciEGogRCAPaiADIAFBHnciFXIgDkEedyIOcSADIBVxcmogPyATaiABIA5yIA9xIAEgDnFyaiADQQV3akHc+e74eGoiAUEFd2pB3Pnu+HhqIgNBHnciEyABQR53Ig9zIDsgDmogASAQciAVcSABIBBxcmogA0EFd2pB3Pnu+HhqIgFzaiBAIBVqIAMgD3IgEHEgAyAPcXJqIAFBBXdqQdz57vh4aiIDQQV3akHWg4vTfGoiDkEedyIQaiBLIBNqIANBHnciFSABQR53IgFzIA5zaiA8IA9qIAEgE3MgA3NqIA5BBXdqQdaDi9N8aiIDQQV3akHWg4vTfGoiDkEedyIPIANBHnciE3MgRiABaiAQIBVzIANzaiAOQQV3akHWg4vTfGoiAXNqIEEgFWogEyAQcyAOc2ogAUEFd2pB1oOL03xqIgNBBXdqQdaDi9N8aiIOQR53IhBqIEIgD2ogA0EedyIVIAFBHnciAXMgDnNqIEcgE2ogASAPcyADc2ogDkEFd2pB1oOL03xqIgNBBXdqQdaDi9N8aiIOQR53Ig8gA0EedyITcyBDIDlzIEVzIE1zQQF3IhYgAWogECAVcyADc2ogDkEFd2pB1oOL03xqIgFzaiBIIBVqIBMgEHMgDnNqIAFBBXdqQdaDi9N8aiIDQQV3akHWg4vTfGoiDkEedyIQaiBJIA9qIANBHnciFSABQR53IgFzIA5zaiBEIDpzIEZzIBZzQQF3IhogE2ogASAPcyADc2ogDkEFd2pB1oOL03xqIgNBBXdqQdaDi9N8aiIOQR53Ig8gA0EedyITcyBAIERzIE1zIExzQQF3IhsgAWogECAVcyADc2ogDkEFd2pB1oOL03xqIgFzaiBFIDtzIEdzIBpzQQF3IhwgFWogEyAQcyAOc2ogAUEFd2pB1oOL03xqIgNBBXdqQdaDi9N8aiIOQR53IhAgT2o2AhAgACBQIEsgRXMgFnMgG3NBAXciFSATaiABQR53IgEgD3MgA3NqIA5BBXdqQdaDi9N8aiITQR53IhZqNgIMIAAgCiBGIDxzIEhzIBxzQQF3IA9qIANBHnciAyABcyAOc2ogE0EFd2pB1oOL03xqIg5BHndqNgIIIAAgUSBBIEtzIExzIEpzQQF3IAFqIBAgA3MgE3NqIA5BBXdqQdaDi9N8aiIBajYCBCAAIE4gTSBGcyAacyAVc0EBd2ogA2ogFiAQcyAOc2ogAUEFd2pB1oOL03xqNgIACzoAQQBC/rnrxemOlZkQNwKIiQFBAEKBxpS6lvHq5m83AoCJAUEAQvDDy54MNwKQiQFBAEEANgKYiQELqgIBBH9BACECQQBBACgClIkBIgMgAUEDdGoiBDYClIkBQQAoApiJASEFAkAgBCADTw0AQQAgBUEBaiIFNgKYiQELQQAgBSABQR12ajYCmIkBAkAgA0EDdkE/cSIEIAFqQcAASQ0AQcAAIARrIQJBACEDQQAhBQNAIAMgBGpBnIkBaiAAIANqLQAAOgAAIAIgBUEBaiIFQf8BcSIDSw0AC0GAiQFBnIkBEAEgBEH/AHMhA0EAIQQgAyABTw0AA0BBgIkBIAAgAmoQASACQf8AaiEDIAJBwABqIgUhAiADIAFJDQALIAUhAgsCQCABIAJrIgFFDQBBACEDQQAhBQNAIAMgBGpBnIkBaiAAIAMgAmpqLQAAOgAAIAEgBUEBaiIFQf8BcSIDSw0ACwsLCQBBgAkgABADC60DAQJ/IwBBEGsiACQAIABBgAE6AAcgAEEAKAKYiQEiAUEYdCABQQh0QYCA/AdxciABQQh2QYD+A3EgAUEYdnJyNgAIIABBACgClIkBIgFBGHQgAUEIdEGAgPwHcXIgAUEIdkGA/gNxIAFBGHZycjYADCAAQQdqQQEQAwJAQQAoApSJAUH4A3FBwANGDQADQCAAQQA6AAcgAEEHakEBEANBACgClIkBQfgDcUHAA0cNAAsLIABBCGpBCBADQQBBACgCgIkBIgFBGHQgAUEIdEGAgPwHcXIgAUEIdkGA/gNxIAFBGHZycjYCgAlBAEEAKAKEiQEiAUEYdCABQQh0QYCA/AdxciABQQh2QYD+A3EgAUEYdnJyNgKECUEAQQAoAoiJASIBQRh0IAFBCHRBgID8B3FyIAFBCHZBgP4DcSABQRh2cnI2AogJQQBBACgCjIkBIgFBGHQgAUEIdEGAgPwHcXIgAUEIdkGA/gNxIAFBGHZycjYCjAlBAEEAKAKQiQEiAUEYdCABQQh0QYCA/AdxciABQQh2QYD+A3EgAUEYdnJyNgKQCSAAQRBqJAALBgBBgIkBC0MAQQBC/rnrxemOlZkQNwKIiQFBAEKBxpS6lvHq5m83AoCJAUEAQvDDy54MNwKQiQFBAEEANgKYiQFBgAkgABADEAULCwsBAEGACAsEXAAAAA==",hash$c="40d92e5d",wasmJson$c={name:name$c$1,data:data$c,hash:hash$c};const mutex$d=new Mutex;let wasmCache$d=null;function sha1(n){if(wasmCache$d===null)return lockedCreate(mutex$d,wasmJson$c,20).then(e=>(wasmCache$d=e,wasmCache$d.calculate(n)));try{const e=wasmCache$d.calculate(n);return Promise.resolve(e)}catch(e){return Promise.reject(e)}}new Mutex;new Mutex;new Mutex;new Mutex;new Mutex;new Mutex;new Mutex;new Mutex;new Mutex;new Mutex;new Mutex;new Mutex;new Mutex;function bind(n,e){return function(){return n.apply(e,arguments)}}const{toString:toString$1}=Object.prototype,{getPrototypeOf}=Object,kindOf=(n=>e=>{const r=toString$1.call(e);return n[r]||(n[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=n=>(n=n.toLowerCase(),e=>kindOf(e)===n),typeOfTest=n=>e=>typeof e===n,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(n){return n!==null&&!isUndefined(n)&&n.constructor!==null&&!isUndefined(n.constructor)&&isFunction(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&isArrayBuffer(n.buffer),e}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$1=n=>n!==null&&typeof n=="object",isBoolean=n=>n===!0||n===!1,isPlainObject=n=>{if(kindOf(n)!=="object")return!1;const e=getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=n=>isObject$1(n)&&isFunction(n.pipe),isFormData=n=>{const e="[object FormData]";return n&&(typeof FormData=="function"&&n instanceof FormData||toString$1.call(n)===e||isFunction(n.toString)&&n.toString()===e)},isURLSearchParams=kindOfTest("URLSearchParams"),trim=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(n,e,{allOwnKeys:r=!1}={}){if(n===null||typeof n>"u")return;let s,a;if(typeof n!="object"&&(n=[n]),isArray(n))for(s=0,a=n.length;s<a;s++)e.call(null,n[s],s,n);else{const l=r?Object.getOwnPropertyNames(n):Object.keys(n),f=l.length;let c;for(s=0;s<f;s++)c=l[s],e.call(null,n[c],c,n)}}function findKey(n,e){e=e.toLowerCase();const r=Object.keys(n);let s=r.length,a;for(;s-- >0;)if(a=r[s],e===a.toLowerCase())return a;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=n=>!isUndefined(n)&&n!==_global;function merge(){const{caseless:n}=isContextDefined(this)&&this||{},e={},r=(s,a)=>{const l=n&&findKey(e,a)||a;isPlainObject(e[l])&&isPlainObject(s)?e[l]=merge(e[l],s):isPlainObject(s)?e[l]=merge({},s):isArray(s)?e[l]=s.slice():e[l]=s};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&forEach(arguments[s],r);return e}const extend=(n,e,r,{allOwnKeys:s}={})=>(forEach(e,(a,l)=>{r&&isFunction(a)?n[l]=bind(a,r):n[l]=a},{allOwnKeys:s}),n),stripBOM=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),inherits=(n,e,r,s)=>{n.prototype=Object.create(e.prototype,s),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),r&&Object.assign(n.prototype,r)},toFlatObject=(n,e,r,s)=>{let a,l,f;const c={};if(e=e||{},n==null)return e;do{for(a=Object.getOwnPropertyNames(n),l=a.length;l-- >0;)f=a[l],(!s||s(f,n,e))&&!c[f]&&(e[f]=n[f],c[f]=!0);n=r!==!1&&getPrototypeOf(n)}while(n&&(!r||r(n,e))&&n!==Object.prototype);return e},endsWith=(n,e,r)=>{n=String(n),(r===void 0||r>n.length)&&(r=n.length),r-=e.length;const s=n.indexOf(e,r);return s!==-1&&s===r},toArray=n=>{if(!n)return null;if(isArray(n))return n;let e=n.length;if(!isNumber(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=n[e];return r},isTypedArray=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(n,e)=>{const s=(n&&n[Symbol.iterator]).call(n);let a;for(;(a=s.next())&&!a.done;){const l=a.value;e.call(n,l[0],l[1])}},matchAll=(n,e)=>{let r;const s=[];for(;(r=n.exec(e))!==null;)s.push(r);return s},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,a){return s.toUpperCase()+a}),hasOwnProperty=(({hasOwnProperty:n})=>(e,r)=>n.call(e,r))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(n,e)=>{const r=Object.getOwnPropertyDescriptors(n),s={};forEach(r,(a,l)=>{e(a,l,n)!==!1&&(s[l]=a)}),Object.defineProperties(n,s)},freezeMethods=n=>{reduceDescriptors(n,(e,r)=>{if(isFunction(n)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=n[r];if(isFunction(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet=(n,e)=>{const r={},s=a=>{a.forEach(l=>{r[l]=!0})};return isArray(n)?s(n):s(String(n).split(e)),r},noop=()=>{},toFiniteNumber=(n,e)=>(n=+n,Number.isFinite(n)?n:e),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(n=16,e=ALPHABET.ALPHA_DIGIT)=>{let r="";const{length:s}=e;for(;n--;)r+=e[Math.random()*s|0];return r};function isSpecCompliantForm(n){return!!(n&&isFunction(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const toJSONObject=n=>{const e=new Array(10),r=(s,a)=>{if(isObject$1(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[a]=s;const l=isArray(s)?[]:{};return forEach(s,(f,c)=>{const d=r(f,a+1);!isUndefined(d)&&(l[c]=d)}),e[a]=void 0,l}}return s};return r(n,0)},utils={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject:isObject$1,isPlainObject,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject};function AxiosError$1(n,e,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a)}utils.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{descriptors[n]={value:n}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(n,e,r,s,a,l)=>{const f=Object.create(prototype$1);return utils.toFlatObject(n,f,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),AxiosError$1.call(f,n.message,e,r,s,a),f.cause=n,f.name=n.name,l&&Object.assign(f,l),f};const httpAdapter=null;function isVisitable(n){return utils.isPlainObject(n)||utils.isArray(n)}function removeBrackets(n){return utils.endsWith(n,"[]")?n.slice(0,-2):n}function renderKey(n,e,r){return n?n.concat(e).map(function(a,l){return a=removeBrackets(a),!r&&l?"["+a+"]":a}).join(r?".":""):e}function isFlatArray(n){return utils.isArray(n)&&!n.some(isVisitable)}const predicates=utils.toFlatObject(utils,{},null,function(e){return/^is[A-Z]/.test(e)});function toFormData$1(n,e,r){if(!utils.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,r=utils.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(q,j){return!utils.isUndefined(j[q])});const s=r.metaTokens,a=r.visitor||b,l=r.dots,f=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&utils.isSpecCompliantForm(e);if(!utils.isFunction(a))throw new TypeError("visitor must be a function");function g(k){if(k===null)return"";if(utils.isDate(k))return k.toISOString();if(!d&&utils.isBlob(k))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils.isArrayBuffer(k)||utils.isTypedArray(k)?d&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function b(k,q,j){let ne=k;if(k&&!j&&typeof k=="object"){if(utils.endsWith(q,"{}"))q=s?q:q.slice(0,-2),k=JSON.stringify(k);else if(utils.isArray(k)&&isFlatArray(k)||(utils.isFileList(k)||utils.endsWith(q,"[]"))&&(ne=utils.toArray(k)))return q=removeBrackets(q),ne.forEach(function(le,ue){!(utils.isUndefined(le)||le===null)&&e.append(f===!0?renderKey([q],ue,l):f===null?q:q+"[]",g(le))}),!1}return isVisitable(k)?!0:(e.append(renderKey(j,q,l),g(k)),!1)}const m=[],_=Object.assign(predicates,{defaultVisitor:b,convertValue:g,isVisitable});function x(k,q){if(!utils.isUndefined(k)){if(m.indexOf(k)!==-1)throw Error("Circular reference detected in "+q.join("."));m.push(k),utils.forEach(k,function(ne,se){(!(utils.isUndefined(ne)||ne===null)&&a.call(e,ne,utils.isString(se)?se.trim():se,q,_))===!0&&x(ne,q?q.concat(se):[se])}),m.pop()}}if(!utils.isObject(n))throw new TypeError("data must be an object");return x(n),e}function encode$4(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function AxiosURLSearchParams(n,e){this._pairs=[],n&&toFormData$1(n,this,e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(e,r){this._pairs.push([e,r])};prototype.toString=function(e){const r=e?function(s){return e.call(this,s,encode$4)}:encode$4;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function encode$3(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(n,e,r){if(!e)return n;const s=r&&r.encode||encode$3,a=r&&r.serialize;let l;if(a?l=a(e,r):l=utils.isURLSearchParams(e)?e.toString():new AxiosURLSearchParams(e,r).toString(s),l){const f=n.indexOf("#");f!==-1&&(n=n.slice(0,f)),n+=(n.indexOf("?")===-1?"?":"&")+l}return n}class InterceptorManager{constructor(){this.handlers=[]}use(e,r,s){return this.handlers.push({fulfilled:e,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils.forEach(this.handlers,function(s){s!==null&&e(s)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,isStandardBrowserEnv=(()=>{let n;return typeof navigator<"u"&&((n=navigator.product)==="ReactNative"||n==="NativeScript"||n==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),platform={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},isStandardBrowserEnv,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(n,e){return toFormData$1(n,new platform.classes.URLSearchParams,Object.assign({visitor:function(r,s,a,l){return platform.isNode&&utils.isBuffer(r)?(this.append(s,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function parsePropPath(n){return utils.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function arrayToObject(n){const e={},r=Object.keys(n);let s;const a=r.length;let l;for(s=0;s<a;s++)l=r[s],e[l]=n[l];return e}function formDataToJSON(n){function e(r,s,a,l){let f=r[l++];const c=Number.isFinite(+f),d=l>=r.length;return f=!f&&utils.isArray(a)?a.length:f,d?(utils.hasOwnProp(a,f)?a[f]=[a[f],s]:a[f]=s,!c):((!a[f]||!utils.isObject(a[f]))&&(a[f]=[]),e(r,s,a[f],l)&&utils.isArray(a[f])&&(a[f]=arrayToObject(a[f])),!c)}if(utils.isFormData(n)&&utils.isFunction(n.entries)){const r={};return utils.forEachEntry(n,(s,a)=>{e(parsePropPath(s),a,r,0)}),r}return null}const DEFAULT_CONTENT_TYPE={"Content-Type":void 0};function stringifySafely(n,e,r){if(utils.isString(n))try{return(e||JSON.parse)(n),utils.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(n)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function(e,r){const s=r.getContentType()||"",a=s.indexOf("application/json")>-1,l=utils.isObject(e);if(l&&utils.isHTMLForm(e)&&(e=new FormData(e)),utils.isFormData(e))return a&&a?JSON.stringify(formDataToJSON(e)):e;if(utils.isArrayBuffer(e)||utils.isBuffer(e)||utils.isStream(e)||utils.isFile(e)||utils.isBlob(e))return e;if(utils.isArrayBufferView(e))return e.buffer;if(utils.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((c=utils.isFileList(e))||s.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return toFormData$1(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return l||a?(r.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function(e){const r=this.transitional||defaults.transitional,s=r&&r.forcedJSONParsing,a=this.responseType==="json";if(e&&utils.isString(e)&&(s&&!this.responseType||a)){const f=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(c){if(f)throw c.name==="SyntaxError"?AxiosError$1.from(c,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils.forEach(["delete","get","head"],function(e){defaults.headers[e]={}});utils.forEach(["post","put","patch"],function(e){defaults.headers[e]=utils.merge(DEFAULT_CONTENT_TYPE)});const defaults$1=defaults,ignoreDuplicateOf=utils.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=n=>{const e={};let r,s,a;return n&&n.split(`
`).forEach(function(f){a=f.indexOf(":"),r=f.substring(0,a).trim().toLowerCase(),s=f.substring(a+1).trim(),!(!r||e[r]&&ignoreDuplicateOf[r])&&(r==="set-cookie"?e[r]?e[r].push(s):e[r]=[s]:e[r]=e[r]?e[r]+", "+s:s)}),e},$internals=Symbol("internals");function normalizeHeader(n){return n&&String(n).trim().toLowerCase()}function normalizeValue(n){return n===!1||n==null?n:utils.isArray(n)?n.map(normalizeValue):String(n)}function parseTokens(n){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(n);)e[s[1]]=s[2];return e}function isValidHeaderName(n){return/^[-_a-zA-Z]+$/.test(n.trim())}function matchHeaderValue(n,e,r,s,a){if(utils.isFunction(s))return s.call(this,e,r);if(a&&(e=r),!!utils.isString(e)){if(utils.isString(s))return e.indexOf(s)!==-1;if(utils.isRegExp(s))return s.test(e)}}function formatHeader(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,s)=>r.toUpperCase()+s)}function buildAccessors(n,e){const r=utils.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(n,s+r,{value:function(a,l,f){return this[s].call(this,e,a,l,f)},configurable:!0})})}let AxiosHeaders$1=class{constructor(e){e&&this.set(e)}set(e,r,s){const a=this;function l(c,d,g){const b=normalizeHeader(d);if(!b)throw new Error("header name must be a non-empty string");const m=utils.findKey(a,b);(!m||a[m]===void 0||g===!0||g===void 0&&a[m]!==!1)&&(a[m||d]=normalizeValue(c))}const f=(c,d)=>utils.forEach(c,(g,b)=>l(g,b,d));return utils.isPlainObject(e)||e instanceof this.constructor?f(e,r):utils.isString(e)&&(e=e.trim())&&!isValidHeaderName(e)?f(parseHeaders(e),r):e!=null&&l(r,e,s),this}get(e,r){if(e=normalizeHeader(e),e){const s=utils.findKey(this,e);if(s){const a=this[s];if(!r)return a;if(r===!0)return parseTokens(a);if(utils.isFunction(r))return r.call(this,a,s);if(utils.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=normalizeHeader(e),e){const s=utils.findKey(this,e);return!!(s&&this[s]!==void 0&&(!r||matchHeaderValue(this,this[s],s,r)))}return!1}delete(e,r){const s=this;let a=!1;function l(f){if(f=normalizeHeader(f),f){const c=utils.findKey(s,f);c&&(!r||matchHeaderValue(s,s[c],c,r))&&(delete s[c],a=!0)}}return utils.isArray(e)?e.forEach(l):l(e),a}clear(e){const r=Object.keys(this);let s=r.length,a=!1;for(;s--;){const l=r[s];(!e||matchHeaderValue(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const r=this,s={};return utils.forEach(this,(a,l)=>{const f=utils.findKey(s,l);if(f){r[f]=normalizeValue(a),delete r[l];return}const c=e?formatHeader(l):String(l).trim();c!==l&&delete r[l],r[c]=normalizeValue(a),s[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return utils.forEach(this,(s,a)=>{s!=null&&s!==!1&&(r[a]=e&&utils.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const s=new this(e);return r.forEach(a=>s.set(a)),s}static accessor(e){const s=(this[$internals]=this[$internals]={accessors:{}}).accessors,a=this.prototype;function l(f){const c=normalizeHeader(f);s[c]||(buildAccessors(a,f),s[c]=!0)}return utils.isArray(e)?e.forEach(l):l(e),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils.freezeMethods(AxiosHeaders$1.prototype);utils.freezeMethods(AxiosHeaders$1);const AxiosHeaders$2=AxiosHeaders$1;function transformData(n,e){const r=this||defaults$1,s=e||r,a=AxiosHeaders$2.from(s.headers);let l=s.data;return utils.forEach(n,function(c){l=c.call(r,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function isCancel$1(n){return!!(n&&n.__CANCEL__)}function CanceledError$1(n,e,r){AxiosError$1.call(this,n??"canceled",AxiosError$1.ERR_CANCELED,e,r),this.name="CanceledError"}utils.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(n,e,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?n(r):e(new AxiosError$1("Request failed with status code "+r.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const cookies=platform.isStandardBrowserEnv?function(){return{write:function(r,s,a,l,f,c){const d=[];d.push(r+"="+encodeURIComponent(s)),utils.isNumber(a)&&d.push("expires="+new Date(a).toGMTString()),utils.isString(l)&&d.push("path="+l),utils.isString(f)&&d.push("domain="+f),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(r){const s=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function combineURLs(n,e){return e?n.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):n}function buildFullPath(n,e){return n&&!isAbsoluteURL(e)?combineURLs(n,e):e}const isURLSameOrigin=platform.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let s;function a(l){let f=l;return e&&(r.setAttribute("href",f),f=r.href),r.setAttribute("href",f),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return s=a(window.location.href),function(f){const c=utils.isString(f)?a(f):f;return c.protocol===s.protocol&&c.host===s.host}}():function(){return function(){return!0}}();function parseProtocol(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function speedometer(n,e){n=n||10;const r=new Array(n),s=new Array(n);let a=0,l=0,f;return e=e!==void 0?e:1e3,function(d){const g=Date.now(),b=s[l];f||(f=g),r[a]=d,s[a]=g;let m=l,_=0;for(;m!==a;)_+=r[m++],m=m%n;if(a=(a+1)%n,a===l&&(l=(l+1)%n),g-f<e)return;const x=b&&g-b;return x?Math.round(_*1e3/x):void 0}}function progressEventReducer(n,e){let r=0;const s=speedometer(50,250);return a=>{const l=a.loaded,f=a.lengthComputable?a.total:void 0,c=l-r,d=s(c),g=l<=f;r=l;const b={loaded:l,total:f,progress:f?l/f:void 0,bytes:c,rate:d||void 0,estimated:d&&f&&g?(f-l)/d:void 0,event:a};b[e?"download":"upload"]=!0,n(b)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(n){return new Promise(function(r,s){let a=n.data;const l=AxiosHeaders$2.from(n.headers).normalize(),f=n.responseType;let c;function d(){n.cancelToken&&n.cancelToken.unsubscribe(c),n.signal&&n.signal.removeEventListener("abort",c)}utils.isFormData(a)&&(platform.isStandardBrowserEnv||platform.isStandardBrowserWebWorkerEnv)&&l.setContentType(!1);let g=new XMLHttpRequest;if(n.auth){const x=n.auth.username||"",k=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";l.set("Authorization","Basic "+btoa(x+":"+k))}const b=buildFullPath(n.baseURL,n.url);g.open(n.method.toUpperCase(),buildURL(b,n.params,n.paramsSerializer),!0),g.timeout=n.timeout;function m(){if(!g)return;const x=AxiosHeaders$2.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),q={data:!f||f==="text"||f==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:x,config:n,request:g};settle(function(ne){r(ne),d()},function(ne){s(ne),d()},q),g=null}if("onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(m)},g.onabort=function(){g&&(s(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,n,g)),g=null)},g.onerror=function(){s(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,n,g)),g=null},g.ontimeout=function(){let k=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const q=n.transitional||transitionalDefaults;n.timeoutErrorMessage&&(k=n.timeoutErrorMessage),s(new AxiosError$1(k,q.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,n,g)),g=null},platform.isStandardBrowserEnv){const x=(n.withCredentials||isURLSameOrigin(b))&&n.xsrfCookieName&&cookies.read(n.xsrfCookieName);x&&l.set(n.xsrfHeaderName,x)}a===void 0&&l.setContentType(null),"setRequestHeader"in g&&utils.forEach(l.toJSON(),function(k,q){g.setRequestHeader(q,k)}),utils.isUndefined(n.withCredentials)||(g.withCredentials=!!n.withCredentials),f&&f!=="json"&&(g.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&g.addEventListener("progress",progressEventReducer(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",progressEventReducer(n.onUploadProgress)),(n.cancelToken||n.signal)&&(c=x=>{g&&(s(!x||x.type?new CanceledError$1(null,n,g):x),g.abort(),g=null)},n.cancelToken&&n.cancelToken.subscribe(c),n.signal&&(n.signal.aborted?c():n.signal.addEventListener("abort",c)));const _=parseProtocol(b);if(_&&platform.protocols.indexOf(_)===-1){s(new AxiosError$1("Unsupported protocol "+_+":",AxiosError$1.ERR_BAD_REQUEST,n));return}g.send(a||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils.forEach(knownAdapters,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const adapters={getAdapter:n=>{n=utils.isArray(n)?n:[n];const{length:e}=n;let r,s;for(let a=0;a<e&&(r=n[a],!(s=utils.isString(r)?knownAdapters[r.toLowerCase()]:r));a++);if(!s)throw s===!1?new AxiosError$1(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(utils.hasOwnProp(knownAdapters,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!utils.isFunction(s))throw new TypeError("adapter is not a function");return s},adapters:knownAdapters};function throwIfCancellationRequested(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new CanceledError$1(null,n)}function dispatchRequest(n){return throwIfCancellationRequested(n),n.headers=AxiosHeaders$2.from(n.headers),n.data=transformData.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(n.adapter||defaults$1.adapter)(n).then(function(s){return throwIfCancellationRequested(n),s.data=transformData.call(n,n.transformResponse,s),s.headers=AxiosHeaders$2.from(s.headers),s},function(s){return isCancel$1(s)||(throwIfCancellationRequested(n),s&&s.response&&(s.response.data=transformData.call(n,n.transformResponse,s.response),s.response.headers=AxiosHeaders$2.from(s.response.headers))),Promise.reject(s)})}const headersToObject=n=>n instanceof AxiosHeaders$2?n.toJSON():n;function mergeConfig$1(n,e){e=e||{};const r={};function s(g,b,m){return utils.isPlainObject(g)&&utils.isPlainObject(b)?utils.merge.call({caseless:m},g,b):utils.isPlainObject(b)?utils.merge({},b):utils.isArray(b)?b.slice():b}function a(g,b,m){if(utils.isUndefined(b)){if(!utils.isUndefined(g))return s(void 0,g,m)}else return s(g,b,m)}function l(g,b){if(!utils.isUndefined(b))return s(void 0,b)}function f(g,b){if(utils.isUndefined(b)){if(!utils.isUndefined(g))return s(void 0,g)}else return s(void 0,b)}function c(g,b,m){if(m in e)return s(g,b);if(m in n)return s(void 0,g)}const d={url:l,method:l,data:l,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:c,headers:(g,b)=>a(headersToObject(g),headersToObject(b),!0)};return utils.forEach(Object.keys(n).concat(Object.keys(e)),function(b){const m=d[b]||a,_=m(n[b],e[b],b);utils.isUndefined(_)&&m!==c||(r[b]=_)}),r}const VERSION$1="1.3.4",validators$1={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{validators$1[n]=function(s){return typeof s===n||"a"+(e<1?"n ":" ")+n}});const deprecatedWarnings={};validators$1.transitional=function(e,r,s){function a(l,f){return"[Axios v"+VERSION$1+"] Transitional option '"+l+"'"+f+(s?". "+s:"")}return(l,f,c)=>{if(e===!1)throw new AxiosError$1(a(f," has been removed"+(r?" in "+r:"")),AxiosError$1.ERR_DEPRECATED);return r&&!deprecatedWarnings[f]&&(deprecatedWarnings[f]=!0,console.warn(a(f," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(l,f,c):!0}};function assertOptions(n,e,r){if(typeof n!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const s=Object.keys(n);let a=s.length;for(;a-- >0;){const l=s[a],f=e[l];if(f){const c=n[l],d=c===void 0||f(c,l,n);if(d!==!0)throw new AxiosError$1("option "+l+" must be "+d,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new AxiosError$1("Unknown option "+l,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(e){this.defaults=e,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=mergeConfig$1(this.defaults,r);const{transitional:s,paramsSerializer:a,headers:l}=r;s!==void 0&&validator.assertOptions(s,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),a!==void 0&&validator.assertOptions(a,{encode:validators.function,serialize:validators.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let f;f=l&&utils.merge(l.common,l[r.method]),f&&utils.forEach(["delete","get","head","post","put","patch","common"],k=>{delete l[k]}),r.headers=AxiosHeaders$2.concat(f,l);const c=[];let d=!0;this.interceptors.request.forEach(function(q){typeof q.runWhen=="function"&&q.runWhen(r)===!1||(d=d&&q.synchronous,c.unshift(q.fulfilled,q.rejected))});const g=[];this.interceptors.response.forEach(function(q){g.push(q.fulfilled,q.rejected)});let b,m=0,_;if(!d){const k=[dispatchRequest.bind(this),void 0];for(k.unshift.apply(k,c),k.push.apply(k,g),_=k.length,b=Promise.resolve(r);m<_;)b=b.then(k[m++],k[m++]);return b}_=c.length;let x=r;for(m=0;m<_;){const k=c[m++],q=c[m++];try{x=k(x)}catch(j){q.call(this,j);break}}try{b=dispatchRequest.call(this,x)}catch(k){return Promise.reject(k)}for(m=0,_=g.length;m<_;)b=b.then(g[m++],g[m++]);return b}getUri(e){e=mergeConfig$1(this.defaults,e);const r=buildFullPath(e.baseURL,e.url);return buildURL(r,e.params,e.paramsSerializer)}};utils.forEach(["delete","get","head","options"],function(e){Axios$1.prototype[e]=function(r,s){return this.request(mergeConfig$1(s||{},{method:e,url:r,data:(s||{}).data}))}});utils.forEach(["post","put","patch"],function(e){function r(s){return function(l,f,c){return this.request(mergeConfig$1(c||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:f}))}}Axios$1.prototype[e]=r(),Axios$1.prototype[e+"Form"]=r(!0)});const Axios$2=Axios$1;let CancelToken$1=class kr{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const s=this;this.promise.then(a=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](a);s._listeners=null}),this.promise.then=a=>{let l;const f=new Promise(c=>{s.subscribe(c),l=c}).then(a);return f.cancel=function(){s.unsubscribe(l)},f},e(function(l,f,c){s.reason||(s.reason=new CanceledError$1(l,f,c),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new kr(function(a){e=a}),cancel:e}}};const CancelToken$2=CancelToken$1;function spread$1(n){return function(r){return n.apply(null,r)}}function isAxiosError$1(n){return utils.isObject(n)&&n.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode$1).forEach(([n,e])=>{HttpStatusCode$1[e]=n});const HttpStatusCode$2=HttpStatusCode$1;function createInstance(n){const e=new Axios$2(n),r=bind(Axios$2.prototype.request,e);return utils.extend(r,Axios$2.prototype,e,{allOwnKeys:!0}),utils.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return createInstance(mergeConfig$1(n,a))},r}const axios=createInstance(defaults$1);axios.Axios=Axios$2;axios.CanceledError=CanceledError$1;axios.CancelToken=CancelToken$2;axios.isCancel=isCancel$1;axios.VERSION=VERSION$1;axios.toFormData=toFormData$1;axios.AxiosError=AxiosError$1;axios.Cancel=axios.CanceledError;axios.all=function(e){return Promise.all(e)};axios.spread=spread$1;axios.isAxiosError=isAxiosError$1;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$2;axios.formToJSON=n=>formDataToJSON(utils.isHTMLForm(n)?new FormData(n):n);axios.HttpStatusCode=HttpStatusCode$2;axios.default=axios;const axios$1=axios,{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,mergeConfig}=axios$1;var RecordRTCExports={},RecordRTC={get exports(){return RecordRTCExports},set exports(n){RecordRTCExports=n}};(function(n){/**
 * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. 
 * @summary Record audio, video or screen inside the browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTC
 * @class
 * @example
 * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {
 *     type: 'video', // audio or video or gif or canvas
 *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc
 * });
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}
 */function e(pe,ae){if(!pe)throw"First parameter is required.";ae=ae||{type:"video"},ae=new r(pe,ae);var Se=this;function Pe(Ie){return ae.disableLogs||console.log("RecordRTC version: ",Se.version),Ie&&(ae=new r(pe,Ie)),ae.disableLogs||console.log("started recording "+ae.type+" stream."),ce?(ce.clearRecordedData(),ce.record(),it("recording"),Se.recordingDuration&&nt(),Se):(qe(function(){Se.recordingDuration&&nt()}),Se)}function qe(Ie){Ie&&(ae.initCallback=function(){Ie(),Ie=ae.initCallback=null});var Ye=new s(pe,ae);ce=new Ye(pe,ae),ce.record(),it("recording"),ae.disableLogs||console.log("Initialized recorderType:",ce.constructor.name,"for output-type:",ae.type)}function xe(Ie){if(Ie=Ie||function(){},!ce){de();return}if(Se.state==="paused"){Se.resumeRecording(),setTimeout(function(){xe(Ie)},1);return}Se.state!=="recording"&&!ae.disableLogs&&console.warn('Recording state should be: "recording", however current state is: ',Se.state),ae.disableLogs||console.log("Stopped recording "+ae.type+" stream."),ae.type!=="gif"?ce.stop(Ye):(ce.stop(),Ye()),it("stopped");function Ye(Ke){if(!ce){typeof Ie.call=="function"?Ie.call(Se,""):Ie("");return}Object.keys(ce).forEach(function(Ce){typeof ce[Ce]!="function"&&(Se[Ce]=ce[Ce])});var Re=ce.blob;if(!Re)if(Ke)ce.blob=Re=Ke;else throw"Recording failed.";if(Re&&!ae.disableLogs&&console.log(Re.type,"->",ne(Re.size)),Ie){var je;try{je=b.createObjectURL(Re)}catch{}typeof Ie.call=="function"?Ie.call(Se,je):Ie(je)}ae.autoWriteToDisk&&et(function(Ce){var Ne={};Ne[ae.type+"Blob"]=Ce,De.Store(Ne)})}}function Xe(){if(!ce){de();return}if(Se.state!=="recording"){ae.disableLogs||console.warn("Unable to pause the recording. Recording state: ",Se.state);return}it("paused"),ce.pause(),ae.disableLogs||console.log("Paused recording.")}function $e(){if(!ce){de();return}if(Se.state!=="paused"){ae.disableLogs||console.warn("Unable to resume the recording. Recording state: ",Se.state);return}it("recording"),ce.resume(),ae.disableLogs||console.log("Resumed recording.")}function Ze(Ie){postMessage(new FileReaderSync().readAsDataURL(Ie))}function et(Ie,Ye){if(!Ie)throw"Pass a callback function over getDataURL.";var Ke=Ye?Ye.blob:(ce||{}).blob;if(!Ke){ae.disableLogs||console.warn("Blob encoder did not finish its job yet."),setTimeout(function(){et(Ie,Ye)},1e3);return}if(typeof Worker<"u"&&!navigator.mozGetUserMedia){var Re=Ce(Ze);Re.onmessage=function(Ne){Ie(Ne.data)},Re.postMessage(Ke)}else{var je=new FileReader;je.readAsDataURL(Ke),je.onload=function(Ne){Ie(Ne.target.result)}}function Ce(Ne){try{var Te=b.createObjectURL(new Blob([Ne.toString(),"this.onmessage =  function (eee) {"+Ne.name+"(eee.data);}"],{type:"application/javascript"})),ke=new Worker(Te);return b.revokeObjectURL(Te),ke}catch{}}}function nt(Ie){if(Ie=Ie||0,Se.state==="paused"){setTimeout(function(){nt(Ie)},1e3);return}if(Se.state!=="stopped"){if(Ie>=Se.recordingDuration){xe(Se.onRecordingStopped);return}Ie+=1e3,setTimeout(function(){nt(Ie)},1e3)}}function it(Ie){Se&&(Se.state=Ie,typeof Se.onStateChanged.call=="function"?Se.onStateChanged.call(Se,Ie):Se.onStateChanged(Ie))}var Ee='It seems that recorder is destroyed or "startRecording" is not invoked for '+ae.type+" recorder.";function de(){ae.disableLogs!==!0&&console.warn(Ee)}var ce,we={startRecording:Pe,stopRecording:xe,pauseRecording:Xe,resumeRecording:$e,initRecorder:qe,setRecordingDuration:function(Ie,Ye){if(typeof Ie>"u")throw"recordingDuration is required.";if(typeof Ie!="number")throw"recordingDuration must be a number.";return Se.recordingDuration=Ie,Se.onRecordingStopped=Ye||function(){},{onRecordingStopped:function(Ke){Se.onRecordingStopped=Ke}}},clearRecordedData:function(){if(!ce){de();return}ce.clearRecordedData(),ae.disableLogs||console.log("Cleared old recorded data.")},getBlob:function(){if(!ce){de();return}return ce.blob},getDataURL:et,toURL:function(){if(!ce){de();return}return b.createObjectURL(ce.blob)},getInternalRecorder:function(){return ce},save:function(Ie){if(!ce){de();return}se(ce.blob,Ie)},getFromDisk:function(Ie){if(!ce){de();return}e.getFromDisk(ae.type,Ie)},setAdvertisementArray:function(Ie){ae.advertisement=[];for(var Ye=Ie.length,Ke=0;Ke<Ye;Ke++)ae.advertisement.push({duration:Ke,image:Ie[Ke]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){Se.state==="recording"&&!ae.disableLogs&&console.warn("Stop an active recorder."),ce&&typeof ce.clearRecordedData=="function"&&ce.clearRecordedData(),ce=null,it("inactive"),Se.blob=null},onStateChanged:function(Ie){ae.disableLogs||console.log("Recorder state changed:",Ie)},state:"inactive",getState:function(){return Se.state},destroy:function(){var Ie=ae.disableLogs;ae={disableLogs:!0},Se.reset(),it("destroyed"),we=Se=null,ve.AudioContextConstructor&&(ve.AudioContextConstructor.close(),ve.AudioContextConstructor=null),ae.disableLogs=Ie,ae.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.2"};if(!this)return Se=we,we;for(var Be in we)this[Be]=we[Be];return Se=this,we}e.version="5.6.2",n.exports=e,e.getFromDisk=function(pe,ae){if(!ae)throw"callback is mandatory.";console.log("Getting recorded "+(pe==="all"?"blobs":pe+" blob ")+" from disk!"),De.Fetch(function(Se,Pe){pe!=="all"&&Pe===pe+"Blob"&&ae&&ae(Se),pe==="all"&&ae&&ae(Se,Pe.replace("Blob",""))})},e.writeToDisk=function(pe){console.log("Writing recorded blob(s) to disk!"),pe=pe||{},pe.audio&&pe.video&&pe.gif?pe.audio.getDataURL(function(ae){pe.video.getDataURL(function(Se){pe.gif.getDataURL(function(Pe){De.Store({audioBlob:ae,videoBlob:Se,gifBlob:Pe})})})}):pe.audio&&pe.video?pe.audio.getDataURL(function(ae){pe.video.getDataURL(function(Se){De.Store({audioBlob:ae,videoBlob:Se})})}):pe.audio&&pe.gif?pe.audio.getDataURL(function(ae){pe.gif.getDataURL(function(Se){De.Store({audioBlob:ae,gifBlob:Se})})}):pe.video&&pe.gif?pe.video.getDataURL(function(ae){pe.gif.getDataURL(function(Se){De.Store({videoBlob:ae,gifBlob:Se})})}):pe.audio?pe.audio.getDataURL(function(ae){De.Store({audioBlob:ae})}):pe.video?pe.video.getDataURL(function(ae){De.Store({videoBlob:ae})}):pe.gif&&pe.gif.getDataURL(function(ae){De.Store({gifBlob:ae})})};/**
 * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.
 * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid "config" object.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCConfiguration
 * @class
 * @example
 * var options = RecordRTCConfiguration(mediaStream, options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}
 */function r(pe,ae){return!ae.recorderType&&!ae.type&&(ae.audio&&ae.video?ae.type="video":ae.audio&&!ae.video&&(ae.type="audio")),ae.recorderType&&!ae.type&&(ae.recorderType===Oe||ae.recorderType===He||typeof Ue<"u"&&ae.recorderType===Ue?ae.type="video":ae.recorderType===We?ae.type="gif":ae.recorderType===be?ae.type="audio":ae.recorderType===ye&&(ue(pe,"audio").length&&ue(pe,"video").length||!ue(pe,"audio").length&&ue(pe,"video").length?ae.type="video":ue(pe,"audio").length&&!ue(pe,"video").length&&(ae.type="audio"))),typeof ye<"u"&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(ae.mimeType||(ae.mimeType="video/webm"),ae.type||(ae.type=ae.mimeType.split("/")[0]),ae.bitsPerSecond),ae.type||(ae.mimeType&&(ae.type=ae.mimeType.split("/")[0]),ae.type||(ae.type="audio")),ae}/**
 * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.
 * @summary It returns best recorder-type available for your browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GetRecorderType
 * @class
 * @example
 * var RecorderType = GetRecorderType(options);
 * var recorder = new RecorderType(options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 */function s(pe,ae){var Se;return(k||m||_)&&(Se=be),typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&!k&&(Se=ye),ae.type==="video"&&(k||_)&&(Se=Oe,typeof Ue<"u"&&typeof ReadableStream<"u"&&(Se=Ue)),ae.type==="gif"&&(Se=We),ae.type==="canvas"&&(Se=He),_e()&&Se!==He&&Se!==We&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(ue(pe,"video").length||ue(pe,"audio").length)&&(ae.type==="audio"?typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("audio/webm")&&(Se=ye):typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("video/webm")&&(Se=ye)),pe instanceof Array&&pe.length&&(Se=Ge),ae.recorderType&&(Se=ae.recorderType),!ae.disableLogs&&Se&&Se.name&&console.log("Using recorderType:",Se.name||Se.constructor.name),!Se&&q&&(Se=ye),Se}/**
 * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.
 * @summary MRecordRTC stands for "Multiple-RecordRTC".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MRecordRTC
 * @class
 * @example
 * var recorder = new MRecordRTC();
 * recorder.addStream(MediaStream);
 * recorder.mediaType = {
 *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder
 *     video: true, // or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder
 *     gif: true    // or GifRecorder
 * };
 * // mimeType is optional and should be set only in advance cases.
 * recorder.mimeType = {
 *     audio: 'audio/wav',
 *     video: 'video/webm',
 *     gif:   'image/gif'
 * };
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @requires {@link RecordRTC}
 */function a(pe){this.addStream=function(ae){ae&&(pe=ae)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var ae=this.mediaType,Se,Pe=this.mimeType||{audio:null,video:null,gif:null};if(typeof ae.audio!="function"&&_e()&&!ue(pe,"audio").length&&(ae.audio=!1),typeof ae.video!="function"&&_e()&&!ue(pe,"video").length&&(ae.video=!1),typeof ae.gif!="function"&&_e()&&!ue(pe,"video").length&&(ae.gif=!1),!ae.audio&&!ae.video&&!ae.gif)throw"MediaStream must have either audio or video tracks.";if(ae.audio&&(Se=null,typeof ae.audio=="function"&&(Se=ae.audio),this.audioRecorder=new e(pe,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:Se,mimeType:Pe.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),ae.video||this.audioRecorder.startRecording()),ae.video){Se=null,typeof ae.video=="function"&&(Se=ae.video);var qe=pe;if(_e()&&ae.audio&&typeof ae.audio=="function"){var xe=ue(pe,"video")[0];x?(qe=new j,qe.addTrack(xe),Se&&Se===Oe&&(Se=ye)):(qe=new j,qe.addTrack(xe))}this.videoRecorder=new e(qe,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:Se,mimeType:Pe.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),ae.audio||this.videoRecorder.startRecording()}if(ae.audio&&ae.video){var Xe=this,$e=_e()===!0;(ae.audio instanceof be&&ae.video||ae.audio!==!0&&ae.video!==!0&&ae.audio!==ae.video)&&($e=!1),$e===!0?(Xe.audioRecorder=null,Xe.videoRecorder.startRecording()):Xe.videoRecorder.initRecorder(function(){Xe.audioRecorder.initRecorder(function(){Xe.videoRecorder.startRecording(),Xe.audioRecorder.startRecording()})})}ae.gif&&(Se=null,typeof ae.gif=="function"&&(Se=ae.gif),this.gifRecorder=new e(pe,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:Se,mimeType:Pe.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(ae){ae=ae||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(Se){ae(Se,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(Se){ae(Se,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(Se){ae(Se,"gif")})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(ae){var Se={};return this.audioRecorder&&(Se.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(Se.video=this.videoRecorder.getBlob()),this.gifRecorder&&(Se.gif=this.gifRecorder.getBlob()),ae&&ae(Se),Se},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(ae){this.getBlob(function(qe){qe.audio&&qe.video?Se(qe.audio,function(xe){Se(qe.video,function(Xe){ae({audio:xe,video:Xe})})}):qe.audio?Se(qe.audio,function(xe){ae({audio:xe})}):qe.video&&Se(qe.video,function(xe){ae({video:xe})})});function Se(qe,xe){if(typeof Worker<"u"){var Xe=Pe(function(et){postMessage(new FileReaderSync().readAsDataURL(et))});Xe.onmessage=function(Ze){xe(Ze.data)},Xe.postMessage(qe)}else{var $e=new FileReader;$e.readAsDataURL(qe),$e.onload=function(Ze){xe(Ze.target.result)}}}function Pe(qe){var xe=b.createObjectURL(new Blob([qe.toString(),"this.onmessage =  function (eee) {"+qe.name+"(eee.data);}"],{type:"application/javascript"})),Xe=new Worker(xe),$e;if(typeof b<"u")$e=b;else if(typeof webkitURL<"u")$e=webkitURL;else throw"Neither URL nor webkitURL detected.";return $e.revokeObjectURL(xe),Xe}},this.writeToDisk=function(){e.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(ae){ae=ae||{audio:!0,video:!0,gif:!0},ae.audio&&this.audioRecorder&&this.audioRecorder.save(typeof ae.audio=="string"?ae.audio:""),ae.video&&this.videoRecorder&&this.videoRecorder.save(typeof ae.video=="string"?ae.video:""),ae.gif&&this.gifRecorder&&this.gifRecorder.save(typeof ae.gif=="string"?ae.gif:"")}}a.getFromDisk=e.getFromDisk,a.writeToDisk=e.writeToDisk,typeof e<"u"&&(e.MRecordRTC=a);var l="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(pe){pe&&(typeof window<"u"||typeof commonjsGlobal>"u"||(commonjsGlobal.navigator={userAgent:l,getUserMedia:function(){}},commonjsGlobal.console||(commonjsGlobal.console={}),(typeof commonjsGlobal.console.log>"u"||typeof commonjsGlobal.console.error>"u")&&(commonjsGlobal.console.error=commonjsGlobal.console.log=commonjsGlobal.console.log||function(){console.log(arguments)}),typeof document>"u"&&(pe.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var ae={getContext:function(){return ae},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return ae},pe.HTMLVideoElement=function(){}),typeof location>"u"&&(pe.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(pe.screen={width:0,height:0}),typeof b>"u"&&(pe.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),pe.window=commonjsGlobal))})(typeof commonjsGlobal<"u"?commonjsGlobal:null);var f=window.requestAnimationFrame;if(typeof f>"u"){if(typeof webkitRequestAnimationFrame<"u")f=webkitRequestAnimationFrame;else if(typeof mozRequestAnimationFrame<"u")f=mozRequestAnimationFrame;else if(typeof msRequestAnimationFrame<"u")f=msRequestAnimationFrame;else if(typeof f>"u"){var c=0;f=function(pe,ae){var Se=new Date().getTime(),Pe=Math.max(0,16-(Se-c)),qe=setTimeout(function(){pe(Se+Pe)},Pe);return c=Se+Pe,qe}}}var d=window.cancelAnimationFrame;typeof d>"u"&&(typeof webkitCancelAnimationFrame<"u"?d=webkitCancelAnimationFrame:typeof mozCancelAnimationFrame<"u"?d=mozCancelAnimationFrame:typeof msCancelAnimationFrame<"u"?d=msCancelAnimationFrame:typeof d>"u"&&(d=function(pe){clearTimeout(pe)}));var g=window.AudioContext;typeof g>"u"&&(typeof webkitAudioContext<"u"&&(g=webkitAudioContext),typeof mozAudioContext<"u"&&(g=mozAudioContext));var b=window.URL;typeof b>"u"&&typeof webkitURL<"u"&&(b=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var m=navigator.userAgent.indexOf("Edge")!==-1&&(!!navigator.msSaveBlob||!!navigator.msSaveOrOpenBlob),_=!!window.opera||navigator.userAgent.indexOf("OPR/")!==-1,x=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),k=!_&&!m&&!!navigator.webkitGetUserMedia||le()||navigator.userAgent.toLowerCase().indexOf("chrome/")!==-1,q=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);q&&!k&&navigator.userAgent.indexOf("CriOS")!==-1&&(q=!1,k=!0);var j=window.MediaStream;typeof j>"u"&&typeof webkitMediaStream<"u"&&(j=webkitMediaStream),typeof j<"u"&&typeof j.prototype.stop>"u"&&(j.prototype.stop=function(){this.getTracks().forEach(function(pe){pe.stop()})});function ne(pe){var ae=1e3,Se=["Bytes","KB","MB","GB","TB"];if(pe===0)return"0 Bytes";var Pe=parseInt(Math.floor(Math.log(pe)/Math.log(ae)),10);return(pe/Math.pow(ae,Pe)).toPrecision(3)+" "+Se[Pe]}function se(pe,ae){if(!pe)throw"Blob object is required.";if(!pe.type)try{pe.type="video/webm"}catch{}var Se=(pe.type||"video/webm").split("/")[1];if(Se.indexOf(";")!==-1&&(Se=Se.split(";")[0]),ae&&ae.indexOf(".")!==-1){var Pe=ae.split(".");ae=Pe[0],Se=Pe[1]}var qe=(ae||Math.round(Math.random()*9999999999)+888888888)+"."+Se;if(typeof navigator.msSaveOrOpenBlob<"u")return navigator.msSaveOrOpenBlob(pe,qe);if(typeof navigator.msSaveBlob<"u")return navigator.msSaveBlob(pe,qe);var xe=document.createElement("a");xe.href=b.createObjectURL(pe),xe.download=qe,xe.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(xe),typeof xe.click=="function"?xe.click():(xe.target="_blank",xe.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),b.revokeObjectURL(xe.href)}function le(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}function ue(pe,ae){return!pe||!pe.getTracks?[]:pe.getTracks().filter(function(Se){return Se.kind===(ae||"audio")})}function he(pe,ae){"srcObject"in ae?ae.srcObject=pe:"mozSrcObject"in ae?ae.mozSrcObject=pe:ae.srcObject=pe}function ge(pe,ae){if(typeof EBML>"u")throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var Se=new EBML.Reader,Pe=new EBML.Decoder,qe=EBML.tools,xe=new FileReader;xe.onload=function(Xe){var $e=Pe.decode(this.result);$e.forEach(function(it){Se.read(it)}),Se.stop();var Ze=qe.makeMetadataSeekable(Se.metadatas,Se.duration,Se.cues),et=this.result.slice(Se.metadataSize),nt=new Blob([Ze,et],{type:"video/webm"});ae(nt)},xe.readAsArrayBuffer(pe)}typeof e<"u"&&(e.invokeSaveAsDialog=se,e.getTracks=ue,e.getSeekableBlob=ge,e.bytesToSize=ne,e.isElectron=le);/**
 * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. "new AudioContext".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * Storage.AudioContext === webkitAudioContext
 * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var ve={};typeof g<"u"?ve.AudioContext=g:typeof webkitAudioContext<"u"&&(ve.AudioContext=webkitAudioContext),typeof e<"u"&&(e.Storage=ve);function _e(){if(x||q||m)return!0;var pe=navigator.userAgent,ae=""+parseFloat(navigator.appVersion),Se=parseInt(navigator.appVersion,10),Pe,qe;return(k||_)&&(Pe=pe.indexOf("Chrome"),ae=pe.substring(Pe+7)),(qe=ae.indexOf(";"))!==-1&&(ae=ae.substring(0,qe)),(qe=ae.indexOf(" "))!==-1&&(ae=ae.substring(0,qe)),Se=parseInt(""+ae,10),isNaN(Se)&&(ae=""+parseFloat(navigator.appVersion),Se=parseInt(navigator.appVersion,10)),Se>=49}/**
 * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.
 * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://github.com/muaz-khan|Muaz Khan}
 * @typedef MediaStreamRecorder
 * @class
 * @example
 * var config = {
 *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis
 *     audioBitsPerSecond : 256 * 8 * 1024,
 *     videoBitsPerSecond : 256 * 8 * 1024,
 *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two
 *     checkForInactiveTracks: true,
 *     timeSlice: 1000, // concatenate intervals based blobs
 *     ondataavailable: function() {} // get intervals based blobs
 * }
 * var recorder = new MediaStreamRecorder(mediaStream, config);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs:true, initCallback: function, mimeType: "video/webm", timeSlice: 1000}
 * @throws Will throw an error if first argument "MediaStream" is missing. Also throws error if "MediaRecorder API" are not supported by the browser.
 */function ye(pe,ae){var nt=this;if(typeof pe>"u")throw'First argument "MediaStream" is required.';if(typeof MediaRecorder>"u")throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if(ae=ae||{mimeType:"video/webm"},ae.type==="audio"){if(ue(pe,"video").length&&ue(pe,"audio").length){var Se;navigator.mozGetUserMedia?(Se=new j,Se.addTrack(ue(pe,"audio")[0])):Se=new j(ue(pe,"audio")),pe=Se}(!ae.mimeType||ae.mimeType.toString().toLowerCase().indexOf("audio")===-1)&&(ae.mimeType=k?"audio/webm":"audio/ogg"),ae.mimeType&&ae.mimeType.toString().toLowerCase()!=="audio/ogg"&&navigator.mozGetUserMedia&&(ae.mimeType="audio/ogg")}var Pe=[];this.getArrayOfBlobs=function(){return Pe},this.record=function(){nt.blob=null,nt.clearRecordedData(),nt.timestamps=[],et=[],Pe=[];var it=ae;ae.disableLogs||console.log("Passing following config over MediaRecorder API.",it),$e&&($e=null),k&&!_e()&&(it="video/vp8"),typeof MediaRecorder.isTypeSupported=="function"&&it.mimeType&&(MediaRecorder.isTypeSupported(it.mimeType)||(ae.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",it.mimeType),it.mimeType=ae.type==="audio"?"audio/webm":"video/webm"));try{$e=new MediaRecorder(pe,it),ae.mimeType=it.mimeType}catch{$e=new MediaRecorder(pe)}it.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in $e&&$e.canRecordMimeType(it.mimeType)===!1&&(ae.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",it.mimeType)),$e.ondataavailable=function(Ee){if(Ee.data&&et.push("ondataavailable: "+ne(Ee.data.size)),typeof ae.timeSlice=="number"){if(Ee.data&&Ee.data.size&&(Pe.push(Ee.data),qe(),typeof ae.ondataavailable=="function")){var de=ae.getNativeBlob?Ee.data:new Blob([Ee.data],{type:xe(it)});ae.ondataavailable(de)}return}if(!Ee.data||!Ee.data.size||Ee.data.size<100||nt.blob){nt.recordingCallback&&(nt.recordingCallback(new Blob([],{type:xe(it)})),nt.recordingCallback=null);return}nt.blob=ae.getNativeBlob?Ee.data:new Blob([Ee.data],{type:xe(it)}),nt.recordingCallback&&(nt.recordingCallback(nt.blob),nt.recordingCallback=null)},$e.onstart=function(){et.push("started")},$e.onpause=function(){et.push("paused")},$e.onresume=function(){et.push("resumed")},$e.onstop=function(){et.push("stopped")},$e.onerror=function(Ee){Ee&&(Ee.name||(Ee.name="UnknownError"),et.push("error: "+Ee),ae.disableLogs||(Ee.name.toString().toLowerCase().indexOf("invalidstate")!==-1?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",Ee):Ee.name.toString().toLowerCase().indexOf("notsupported")!==-1?console.error("MIME type (",it.mimeType,") is not supported.",Ee):Ee.name.toString().toLowerCase().indexOf("security")!==-1?console.error("MediaRecorder security error",Ee):Ee.name==="OutOfMemory"?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",Ee):Ee.name==="IllegalStreamModification"?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",Ee):Ee.name==="OtherRecordingError"?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",Ee):Ee.name==="GenericError"?console.error("The UA cannot provide the codec or recording option that has been requested.",Ee):console.error("MediaRecorder Error",Ee)),function(de){if(!nt.manuallyStopped&&$e&&$e.state==="inactive"){delete ae.timeslice,$e.start(10*60*1e3);return}setTimeout(de,1e3)}(),$e.state!=="inactive"&&$e.state!=="stopped"&&$e.stop())},typeof ae.timeSlice=="number"?(qe(),$e.start(ae.timeSlice)):$e.start(36e5),ae.initCallback&&ae.initCallback()},this.timestamps=[];function qe(){nt.timestamps.push(new Date().getTime()),typeof ae.onTimeStamp=="function"&&ae.onTimeStamp(nt.timestamps[nt.timestamps.length-1],nt.timestamps)}function xe(it){return $e&&$e.mimeType?$e.mimeType:it.mimeType||"video/webm"}this.stop=function(it){it=it||function(){},nt.manuallyStopped=!0,$e&&(this.recordingCallback=it,$e.state==="recording"&&$e.stop(),typeof ae.timeSlice=="number"&&setTimeout(function(){nt.blob=new Blob(Pe,{type:xe(ae)}),nt.recordingCallback(nt.blob)},100))},this.pause=function(){$e&&$e.state==="recording"&&$e.pause()},this.resume=function(){$e&&$e.state==="paused"&&$e.resume()},this.clearRecordedData=function(){$e&&$e.state==="recording"&&nt.stop(Xe),Xe()};function Xe(){Pe=[],$e=null,nt.timestamps=[]}var $e;this.getInternalRecorder=function(){return $e};function Ze(){if("active"in pe){if(!pe.active)return!1}else if("ended"in pe&&pe.ended)return!1;return!0}this.blob=null,this.getState=function(){return $e&&$e.state||"inactive"};var et=[];this.getAllStates=function(){return et},typeof ae.checkForInactiveTracks>"u"&&(ae.checkForInactiveTracks=!1);var nt=this;(function it(){if(!(!$e||ae.checkForInactiveTracks===!1)){if(Ze()===!1){ae.disableLogs||console.log("MediaStream seems stopped."),nt.stop();return}setTimeout(it,1e3)}})(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}typeof e<"u"&&(e.MediaStreamRecorder=ye);/**
 * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring "stereo" audio-recording in chrome.
 * @summary JavaScript standalone object for stereo audio recording.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef StereoAudioRecorder
 * @class
 * @example
 * var recorder = new StereoAudioRecorder(MediaStream, {
 *     sampleRate: 44100,
 *     bufferSize: 4096
 * });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}
 */function be(pe,ae){if(!ue(pe,"audio").length)throw"Your stream has no audio tracks.";ae=ae||{};var Se=this,Pe=[],qe=[],xe=!1,Xe=0,$e,Ze=2,et=ae.desiredSampRate;ae.leftChannel===!0&&(Ze=1),ae.numberOfAudioChannels===1&&(Ze=1),(!Ze||Ze<1)&&(Ze=2),ae.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+Ze),typeof ae.checkForInactiveTracks>"u"&&(ae.checkForInactiveTracks=!0);function nt(){if(ae.checkForInactiveTracks===!1)return!0;if("active"in pe){if(!pe.active)return!1}else if("ended"in pe&&pe.ended)return!1;return!0}this.record=function(){if(nt()===!1)throw"Please make sure MediaStream is active.";Ke(),je=Ye=!1,xe=!0,typeof ae.timeSlice<"u"&&Te()};function it(ke,rt){function lt(ft,vt){var ct=ft.numberOfAudioChannels,ht=ft.leftBuffers.slice(0),_t=ft.rightBuffers.slice(0),bt=ft.sampleRate,pt=ft.internalInterleavedLength,mt=ft.desiredSampRate;ct===2&&(ht=kt(ht,pt),_t=kt(_t,pt),mt&&(ht=Tt(ht,mt,bt),_t=Tt(_t,mt,bt))),ct===1&&(ht=kt(ht,pt),mt&&(ht=Tt(ht,mt,bt))),mt&&(bt=mt);function Tt(xt,Ut,Dt){var At=Math.round(xt.length*(Ut/Dt)),It=[],gt=Number((xt.length-1)/(At-1));It[0]=xt[0];for(var zt=1;zt<At-1;zt++){var Wt=zt*gt,Xt=Number(Math.floor(Wt)).toFixed(),Bn=Number(Math.ceil(Wt)).toFixed(),Vt=Wt-Xt;It[zt]=$t(xt[Xt],xt[Bn],Vt)}return It[At-1]=xt[xt.length-1],It}function $t(xt,Ut,Dt){return xt+(Ut-xt)*Dt}function kt(xt,Ut){for(var Dt=new Float64Array(Ut),At=0,It=xt.length,gt=0;gt<It;gt++){var zt=xt[gt];Dt.set(zt,At),At+=zt.length}return Dt}function Ft(xt,Ut){for(var Dt=xt.length+Ut.length,At=new Float64Array(Dt),It=0,gt=0;gt<Dt;)At[gt++]=xt[It],At[gt++]=Ut[It],It++;return At}function Bt(xt,Ut,Dt){for(var At=Dt.length,It=0;It<At;It++)xt.setUint8(Ut+It,Dt.charCodeAt(It))}var wt;ct===2&&(wt=Ft(ht,_t)),ct===1&&(wt=ht);var Yt=wt.length,Rn=44+Yt*2,cn=new ArrayBuffer(Rn),Nt=new DataView(cn);Bt(Nt,0,"RIFF"),Nt.setUint32(4,36+Yt*2,!0),Bt(Nt,8,"WAVE"),Bt(Nt,12,"fmt "),Nt.setUint32(16,16,!0),Nt.setUint16(20,1,!0),Nt.setUint16(22,ct,!0),Nt.setUint32(24,bt,!0),Nt.setUint32(28,bt*ct*2,!0),Nt.setUint16(32,ct*2,!0),Nt.setUint16(34,16,!0),Bt(Nt,36,"data"),Nt.setUint32(40,Yt*2,!0);for(var Ln=Yt,_n=44,Kt=1,Ot=0;Ot<Ln;Ot++)Nt.setInt16(_n,wt[Ot]*(32767*Kt),!0),_n+=2;if(vt)return vt({buffer:cn,view:Nt});postMessage({buffer:cn,view:Nt})}if(ke.noWorker){lt(ke,function(ft){rt(ft.buffer,ft.view)});return}var ot=Ee(lt);ot.onmessage=function(ft){rt(ft.data.buffer,ft.data.view),b.revokeObjectURL(ot.workerURL),ot.terminate()},ot.postMessage(ke)}function Ee(ke){var rt=b.createObjectURL(new Blob([ke.toString(),";this.onmessage =  function (eee) {"+ke.name+"(eee.data);}"],{type:"application/javascript"})),lt=new Worker(rt);return lt.workerURL=rt,lt}this.stop=function(ke){ke=ke||function(){},xe=!1,it({desiredSampRate:et,sampleRate:Ie,numberOfAudioChannels:Ze,internalInterleavedLength:Xe,leftBuffers:Pe,rightBuffers:Ze===1?[]:qe,noWorker:ae.noWorker},function(rt,lt){Se.blob=new Blob([lt],{type:"audio/wav"}),Se.buffer=new ArrayBuffer(lt.buffer.byteLength),Se.view=lt,Se.sampleRate=et||Ie,Se.bufferSize=Be,Se.length=Xe,je=!1,ke&&ke(Se.blob)})},typeof e.Storage>"u"&&(e.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),(!e.Storage.AudioContextConstructor||e.Storage.AudioContextConstructor.state==="closed")&&(e.Storage.AudioContextConstructor=new e.Storage.AudioContext);var de=e.Storage.AudioContextConstructor,ce=de.createMediaStreamSource(pe),we=[0,256,512,1024,2048,4096,8192,16384],Be=typeof ae.bufferSize>"u"?4096:ae.bufferSize;if(we.indexOf(Be)===-1&&(ae.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(we,null,"	"))),de.createJavaScriptNode)$e=de.createJavaScriptNode(Be,Ze,Ze);else if(de.createScriptProcessor)$e=de.createScriptProcessor(Be,Ze,Ze);else throw"WebAudio API has no support on this browser.";ce.connect($e),ae.bufferSize||(Be=$e.bufferSize);var Ie=typeof ae.sampleRate<"u"?ae.sampleRate:de.sampleRate||44100;(Ie<22050||Ie>96e3)&&(ae.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),ae.disableLogs||ae.desiredSampRate&&console.log("Desired sample-rate: "+ae.desiredSampRate);var Ye=!1;this.pause=function(){Ye=!0},this.resume=function(){if(nt()===!1)throw"Please make sure MediaStream is active.";if(!xe){ae.disableLogs||console.log("Seems recording has been restarted."),this.record();return}Ye=!1},this.clearRecordedData=function(){ae.checkForInactiveTracks=!1,xe&&this.stop(Re),Re()};function Ke(){Pe=[],qe=[],Xe=0,je=!1,xe=!1,Ye=!1,de=null,Se.leftchannel=Pe,Se.rightchannel=qe,Se.numberOfAudioChannels=Ze,Se.desiredSampRate=et,Se.sampleRate=Ie,Se.recordingLength=Xe,Ne={left:[],right:[],recordingLength:0}}function Re(){$e&&($e.onaudioprocess=null,$e.disconnect(),$e=null),ce&&(ce.disconnect(),ce=null),Ke()}this.name="StereoAudioRecorder",this.toString=function(){return this.name};var je=!1;function Ce(ke){if(!Ye){if(nt()===!1&&(ae.disableLogs||console.log("MediaStream seems stopped."),$e.disconnect(),xe=!1),!xe){ce&&(ce.disconnect(),ce=null);return}je||(je=!0,ae.onAudioProcessStarted&&ae.onAudioProcessStarted(),ae.initCallback&&ae.initCallback());var rt=ke.inputBuffer.getChannelData(0),lt=new Float32Array(rt);if(Pe.push(lt),Ze===2){var ot=ke.inputBuffer.getChannelData(1),ft=new Float32Array(ot);qe.push(ft)}Xe+=Be,Se.recordingLength=Xe,typeof ae.timeSlice<"u"&&(Ne.recordingLength+=Be,Ne.left.push(lt),Ze===2&&Ne.right.push(ft))}}$e.onaudioprocess=Ce,de.createMediaStreamDestination?$e.connect(de.createMediaStreamDestination()):$e.connect(de.destination),this.leftchannel=Pe,this.rightchannel=qe,this.numberOfAudioChannels=Ze,this.desiredSampRate=et,this.sampleRate=Ie,Se.recordingLength=Xe;var Ne={left:[],right:[],recordingLength:0};function Te(){!xe||typeof ae.ondataavailable!="function"||typeof ae.timeSlice>"u"||(Ne.left.length?(it({desiredSampRate:et,sampleRate:Ie,numberOfAudioChannels:Ze,internalInterleavedLength:Ne.recordingLength,leftBuffers:Ne.left,rightBuffers:Ze===1?[]:Ne.right},function(ke,rt){var lt=new Blob([rt],{type:"audio/wav"});ae.ondataavailable(lt),setTimeout(Te,ae.timeSlice)}),Ne={left:[],right:[],recordingLength:0}):setTimeout(Te,ae.timeSlice))}}typeof e<"u"&&(e.StereoAudioRecorder=be);/**
 * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.
 * @summary HTML2Canvas recording into video WebM.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef CanvasRecorder
 * @class
 * @example
 * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true, useWhammyRecorder: true });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.
 * @param {object} config - {disableLogs:true, initCallback: function}
 */function He(pe,ae){if(typeof html2canvas>"u")throw"Please link: https://www.webrtc-experiment.com/screenshot.js";ae=ae||{},ae.frameInterval||(ae.frameInterval=10);var Se=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(we){we in document.createElement("canvas")&&(Se=!0)});var Pe=(!!window.webkitRTCPeerConnection||!!window.webkitGetUserMedia)&&!!window.chrome,qe=50,xe=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);Pe&&xe&&xe[2]&&(qe=parseInt(xe[2],10)),Pe&&qe<52&&(Se=!1),ae.useWhammyRecorder&&(Se=!1);var Xe,$e;if(Se)if(ae.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),pe instanceof HTMLCanvasElement)Xe=pe;else if(pe instanceof CanvasRenderingContext2D)Xe=pe.canvas;else throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";else navigator.mozGetUserMedia&&(ae.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));var Ze;this.record=function(){if(Ze=!0,Se&&!ae.useWhammyRecorder){var we;"captureStream"in Xe?we=Xe.captureStream(25):"mozCaptureStream"in Xe?we=Xe.mozCaptureStream(25):"webkitCaptureStream"in Xe&&(we=Xe.webkitCaptureStream(25));try{var Be=new j;Be.addTrack(ue(we,"video")[0]),we=Be}catch{}if(!we)throw"captureStream API are NOT available.";$e=new ye(we,{mimeType:ae.mimeType||"video/webm"}),$e.record()}else ce.frames=[],de=new Date().getTime(),Ee();ae.initCallback&&ae.initCallback()},this.getWebPImages=function(we){if(pe.nodeName.toLowerCase()!=="canvas"){we();return}var Be=ce.frames.length;ce.frames.forEach(function(Ie,Ye){var Ke=Be-Ye;ae.disableLogs||console.log(Ke+"/"+Be+" frames remaining"),ae.onEncodingCallback&&ae.onEncodingCallback(Ke,Be);var Re=Ie.image.toDataURL("image/webp",1);ce.frames[Ye].image=Re}),ae.disableLogs||console.log("Generating WebM"),we()},this.stop=function(we){Ze=!1;var Be=this;if(Se&&$e){$e.stop(we);return}this.getWebPImages(function(){ce.compile(function(Ie){ae.disableLogs||console.log("Recording finished!"),Be.blob=Ie,Be.blob.forEach&&(Be.blob=new Blob([],{type:"video/webm"})),we&&we(Be.blob),ce.frames=[]})})};var et=!1;this.pause=function(){if(et=!0,$e instanceof ye){$e.pause();return}},this.resume=function(){if(et=!1,$e instanceof ye){$e.resume();return}Ze||this.record()},this.clearRecordedData=function(){Ze&&this.stop(nt),nt()};function nt(){ce.frames=[],Ze=!1,et=!1}this.name="CanvasRecorder",this.toString=function(){return this.name};function it(){var we=document.createElement("canvas"),Be=we.getContext("2d");return we.width=pe.width,we.height=pe.height,Be.drawImage(pe,0,0),we}function Ee(){if(et)return de=new Date().getTime(),setTimeout(Ee,500);if(pe.nodeName.toLowerCase()==="canvas"){var we=new Date().getTime()-de;de=new Date().getTime(),ce.frames.push({image:it(),duration:we}),Ze&&setTimeout(Ee,ae.frameInterval);return}html2canvas(pe,{grabMouse:typeof ae.showMousePointer>"u"||ae.showMousePointer,onrendered:function(Be){var Ie=new Date().getTime()-de;if(!Ie)return setTimeout(Ee,ae.frameInterval);de=new Date().getTime(),ce.frames.push({image:Be.toDataURL("image/webp",1),duration:Ie}),Ze&&setTimeout(Ee,ae.frameInterval)}})}var de=new Date().getTime(),ce=new Fe.Video(100)}typeof e<"u"&&(e.CanvasRecorder=He);/**
 * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.
 * @summary Video recording feature in Chrome.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WhammyRecorder
 * @class
 * @example
 * var recorder = new WhammyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}
 */function Oe(pe,ae){ae=ae||{},ae.frameInterval||(ae.frameInterval=10),ae.disableLogs||console.log("Using frames-interval:",ae.frameInterval),this.record=function(){ae.width||(ae.width=320),ae.height||(ae.height=240),ae.video||(ae.video={width:ae.width,height:ae.height}),ae.canvas||(ae.canvas={width:ae.width,height:ae.height}),Ze.width=ae.canvas.width||320,Ze.height=ae.canvas.height||240,et=Ze.getContext("2d"),ae.video&&ae.video instanceof HTMLVideoElement?(nt=ae.video.cloneNode(),ae.initCallback&&ae.initCallback()):(nt=document.createElement("video"),he(pe,nt),nt.onloadedmetadata=function(){ae.initCallback&&ae.initCallback()},nt.width=ae.video.width,nt.height=ae.video.height),nt.muted=!0,nt.play(),it=new Date().getTime(),Ee=new Fe.Video,ae.disableLogs||(console.log("canvas resolutions",Ze.width,"*",Ze.height),console.log("video width/height",nt.width||Ze.width,"*",nt.height||Ze.height)),Se(ae.frameInterval)};function Se(de){de=typeof de<"u"?de:10;var ce=new Date().getTime()-it;if(!ce)return setTimeout(Se,de,de);if(Xe)return it=new Date().getTime(),setTimeout(Se,100);it=new Date().getTime(),nt.paused&&nt.play(),et.drawImage(nt,0,0,Ze.width,Ze.height),Ee.frames.push({duration:ce,image:Ze.toDataURL("image/webp")}),xe||setTimeout(Se,de,de)}function Pe(de){var ce=-1,we=de.length;(function Be(){if(ce++,ce===we){de.callback();return}setTimeout(function(){de.functionToLoop(Be,ce)},1)})()}function qe(de,ce,we,Be,Ie){var Ye=document.createElement("canvas");Ye.width=Ze.width,Ye.height=Ze.height;var Ke=Ye.getContext("2d"),Re=[],je=ce===-1,Ce=ce&&ce>0&&ce<=de.length?ce:de.length,Ne={r:0,g:0,b:0},Te=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),ke=we&&we>=0&&we<=1?we:0,rt=Be&&Be>=0&&Be<=1?Be:0,lt=!1;Pe({length:Ce,functionToLoop:function(ot,ft){var vt,ct,ht,_t=function(){!lt&&ht-vt<=ht*rt||(je&&(lt=!0),Re.push(de[ft])),ot()};if(lt)_t();else{var bt=new Image;bt.onload=function(){Ke.drawImage(bt,0,0,Ze.width,Ze.height);var pt=Ke.getImageData(0,0,Ze.width,Ze.height);vt=0,ct=pt.data.length,ht=pt.data.length/4;for(var mt=0;mt<ct;mt+=4){var Tt={r:pt.data[mt],g:pt.data[mt+1],b:pt.data[mt+2]},$t=Math.sqrt(Math.pow(Tt.r-Ne.r,2)+Math.pow(Tt.g-Ne.g,2)+Math.pow(Tt.b-Ne.b,2));$t<=Te*ke&&vt++}_t()},bt.src=de[ft].image}},callback:function(){Re=Re.concat(de.slice(Ce)),Re.length<=0&&Re.push(de[de.length-1]),Ie(Re)}})}var xe=!1;this.stop=function(de){de=de||function(){},xe=!0;var ce=this;setTimeout(function(){qe(Ee.frames,-1,null,null,function(we){Ee.frames=we,ae.advertisement&&ae.advertisement.length&&(Ee.frames=ae.advertisement.concat(Ee.frames)),Ee.compile(function(Be){ce.blob=Be,ce.blob.forEach&&(ce.blob=new Blob([],{type:"video/webm"})),de&&de(ce.blob)})})},10)};var Xe=!1;this.pause=function(){Xe=!0},this.resume=function(){Xe=!1,xe&&this.record()},this.clearRecordedData=function(){xe||this.stop($e),$e()};function $e(){Ee.frames=[],xe=!0,Xe=!1}this.name="WhammyRecorder",this.toString=function(){return this.name};var Ze=document.createElement("canvas"),et=Ze.getContext("2d"),nt,it,Ee}typeof e<"u"&&(e.WhammyRecorder=Oe);/**
 * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}
 * @summary A real time javascript webm encoder based on a canvas hack.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef Whammy
 * @class
 * @example
 * var recorder = new Whammy().Video(15);
 * recorder.add(context || canvas || dataURL);
 * var output = recorder.compile();
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var Fe=function(){function pe(Pe){this.frames=[],this.duration=Pe||1,this.quality=.8}pe.prototype.add=function(Pe,qe){if("canvas"in Pe&&(Pe=Pe.canvas),"toDataURL"in Pe&&(Pe=Pe.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/ig.test(Pe))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:Pe,duration:qe||this.duration})};function ae(Pe){var qe=b.createObjectURL(new Blob([Pe.toString(),"this.onmessage =  function (eee) {"+Pe.name+"(eee.data);}"],{type:"application/javascript"})),xe=new Worker(qe);return b.revokeObjectURL(qe),xe}function Se(Pe){function qe(Ie){var Ye=Xe(Ie);if(!Ye)return[];for(var Ke=3e4,Re=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:we(Ye.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:Ye.width,id:176},{data:Ye.height,id:186}]}]}]}]}],je=0,Ce=0;je<Ie.length;){var Ne=[],Te=0;do Ne.push(Ie[je]),Te+=Ie[je].duration,je++;while(je<Ie.length&&Te<Ke);var ke=0,rt={id:524531317,data:xe(Ce,ke,Ne)};Re[1].data.push(rt),Ce+=Te}return nt(Re)}function xe(Ie,Ye,Ke){return[{data:Ie,id:231}].concat(Ke.map(function(Re){var je=it({discardable:0,frame:Re.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(Ye)});return Ye+=Re.duration,{data:je,id:163}}))}function Xe(Ie){if(!Ie[0]){postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});return}for(var Ye=Ie[0].width,Ke=Ie[0].height,Re=Ie[0].duration,je=1;je<Ie.length;je++)Re+=Ie[je].duration;return{duration:Re,width:Ye,height:Ke}}function $e(Ie){for(var Ye=[];Ie>0;)Ye.push(Ie&255),Ie=Ie>>8;return new Uint8Array(Ye.reverse())}function Ze(Ie){return new Uint8Array(Ie.split("").map(function(Ye){return Ye.charCodeAt(0)}))}function et(Ie){var Ye=[],Ke=Ie.length%8?new Array(9-Ie.length%8).join("0"):"";Ie=Ke+Ie;for(var Re=0;Re<Ie.length;Re+=8)Ye.push(parseInt(Ie.substr(Re,8),2));return new Uint8Array(Ye)}function nt(Ie){for(var Ye=[],Ke=0;Ke<Ie.length;Ke++){var Re=Ie[Ke].data;typeof Re=="object"&&(Re=nt(Re)),typeof Re=="number"&&(Re=et(Re.toString(2))),typeof Re=="string"&&(Re=Ze(Re));var je=Re.size||Re.byteLength||Re.length,Ce=Math.ceil(Math.ceil(Math.log(je)/Math.log(2))/8),Ne=je.toString(2),Te=new Array(Ce*7+7+1-Ne.length).join("0")+Ne,ke=new Array(Ce).join("0")+"1"+Te;Ye.push($e(Ie[Ke].id)),Ye.push(et(ke)),Ye.push(Re)}return new Blob(Ye,{type:"video/webm"})}function it(Ie){var Ye=0;if(Ie.keyframe&&(Ye|=128),Ie.invisible&&(Ye|=8),Ie.lacing&&(Ye|=Ie.lacing<<1),Ie.discardable&&(Ye|=1),Ie.trackNum>127)throw"TrackNumber > 127 not supported";var Ke=[Ie.trackNum|128,Ie.timecode>>8,Ie.timecode&255,Ye].map(function(Re){return String.fromCharCode(Re)}).join("")+Ie.frame;return Ke}function Ee(Ie){for(var Ye=Ie.RIFF[0].WEBP[0],Ke=Ye.indexOf("*"),Re=0,je=[];Re<4;Re++)je[Re]=Ye.charCodeAt(Ke+3+Re);var Ce,Ne,Te;return Te=je[1]<<8|je[0],Ce=Te&16383,Te=je[3]<<8|je[2],Ne=Te&16383,{width:Ce,height:Ne,data:Ye,riff:Ie}}function de(Ie,Ye){return parseInt(Ie.substr(Ye+4,4).split("").map(function(Ke){var Re=Ke.charCodeAt(0).toString(2);return new Array(8-Re.length+1).join("0")+Re}).join(""),2)}function ce(Ie){for(var Ye=0,Ke={};Ye<Ie.length;){var Re=Ie.substr(Ye,4),je=de(Ie,Ye),Ce=Ie.substr(Ye+4+4,je);Ye+=4+4+je,Ke[Re]=Ke[Re]||[],Re==="RIFF"||Re==="LIST"?Ke[Re].push(ce(Ce)):Ke[Re].push(Ce)}return Ke}function we(Ie){return[].slice.call(new Uint8Array(new Float64Array([Ie]).buffer),0).map(function(Ye){return String.fromCharCode(Ye)}).reverse().join("")}var Be=new qe(Pe.map(function(Ie){var Ye=Ee(ce(atob(Ie.image.slice(23))));return Ye.duration=Ie.duration,Ye}));postMessage(Be)}return pe.prototype.compile=function(Pe){var qe=ae(Se);qe.onmessage=function(xe){if(xe.data.error){console.error(xe.data.error);return}Pe(xe.data)},qe.postMessage(this.frames)},{Video:pe}}();typeof e<"u"&&(e.Whammy=Fe);/**
 * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.
 * @summary Writing blobs into IndexedDB.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * DiskStorage.Store({
 *     audioBlob: yourAudioBlob,
 *     videoBlob: yourVideoBlob,
 *     gifBlob  : yourGifBlob
 * });
 * DiskStorage.Fetch(function(dataURL, type) {
 *     if(type === 'audioBlob') { }
 *     if(type === 'videoBlob') { }
 *     if(type === 'gifBlob')   { }
 * });
 * // DiskStorage.dataStoreName = 'recordRTC';
 * // DiskStorage.onError = function(error) { };
 * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.
 * @property {function} Fetch - This method fetches stored blobs from IndexedDB.
 * @property {function} Store - This method stores blobs in IndexedDB.
 * @property {function} onError - This function is invoked for any known/unknown error.
 * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var De={init:function(){var pe=this;if(typeof indexedDB>"u"||typeof indexedDB.open>"u"){console.error("IndexedDB API are not available in this browser.");return}var ae=1,Se=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),Pe,qe=indexedDB.open(Se,ae);function xe($e){$e.createObjectStore(pe.dataStoreName)}function Xe(){var $e=Pe.transaction([pe.dataStoreName],"readwrite");pe.videoBlob&&$e.objectStore(pe.dataStoreName).put(pe.videoBlob,"videoBlob"),pe.gifBlob&&$e.objectStore(pe.dataStoreName).put(pe.gifBlob,"gifBlob"),pe.audioBlob&&$e.objectStore(pe.dataStoreName).put(pe.audioBlob,"audioBlob");function Ze(et){$e.objectStore(pe.dataStoreName).get(et).onsuccess=function(nt){pe.callback&&pe.callback(nt.target.result,et)}}Ze("audioBlob"),Ze("videoBlob"),Ze("gifBlob")}qe.onerror=pe.onError,qe.onsuccess=function(){if(Pe=qe.result,Pe.onerror=pe.onError,Pe.setVersion)if(Pe.version!==ae){var $e=Pe.setVersion(ae);$e.onsuccess=function(){xe(Pe),Xe()}}else Xe();else Xe()},qe.onupgradeneeded=function($e){xe($e.target.result)}},Fetch:function(pe){return this.callback=pe,this.init(),this},Store:function(pe){return this.audioBlob=pe.audioBlob,this.videoBlob=pe.videoBlob,this.gifBlob=pe.gifBlob,this.init(),this},onError:function(pe){console.error(JSON.stringify(pe,null,"	"))},dataStoreName:"recordRTC",dbName:null};typeof e<"u"&&(e.DiskStorage=De);/**
 * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GifRecorder
 * @class
 * @example
 * var recorder = new GifRecorder(mediaStream || canvas || context, { onGifPreview: function, onGifRecordingStarted: function, width: 1280, height: 720, frameRate: 200, quality: 10 });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     img.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.
 * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}
 */function We(pe,ae){if(typeof GIFEncoder>"u"){var Se=document.createElement("script");Se.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(Se)}ae=ae||{};var Pe=pe instanceof CanvasRenderingContext2D||pe instanceof HTMLCanvasElement;this.record=function(){if(typeof GIFEncoder>"u"){setTimeout(de.record,1e3);return}if(!Ze){setTimeout(de.record,1e3);return}Pe||(ae.width||(ae.width=et.offsetWidth||320),ae.height||(ae.height=et.offsetHeight||240),ae.video||(ae.video={width:ae.width,height:ae.height}),ae.canvas||(ae.canvas={width:ae.width,height:ae.height}),Xe.width=ae.canvas.width||320,Xe.height=ae.canvas.height||240,et.width=ae.video.width||320,et.height=ae.video.height||240),Ee=new GIFEncoder,Ee.setRepeat(0),Ee.setDelay(ae.frameRate||200),Ee.setQuality(ae.quality||10),Ee.start(),typeof ae.onGifRecordingStarted=="function"&&ae.onGifRecordingStarted();function ce(we){if(de.clearedRecordedData!==!0){if(qe)return setTimeout(function(){ce(we)},100);nt=f(ce),typeof it===void 0&&(it=we),!(we-it<90)&&(!Pe&&et.paused&&et.play(),Pe||$e.drawImage(et,0,0,Xe.width,Xe.height),ae.onGifPreview&&ae.onGifPreview(Xe.toDataURL("image/png")),Ee.addFrame($e),it=we)}}nt=f(ce),ae.initCallback&&ae.initCallback()},this.stop=function(ce){ce=ce||function(){},nt&&d(nt),this.blob=new Blob([new Uint8Array(Ee.stream().bin)],{type:"image/gif"}),ce(this.blob),Ee.stream().bin=[]};var qe=!1;this.pause=function(){qe=!0},this.resume=function(){qe=!1},this.clearRecordedData=function(){de.clearedRecordedData=!0,xe()};function xe(){Ee&&(Ee.stream().bin=[])}this.name="GifRecorder",this.toString=function(){return this.name};var Xe=document.createElement("canvas"),$e=Xe.getContext("2d");Pe&&(pe instanceof CanvasRenderingContext2D?($e=pe,Xe=$e.canvas):pe instanceof HTMLCanvasElement&&($e=pe.getContext("2d"),Xe=pe));var Ze=!0;if(!Pe){var et=document.createElement("video");et.muted=!0,et.autoplay=!0,et.playsInline=!0,Ze=!1,et.onloadedmetadata=function(){Ze=!0},he(pe,et),et.play()}var nt=null,it,Ee,de=this}typeof e<"u"&&(e.GifRecorder=We);function ze(pe,ae){var Se="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(Re){typeof e<"u"||Re&&(typeof window<"u"||typeof commonjsGlobal>"u"||(commonjsGlobal.navigator={userAgent:Se,getUserMedia:function(){}},commonjsGlobal.console||(commonjsGlobal.console={}),(typeof commonjsGlobal.console.log>"u"||typeof commonjsGlobal.console.error>"u")&&(commonjsGlobal.console.error=commonjsGlobal.console.log=commonjsGlobal.console.log||function(){console.log(arguments)}),typeof document>"u"&&(Re.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var je={getContext:function(){return je},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return je},Re.HTMLVideoElement=function(){}),typeof location>"u"&&(Re.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(Re.screen={width:0,height:0}),typeof et>"u"&&(Re.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),Re.window=commonjsGlobal))})(typeof commonjsGlobal<"u"?commonjsGlobal:null),ae=ae||"multi-streams-mixer";var Pe=[],qe=!1,xe=document.createElement("canvas"),Xe=xe.getContext("2d");xe.style.opacity=0,xe.style.position="absolute",xe.style.zIndex=-1,xe.style.top="-1000em",xe.style.left="-1000em",xe.className=ae,(document.body||document.documentElement).appendChild(xe),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var $e=this,Ze=window.AudioContext;typeof Ze>"u"&&(typeof webkitAudioContext<"u"&&(Ze=webkitAudioContext),typeof mozAudioContext<"u"&&(Ze=mozAudioContext));var et=window.URL;typeof et>"u"&&typeof webkitURL<"u"&&(et=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var nt=window.MediaStream;typeof nt>"u"&&typeof webkitMediaStream<"u"&&(nt=webkitMediaStream),typeof nt<"u"&&typeof nt.prototype.stop>"u"&&(nt.prototype.stop=function(){this.getTracks().forEach(function(Re){Re.stop()})});var it={};typeof Ze<"u"?it.AudioContext=Ze:typeof webkitAudioContext<"u"&&(it.AudioContext=webkitAudioContext);function Ee(Re,je){"srcObject"in je?je.srcObject=Re:"mozSrcObject"in je?je.mozSrcObject=Re:je.srcObject=Re}this.startDrawingFrames=function(){de()};function de(){if(!qe){var Re=Pe.length,je=!1,Ce=[];if(Pe.forEach(function(Te){Te.stream||(Te.stream={}),Te.stream.fullcanvas?je=Te:Ce.push(Te)}),je)xe.width=je.stream.width,xe.height=je.stream.height;else if(Ce.length){xe.width=Re>1?Ce[0].width*2:Ce[0].width;var Ne=1;(Re===3||Re===4)&&(Ne=2),(Re===5||Re===6)&&(Ne=3),(Re===7||Re===8)&&(Ne=4),(Re===9||Re===10)&&(Ne=5),xe.height=Ce[0].height*Ne}else xe.width=$e.width||360,xe.height=$e.height||240;je&&je instanceof HTMLVideoElement&&ce(je),Ce.forEach(function(Te,ke){ce(Te,ke)}),setTimeout(de,$e.frameInterval)}}function ce(Re,je){if(!qe){var Ce=0,Ne=0,Te=Re.width,ke=Re.height;je===1&&(Ce=Re.width),je===2&&(Ne=Re.height),je===3&&(Ce=Re.width,Ne=Re.height),je===4&&(Ne=Re.height*2),je===5&&(Ce=Re.width,Ne=Re.height*2),je===6&&(Ne=Re.height*3),je===7&&(Ce=Re.width,Ne=Re.height*3),typeof Re.stream.left<"u"&&(Ce=Re.stream.left),typeof Re.stream.top<"u"&&(Ne=Re.stream.top),typeof Re.stream.width<"u"&&(Te=Re.stream.width),typeof Re.stream.height<"u"&&(ke=Re.stream.height),Xe.drawImage(Re,Ce,Ne,Te,ke),typeof Re.stream.onRender=="function"&&Re.stream.onRender(Xe,Ce,Ne,Te,ke,je)}}function we(){qe=!1;var Re=Be(),je=Ie();return je&&je.getTracks().filter(function(Ce){return Ce.kind==="audio"}).forEach(function(Ce){Re.addTrack(Ce)}),pe.forEach(function(Ce){Ce.fullcanvas}),Re}function Be(){Ke();var Re;"captureStream"in xe?Re=xe.captureStream():"mozCaptureStream"in xe?Re=xe.mozCaptureStream():$e.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var je=new nt;return Re.getTracks().filter(function(Ce){return Ce.kind==="video"}).forEach(function(Ce){je.addTrack(Ce)}),xe.stream=je,je}function Ie(){it.AudioContextConstructor||(it.AudioContextConstructor=new it.AudioContext),$e.audioContext=it.AudioContextConstructor,$e.audioSources=[],$e.useGainNode===!0&&($e.gainNode=$e.audioContext.createGain(),$e.gainNode.connect($e.audioContext.destination),$e.gainNode.gain.value=0);var Re=0;if(pe.forEach(function(je){if(je.getTracks().filter(function(Ne){return Ne.kind==="audio"}).length){Re++;var Ce=$e.audioContext.createMediaStreamSource(je);$e.useGainNode===!0&&Ce.connect($e.gainNode),$e.audioSources.push(Ce)}}),!!Re)return $e.audioDestination=$e.audioContext.createMediaStreamDestination(),$e.audioSources.forEach(function(je){je.connect($e.audioDestination)}),$e.audioDestination.stream}function Ye(Re){var je=document.createElement("video");return Ee(Re,je),je.className=ae,je.muted=!0,je.volume=0,je.width=Re.width||$e.width||360,je.height=Re.height||$e.height||240,je.play(),je}this.appendStreams=function(Re){if(!Re)throw"First parameter is required.";Re instanceof Array||(Re=[Re]),Re.forEach(function(je){var Ce=new nt;if(je.getTracks().filter(function(ke){return ke.kind==="video"}).length){var Ne=Ye(je);Ne.stream=je,Pe.push(Ne),Ce.addTrack(je.getTracks().filter(function(ke){return ke.kind==="video"})[0])}if(je.getTracks().filter(function(ke){return ke.kind==="audio"}).length){var Te=$e.audioContext.createMediaStreamSource(je);$e.audioDestination=$e.audioContext.createMediaStreamDestination(),Te.connect($e.audioDestination),Ce.addTrack($e.audioDestination.stream.getTracks().filter(function(ke){return ke.kind==="audio"})[0])}pe.push(Ce)})},this.releaseStreams=function(){Pe=[],qe=!0,$e.gainNode&&($e.gainNode.disconnect(),$e.gainNode=null),$e.audioSources.length&&($e.audioSources.forEach(function(Re){Re.disconnect()}),$e.audioSources=[]),$e.audioDestination&&($e.audioDestination.disconnect(),$e.audioDestination=null),$e.audioContext&&$e.audioContext.close(),$e.audioContext=null,Xe.clearRect(0,0,xe.width,xe.height),xe.stream&&(xe.stream.stop(),xe.stream=null)},this.resetVideoStreams=function(Re){Re&&!(Re instanceof Array)&&(Re=[Re]),Ke(Re)};function Ke(Re){Pe=[],Re=Re||pe,Re.forEach(function(je){if(je.getTracks().filter(function(Ne){return Ne.kind==="video"}).length){var Ce=Ye(je);Ce.stream=je,Pe.push(Ce)}})}this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=we}typeof e>"u"&&(n.exports=ze);/**
 * MultiStreamRecorder can record multiple videos in single container.
 * @summary Multi-videos recorder.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MultiStreamRecorder
 * @class
 * @example
 * var options = {
 *     mimeType: 'video/webm'
 * }
 * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStreams} mediaStreams - Array of MediaStreams.
 * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: "video/webm"}
 */function Ge(pe,ae){pe=pe||[];var Se=this,Pe,qe;ae=ae||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}},ae.frameInterval||(ae.frameInterval=10),ae.video||(ae.video={}),ae.video.width||(ae.video.width=360),ae.video.height||(ae.video.height=240),this.record=function(){Pe=new ze(pe,ae.elementClass||"multi-streams-mixer"),xe().length&&(Pe.frameInterval=ae.frameInterval||10,Pe.width=ae.video.width||360,Pe.height=ae.video.height||240,Pe.startDrawingFrames()),ae.previewStream&&typeof ae.previewStream=="function"&&ae.previewStream(Pe.getMixedStream()),qe=new ye(Pe.getMixedStream(),ae),qe.record()};function xe(){var Xe=[];return pe.forEach(function($e){ue($e,"video").forEach(function(Ze){Xe.push(Ze)})}),Xe}this.stop=function(Xe){qe&&qe.stop(function($e){Se.blob=$e,Xe($e),Se.clearRecordedData()})},this.pause=function(){qe&&qe.pause()},this.resume=function(){qe&&qe.resume()},this.clearRecordedData=function(){qe&&(qe.clearRecordedData(),qe=null),Pe&&(Pe.releaseStreams(),Pe=null)},this.addStreams=function(Xe){if(!Xe)throw"First parameter is required.";Xe instanceof Array||(Xe=[Xe]),pe.concat(Xe),!(!qe||!Pe)&&(Pe.appendStreams(Xe),ae.previewStream&&typeof ae.previewStream=="function"&&ae.previewStream(Pe.getMixedStream()))},this.resetVideoStreams=function(Xe){Pe&&(Xe&&!(Xe instanceof Array)&&(Xe=[Xe]),Pe.resetVideoStreams(Xe))},this.getMixer=function(){return Pe},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}typeof e<"u"&&(e.MultiStreamRecorder=Ge);/**
 * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}
 * @summary Promises for {@link RecordRTC}
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCPromisesHandler
 * @class
 * @example
 * var recorder = new RecordRTCPromisesHandler(mediaStream, options);
 * recorder.startRecording()
 *         .then(successCB)
 *         .catch(errorCB);
 * // Note: You can access all RecordRTC API using "recorder.recordRTC" e.g. 
 * recorder.recordRTC.onStateChanged = function(state) {};
 * recorder.recordRTC.setRecordingDuration(5000);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 * @throws Will throw an error if "new" keyword is not used to initiate "RecordRTCPromisesHandler". Also throws error if first argument "MediaStream" is missing.
 * @requires {@link RecordRTC}
 */function Je(pe,ae){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(typeof pe>"u")throw'First argument "MediaStream" is required.';var Se=this;Se.recordRTC=new e(pe,ae),this.startRecording=function(){return new Promise(function(Pe,qe){try{Se.recordRTC.startRecording(),Pe()}catch(xe){qe(xe)}})},this.stopRecording=function(){return new Promise(function(Pe,qe){try{Se.recordRTC.stopRecording(function(xe){if(Se.blob=Se.recordRTC.getBlob(),!Se.blob||!Se.blob.size){qe("Empty blob.",Se.blob);return}Pe(xe)})}catch(xe){qe(xe)}})},this.pauseRecording=function(){return new Promise(function(Pe,qe){try{Se.recordRTC.pauseRecording(),Pe()}catch(xe){qe(xe)}})},this.resumeRecording=function(){return new Promise(function(Pe,qe){try{Se.recordRTC.resumeRecording(),Pe()}catch(xe){qe(xe)}})},this.getDataURL=function(Pe){return new Promise(function(qe,xe){try{Se.recordRTC.getDataURL(function(Xe){qe(Xe)})}catch(Xe){xe(Xe)}})},this.getBlob=function(){return new Promise(function(Pe,qe){try{Pe(Se.recordRTC.getBlob())}catch(xe){qe(xe)}})},this.getInternalRecorder=function(){return new Promise(function(Pe,qe){try{Pe(Se.recordRTC.getInternalRecorder())}catch(xe){qe(xe)}})},this.reset=function(){return new Promise(function(Pe,qe){try{Pe(Se.recordRTC.reset())}catch(xe){qe(xe)}})},this.destroy=function(){return new Promise(function(Pe,qe){try{Pe(Se.recordRTC.destroy())}catch(xe){qe(xe)}})},this.getState=function(){return new Promise(function(Pe,qe){try{Pe(Se.recordRTC.getState())}catch(xe){qe(xe)}})},this.blob=null,this.version="5.6.2"}typeof e<"u"&&(e.RecordRTCPromisesHandler=Je);/**
 * WebAssemblyRecorder lets you create webm videos in JavaScript via WebAssembly. The library consumes raw RGBA32 buffers (4 bytes per pixel) and turns them into a webm video with the given framerate and quality. This makes it compatible out-of-the-box with ImageData from a CANVAS. With realtime mode you can also use webm-wasm for streaming webm videos.
 * @summary Video recording feature in Chrome, Firefox and maybe Edge.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WebAssemblyRecorder
 * @class
 * @example
 * var recorder = new WebAssemblyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {webAssemblyPath:'webm-wasm.wasm',workerPath: 'webm-worker.js', frameRate: 30, width: 1920, height: 1080, bitrate: 1024, realtime: true}
 */function Ue(pe,ae){(typeof ReadableStream>"u"||typeof WritableStream>"u")&&console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),ae=ae||{},ae.width=ae.width||640,ae.height=ae.height||480,ae.frameRate=ae.frameRate||30,ae.bitrate=ae.bitrate||1200,ae.realtime=ae.realtime||!0;var Se;function Pe(){return new ReadableStream({start:function(et){var nt=document.createElement("canvas"),it=document.createElement("video"),Ee=!0;it.srcObject=pe,it.muted=!0,it.height=ae.height,it.width=ae.width,it.volume=0,it.onplaying=function(){nt.width=ae.width,nt.height=ae.height;var de=nt.getContext("2d"),ce=1e3/ae.frameRate,we=setInterval(function(){if(Se&&(clearInterval(we),et.close()),Ee&&(Ee=!1,ae.onVideoProcessStarted&&ae.onVideoProcessStarted()),de.drawImage(it,0,0),et._controlledReadableStream.state!=="closed")try{et.enqueue(de.getImageData(0,0,ae.width,ae.height))}catch{}},ce)},it.play()}})}var qe;function xe(et,nt){if(!ae.workerPath&&!nt){Se=!1,fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then(function(Ee){Ee.arrayBuffer().then(function(de){xe(et,de)})});return}if(!ae.workerPath&&nt instanceof ArrayBuffer){var it=new Blob([nt],{type:"text/javascript"});ae.workerPath=b.createObjectURL(it)}ae.workerPath||console.error("workerPath parameter is missing."),qe=new Worker(ae.workerPath),qe.postMessage(ae.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),qe.addEventListener("message",function(Ee){Ee.data==="READY"?(qe.postMessage({width:ae.width,height:ae.height,bitrate:ae.bitrate||1200,timebaseDen:ae.frameRate||30,realtime:ae.realtime}),Pe().pipeTo(new WritableStream({write:function(de){if(Se){console.error("Got image, but recorder is finished!");return}qe.postMessage(de.data.buffer,[de.data.buffer])}}))):Ee.data&&(Xe||Ze.push(Ee.data))})}this.record=function(){Ze=[],Xe=!1,this.blob=null,xe(pe),typeof ae.initCallback=="function"&&ae.initCallback()};var Xe;this.pause=function(){Xe=!0},this.resume=function(){Xe=!1};function $e(et){if(!qe){et&&et();return}qe.addEventListener("message",function(nt){nt.data===null&&(qe.terminate(),qe=null,et&&et())}),qe.postMessage(null)}var Ze=[];this.stop=function(et){Se=!0;var nt=this;$e(function(){nt.blob=new Blob(Ze,{type:"video/webm"}),et(nt.blob)})},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){Ze=[],Xe=!1,this.blob=null},this.blob=null}typeof e<"u"&&(e.WebAssemblyRecorder=Ue)})(RecordRTC);var getBlobDuration$1={};function _interopRequireDefault(n){return n&&n.__esModule?n:{default:n}}var interopRequireDefault=_interopRequireDefault,regeneratorExports={},regenerator={get exports(){return regeneratorExports},set exports(n){regeneratorExports=n}},runtimeExports={},runtime={get exports(){return runtimeExports},set exports(n){runtimeExports=n}},hasRequiredRuntime;function requireRuntime(){return hasRequiredRuntime||(hasRequiredRuntime=1,function(n){var e=function(r){var s=Object.prototype,a=s.hasOwnProperty,l=Object.defineProperty||function(Ue,pe,ae){Ue[pe]=ae.value},f,c=typeof Symbol=="function"?Symbol:{},d=c.iterator||"@@iterator",g=c.asyncIterator||"@@asyncIterator",b=c.toStringTag||"@@toStringTag";function m(Ue,pe,ae){return Object.defineProperty(Ue,pe,{value:ae,enumerable:!0,configurable:!0,writable:!0}),Ue[pe]}try{m({},"")}catch{m=function(pe,ae,Se){return pe[ae]=Se}}function _(Ue,pe,ae,Se){var Pe=pe&&pe.prototype instanceof le?pe:le,qe=Object.create(Pe.prototype),xe=new ze(Se||[]);return l(qe,"_invoke",{value:Oe(Ue,ae,xe)}),qe}r.wrap=_;function x(Ue,pe,ae){try{return{type:"normal",arg:Ue.call(pe,ae)}}catch(Se){return{type:"throw",arg:Se}}}var k="suspendedStart",q="suspendedYield",j="executing",ne="completed",se={};function le(){}function ue(){}function he(){}var ge={};m(ge,d,function(){return this});var ve=Object.getPrototypeOf,_e=ve&&ve(ve(Ge([])));_e&&_e!==s&&a.call(_e,d)&&(ge=_e);var ye=he.prototype=le.prototype=Object.create(ge);ue.prototype=he,l(ye,"constructor",{value:he,configurable:!0}),l(he,"constructor",{value:ue,configurable:!0}),ue.displayName=m(he,b,"GeneratorFunction");function be(Ue){["next","throw","return"].forEach(function(pe){m(Ue,pe,function(ae){return this._invoke(pe,ae)})})}r.isGeneratorFunction=function(Ue){var pe=typeof Ue=="function"&&Ue.constructor;return pe?pe===ue||(pe.displayName||pe.name)==="GeneratorFunction":!1},r.mark=function(Ue){return Object.setPrototypeOf?Object.setPrototypeOf(Ue,he):(Ue.__proto__=he,m(Ue,b,"GeneratorFunction")),Ue.prototype=Object.create(ye),Ue},r.awrap=function(Ue){return{__await:Ue}};function He(Ue,pe){function ae(qe,xe,Xe,$e){var Ze=x(Ue[qe],Ue,xe);if(Ze.type==="throw")$e(Ze.arg);else{var et=Ze.arg,nt=et.value;return nt&&typeof nt=="object"&&a.call(nt,"__await")?pe.resolve(nt.__await).then(function(it){ae("next",it,Xe,$e)},function(it){ae("throw",it,Xe,$e)}):pe.resolve(nt).then(function(it){et.value=it,Xe(et)},function(it){return ae("throw",it,Xe,$e)})}}var Se;function Pe(qe,xe){function Xe(){return new pe(function($e,Ze){ae(qe,xe,$e,Ze)})}return Se=Se?Se.then(Xe,Xe):Xe()}l(this,"_invoke",{value:Pe})}be(He.prototype),m(He.prototype,g,function(){return this}),r.AsyncIterator=He,r.async=function(Ue,pe,ae,Se,Pe){Pe===void 0&&(Pe=Promise);var qe=new He(_(Ue,pe,ae,Se),Pe);return r.isGeneratorFunction(pe)?qe:qe.next().then(function(xe){return xe.done?xe.value:qe.next()})};function Oe(Ue,pe,ae){var Se=k;return function(qe,xe){if(Se===j)throw new Error("Generator is already running");if(Se===ne){if(qe==="throw")throw xe;return Je()}for(ae.method=qe,ae.arg=xe;;){var Xe=ae.delegate;if(Xe){var $e=Fe(Xe,ae);if($e){if($e===se)continue;return $e}}if(ae.method==="next")ae.sent=ae._sent=ae.arg;else if(ae.method==="throw"){if(Se===k)throw Se=ne,ae.arg;ae.dispatchException(ae.arg)}else ae.method==="return"&&ae.abrupt("return",ae.arg);Se=j;var Ze=x(Ue,pe,ae);if(Ze.type==="normal"){if(Se=ae.done?ne:q,Ze.arg===se)continue;return{value:Ze.arg,done:ae.done}}else Ze.type==="throw"&&(Se=ne,ae.method="throw",ae.arg=Ze.arg)}}}function Fe(Ue,pe){var ae=pe.method,Se=Ue.iterator[ae];if(Se===f)return pe.delegate=null,ae==="throw"&&Ue.iterator.return&&(pe.method="return",pe.arg=f,Fe(Ue,pe),pe.method==="throw")||ae!=="return"&&(pe.method="throw",pe.arg=new TypeError("The iterator does not provide a '"+ae+"' method")),se;var Pe=x(Se,Ue.iterator,pe.arg);if(Pe.type==="throw")return pe.method="throw",pe.arg=Pe.arg,pe.delegate=null,se;var qe=Pe.arg;if(!qe)return pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,se;if(qe.done)pe[Ue.resultName]=qe.value,pe.next=Ue.nextLoc,pe.method!=="return"&&(pe.method="next",pe.arg=f);else return qe;return pe.delegate=null,se}be(ye),m(ye,b,"Generator"),m(ye,d,function(){return this}),m(ye,"toString",function(){return"[object Generator]"});function De(Ue){var pe={tryLoc:Ue[0]};1 in Ue&&(pe.catchLoc=Ue[1]),2 in Ue&&(pe.finallyLoc=Ue[2],pe.afterLoc=Ue[3]),this.tryEntries.push(pe)}function We(Ue){var pe=Ue.completion||{};pe.type="normal",delete pe.arg,Ue.completion=pe}function ze(Ue){this.tryEntries=[{tryLoc:"root"}],Ue.forEach(De,this),this.reset(!0)}r.keys=function(Ue){var pe=Object(Ue),ae=[];for(var Se in pe)ae.push(Se);return ae.reverse(),function Pe(){for(;ae.length;){var qe=ae.pop();if(qe in pe)return Pe.value=qe,Pe.done=!1,Pe}return Pe.done=!0,Pe}};function Ge(Ue){if(Ue){var pe=Ue[d];if(pe)return pe.call(Ue);if(typeof Ue.next=="function")return Ue;if(!isNaN(Ue.length)){var ae=-1,Se=function Pe(){for(;++ae<Ue.length;)if(a.call(Ue,ae))return Pe.value=Ue[ae],Pe.done=!1,Pe;return Pe.value=f,Pe.done=!0,Pe};return Se.next=Se}}return{next:Je}}r.values=Ge;function Je(){return{value:f,done:!0}}return ze.prototype={constructor:ze,reset:function(Ue){if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,this.tryEntries.forEach(We),!Ue)for(var pe in this)pe.charAt(0)==="t"&&a.call(this,pe)&&!isNaN(+pe.slice(1))&&(this[pe]=f)},stop:function(){this.done=!0;var Ue=this.tryEntries[0],pe=Ue.completion;if(pe.type==="throw")throw pe.arg;return this.rval},dispatchException:function(Ue){if(this.done)throw Ue;var pe=this;function ae($e,Ze){return qe.type="throw",qe.arg=Ue,pe.next=$e,Ze&&(pe.method="next",pe.arg=f),!!Ze}for(var Se=this.tryEntries.length-1;Se>=0;--Se){var Pe=this.tryEntries[Se],qe=Pe.completion;if(Pe.tryLoc==="root")return ae("end");if(Pe.tryLoc<=this.prev){var xe=a.call(Pe,"catchLoc"),Xe=a.call(Pe,"finallyLoc");if(xe&&Xe){if(this.prev<Pe.catchLoc)return ae(Pe.catchLoc,!0);if(this.prev<Pe.finallyLoc)return ae(Pe.finallyLoc)}else if(xe){if(this.prev<Pe.catchLoc)return ae(Pe.catchLoc,!0)}else if(Xe){if(this.prev<Pe.finallyLoc)return ae(Pe.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Ue,pe){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var Se=this.tryEntries[ae];if(Se.tryLoc<=this.prev&&a.call(Se,"finallyLoc")&&this.prev<Se.finallyLoc){var Pe=Se;break}}Pe&&(Ue==="break"||Ue==="continue")&&Pe.tryLoc<=pe&&pe<=Pe.finallyLoc&&(Pe=null);var qe=Pe?Pe.completion:{};return qe.type=Ue,qe.arg=pe,Pe?(this.method="next",this.next=Pe.finallyLoc,se):this.complete(qe)},complete:function(Ue,pe){if(Ue.type==="throw")throw Ue.arg;return Ue.type==="break"||Ue.type==="continue"?this.next=Ue.arg:Ue.type==="return"?(this.rval=this.arg=Ue.arg,this.method="return",this.next="end"):Ue.type==="normal"&&pe&&(this.next=pe),se},finish:function(Ue){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var ae=this.tryEntries[pe];if(ae.finallyLoc===Ue)return this.complete(ae.completion,ae.afterLoc),We(ae),se}},catch:function(Ue){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var ae=this.tryEntries[pe];if(ae.tryLoc===Ue){var Se=ae.completion;if(Se.type==="throw"){var Pe=Se.arg;We(ae)}return Pe}}throw new Error("illegal catch attempt")},delegateYield:function(Ue,pe,ae){return this.delegate={iterator:Ge(Ue),resultName:pe,nextLoc:ae},this.method==="next"&&(this.arg=f),se}},r}(n.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(runtime)),runtimeExports}var hasRequiredRegenerator;function requireRegenerator(){return hasRequiredRegenerator||(hasRequiredRegenerator=1,function(n){n.exports=requireRuntime()}(regenerator)),regeneratorExports}var asyncToGenerator,hasRequiredAsyncToGenerator;function requireAsyncToGenerator(){if(hasRequiredAsyncToGenerator)return asyncToGenerator;hasRequiredAsyncToGenerator=1;function n(r,s,a,l,f,c,d){try{var g=r[c](d),b=g.value}catch(m){a(m);return}g.done?s(b):Promise.resolve(b).then(l,f)}function e(r){return function(){var s=this,a=arguments;return new Promise(function(l,f){var c=r.apply(s,a);function d(b){n(c,l,f,d,g,"next",b)}function g(b){n(c,l,f,d,g,"throw",b)}d(void 0)})}}return asyncToGenerator=e,asyncToGenerator}(function(n){var e=interopRequireDefault;Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var r=e(requireRegenerator()),s=e(requireAsyncToGenerator());function a(f){return l.apply(this,arguments)}function l(){return(l=(0,s.default)(r.default.mark(function f(c){var d,g;return r.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return d=document.createElement("video"),g=new Promise(function(m,_){d.addEventListener("loadedmetadata",function(){d.duration===1/0?(d.currentTime=Number.MAX_SAFE_INTEGER,d.ontimeupdate=function(){d.ontimeupdate=null,m(d.duration),d.currentTime=0}):m(d.duration)}),d.onerror=function(x){return _(x.target.error)}}),d.src=typeof c=="string"||c instanceof String?c:window.URL.createObjectURL(c),b.abrupt("return",g);case 4:case"end":return b.stop()}},f)}))).apply(this,arguments)}})(getBlobDuration$1);const getBlobDuration=getDefaultExportFromCjs(getBlobDuration$1),PACKET_TYPES=Object.create(null);PACKET_TYPES.open="0";PACKET_TYPES.close="1";PACKET_TYPES.ping="2";PACKET_TYPES.pong="3";PACKET_TYPES.message="4";PACKET_TYPES.upgrade="5";PACKET_TYPES.noop="6";const PACKET_TYPES_REVERSE=Object.create(null);Object.keys(PACKET_TYPES).forEach(n=>{PACKET_TYPES_REVERSE[PACKET_TYPES[n]]=n});const ERROR_PACKET={type:"error",data:"parser error"},withNativeBlob$1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",withNativeArrayBuffer$2=typeof ArrayBuffer=="function",isView$1=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,encodePacket=({type:n,data:e},r,s)=>withNativeBlob$1&&e instanceof Blob?r?s(e):encodeBlobAsBase64(e,s):withNativeArrayBuffer$2&&(e instanceof ArrayBuffer||isView$1(e))?r?s(e):encodeBlobAsBase64(new Blob([e]),s):s(PACKET_TYPES[n]+(e||"")),encodeBlobAsBase64=(n,e)=>{const r=new FileReader;return r.onload=function(){const s=r.result.split(",")[1];e("b"+(s||""))},r.readAsDataURL(n)},chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<chars.length;n++)lookup$1[chars.charCodeAt(n)]=n;const decode$1=n=>{let e=n.length*.75,r=n.length,s,a=0,l,f,c,d;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);const g=new ArrayBuffer(e),b=new Uint8Array(g);for(s=0;s<r;s+=4)l=lookup$1[n.charCodeAt(s)],f=lookup$1[n.charCodeAt(s+1)],c=lookup$1[n.charCodeAt(s+2)],d=lookup$1[n.charCodeAt(s+3)],b[a++]=l<<2|f>>4,b[a++]=(f&15)<<4|c>>2,b[a++]=(c&3)<<6|d&63;return g},withNativeArrayBuffer$1=typeof ArrayBuffer=="function",decodePacket=(n,e)=>{if(typeof n!="string")return{type:"message",data:mapBinary(n,e)};const r=n.charAt(0);return r==="b"?{type:"message",data:decodeBase64Packet(n.substring(1),e)}:PACKET_TYPES_REVERSE[r]?n.length>1?{type:PACKET_TYPES_REVERSE[r],data:n.substring(1)}:{type:PACKET_TYPES_REVERSE[r]}:ERROR_PACKET},decodeBase64Packet=(n,e)=>{if(withNativeArrayBuffer$1){const r=decode$1(n);return mapBinary(r,e)}else return{base64:!0,data:n}},mapBinary=(n,e)=>{switch(e){case"blob":return n instanceof ArrayBuffer?new Blob([n]):n;case"arraybuffer":default:return n}},SEPARATOR=String.fromCharCode(30),encodePayload=(n,e)=>{const r=n.length,s=new Array(r);let a=0;n.forEach((l,f)=>{encodePacket(l,!1,c=>{s[f]=c,++a===r&&e(s.join(SEPARATOR))})})},decodePayload=(n,e)=>{const r=n.split(SEPARATOR),s=[];for(let a=0;a<r.length;a++){const l=decodePacket(r[a],e);if(s.push(l),l.type==="error")break}return s},protocol$1=4;function Emitter(n){if(n)return mixin(n)}function mixin(n){for(var e in Emitter.prototype)n[e]=Emitter.prototype[e];return n}Emitter.prototype.on=Emitter.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};Emitter.prototype.once=function(n,e){function r(){this.off(n,r),e.apply(this,arguments)}return r.fn=e,this.on(n,r),this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+n];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var s,a=0;a<r.length;a++)if(s=r[a],s===e||s.fn===e){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+n],this};Emitter.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+n],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(r){r=r.slice(0);for(var s=0,a=r.length;s<a;++s)r[s].apply(this,e)}return this};Emitter.prototype.emitReserved=Emitter.prototype.emit;Emitter.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};Emitter.prototype.hasListeners=function(n){return!!this.listeners(n).length};const globalThisShim=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function pick(n,...e){return e.reduce((r,s)=>(n.hasOwnProperty(s)&&(r[s]=n[s]),r),{})}const NATIVE_SET_TIMEOUT=globalThisShim.setTimeout,NATIVE_CLEAR_TIMEOUT=globalThisShim.clearTimeout;function installTimerFunctions(n,e){e.useNativeTimers?(n.setTimeoutFn=NATIVE_SET_TIMEOUT.bind(globalThisShim),n.clearTimeoutFn=NATIVE_CLEAR_TIMEOUT.bind(globalThisShim)):(n.setTimeoutFn=globalThisShim.setTimeout.bind(globalThisShim),n.clearTimeoutFn=globalThisShim.clearTimeout.bind(globalThisShim))}const BASE64_OVERHEAD=1.33;function byteLength(n){return typeof n=="string"?utf8Length(n):Math.ceil((n.byteLength||n.size)*BASE64_OVERHEAD)}function utf8Length(n){let e=0,r=0;for(let s=0,a=n.length;s<a;s++)e=n.charCodeAt(s),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(s++,r+=4);return r}class TransportError extends Error{constructor(e,r,s){super(e),this.description=r,this.context=s,this.type="TransportError"}}class Transport extends Emitter{constructor(e){super(),this.writable=!1,installTimerFunctions(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,r,s){return super.emitReserved("error",new TransportError(e,r,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=decodePacket(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}}const alphabet="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),length=64,map={};let seed=0,i=0,prev;function encode$2(n){let e="";do e=alphabet[n%length]+e,n=Math.floor(n/length);while(n>0);return e}function yeast(){const n=encode$2(+new Date);return n!==prev?(seed=0,prev=n):n+"."+encode$2(seed++)}for(;i<length;i++)map[alphabet[i]]=i;function encode$1(n){let e="";for(let r in n)n.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(n[r]));return e}function decode(n){let e={},r=n.split("&");for(let s=0,a=r.length;s<a;s++){let l=r[s].split("=");e[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return e}let value=!1;try{value=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const hasCORS=value;function XHR(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||hasCORS))return new XMLHttpRequest}catch{}if(!e)try{return new globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function empty(){}const hasXHR2=function(){return new XHR({xdomain:!1}).responseType!=null}();class Polling extends Transport{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||a!==e.port,this.xs=e.secure!==s}const r=e&&e.forceBase64;this.supportsBinary=hasXHR2&&!r}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||r()})),this.writable||(s++,this.once("drain",function(){--s||r()}))}else r()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};decodePayload(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,encodePayload(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const r=this.opts.secure?"https":"http";let s="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=yeast()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(r==="https"&&Number(this.opts.port)!==443||r==="http"&&Number(this.opts.port)!==80)&&(s=":"+this.opts.port);const a=encode$1(e),l=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(l?"["+this.opts.hostname+"]":this.opts.hostname)+s+this.opts.path+(a.length?"?"+a:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new Request(this.uri(),e)}doWrite(e,r){const s=this.request({method:"POST",data:e});s.on("success",r),s.on("error",(a,l)=>{this.onError("xhr post error",a,l)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,s)=>{this.onError("xhr poll error",r,s)}),this.pollXhr=e}}class Request extends Emitter{constructor(e,r){super(),installTimerFunctions(this,r),this.opts=r,this.method=r.method||"GET",this.uri=e,this.async=r.async!==!1,this.data=r.data!==void 0?r.data:null,this.create()}create(){const e=pick(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const r=this.xhr=new XHR(e);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=Request.requestsCount++,Request.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=empty,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Request.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Request.requestsCount=0;Request.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){const n="onpagehide"in globalThisShim?"pagehide":"unload";addEventListener(n,unloadHandler,!1)}}function unloadHandler(){for(let n in Request.requests)Request.requests.hasOwnProperty(n)&&Request.requests[n].abort()}const nextTick=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0))(),WebSocket=globalThisShim.WebSocket||globalThisShim.MozWebSocket,usingBrowserWebSocket=!0,defaultBinaryType="arraybuffer",isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class WS extends Transport{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),r=this.opts.protocols,s=isReactNative?{}:pick(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=usingBrowserWebSocket&&!isReactNative?r?new WebSocket(e,r):new WebSocket(e):new WebSocket(e,r,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType||defaultBinaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const s=e[r],a=r===e.length-1;encodePacket(s,this.supportsBinary,l=>{const f={};try{usingBrowserWebSocket&&this.ws.send(l)}catch{}a&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const r=this.opts.secure?"wss":"ws";let s="";this.opts.port&&(r==="wss"&&Number(this.opts.port)!==443||r==="ws"&&Number(this.opts.port)!==80)&&(s=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=yeast()),this.supportsBinary||(e.b64=1);const a=encode$1(e),l=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(l?"["+this.opts.hostname+"]":this.opts.hostname)+s+this.opts.path+(a.length?"?"+a:"")}check(){return!!WebSocket}}const transports={websocket:WS,polling:Polling},re=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse$1(n){const e=n,r=n.indexOf("["),s=n.indexOf("]");r!=-1&&s!=-1&&(n=n.substring(0,r)+n.substring(r,s).replace(/:/g,";")+n.substring(s,n.length));let a=re.exec(n||""),l={},f=14;for(;f--;)l[parts[f]]=a[f]||"";return r!=-1&&s!=-1&&(l.source=e,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=pathNames(l,l.path),l.queryKey=queryKey(l,l.query),l}function pathNames(n,e){const r=/\/{2,9}/g,s=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function queryKey(n,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,l){a&&(r[a]=l)}),r}let Socket$1=class fn extends Emitter{constructor(e,r={}){super(),this.writeBuffer=[],e&&typeof e=="object"&&(r=e,e=null),e?(e=parse$1(e),r.hostname=e.host,r.secure=e.protocol==="https"||e.protocol==="wss",r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=parse$1(r.host).host),installTimerFunctions(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=protocol$1,r.transport=e,this.id&&(r.sid=this.id);const s=Object.assign({},this.opts.transportOptions[e],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new transports[e](s)}open(){let e;if(this.opts.rememberUpgrade&&fn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(e){let r=this.createTransport(e),s=!1;fn.priorWebsocketSuccess=!1;const a=()=>{s||(r.send([{type:"ping",data:"probe"}]),r.once("packet",m=>{if(!s)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;fn.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(b(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const _=new Error("probe error");_.transport=r.name,this.emitReserved("upgradeError",_)}}))};function l(){s||(s=!0,b(),r.close(),r=null)}const f=m=>{const _=new Error("probe error: "+m);_.transport=r.name,l(),this.emitReserved("upgradeError",_)};function c(){f("transport closed")}function d(){f("socket closed")}function g(m){r&&m.name!==r.name&&l()}const b=()=>{r.removeListener("open",a),r.removeListener("error",f),r.removeListener("close",c),this.off("close",d),this.off("upgrading",g)};r.once("open",a),r.once("error",f),r.once("close",c),this.once("close",d),this.once("upgrading",g),r.open()}onOpen(){if(this.readyState="open",fn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let s=0;s<this.writeBuffer.length;s++){const a=this.writeBuffer[s].data;if(a&&(r+=byteLength(a)),s>0&&r>this.maxPayload)return this.writeBuffer.slice(0,s);r+=2}return this.writeBuffer}write(e,r,s){return this.sendPacket("message",e,r,s),this}send(e,r,s){return this.sendPacket("message",e,r,s),this}sendPacket(e,r,s,a){if(typeof r=="function"&&(a=r,r=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const l={type:e,data:r,options:s};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},s=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}onError(e){fn.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const r=[];let s=0;const a=e.length;for(;s<a;s++)~this.transports.indexOf(e[s])&&r.push(e[s]);return r}};Socket$1.protocol=protocol$1;function url(n,e="",r){let s=n;r=r||typeof location<"u"&&location,n==null&&(n=r.protocol+"//"+r.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=r.protocol+n:n=r.host+n),/^(https?|wss?):\/\//.test(n)||(typeof r<"u"?n=r.protocol+"//"+n:n="https://"+n),s=parse$1(n)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const l=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+l+":"+s.port+e,s.href=s.protocol+"://"+l+(r&&r.port===s.port?"":":"+s.port),s}const withNativeArrayBuffer=typeof ArrayBuffer=="function",isView=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,toString=Object.prototype.toString,withNativeBlob=typeof Blob=="function"||typeof Blob<"u"&&toString.call(Blob)==="[object BlobConstructor]",withNativeFile=typeof File=="function"||typeof File<"u"&&toString.call(File)==="[object FileConstructor]";function isBinary(n){return withNativeArrayBuffer&&(n instanceof ArrayBuffer||isView(n))||withNativeBlob&&n instanceof Blob||withNativeFile&&n instanceof File}function hasBinary(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let r=0,s=n.length;r<s;r++)if(hasBinary(n[r]))return!0;return!1}if(isBinary(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return hasBinary(n.toJSON(),!0);for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&hasBinary(n[r]))return!0;return!1}function deconstructPacket(n){const e=[],r=n.data,s=n;return s.data=_deconstructPacket(r,e),s.attachments=e.length,{packet:s,buffers:e}}function _deconstructPacket(n,e){if(!n)return n;if(isBinary(n)){const r={_placeholder:!0,num:e.length};return e.push(n),r}else if(Array.isArray(n)){const r=new Array(n.length);for(let s=0;s<n.length;s++)r[s]=_deconstructPacket(n[s],e);return r}else if(typeof n=="object"&&!(n instanceof Date)){const r={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=_deconstructPacket(n[s],e));return r}return n}function reconstructPacket(n,e){return n.data=_reconstructPacket(n.data,e),delete n.attachments,n}function _reconstructPacket(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let r=0;r<n.length;r++)n[r]=_reconstructPacket(n[r],e);else if(typeof n=="object")for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=_reconstructPacket(n[r],e));return n}const protocol=5;var PacketType;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(PacketType||(PacketType={}));class Encoder{constructor(e){this.replacer=e}encode(e){return(e.type===PacketType.EVENT||e.type===PacketType.ACK)&&hasBinary(e)?this.encodeAsBinary({type:e.type===PacketType.EVENT?PacketType.BINARY_EVENT:PacketType.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===PacketType.BINARY_EVENT||e.type===PacketType.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=deconstructPacket(e),s=this.encodeAsString(r.packet),a=r.buffers;return a.unshift(s),a}}class Decoder extends Emitter{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const s=r.type===PacketType.BINARY_EVENT;s||r.type===PacketType.BINARY_ACK?(r.type=s?PacketType.EVENT:PacketType.ACK,this.reconstructor=new BinaryReconstructor(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(isBinary(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const s={type:Number(e.charAt(0))};if(PacketType[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===PacketType.BINARY_EVENT||s.type===PacketType.BINARY_ACK){const l=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const f=e.substring(l,r);if(f!=Number(f)||e.charAt(r)!=="-")throw new Error("Illegal attachments");s.attachments=Number(f)}if(e.charAt(r+1)==="/"){const l=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););s.nsp=e.substring(l,r)}else s.nsp="/";const a=e.charAt(r+1);if(a!==""&&Number(a)==a){const l=r+1;for(;++r;){const f=e.charAt(r);if(f==null||Number(f)!=f){--r;break}if(r===e.length)break}s.id=Number(e.substring(l,r+1))}if(e.charAt(++r)){const l=this.tryParse(e.substr(r));if(Decoder.isPayloadValid(s.type,l))s.data=l;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case PacketType.CONNECT:return typeof r=="object";case PacketType.DISCONNECT:return r===void 0;case PacketType.CONNECT_ERROR:return typeof r=="string"||typeof r=="object";case PacketType.EVENT:case PacketType.BINARY_EVENT:return Array.isArray(r)&&r.length>0;case PacketType.ACK:case PacketType.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class BinaryReconstructor{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const parser=Object.freeze(Object.defineProperty({__proto__:null,Decoder,Encoder,get PacketType(){return PacketType},protocol},Symbol.toStringTag,{value:"Module"}));function on(n,e,r){return n.on(e,r),function(){n.off(e,r)}}const RESERVED_EVENTS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Socket extends Emitter{constructor(e,r,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[on(e,"open",this.onopen.bind(this)),on(e,"packet",this.onpacket.bind(this)),on(e,"error",this.onerror.bind(this)),on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){if(RESERVED_EVENTS.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const s={type:PacketType.EVENT,data:r};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const f=this.ids++,c=r.pop();this._registerAckCallback(f,c),s.id=f}const a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,r){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[e]=r;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let f=0;f<this.sendBuffer.length;f++)this.sendBuffer[f].id===e&&this.sendBuffer.splice(f,1);r.call(this,new Error("operation has timed out"))},a);this.acks[e]=(...f)=>{this.io.clearTimeoutFn(l),r.apply(this,[null,...f])}}emitWithAck(e,...r){const s=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((a,l)=>{r.push((f,c)=>s?f?l(f):a(c):a(f)),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((a,...l)=>s!==this._queue[0]?void 0:(a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(a)):(this._queue.shift(),r&&r(null,...l)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case PacketType.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case PacketType.EVENT:case PacketType.BINARY_EVENT:this.onevent(e);break;case PacketType.ACK:case PacketType.BINARY_ACK:this.onack(e);break;case PacketType.DISCONNECT:this.ondisconnect();break;case PacketType.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const s of r)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let s=!1;return function(...a){s||(s=!0,r.packet({type:PacketType.ACK,id:e,data:a}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(r.apply(this,e.data),delete this.acks[e.id])}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let s=0;s<r.length;s++)if(e===r[s])return r.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let s=0;s<r.length;s++)if(e===r[s])return r.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const s of r)s.apply(this,e.data)}}}function Backoff(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*n);n=Math.floor(e*10)&1?n+r:n-r}return Math.min(n,this.max)|0};Backoff.prototype.reset=function(){this.attempts=0};Backoff.prototype.setMin=function(n){this.ms=n};Backoff.prototype.setMax=function(n){this.max=n};Backoff.prototype.setJitter=function(n){this.jitter=n};class Manager extends Emitter{constructor(e,r){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,installTimerFunctions(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((s=r.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const a=r.parser||parser;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Socket$1(this.uri,this.opts);const r=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=on(r,"open",function(){s.onopen(),e&&e()}),l=on(r,"error",f=>{s.cleanup(),s._readyState="closed",this.emitReserved("error",f),e?e(f):s.maybeReconnectOnOpen()});if(this._timeout!==!1){const f=this._timeout;f===0&&a();const c=this.setTimeoutFn(()=>{a(),r.close(),r.emit("error",new Error("timeout"))},f);this.opts.autoUnref&&c.unref(),this.subs.push(function(){clearTimeout(c)})}return this.subs.push(a),this.subs.push(l),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(on(e,"ping",this.onping.bind(this)),on(e,"data",this.ondata.bind(this)),on(e,"error",this.onerror.bind(this)),on(e,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){nextTick(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new Socket(this,e,r),this.nsps[e]=s),s}_destroy(e){const r=Object.keys(this.nsps);for(const s of r)if(this.nsps[s].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let s=0;s<r.length;s++)this.engine.write(r[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,r){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(a=>{a?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",a)):e.onreconnect()}))},r);this.opts.autoUnref&&s.unref(),this.subs.push(function(){clearTimeout(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const cache={};function lookup(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};const r=url(n,e.path||"/socket.io"),s=r.source,a=r.id,l=r.path,f=cache[a]&&l in cache[a].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||f;let d;return c?d=new Manager(s,e):(cache[a]||(cache[a]=new Manager(s,e)),d=cache[a]),r.query&&!e.query&&(e.query=r.queryKey),d.socket(r.path,e)}Object.assign(lookup,{Manager,Socket,io:lookup,connect:lookup});var esm={},store={},timeoutStore={},TimeAwareMap={};Object.defineProperty(TimeAwareMap,"__esModule",{value:!0});TimeAwareMap.createTimeAwareMapObserver=void 0;var createTimeAwareMapObserver=function(n){var e=new Map;return{create:function(r,s){var a=setTimeout(function(){s(r)},n);e.set(r,a)},cancel:function(r){if(e.has(r)){var s=e.get(r);e.delete(r),clearTimeout(s)}}}};TimeAwareMap.createTimeAwareMapObserver=createTimeAwareMapObserver;Object.defineProperty(timeoutStore,"__esModule",{value:!0});var TimeAwareMap_1$1=TimeAwareMap;function createStore$3(n){var e=new Map,r=(0,TimeAwareMap_1$1.createTimeAwareMapObserver)(n.timeToClear);function s(g){var b=e.get(g);return b||null}function a(g){return e.delete(g),r.cancel(g),!0}function l(){return e.size}function f(g){return e.has(g)}function c(){return Array.from(e.keys())}function d(g,b){return e.set(g,b),r.create(g,a),!0}return{keys:c,size:l,has:f,get:s,set:d,remove:a}}timeoutStore.default=createStore$3;var lruStore={},LRULinkedList$1={};Object.defineProperty(LRULinkedList$1,"__esModule",{value:!0});LRULinkedList$1.LRULinkedList=void 0;var LinkedListNode$2=function(){function n(e,r){this.next=null,this.data=r,this.id=e,this.prev=null}return n}(),LRULinkedList=function(){function n(e){this.__size=0,this.limit=0,this.positions=new Map,this.HEAD=null,this.TAIL=null,this.limit=e.lruSize}return Object.defineProperty(n.prototype,"size",{get:function(){return this.__size},set:function(e){this.__size=e,this.__size>this.limit&&this.shrinkList()},enumerable:!1,configurable:!0}),n.prototype.moveToHead=function(e){var r=this.remove(e.id);if(r){var s=this.addNodeToHead(r.id,r.data);return s}return null},n.prototype.addNodeToHead=function(e,r){if(this.positions.has(e)){var s=this.moveToHead(this.positions.get(e));return this.positions.get(e).data=r,s}if(this.HEAD){var a=this.HEAD,l=new LinkedListNode$2(e,r);return l.next=a,l.prev=null,a.prev=l,this.HEAD=l,this.positions.set(e,l),this.size++,l}else{var f=new LinkedListNode$2(e,r);return this.HEAD=f,this.TAIL||(this.TAIL=f),this.positions.set(e,f),this.size++,f}},n.prototype.remove=function(e){if(!this.HEAD)return null;var r=this.positions.get(e);if(!r)return null;var s=r.prev,a=r.next;return s&&a?(s.next=a,a.prev=s,this.positions.delete(e),this.size--,r):s&&!a?(s.next=null,this.TAIL=s,this.positions.delete(e),this.size--,r):!s&&a?(a.prev=null,this.HEAD=a,this.positions.delete(e),this.size--,r):!s&&!a?(this.HEAD=null,this.TAIL=null,this.positions.delete(e),this.size--,r):null},n.prototype.keys=function(){return Array.from(this.positions.keys())},n.prototype.shrinkList=function(){for(var e=this.size-this.limit,r=this.TAIL,s=1;s<=e;s++)this.positions.delete(r.id),this.size--,r=r.prev;r.next=null,this.TAIL=r},n.prototype.has=function(e){return!!this.positions.has(e)},n.prototype.traverse=function(){if(this.HEAD)for(var e=this.HEAD;e;)e=e.next},n.prototype.get=function(e){var r=this.positions.get(e);if(r){var s=this.moveToHead(r);return s?s.data:null}return null},n}();LRULinkedList$1.LRULinkedList=LRULinkedList;Object.defineProperty(lruStore,"__esModule",{value:!0});var LRULinkedList_1=LRULinkedList$1;function createStore$2(n){var e=new LRULinkedList_1.LRULinkedList(n);function r(d){var g=e.get(d);return g||null}function s(d){return e.remove(d),!0}function a(d){return e.has(d)}function l(){return e.size}function f(){return e.keys()}function c(d,g){return e.addNodeToHead(d,g),!0}return{keys:f,size:l,get:r,set:c,remove:s,has:a}}lruStore.default=createStore$2;var mruStore={},MRULinkedList$1={};Object.defineProperty(MRULinkedList$1,"__esModule",{value:!0});MRULinkedList$1.MRULinkedList=void 0;var LinkedListNode$1=function(){function n(e,r){this.next=null,this.data=r,this.id=e,this.prev=null}return n}(),MRULinkedList=function(){function n(e){this.__size=0,this.limit=0,this.positions=new Map,this.HEAD=null,this.TAIL=null,this.limit=e.mruSize}return Object.defineProperty(n.prototype,"size",{get:function(){return this.__size},set:function(e){this.__size=e,this.__size>this.limit&&this.shrinkList()},enumerable:!1,configurable:!0}),n.prototype.keys=function(){return Array.from(this.positions.keys())},n.prototype.moveToTail=function(e){var r=this.remove(e.id);if(r){var s=this.addNodeToTail(r.id,r.data);return s}return null},n.prototype.moveToHead=function(e){var r=this.remove(e.id);if(r){var s=this.addNodeToHead(r.id,r.data);return s}return null},n.prototype.addNodeToHead=function(e,r){if(this.positions.has(e)){var s=this.moveToHead(this.positions.get(e));return this.positions.get(e).data=r,s}if(this.HEAD){var a=this.HEAD,l=new LinkedListNode$1(e,r);return l.next=a,l.prev=null,a.prev=l,this.HEAD=l,this.positions.set(e,l),this.size++,l}else{var f=new LinkedListNode$1(e,r);return this.HEAD=f,this.TAIL||(this.TAIL=f),this.positions.set(e,f),this.size++,f}},n.prototype.addNodeToTail=function(e,r){if(this.positions.has(e)){var s=this.moveToTail(this.positions.get(e));return this.positions.get(e).data=r,s}if(this.TAIL){var a=this.TAIL,l=new LinkedListNode$1(e,r);return l.prev=a,l.next=null,a.next=l,this.TAIL=l,this.positions.set(e,l),this.size++,l}else{var f=new LinkedListNode$1(e,r);return this.TAIL=f,this.HEAD||(this.HEAD=f),this.positions.set(e,f),this.size++,f}},n.prototype.remove=function(e){if(!this.HEAD)return null;var r=this.positions.get(e);if(!r)return null;var s=r.prev,a=r.next;return s&&a?(s.next=a,a.prev=s,this.positions.delete(e),this.size--,r):s&&!a?(s.next=null,this.TAIL=s,this.positions.delete(e),this.size--,r):!s&&a?(a.prev=null,this.HEAD=a,this.positions.delete(e),this.size--,r):!s&&!a?(this.HEAD=null,this.TAIL=null,this.positions.delete(e),this.size--,r):null},n.prototype.shrinkList=function(){for(var e=this.size-this.limit,r=this.TAIL,s=1;s<=e;s++)this.positions.delete(r.id),this.size--,r=r.prev;r.next=null,this.TAIL=r},n.prototype.has=function(e){return!!this.positions.has(e)},n.prototype.traverse=function(){if(this.HEAD)for(var e=this.HEAD;e;)e=e.next},n.prototype.get=function(e){var r=this.positions.get(e);if(r){var s=this.moveToTail(r);return s?s.data:null}return null},n}();MRULinkedList$1.MRULinkedList=MRULinkedList;Object.defineProperty(mruStore,"__esModule",{value:!0});var MRULinkedList_1=MRULinkedList$1;function createStore$1(n){var e=new MRULinkedList_1.MRULinkedList(n);function r(d){var g=e.get(d);return g||null}function s(d){return e.remove(d),!0}function a(d){return e.has(d)}function l(){return e.size}function f(){return e.keys()}function c(d,g){return e.addNodeToHead(d,g),!0}return{keys:f,size:l,has:a,get:r,set:c,remove:s}}mruStore.default=createStore$1;var tlruStore={},TLRULinkedList$1={};Object.defineProperty(TLRULinkedList$1,"__esModule",{value:!0});TLRULinkedList$1.TLRULinkedList=void 0;var TimeAwareMap_1=TimeAwareMap,LinkedListNode=function(){function n(e,r){this.next=null,this.data=r,this.id=e,this.prev=null}return n}(),TLRULinkedList=function(){function n(e){this.__size=0,this.limit=0,this.positions=new Map,this.HEAD=null,this.TAIL=null,this.limit=e.lruSize,this.timer=(0,TimeAwareMap_1.createTimeAwareMapObserver)(e.timeToClear)}return Object.defineProperty(n.prototype,"size",{get:function(){return this.__size},set:function(e){this.__size=e,this.__size>this.limit&&this.shrinkList()},enumerable:!1,configurable:!0}),n.prototype.moveToHead=function(e){var r=this.remove(e.id);if(r){var s=this.addNodeToHead(r.id,r.data);return s}return null},n.prototype.addNodeToHead=function(e,r){if(this.positions.has(e)){var s=this.moveToHead(this.positions.get(e));return this.positions.get(e).data=r,s}var a=this.remove.bind(this);if(this.timer.create(e,a),this.HEAD){var l=this.HEAD,f=new LinkedListNode(e,r);return f.next=l,f.prev=null,l.prev=f,this.HEAD=f,this.positions.set(e,f),this.size++,f}else{var c=new LinkedListNode(e,r);return this.HEAD=c,this.TAIL||(this.TAIL=c),this.positions.set(e,c),this.size++,c}},n.prototype.remove=function(e){if(!this.HEAD)return null;var r=this.positions.get(e);if(!r)return null;var s=r.prev,a=r.next;return s&&a?(s.next=a,a.prev=s,this.positions.delete(e),this.timer.cancel(e),this.size--,r):s&&!a?(s.next=null,this.TAIL=s,this.positions.delete(e),this.timer.cancel(e),this.size--,r):!s&&a?(a.prev=null,this.HEAD=a,this.positions.delete(e),this.timer.cancel(e),this.size--,r):!s&&!a?(this.HEAD=null,this.TAIL=null,this.positions.delete(e),this.timer.cancel(e),this.size--,r):null},n.prototype.keys=function(){return Array.from(this.positions.keys())},n.prototype.shrinkList=function(){for(var e=this.size-this.limit,r=this.TAIL,s=1;s<=e;s++)this.positions.delete(r.id),this.timer.cancel(r.id),this.size--,r=r.prev;r.next=null,this.TAIL=r},n.prototype.has=function(e){return!!this.positions.has(e)},n.prototype.traverse=function(){if(this.HEAD)for(var e=this.HEAD;e;)e=e.next},n.prototype.get=function(e){var r=this.positions.get(e);if(r){var s=this.moveToHead(r);return s?s.data:null}return null},n}();TLRULinkedList$1.TLRULinkedList=TLRULinkedList;Object.defineProperty(tlruStore,"__esModule",{value:!0});var TLRULinkedList_1=TLRULinkedList$1;function createStore(n){var e=new TLRULinkedList_1.TLRULinkedList(n);function r(d){var g=e.get(d);return g||null}function s(d){return e.remove(d),!0}function a(d){return e.has(d)}function l(){return e.size}function f(){return e.keys()}function c(d,g){return e.addNodeToHead(d,g),!0}return{keys:f,size:l,get:r,set:c,remove:s,has:a}}tlruStore.default=createStore;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.defaultConfig=void 0;var e=timeoutStore,r=lruStore,s=mruStore,a=tlruStore;n.defaultConfig={strategy:"lru",policy:"lru",timeToClear:72e5,lruSize:500,mruSize:500};function l(f){var c={};typeof f=="object"&&(c=f);var d=Object.assign({},n.defaultConfig,c);switch(d.policy){case"timeout":return(0,e.default)(d);case"lru":return(0,r.default)(d);case"mru":return(0,s.default)(d);case"tlru":return(0,a.default)(d);default:throw new Error(d.policy+" is not a supported policy.")}}n.default=l})(store);Object.defineProperty(esm,"__esModule",{value:!0});var store_1=store,_default=esm.default=store_1.default;function _mergeNamespaces(n,e){return e.forEach(function(r){Object.keys(r).forEach(function(s){if(s!=="default"&&!(s in n)){var a=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return r[s]}})}})}),Object.freeze(n)}function ownKeys(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,s)}return r}function _objectSpread2(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(s){_defineProperty(n,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(r,s))})}return n}function _defineProperty(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function _slicedToArray(n,e){return _arrayWithHoles(n)||_iterableToArrayLimit(n,e)||_unsupportedIterableToArray(n,e)||_nonIterableRest()}function _arrayWithHoles(n){if(Array.isArray(n))return n}function _iterableToArrayLimit(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var s,a,l=[],f=!0,c=!1;try{for(r=r.call(n);!(f=(s=r.next()).done)&&(l.push(s.value),!e||l.length!==e);f=!0);}catch(d){c=!0,a=d}finally{try{f||r.return==null||r.return()}finally{if(c)throw a}}return l}}function _unsupportedIterableToArray(n,e){if(n){if(typeof n=="string")return _arrayLikeToArray(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(n,e):void 0}}function _arrayLikeToArray(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=n[r];return s}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function createCommonjsModule(n){var e={exports:{}};return n(e,e.exports),e.exports}var UZIP_1=createCommonjsModule(function(n){var e,r,s={};n.exports=s,s.parse=function(a,l){for(var f=s.bin.readUshort,c=s.bin.readUint,d=0,g={},b=new Uint8Array(a),m=b.length-4;c(b,m)!=101010256;)m--;d=m,d+=4;var _=f(b,d+=4);f(b,d+=2);var x=c(b,d+=2),k=c(b,d+=4);d+=4,d=k;for(var q=0;q<_;q++){c(b,d),d+=4,d+=4,d+=4,c(b,d+=4),x=c(b,d+=4);var j=c(b,d+=4),ne=f(b,d+=4),se=f(b,d+2),le=f(b,d+4);d+=6;var ue=c(b,d+=8);d+=4,d+=ne+se+le,s._readLocal(b,ue,g,x,j,l)}return g},s._readLocal=function(a,l,f,c,d,g){var b=s.bin.readUshort,m=s.bin.readUint;m(a,l),b(a,l+=4),b(a,l+=2);var _=b(a,l+=2);m(a,l+=2),m(a,l+=4),l+=4;var x=b(a,l+=8),k=b(a,l+=2);l+=2;var q=s.bin.readUTF8(a,l,x);if(l+=x,l+=k,g)f[q]={size:d,csize:c};else{var j=new Uint8Array(a.buffer,l);if(_==0)f[q]=new Uint8Array(j.buffer.slice(l,l+c));else{if(_!=8)throw"unknown compression method: "+_;var ne=new Uint8Array(d);s.inflateRaw(j,ne),f[q]=ne}}},s.inflateRaw=function(a,l){return s.F.inflate(a,l)},s.inflate=function(a,l){return a[0],a[1],s.inflateRaw(new Uint8Array(a.buffer,a.byteOffset+2,a.length-6),l)},s.deflate=function(a,l){l==null&&(l={level:6});var f=0,c=new Uint8Array(50+Math.floor(1.1*a.length));c[f]=120,c[f+1]=156,f+=2,f=s.F.deflateRaw(a,c,f,l.level);var d=s.adler(a,0,a.length);return c[f+0]=d>>>24&255,c[f+1]=d>>>16&255,c[f+2]=d>>>8&255,c[f+3]=d>>>0&255,new Uint8Array(c.buffer,0,f+4)},s.deflateRaw=function(a,l){l==null&&(l={level:6});var f=new Uint8Array(50+Math.floor(1.1*a.length)),c=s.F.deflateRaw(a,f,c,l.level);return new Uint8Array(f.buffer,0,c)},s.encode=function(a,l){l==null&&(l=!1);var f=0,c=s.bin.writeUint,d=s.bin.writeUshort,g={};for(var b in a){var m=!s._noNeed(b)&&!l,_=a[b],x=s.crc.crc(_,0,_.length);g[b]={cpr:m,usize:_.length,crc:x,file:m?s.deflateRaw(_):_}}for(var b in g)f+=g[b].file.length+30+46+2*s.bin.sizeUTF8(b);f+=22;var k=new Uint8Array(f),q=0,j=[];for(var b in g){var ne=g[b];j.push(q),q=s._writeHeader(k,q,b,ne,0)}var se=0,le=q;for(var b in g)ne=g[b],j.push(q),q=s._writeHeader(k,q,b,ne,1,j[se++]);var ue=q-le;return c(k,q,101010256),q+=4,d(k,q+=4,se),d(k,q+=2,se),c(k,q+=2,ue),c(k,q+=4,le),q+=4,q+=2,k.buffer},s._noNeed=function(a){var l=a.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(l)!=-1},s._writeHeader=function(a,l,f,c,d,g){var b=s.bin.writeUint,m=s.bin.writeUshort,_=c.file;return b(a,l,d==0?67324752:33639248),l+=4,d==1&&(l+=2),m(a,l,20),m(a,l+=2,0),m(a,l+=2,c.cpr?8:0),b(a,l+=2,0),b(a,l+=4,c.crc),b(a,l+=4,_.length),b(a,l+=4,c.usize),m(a,l+=4,s.bin.sizeUTF8(f)),m(a,l+=2,0),l+=2,d==1&&(l+=2,l+=2,b(a,l+=6,g),l+=4),l+=s.bin.writeUTF8(a,l,f),d==0&&(a.set(_,l),l+=_.length),l},s.crc={table:function(){for(var a=new Uint32Array(256),l=0;l<256;l++){for(var f=l,c=0;c<8;c++)1&f?f=3988292384^f>>>1:f>>>=1;a[l]=f}return a}(),update:function(a,l,f,c){for(var d=0;d<c;d++)a=s.crc.table[255&(a^l[f+d])]^a>>>8;return a},crc:function(a,l,f){return 4294967295^s.crc.update(4294967295,a,l,f)}},s.adler=function(a,l,f){for(var c=1,d=0,g=l,b=l+f;g<b;){for(var m=Math.min(g+5552,b);g<m;)d+=c+=a[g++];c%=65521,d%=65521}return d<<16|c},s.bin={readUshort:function(a,l){return a[l]|a[l+1]<<8},writeUshort:function(a,l,f){a[l]=255&f,a[l+1]=f>>8&255},readUint:function(a,l){return 16777216*a[l+3]+(a[l+2]<<16|a[l+1]<<8|a[l])},writeUint:function(a,l,f){a[l]=255&f,a[l+1]=f>>8&255,a[l+2]=f>>16&255,a[l+3]=f>>24&255},readASCII:function(a,l,f){for(var c="",d=0;d<f;d++)c+=String.fromCharCode(a[l+d]);return c},writeASCII:function(a,l,f){for(var c=0;c<f.length;c++)a[l+c]=f.charCodeAt(c)},pad:function(a){return a.length<2?"0"+a:a},readUTF8:function(a,l,f){for(var c,d="",g=0;g<f;g++)d+="%"+s.bin.pad(a[l+g].toString(16));try{c=decodeURIComponent(d)}catch{return s.bin.readASCII(a,l,f)}return c},writeUTF8:function(a,l,f){for(var c=f.length,d=0,g=0;g<c;g++){var b=f.charCodeAt(g);if(!(4294967168&b))a[l+d]=b,d++;else if(!(4294965248&b))a[l+d]=192|b>>6,a[l+d+1]=128|b>>0&63,d+=2;else if(!(4294901760&b))a[l+d]=224|b>>12,a[l+d+1]=128|b>>6&63,a[l+d+2]=128|b>>0&63,d+=3;else{if(4292870144&b)throw"e";a[l+d]=240|b>>18,a[l+d+1]=128|b>>12&63,a[l+d+2]=128|b>>6&63,a[l+d+3]=128|b>>0&63,d+=4}}return d},sizeUTF8:function(a){for(var l=a.length,f=0,c=0;c<l;c++){var d=a.charCodeAt(c);if(!(4294967168&d))f++;else if(!(4294965248&d))f+=2;else if(!(4294901760&d))f+=3;else{if(4292870144&d)throw"e";f+=4}}return f}},s.F={},s.F.deflateRaw=function(a,l,f,c){var d=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][c],g=s.F.U,b=s.F._goodIndex;s.F._hash;var m=s.F._putsE,_=0,x=f<<3,k=0,q=a.length;if(c==0){for(;_<q;)m(l,x,_+(He=Math.min(65535,q-_))==q?1:0),x=s.F._copyExact(a,_,He,l,x+8),_+=He;return x>>>3}var j=g.lits,ne=g.strt,se=g.prev,le=0,ue=0,he=0,ge=0,ve=0,_e=0;for(q>2&&(ne[_e=s.F._hash(a,0)]=0),_=0;_<q;_++){if(ve=_e,_+1<q-2){_e=s.F._hash(a,_+1);var ye=_+1&32767;se[ye]=ne[_e],ne[_e]=ye}if(k<=_){(le>14e3||ue>26697)&&q-_>100&&(k<_&&(j[le]=_-k,le+=2,k=_),x=s.F._writeBlock(_==q-1||k==q?1:0,j,le,ge,a,he,_-he,l,x),le=ue=ge=0,he=_);var be=0;_<q-2&&(be=s.F._bestMatch(a,_,se,ve,Math.min(d[2],q-_),d[3]));var He=be>>>16,Oe=65535&be;if(be!=0){Oe=65535&be;var Fe=b(He=be>>>16,g.of0);g.lhst[257+Fe]++;var De=b(Oe,g.df0);g.dhst[De]++,ge+=g.exb[Fe]+g.dxb[De],j[le]=He<<23|_-k,j[le+1]=Oe<<16|Fe<<8|De,le+=2,k=_+He}else g.lhst[a[_]]++;ue++}}for(he==_&&a.length!=0||(k<_&&(j[le]=_-k,le+=2,k=_),x=s.F._writeBlock(1,j,le,ge,a,he,_-he,l,x),le=0,ue=0,le=ue=ge=0,he=_);7&x;)x++;return x>>>3},s.F._bestMatch=function(a,l,f,c,d,g){var b=32767&l,m=f[b],_=b-m+32768&32767;if(m==b||c!=s.F._hash(a,l-_))return 0;for(var x=0,k=0,q=Math.min(32767,l);_<=q&&--g!=0&&m!=b;){if(x==0||a[l+x]==a[l+x-_]){var j=s.F._howLong(a,l,_);if(j>x){if(k=_,(x=j)>=d)break;_+2<j&&(j=_+2);for(var ne=0,se=0;se<j-2;se++){var le=l-_+se+32768&32767,ue=le-f[le]+32768&32767;ue>ne&&(ne=ue,m=le)}}}_+=(b=m)-(m=f[b])+32768&32767}return x<<16|k},s.F._howLong=function(a,l,f){if(a[l]!=a[l-f]||a[l+1]!=a[l+1-f]||a[l+2]!=a[l+2-f])return 0;var c=l,d=Math.min(a.length,l+258);for(l+=3;l<d&&a[l]==a[l-f];)l++;return l-c},s.F._hash=function(a,l){return(a[l]<<8|a[l+1])+(a[l+2]<<4)&65535},s.saved=0,s.F._writeBlock=function(a,l,f,c,d,g,b,m,_){var x,k,q,j,ne,se,le,ue,he,ge=s.F.U,ve=s.F._putsF,_e=s.F._putsE;ge.lhst[256]++,k=(x=s.F.getTrees())[0],q=x[1],j=x[2],ne=x[3],se=x[4],le=x[5],ue=x[6],he=x[7];var ye=32+(_+3&7?8-(_+3&7):0)+(b<<3),be=c+s.F.contSize(ge.fltree,ge.lhst)+s.F.contSize(ge.fdtree,ge.dhst),He=c+s.F.contSize(ge.ltree,ge.lhst)+s.F.contSize(ge.dtree,ge.dhst);He+=14+3*le+s.F.contSize(ge.itree,ge.ihst)+(2*ge.ihst[16]+3*ge.ihst[17]+7*ge.ihst[18]);for(var Oe=0;Oe<286;Oe++)ge.lhst[Oe]=0;for(Oe=0;Oe<30;Oe++)ge.dhst[Oe]=0;for(Oe=0;Oe<19;Oe++)ge.ihst[Oe]=0;var Fe=ye<be&&ye<He?0:be<He?1:2;if(ve(m,_,a),ve(m,_+1,Fe),_+=3,Fe==0){for(;7&_;)_++;_=s.F._copyExact(d,g,b,m,_)}else{var De,We;if(Fe==1&&(De=ge.fltree,We=ge.fdtree),Fe==2){s.F.makeCodes(ge.ltree,k),s.F.revCodes(ge.ltree,k),s.F.makeCodes(ge.dtree,q),s.F.revCodes(ge.dtree,q),s.F.makeCodes(ge.itree,j),s.F.revCodes(ge.itree,j),De=ge.ltree,We=ge.dtree,_e(m,_,ne-257),_e(m,_+=5,se-1),_e(m,_+=5,le-4),_+=4;for(var ze=0;ze<le;ze++)_e(m,_+3*ze,ge.itree[1+(ge.ordr[ze]<<1)]);_+=3*le,_=s.F._codeTiny(ue,ge.itree,m,_),_=s.F._codeTiny(he,ge.itree,m,_)}for(var Ge=g,Je=0;Je<f;Je+=2){for(var Ue=l[Je],pe=Ue>>>23,ae=Ge+(8388607&Ue);Ge<ae;)_=s.F._writeLit(d[Ge++],De,m,_);if(pe!=0){var Se=l[Je+1],Pe=Se>>16,qe=Se>>8&255,xe=255&Se;_e(m,_=s.F._writeLit(257+qe,De,m,_),pe-ge.of0[qe]),_+=ge.exb[qe],ve(m,_=s.F._writeLit(xe,We,m,_),Pe-ge.df0[xe]),_+=ge.dxb[xe],Ge+=pe}}_=s.F._writeLit(256,De,m,_)}return _},s.F._copyExact=function(a,l,f,c,d){var g=d>>>3;return c[g]=f,c[g+1]=f>>>8,c[g+2]=255-c[g],c[g+3]=255-c[g+1],g+=4,c.set(new Uint8Array(a.buffer,l,f),g),d+(f+4<<3)},s.F.getTrees=function(){for(var a=s.F.U,l=s.F._hufTree(a.lhst,a.ltree,15),f=s.F._hufTree(a.dhst,a.dtree,15),c=[],d=s.F._lenCodes(a.ltree,c),g=[],b=s.F._lenCodes(a.dtree,g),m=0;m<c.length;m+=2)a.ihst[c[m]]++;for(m=0;m<g.length;m+=2)a.ihst[g[m]]++;for(var _=s.F._hufTree(a.ihst,a.itree,7),x=19;x>4&&a.itree[1+(a.ordr[x-1]<<1)]==0;)x--;return[l,f,_,d,b,x,c,g]},s.F.getSecond=function(a){for(var l=[],f=0;f<a.length;f+=2)l.push(a[f+1]);return l},s.F.nonZero=function(a){for(var l="",f=0;f<a.length;f+=2)a[f+1]!=0&&(l+=(f>>1)+",");return l},s.F.contSize=function(a,l){for(var f=0,c=0;c<l.length;c++)f+=l[c]*a[1+(c<<1)];return f},s.F._codeTiny=function(a,l,f,c){for(var d=0;d<a.length;d+=2){var g=a[d],b=a[d+1];c=s.F._writeLit(g,l,f,c);var m=g==16?2:g==17?3:7;g>15&&(s.F._putsE(f,c,b,m),c+=m)}return c},s.F._lenCodes=function(a,l){for(var f=a.length;f!=2&&a[f-1]==0;)f-=2;for(var c=0;c<f;c+=2){var d=a[c+1],g=c+3<f?a[c+3]:-1,b=c+5<f?a[c+5]:-1,m=c==0?-1:a[c-1];if(d==0&&g==d&&b==d){for(var _=c+5;_+2<f&&a[_+2]==d;)_+=2;(x=Math.min(_+1-c>>>1,138))<11?l.push(17,x-3):l.push(18,x-11),c+=2*x-2}else if(d==m&&g==d&&b==d){for(_=c+5;_+2<f&&a[_+2]==d;)_+=2;var x=Math.min(_+1-c>>>1,6);l.push(16,x-3),c+=2*x-2}else l.push(d,0)}return f>>>1},s.F._hufTree=function(a,l,f){var c=[],d=a.length,g=l.length,b=0;for(b=0;b<g;b+=2)l[b]=0,l[b+1]=0;for(b=0;b<d;b++)a[b]!=0&&c.push({lit:b,f:a[b]});var m=c.length,_=c.slice(0);if(m==0)return 0;if(m==1){var x=c[0].lit;return _=x==0?1:0,l[1+(x<<1)]=1,l[1+(_<<1)]=1,1}c.sort(function(ue,he){return ue.f-he.f});var k=c[0],q=c[1],j=0,ne=1,se=2;for(c[0]={lit:-1,f:k.f+q.f,l:k,r:q,d:0};ne!=m-1;)k=j!=ne&&(se==m||c[j].f<c[se].f)?c[j++]:c[se++],q=j!=ne&&(se==m||c[j].f<c[se].f)?c[j++]:c[se++],c[ne++]={lit:-1,f:k.f+q.f,l:k,r:q};var le=s.F.setDepth(c[ne-1],0);for(le>f&&(s.F.restrictDepth(_,f,le),le=f),b=0;b<m;b++)l[1+(_[b].lit<<1)]=_[b].d;return le},s.F.setDepth=function(a,l){return a.lit!=-1?(a.d=l,l):Math.max(s.F.setDepth(a.l,l+1),s.F.setDepth(a.r,l+1))},s.F.restrictDepth=function(a,l,f){var c=0,d=1<<f-l,g=0;for(a.sort(function(m,_){return _.d==m.d?m.f-_.f:_.d-m.d}),c=0;c<a.length&&a[c].d>l;c++){var b=a[c].d;a[c].d=l,g+=d-(1<<f-b)}for(g>>>=f-l;g>0;)(b=a[c].d)<l?(a[c].d++,g-=1<<l-b-1):c++;for(;c>=0;c--)a[c].d==l&&g<0&&(a[c].d--,g++);g!=0&&console.log("debt left")},s.F._goodIndex=function(a,l){var f=0;return l[16|f]<=a&&(f|=16),l[8|f]<=a&&(f|=8),l[4|f]<=a&&(f|=4),l[2|f]<=a&&(f|=2),l[1|f]<=a&&(f|=1),f},s.F._writeLit=function(a,l,f,c){return s.F._putsF(f,c,l[a<<1]),c+l[1+(a<<1)]},s.F.inflate=function(a,l){var f=Uint8Array;if(a[0]==3&&a[1]==0)return l||new f(0);var c=s.F,d=c._bitsF,g=c._bitsE,b=c._decodeTiny,m=c.makeCodes,_=c.codes2map,x=c._get17,k=c.U,q=l==null;q&&(l=new f(a.length>>>2<<3));for(var j,ne,se=0,le=0,ue=0,he=0,ge=0,ve=0,_e=0,ye=0,be=0;se==0;)if(se=d(a,be,1),le=d(a,be+1,2),be+=3,le!=0){if(q&&(l=s.F._check(l,ye+(1<<17))),le==1&&(j=k.flmap,ne=k.fdmap,ve=511,_e=31),le==2){ue=g(a,be,5)+257,he=g(a,be+5,5)+1,ge=g(a,be+10,4)+4,be+=14;for(var He=0;He<38;He+=2)k.itree[He]=0,k.itree[He+1]=0;var Oe=1;for(He=0;He<ge;He++){var Fe=g(a,be+3*He,3);k.itree[1+(k.ordr[He]<<1)]=Fe,Fe>Oe&&(Oe=Fe)}be+=3*ge,m(k.itree,Oe),_(k.itree,Oe,k.imap),j=k.lmap,ne=k.dmap,be=b(k.imap,(1<<Oe)-1,ue+he,a,be,k.ttree);var De=c._copyOut(k.ttree,0,ue,k.ltree);ve=(1<<De)-1;var We=c._copyOut(k.ttree,ue,he,k.dtree);_e=(1<<We)-1,m(k.ltree,De),_(k.ltree,De,j),m(k.dtree,We),_(k.dtree,We,ne)}for(;;){var ze=j[x(a,be)&ve];be+=15&ze;var Ge=ze>>>4;if(!(Ge>>>8))l[ye++]=Ge;else{if(Ge==256)break;var Je=ye+Ge-254;if(Ge>264){var Ue=k.ldef[Ge-257];Je=ye+(Ue>>>3)+g(a,be,7&Ue),be+=7&Ue}var pe=ne[x(a,be)&_e];be+=15&pe;var ae=pe>>>4,Se=k.ddef[ae],Pe=(Se>>>4)+d(a,be,15&Se);for(be+=15&Se,q&&(l=s.F._check(l,ye+(1<<17)));ye<Je;)l[ye]=l[ye++-Pe],l[ye]=l[ye++-Pe],l[ye]=l[ye++-Pe],l[ye]=l[ye++-Pe];ye=Je}}}else{7&be&&(be+=8-(7&be));var qe=4+(be>>>3),xe=a[qe-4]|a[qe-3]<<8;q&&(l=s.F._check(l,ye+xe)),l.set(new f(a.buffer,a.byteOffset+qe,xe),ye),be=qe+xe<<3,ye+=xe}return l.length==ye?l:l.slice(0,ye)},s.F._check=function(a,l){var f=a.length;if(l<=f)return a;var c=new Uint8Array(Math.max(f<<1,l));return c.set(a,0),c},s.F._decodeTiny=function(a,l,f,c,d,g){for(var b=s.F._bitsE,m=s.F._get17,_=0;_<f;){var x=a[m(c,d)&l];d+=15&x;var k=x>>>4;if(k<=15)g[_]=k,_++;else{var q=0,j=0;k==16?(j=3+b(c,d,2),d+=2,q=g[_-1]):k==17?(j=3+b(c,d,3),d+=3):k==18&&(j=11+b(c,d,7),d+=7);for(var ne=_+j;_<ne;)g[_]=q,_++}}return d},s.F._copyOut=function(a,l,f,c){for(var d=0,g=0,b=c.length>>>1;g<f;){var m=a[g+l];c[g<<1]=0,c[1+(g<<1)]=m,m>d&&(d=m),g++}for(;g<b;)c[g<<1]=0,c[1+(g<<1)]=0,g++;return d},s.F.makeCodes=function(a,l){for(var f,c,d,g,b=s.F.U,m=a.length,_=b.bl_count,x=0;x<=l;x++)_[x]=0;for(x=1;x<m;x+=2)_[a[x]]++;var k=b.next_code;for(f=0,_[0]=0,c=1;c<=l;c++)f=f+_[c-1]<<1,k[c]=f;for(d=0;d<m;d+=2)(g=a[d+1])!=0&&(a[d]=k[g],k[g]++)},s.F.codes2map=function(a,l,f){for(var c=a.length,d=s.F.U.rev15,g=0;g<c;g+=2)if(a[g+1]!=0)for(var b=g>>1,m=a[g+1],_=b<<4|m,x=l-m,k=a[g]<<x,q=k+(1<<x);k!=q;)f[d[k]>>>15-l]=_,k++},s.F.revCodes=function(a,l){for(var f=s.F.U.rev15,c=15-l,d=0;d<a.length;d+=2){var g=a[d]<<l-a[d+1];a[d]=f[g]>>>c}},s.F._putsE=function(a,l,f){f<<=7&l;var c=l>>>3;a[c]|=f,a[c+1]|=f>>>8},s.F._putsF=function(a,l,f){f<<=7&l;var c=l>>>3;a[c]|=f,a[c+1]|=f>>>8,a[c+2]|=f>>>16},s.F._bitsE=function(a,l,f){return(a[l>>>3]|a[1+(l>>>3)]<<8)>>>(7&l)&(1<<f)-1},s.F._bitsF=function(a,l,f){return(a[l>>>3]|a[1+(l>>>3)]<<8|a[2+(l>>>3)]<<16)>>>(7&l)&(1<<f)-1},s.F._get17=function(a,l){return(a[l>>>3]|a[1+(l>>>3)]<<8|a[2+(l>>>3)]<<16)>>>(7&l)},s.F._get25=function(a,l){return(a[l>>>3]|a[1+(l>>>3)]<<8|a[2+(l>>>3)]<<16|a[3+(l>>>3)]<<24)>>>(7&l)},s.F.U=(e=Uint16Array,r=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var a=s.F.U,l=0;l<32768;l++){var f=l;f=(4278255360&(f=(4042322160&(f=(3435973836&(f=(2863311530&f)>>>1|(1431655765&f)<<1))>>>2|(858993459&f)<<2))>>>4|(252645135&f)<<4))>>>8|(16711935&f)<<8,a.rev15[l]=(f>>>16|f<<16)>>>17}function c(d,g,b){for(;g--!=0;)d.push(0,b)}for(l=0;l<32;l++)a.ldef[l]=a.of0[l]<<3|a.exb[l],a.ddef[l]=a.df0[l]<<4|a.dxb[l];c(a.fltree,144,8),c(a.fltree,112,9),c(a.fltree,24,7),c(a.fltree,8,8),s.F.makeCodes(a.fltree,9),s.F.codes2map(a.fltree,9,a.flmap),s.F.revCodes(a.fltree,9),c(a.fdtree,32,5),s.F.makeCodes(a.fdtree,5),s.F.codes2map(a.fdtree,5,a.fdmap),s.F.revCodes(a.fdtree,5),c(a.itree,19,0),c(a.ltree,286,0),c(a.dtree,30,0),c(a.ttree,320,0)}()}),UZIP=Object.freeze(_mergeNamespaces({__proto__:null,default:UZIP_1},[UZIP_1])),UPNG={},N,W,H;UPNG.toRGBA8=function(n){var e=n.width,r=n.height;if(n.tabs.acTL==null)return[UPNG.toRGBA8.decodeImage(n.data,e,r,n).buffer];var s=[];n.frames[0].data==null&&(n.frames[0].data=n.data);for(var a=e*r*4,l=new Uint8Array(a),f=new Uint8Array(a),c=new Uint8Array(a),d=0;d<n.frames.length;d++){var g=n.frames[d],b=g.rect.x,m=g.rect.y,_=g.rect.width,x=g.rect.height,k=UPNG.toRGBA8.decodeImage(g.data,_,x,n);if(d!=0)for(var q=0;q<a;q++)c[q]=l[q];if(g.blend==0?UPNG._copyTile(k,_,x,l,e,r,b,m,0):g.blend==1&&UPNG._copyTile(k,_,x,l,e,r,b,m,1),s.push(l.buffer.slice(0)),g.dispose!=0){if(g.dispose==1)UPNG._copyTile(f,_,x,l,e,r,b,m,0);else if(g.dispose==2)for(q=0;q<a;q++)l[q]=c[q]}}return s},UPNG.toRGBA8.decodeImage=function(n,e,r,s){var a=e*r,l=UPNG.decode._getBPP(s),f=Math.ceil(e*l/8),c=new Uint8Array(4*a),d=new Uint32Array(c.buffer),g=s.ctype,b=s.depth,m=UPNG._bin.readUshort;if(g==6){var _=a<<2;if(b==8)for(var x=0;x<_;x+=4)c[x]=n[x],c[x+1]=n[x+1],c[x+2]=n[x+2],c[x+3]=n[x+3];if(b==16)for(x=0;x<_;x++)c[x]=n[x<<1]}else if(g==2){var k=s.tabs.tRNS;if(k==null){if(b==8)for(x=0;x<a;x++){var q=3*x;d[x]=255<<24|n[q+2]<<16|n[q+1]<<8|n[q]}if(b==16)for(x=0;x<a;x++)q=6*x,d[x]=255<<24|n[q+4]<<16|n[q+2]<<8|n[q]}else{var j=k[0],ne=k[1],se=k[2];if(b==8)for(x=0;x<a;x++){var le=x<<2;q=3*x,d[x]=255<<24|n[q+2]<<16|n[q+1]<<8|n[q],n[q]==j&&n[q+1]==ne&&n[q+2]==se&&(c[le+3]=0)}if(b==16)for(x=0;x<a;x++)le=x<<2,q=6*x,d[x]=255<<24|n[q+4]<<16|n[q+2]<<8|n[q],m(n,q)==j&&m(n,q+2)==ne&&m(n,q+4)==se&&(c[le+3]=0)}}else if(g==3){var ue=s.tabs.PLTE,he=s.tabs.tRNS,ge=he?he.length:0;if(b==1)for(var ve=0;ve<r;ve++){var _e=ve*f,ye=ve*e;for(x=0;x<e;x++){le=ye+x<<2;var be=3*(He=n[_e+(x>>3)]>>7-((7&x)<<0)&1);c[le]=ue[be],c[le+1]=ue[be+1],c[le+2]=ue[be+2],c[le+3]=He<ge?he[He]:255}}if(b==2)for(ve=0;ve<r;ve++)for(_e=ve*f,ye=ve*e,x=0;x<e;x++)le=ye+x<<2,be=3*(He=n[_e+(x>>2)]>>6-((3&x)<<1)&3),c[le]=ue[be],c[le+1]=ue[be+1],c[le+2]=ue[be+2],c[le+3]=He<ge?he[He]:255;if(b==4)for(ve=0;ve<r;ve++)for(_e=ve*f,ye=ve*e,x=0;x<e;x++)le=ye+x<<2,be=3*(He=n[_e+(x>>1)]>>4-((1&x)<<2)&15),c[le]=ue[be],c[le+1]=ue[be+1],c[le+2]=ue[be+2],c[le+3]=He<ge?he[He]:255;if(b==8)for(x=0;x<a;x++){var He;le=x<<2,be=3*(He=n[x]),c[le]=ue[be],c[le+1]=ue[be+1],c[le+2]=ue[be+2],c[le+3]=He<ge?he[He]:255}}else if(g==4){if(b==8)for(x=0;x<a;x++){le=x<<2;var Oe=n[Fe=x<<1];c[le]=Oe,c[le+1]=Oe,c[le+2]=Oe,c[le+3]=n[Fe+1]}if(b==16)for(x=0;x<a;x++){var Fe;le=x<<2,Oe=n[Fe=x<<2],c[le]=Oe,c[le+1]=Oe,c[le+2]=Oe,c[le+3]=n[Fe+2]}}else if(g==0)for(j=s.tabs.tRNS?s.tabs.tRNS:-1,ve=0;ve<r;ve++){var De=ve*f,We=ve*e;if(b==1)for(var ze=0;ze<e;ze++){var Ge=(Oe=255*(n[De+(ze>>>3)]>>>7-(7&ze)&1))==255*j?0:255;d[We+ze]=Ge<<24|Oe<<16|Oe<<8|Oe}else if(b==2)for(ze=0;ze<e;ze++)Ge=(Oe=85*(n[De+(ze>>>2)]>>>6-((3&ze)<<1)&3))==85*j?0:255,d[We+ze]=Ge<<24|Oe<<16|Oe<<8|Oe;else if(b==4)for(ze=0;ze<e;ze++)Ge=(Oe=17*(n[De+(ze>>>1)]>>>4-((1&ze)<<2)&15))==17*j?0:255,d[We+ze]=Ge<<24|Oe<<16|Oe<<8|Oe;else if(b==8)for(ze=0;ze<e;ze++)Ge=(Oe=n[De+ze])==j?0:255,d[We+ze]=Ge<<24|Oe<<16|Oe<<8|Oe;else if(b==16)for(ze=0;ze<e;ze++)Oe=n[De+(ze<<1)],Ge=m(n,De+(ze<<x))==j?0:255,d[We+ze]=Ge<<24|Oe<<16|Oe<<8|Oe}return c},UPNG.decode=function(n){for(var e,r=new Uint8Array(n),s=8,a=UPNG._bin,l=a.readUshort,f=a.readUint,c={tabs:{},frames:[]},d=new Uint8Array(r.length),g=0,b=0,m=[137,80,78,71,13,10,26,10],_=0;_<8;_++)if(r[_]!=m[_])throw"The input is not a PNG file!";for(;s<r.length;){var x=a.readUint(r,s);s+=4;var k=a.readASCII(r,s,4);if(s+=4,k=="IHDR")UPNG.decode._IHDR(r,s,c);else if(k=="CgBI")c.tabs[k]=r.slice(s,s+4);else if(k=="IDAT"){for(_=0;_<x;_++)d[g+_]=r[s+_];g+=x}else if(k=="acTL")c.tabs[k]={num_frames:f(r,s),num_plays:f(r,s+4)},e=new Uint8Array(r.length);else if(k=="fcTL"){var q;b!=0&&((q=c.frames[c.frames.length-1]).data=UPNG.decode._decompress(c,e.slice(0,b),q.rect.width,q.rect.height),b=0);var j={x:f(r,s+12),y:f(r,s+16),width:f(r,s+4),height:f(r,s+8)},ne=l(r,s+22);ne=l(r,s+20)/(ne==0?100:ne);var se={rect:j,delay:Math.round(1e3*ne),dispose:r[s+24],blend:r[s+25]};c.frames.push(se)}else if(k=="fdAT"){for(_=0;_<x-4;_++)e[b+_]=r[s+_+4];b+=x-4}else if(k=="pHYs")c.tabs[k]=[a.readUint(r,s),a.readUint(r,s+4),r[s+8]];else if(k=="cHRM")for(c.tabs[k]=[],_=0;_<8;_++)c.tabs[k].push(a.readUint(r,s+4*_));else if(k=="tEXt"||k=="zTXt"){c.tabs[k]==null&&(c.tabs[k]={});var le=a.nextZero(r,s),ue=a.readASCII(r,s,le-s),he=s+x-le-1;if(k=="tEXt")_e=a.readASCII(r,le+1,he);else{var ge=UPNG.decode._inflate(r.slice(le+2,le+2+he));_e=a.readUTF8(ge,0,ge.length)}c.tabs[k][ue]=_e}else if(k=="iTXt"){c.tabs[k]==null&&(c.tabs[k]={}),le=0;var ve=s;le=a.nextZero(r,ve),ue=a.readASCII(r,ve,le-ve);var _e,ye=r[ve=le+1];r[ve+1],ve+=2,le=a.nextZero(r,ve),a.readASCII(r,ve,le-ve),ve=le+1,le=a.nextZero(r,ve),a.readUTF8(r,ve,le-ve),he=x-((ve=le+1)-s),ye==0?_e=a.readUTF8(r,ve,he):(ge=UPNG.decode._inflate(r.slice(ve,ve+he)),_e=a.readUTF8(ge,0,ge.length)),c.tabs[k][ue]=_e}else if(k=="PLTE")c.tabs[k]=a.readBytes(r,s,x);else if(k=="hIST"){var be=c.tabs.PLTE.length/3;for(c.tabs[k]=[],_=0;_<be;_++)c.tabs[k].push(l(r,s+2*_))}else if(k=="tRNS")c.ctype==3?c.tabs[k]=a.readBytes(r,s,x):c.ctype==0?c.tabs[k]=l(r,s):c.ctype==2&&(c.tabs[k]=[l(r,s),l(r,s+2),l(r,s+4)]);else if(k=="gAMA")c.tabs[k]=a.readUint(r,s)/1e5;else if(k=="sRGB")c.tabs[k]=r[s];else if(k=="bKGD")c.ctype==0||c.ctype==4?c.tabs[k]=[l(r,s)]:c.ctype==2||c.ctype==6?c.tabs[k]=[l(r,s),l(r,s+2),l(r,s+4)]:c.ctype==3&&(c.tabs[k]=r[s]);else if(k=="IEND")break;s+=x,a.readUint(r,s),s+=4}return b!=0&&((q=c.frames[c.frames.length-1]).data=UPNG.decode._decompress(c,e.slice(0,b),q.rect.width,q.rect.height),b=0),c.data=UPNG.decode._decompress(c,d,c.width,c.height),delete c.compress,delete c.interlace,delete c.filter,c},UPNG.decode._decompress=function(n,e,r,s){var a=UPNG.decode._getBPP(n),l=Math.ceil(r*a/8),f=new Uint8Array((l+1+n.interlace)*s);return e=n.tabs.CgBI?UPNG.inflateRaw(e,f):UPNG.decode._inflate(e,f),n.interlace==0?e=UPNG.decode._filterZero(e,n,0,r,s):n.interlace==1&&(e=UPNG.decode._readInterlace(e,n)),e},UPNG.decode._inflate=function(n,e){return UPNG.inflateRaw(new Uint8Array(n.buffer,2,n.length-6),e)},UPNG.inflateRaw=(H={},H.H={},H.H.N=function(n,e){var r,s,a=Uint8Array,l=0,f=0,c=0,d=0,g=0,b=0,m=0,_=0,x=0;if(n[0]==3&&n[1]==0)return e||new a(0);var k=H.H,q=k.b,j=k.e,ne=k.R,se=k.n,le=k.A,ue=k.Z,he=k.m,ge=e==null;for(ge&&(e=new a(n.length>>>2<<5));l==0;)if(l=q(n,x,1),f=q(n,x+1,2),x+=3,f!=0){if(ge&&(e=H.H.W(e,_+(1<<17))),f==1&&(r=he.J,s=he.h,b=511,m=31),f==2){c=j(n,x,5)+257,d=j(n,x+5,5)+1,g=j(n,x+10,4)+4,x+=14;for(var ve=1,_e=0;_e<38;_e+=2)he.Q[_e]=0,he.Q[_e+1]=0;for(_e=0;_e<g;_e++){var ye=j(n,x+3*_e,3);he.Q[1+(he.X[_e]<<1)]=ye,ye>ve&&(ve=ye)}x+=3*g,se(he.Q,ve),le(he.Q,ve,he.u),r=he.w,s=he.d,x=ne(he.u,(1<<ve)-1,c+d,n,x,he.v);var be=k.V(he.v,0,c,he.C);b=(1<<be)-1;var He=k.V(he.v,c,d,he.D);m=(1<<He)-1,se(he.C,be),le(he.C,be,r),se(he.D,He),le(he.D,He,s)}for(;;){var Oe=r[ue(n,x)&b];x+=15&Oe;var Fe=Oe>>>4;if(!(Fe>>>8))e[_++]=Fe;else{if(Fe==256)break;var De=_+Fe-254;if(Fe>264){var We=he.q[Fe-257];De=_+(We>>>3)+j(n,x,7&We),x+=7&We}var ze=s[ue(n,x)&m];x+=15&ze;var Ge=ze>>>4,Je=he.c[Ge],Ue=(Je>>>4)+q(n,x,15&Je);for(x+=15&Je;_<De;)e[_]=e[_++-Ue],e[_]=e[_++-Ue],e[_]=e[_++-Ue],e[_]=e[_++-Ue];_=De}}}else{7&x&&(x+=8-(7&x));var pe=4+(x>>>3),ae=n[pe-4]|n[pe-3]<<8;ge&&(e=H.H.W(e,_+ae)),e.set(new a(n.buffer,n.byteOffset+pe,ae),_),x=pe+ae<<3,_+=ae}return e.length==_?e:e.slice(0,_)},H.H.W=function(n,e){var r=n.length;if(e<=r)return n;var s=new Uint8Array(r<<1);return s.set(n,0),s},H.H.R=function(n,e,r,s,a,l){for(var f=H.H.e,c=H.H.Z,d=0;d<r;){var g=n[c(s,a)&e];a+=15&g;var b=g>>>4;if(b<=15)l[d]=b,d++;else{var m=0,_=0;b==16?(_=3+f(s,a,2),a+=2,m=l[d-1]):b==17?(_=3+f(s,a,3),a+=3):b==18&&(_=11+f(s,a,7),a+=7);for(var x=d+_;d<x;)l[d]=m,d++}}return a},H.H.V=function(n,e,r,s){for(var a=0,l=0,f=s.length>>>1;l<r;){var c=n[l+e];s[l<<1]=0,s[1+(l<<1)]=c,c>a&&(a=c),l++}for(;l<f;)s[l<<1]=0,s[1+(l<<1)]=0,l++;return a},H.H.n=function(n,e){for(var r,s,a,l,f=H.H.m,c=n.length,d=f.j,g=0;g<=e;g++)d[g]=0;for(g=1;g<c;g+=2)d[n[g]]++;var b=f.K;for(r=0,d[0]=0,s=1;s<=e;s++)r=r+d[s-1]<<1,b[s]=r;for(a=0;a<c;a+=2)(l=n[a+1])!=0&&(n[a]=b[l],b[l]++)},H.H.A=function(n,e,r){for(var s=n.length,a=H.H.m.r,l=0;l<s;l+=2)if(n[l+1]!=0)for(var f=l>>1,c=n[l+1],d=f<<4|c,g=e-c,b=n[l]<<g,m=b+(1<<g);b!=m;)r[a[b]>>>15-e]=d,b++},H.H.l=function(n,e){for(var r=H.H.m.r,s=15-e,a=0;a<n.length;a+=2){var l=n[a]<<e-n[a+1];n[a]=r[l]>>>s}},H.H.M=function(n,e,r){r<<=7&e;var s=e>>>3;n[s]|=r,n[s+1]|=r>>>8},H.H.I=function(n,e,r){r<<=7&e;var s=e>>>3;n[s]|=r,n[s+1]|=r>>>8,n[s+2]|=r>>>16},H.H.e=function(n,e,r){return(n[e>>>3]|n[1+(e>>>3)]<<8)>>>(7&e)&(1<<r)-1},H.H.b=function(n,e,r){return(n[e>>>3]|n[1+(e>>>3)]<<8|n[2+(e>>>3)]<<16)>>>(7&e)&(1<<r)-1},H.H.Z=function(n,e){return(n[e>>>3]|n[1+(e>>>3)]<<8|n[2+(e>>>3)]<<16)>>>(7&e)},H.H.i=function(n,e){return(n[e>>>3]|n[1+(e>>>3)]<<8|n[2+(e>>>3)]<<16|n[3+(e>>>3)]<<24)>>>(7&e)},H.H.m=(N=Uint16Array,W=Uint32Array,{K:new N(16),j:new N(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new N(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new W(32),J:new N(512),_:[],h:new N(32),$:[],w:new N(32768),C:[],v:[],d:new N(32768),D:[],u:new N(512),Q:[],r:new N(32768),s:new W(286),Y:new W(30),a:new W(19),t:new W(15e3),k:new N(65536),g:new N(32768)}),function(){for(var n=H.H.m,e=0;e<32768;e++){var r=e;r=(4278255360&(r=(4042322160&(r=(3435973836&(r=(2863311530&r)>>>1|(1431655765&r)<<1))>>>2|(858993459&r)<<2))>>>4|(252645135&r)<<4))>>>8|(16711935&r)<<8,n.r[e]=(r>>>16|r<<16)>>>17}function s(a,l,f){for(;l--!=0;)a.push(0,f)}for(e=0;e<32;e++)n.q[e]=n.S[e]<<3|n.T[e],n.c[e]=n.p[e]<<4|n.z[e];s(n._,144,8),s(n._,112,9),s(n._,24,7),s(n._,8,8),H.H.n(n._,9),H.H.A(n._,9,n.J),H.H.l(n._,9),s(n.$,32,5),H.H.n(n.$,5),H.H.A(n.$,5,n.h),H.H.l(n.$,5),s(n.Q,19,0),s(n.C,286,0),s(n.D,30,0),s(n.v,320,0)}(),H.H.N),UPNG.decode._readInterlace=function(n,e){for(var r=e.width,s=e.height,a=UPNG.decode._getBPP(e),l=a>>3,f=Math.ceil(r*a/8),c=new Uint8Array(s*f),d=0,g=[0,0,4,0,2,0,1],b=[0,4,0,2,0,1,0],m=[8,8,8,4,4,2,2],_=[8,8,4,4,2,2,1],x=0;x<7;){for(var k=m[x],q=_[x],j=0,ne=0,se=g[x];se<s;)se+=k,ne++;for(var le=b[x];le<r;)le+=q,j++;var ue=Math.ceil(j*a/8);UPNG.decode._filterZero(n,e,d,j,ne);for(var he=0,ge=g[x];ge<s;){for(var ve=b[x],_e=d+he*ue<<3;ve<r;){var ye;if(a==1&&(ye=(ye=n[_e>>3])>>7-(7&_e)&1,c[ge*f+(ve>>3)]|=ye<<7-((7&ve)<<0)),a==2&&(ye=(ye=n[_e>>3])>>6-(7&_e)&3,c[ge*f+(ve>>2)]|=ye<<6-((3&ve)<<1)),a==4&&(ye=(ye=n[_e>>3])>>4-(7&_e)&15,c[ge*f+(ve>>1)]|=ye<<4-((1&ve)<<2)),a>=8)for(var be=ge*f+ve*l,He=0;He<l;He++)c[be+He]=n[(_e>>3)+He];_e+=a,ve+=q}he++,ge+=k}j*ne!=0&&(d+=ne*(1+ue)),x+=1}return c},UPNG.decode._getBPP=function(n){return[1,null,3,1,2,null,4][n.ctype]*n.depth},UPNG.decode._filterZero=function(n,e,r,s,a){var l=UPNG.decode._getBPP(e),f=Math.ceil(s*l/8),c=UPNG.decode._paeth;l=Math.ceil(l/8);var d=0,g=1,b=n[r],m=0;if(b>1&&(n[r]=[0,0,1][b-2]),b==3)for(m=l;m<f;m++)n[m+1]=n[m+1]+(n[m+1-l]>>>1)&255;for(var _=0;_<a;_++)if(m=0,(b=n[(g=(d=r+_*f)+_+1)-1])==0)for(;m<f;m++)n[d+m]=n[g+m];else if(b==1){for(;m<l;m++)n[d+m]=n[g+m];for(;m<f;m++)n[d+m]=n[g+m]+n[d+m-l]}else if(b==2)for(;m<f;m++)n[d+m]=n[g+m]+n[d+m-f];else if(b==3){for(;m<l;m++)n[d+m]=n[g+m]+(n[d+m-f]>>>1);for(;m<f;m++)n[d+m]=n[g+m]+(n[d+m-f]+n[d+m-l]>>>1)}else{for(;m<l;m++)n[d+m]=n[g+m]+c(0,n[d+m-f],0);for(;m<f;m++)n[d+m]=n[g+m]+c(n[d+m-l],n[d+m-f],n[d+m-l-f])}return n},UPNG.decode._paeth=function(n,e,r){var s=n+e-r,a=s-n,l=s-e,f=s-r;return a*a<=l*l&&a*a<=f*f?n:l*l<=f*f?e:r},UPNG.decode._IHDR=function(n,e,r){var s=UPNG._bin;r.width=s.readUint(n,e),e+=4,r.height=s.readUint(n,e),e+=4,r.depth=n[e],e++,r.ctype=n[e],e++,r.compress=n[e],e++,r.filter=n[e],e++,r.interlace=n[e],e++},UPNG._bin={nextZero:function(e,r){for(;e[r]!=0;)r++;return r},readUshort:function(e,r){return e[r]<<8|e[r+1]},writeUshort:function(e,r,s){e[r]=s>>8&255,e[r+1]=255&s},readUint:function(e,r){return 16777216*e[r]+(e[r+1]<<16|e[r+2]<<8|e[r+3])},writeUint:function(e,r,s){e[r]=s>>24&255,e[r+1]=s>>16&255,e[r+2]=s>>8&255,e[r+3]=255&s},readASCII:function(e,r,s){for(var a="",l=0;l<s;l++)a+=String.fromCharCode(e[r+l]);return a},writeASCII:function(e,r,s){for(var a=0;a<s.length;a++)e[r+a]=s.charCodeAt(a)},readBytes:function(e,r,s){for(var a=[],l=0;l<s;l++)a.push(e[r+l]);return a},pad:function(e){return e.length<2?"0".concat(e):e},readUTF8:function(e,r,s){for(var a,l="",f=0;f<s;f++)l+="%".concat(UPNG._bin.pad(e[r+f].toString(16)));try{a=decodeURIComponent(l)}catch{return UPNG._bin.readASCII(e,r,s)}return a}},UPNG._copyTile=function(n,e,r,s,a,l,f,c,d){for(var g=Math.min(e,a),b=Math.min(r,l),m=0,_=0,x=0;x<b;x++)for(var k=0;k<g;k++)if(f>=0&&c>=0?(m=x*e+k<<2,_=(c+x)*a+f+k<<2):(m=(-c+x)*e-f+k<<2,_=x*a+k<<2),d==0)s[_]=n[m],s[_+1]=n[m+1],s[_+2]=n[m+2],s[_+3]=n[m+3];else if(d==1){var q=n[m+3]*.00392156862745098,j=n[m]*q,ne=n[m+1]*q,se=n[m+2]*q,le=s[_+3]*(1/255),ue=s[_]*le,he=s[_+1]*le,ge=s[_+2]*le,ve=1-q,_e=q+le*ve,ye=_e==0?0:1/_e;s[_+3]=255*_e,s[_+0]=(j+ue*ve)*ye,s[_+1]=(ne+he*ve)*ye,s[_+2]=(se+ge*ve)*ye}else if(d==2)q=n[m+3],j=n[m],ne=n[m+1],se=n[m+2],le=s[_+3],ue=s[_],he=s[_+1],ge=s[_+2],q==le&&j==ue&&ne==he&&se==ge?(s[_]=0,s[_+1]=0,s[_+2]=0,s[_+3]=0):(s[_]=j,s[_+1]=ne,s[_+2]=se,s[_+3]=q);else if(d==3){if(q=n[m+3],j=n[m],ne=n[m+1],se=n[m+2],le=s[_+3],ue=s[_],he=s[_+1],ge=s[_+2],q==le&&j==ue&&ne==he&&se==ge)continue;if(q<220&&le>20)return!1}return!0},UPNG.encode=function(n,e,r,s,a,l,f){s==null&&(s=0),f==null&&(f=!1);var c=UPNG.encode.compress(n,e,r,s,[!1,!1,!1,0,f]);return UPNG.encode.compressPNG(c,-1),UPNG.encode._main(c,e,r,a,l)},UPNG.encodeLL=function(n,e,r,s,a,l,f,c){for(var d={ctype:0+(s==1?0:2)+(a==0?0:4),depth:l,frames:[]},g=(s+a)*l,b=g*e,m=0;m<n.length;m++)d.frames.push({rect:{x:0,y:0,width:e,height:r},img:new Uint8Array(n[m]),blend:0,dispose:1,bpp:Math.ceil(g/8),bpl:Math.ceil(b/8)});return UPNG.encode.compressPNG(d,0,!0),UPNG.encode._main(d,e,r,f,c)},UPNG.encode._main=function(n,e,r,s,a){a==null&&(a={});var l=UPNG.crc.crc,f=UPNG._bin.writeUint,c=UPNG._bin.writeUshort,d=UPNG._bin.writeASCII,g=8,b=n.frames.length>1,m=!1,_=33+(b?20:0);if(a.sRGB!=null&&(_+=13),a.pHYs!=null&&(_+=21),n.ctype==3){for(var x=n.plte.length,k=0;k<x;k++)n.plte[k]>>>24!=255&&(m=!0);_+=8+3*x+4+(m?8+1*x+4:0)}for(var q=0;q<n.frames.length;q++)b&&(_+=38),_+=(_e=n.frames[q]).cimg.length+12,q!=0&&(_+=4);_+=12;var j=new Uint8Array(_),ne=[137,80,78,71,13,10,26,10];for(k=0;k<8;k++)j[k]=ne[k];if(f(j,g,13),d(j,g+=4,"IHDR"),f(j,g+=4,e),f(j,g+=4,r),j[g+=4]=n.depth,j[++g]=n.ctype,j[++g]=0,j[++g]=0,j[++g]=0,f(j,++g,l(j,g-17,17)),g+=4,a.sRGB!=null&&(f(j,g,1),d(j,g+=4,"sRGB"),j[g+=4]=a.sRGB,f(j,++g,l(j,g-5,5)),g+=4),a.pHYs!=null&&(f(j,g,9),d(j,g+=4,"pHYs"),f(j,g+=4,a.pHYs[0]),f(j,g+=4,a.pHYs[1]),j[g+=4]=a.pHYs[2],f(j,++g,l(j,g-13,13)),g+=4),b&&(f(j,g,8),d(j,g+=4,"acTL"),f(j,g+=4,n.frames.length),f(j,g+=4,a.loop!=null?a.loop:0),f(j,g+=4,l(j,g-12,12)),g+=4),n.ctype==3){for(f(j,g,3*(x=n.plte.length)),d(j,g+=4,"PLTE"),g+=4,k=0;k<x;k++){var se=3*k,le=n.plte[k],ue=255&le,he=le>>>8&255,ge=le>>>16&255;j[g+se+0]=ue,j[g+se+1]=he,j[g+se+2]=ge}if(f(j,g+=3*x,l(j,g-3*x-4,3*x+4)),g+=4,m){for(f(j,g,x),d(j,g+=4,"tRNS"),g+=4,k=0;k<x;k++)j[g+k]=n.plte[k]>>>24&255;f(j,g+=x,l(j,g-x-4,x+4)),g+=4}}var ve=0;for(q=0;q<n.frames.length;q++){var _e=n.frames[q];b&&(f(j,g,26),d(j,g+=4,"fcTL"),f(j,g+=4,ve++),f(j,g+=4,_e.rect.width),f(j,g+=4,_e.rect.height),f(j,g+=4,_e.rect.x),f(j,g+=4,_e.rect.y),c(j,g+=4,s[q]),c(j,g+=2,1e3),j[g+=2]=_e.dispose,j[++g]=_e.blend,f(j,++g,l(j,g-30,30)),g+=4);var ye=_e.cimg;f(j,g,(x=ye.length)+(q==0?0:4));var be=g+=4;d(j,g,q==0?"IDAT":"fdAT"),g+=4,q!=0&&(f(j,g,ve++),g+=4),j.set(ye,g),f(j,g+=x,l(j,be,g-be)),g+=4}return f(j,g,0),d(j,g+=4,"IEND"),f(j,g+=4,l(j,g-4,4)),g+=4,j.buffer},UPNG.encode.compressPNG=function(n,e,r){for(var s=0;s<n.frames.length;s++){var a=n.frames[s];a.rect.width;var l=a.rect.height,f=new Uint8Array(l*a.bpl+l);a.cimg=UPNG.encode._filterZero(a.img,l,a.bpp,a.bpl,f,e,r)}},UPNG.encode.compress=function(n,e,r,s,a){for(var l=a[0],f=a[1],c=a[2],d=a[3],g=a[4],b=6,m=8,_=255,x=0;x<n.length;x++)for(var k=new Uint8Array(n[x]),q=k.length,j=0;j<q;j+=4)_&=k[j+3];var ne=_!=255,se=UPNG.encode.framize(n,e,r,l,f,c),le={},ue=[],he=[];if(s!=0){var ge=[];for(j=0;j<se.length;j++)ge.push(se[j].img.buffer);var ve=UPNG.encode.concatRGBA(ge),_e=UPNG.quantize(ve,s),ye=0,be=new Uint8Array(_e.abuf);for(j=0;j<se.length;j++){var He=(et=se[j].img).length;for(he.push(new Uint8Array(_e.inds.buffer,ye>>2,He>>2)),x=0;x<He;x+=4)et[x]=be[ye+x],et[x+1]=be[ye+x+1],et[x+2]=be[ye+x+2],et[x+3]=be[ye+x+3];ye+=He}for(j=0;j<_e.plte.length;j++)ue.push(_e.plte[j].est.rgba)}else for(x=0;x<se.length;x++){var Oe=se[x],Fe=new Uint32Array(Oe.img.buffer),De=Oe.rect.width,We=(q=Fe.length,new Uint8Array(q));for(he.push(We),j=0;j<q;j++){var ze=Fe[j];if(j!=0&&ze==Fe[j-1])We[j]=We[j-1];else if(j>De&&ze==Fe[j-De])We[j]=We[j-De];else{var Ge=le[ze];if(Ge==null&&(le[ze]=Ge=ue.length,ue.push(ze),ue.length>=300))break;We[j]=Ge}}}var Je=ue.length;for(Je<=256&&g==0&&(m=Je<=2?1:Je<=4?2:Je<=16?4:8,m=Math.max(m,d)),x=0;x<se.length;x++){(Oe=se[x]).rect.x,Oe.rect.y,De=Oe.rect.width;var Ue=Oe.rect.height,pe=Oe.img;new Uint32Array(pe.buffer);var ae=4*De,Se=4;if(Je<=256&&g==0){ae=Math.ceil(m*De/8);for(var Pe=new Uint8Array(ae*Ue),qe=he[x],xe=0;xe<Ue;xe++){j=xe*ae;var Xe=xe*De;if(m==8)for(var $e=0;$e<De;$e++)Pe[j+$e]=qe[Xe+$e];else if(m==4)for($e=0;$e<De;$e++)Pe[j+($e>>1)]|=qe[Xe+$e]<<4-4*(1&$e);else if(m==2)for($e=0;$e<De;$e++)Pe[j+($e>>2)]|=qe[Xe+$e]<<6-2*(3&$e);else if(m==1)for($e=0;$e<De;$e++)Pe[j+($e>>3)]|=qe[Xe+$e]<<7-1*(7&$e)}pe=Pe,b=3,Se=1}else if(ne==0&&se.length==1){Pe=new Uint8Array(De*Ue*3);var Ze=De*Ue;for(j=0;j<Ze;j++){var et,nt=4*j;Pe[et=3*j]=pe[nt],Pe[et+1]=pe[nt+1],Pe[et+2]=pe[nt+2]}pe=Pe,b=2,Se=3,ae=3*De}Oe.img=pe,Oe.bpl=ae,Oe.bpp=Se}return{ctype:b,depth:m,plte:ue,frames:se}},UPNG.encode.framize=function(n,e,r,s,a,l){for(var f=[],c=0;c<n.length;c++){var d,g=new Uint8Array(n[c]),b=new Uint32Array(g.buffer),m=0,_=0,x=e,k=r,q=s?1:0;if(c!=0){for(var j=l||s||c==1||f[c-2].dispose!=0?1:2,ne=0,se=1e9,le=0;le<j;le++){for(var ue=new Uint8Array(n[c-1-le]),he=new Uint32Array(n[c-1-le]),ge=e,ve=r,_e=-1,ye=-1,be=0;be<r;be++)for(var He=0;He<e;He++)b[Je=be*e+He]!=he[Je]&&(He<ge&&(ge=He),He>_e&&(_e=He),be<ve&&(ve=be),be>ye&&(ye=be));_e==-1&&(ge=ve=_e=ye=0),a&&((1&ge)==1&&ge--,(1&ve)==1&&ve--);var Oe=(_e-ge+1)*(ye-ve+1);Oe<se&&(se=Oe,ne=le,m=ge,_=ve,x=_e-ge+1,k=ye-ve+1)}ue=new Uint8Array(n[c-1-ne]),ne==1&&(f[c-1].dispose=2),d=new Uint8Array(x*k*4),UPNG._copyTile(ue,e,r,d,x,k,-m,-_,0),(q=UPNG._copyTile(g,e,r,d,x,k,-m,-_,3)?1:0)==1?UPNG.encode._prepareDiff(g,e,r,d,{x:m,y:_,width:x,height:k}):UPNG._copyTile(g,e,r,d,x,k,-m,-_,0)}else d=g.slice(0);f.push({rect:{x:m,y:_,width:x,height:k},img:d,blend:q,dispose:0})}if(s){for(c=0;c<f.length;c++)if((Ue=f[c]).blend!=1){var Fe=Ue.rect,De=f[c-1].rect,We=Math.min(Fe.x,De.x),ze=Math.min(Fe.y,De.y),Ge={x:We,y:ze,width:Math.max(Fe.x+Fe.width,De.x+De.width)-We,height:Math.max(Fe.y+Fe.height,De.y+De.height)-ze};f[c-1].dispose=1,c-1!=0&&UPNG.encode._updateFrame(n,e,r,f,c-1,Ge,a),UPNG.encode._updateFrame(n,e,r,f,c,Ge,a)}}if(n.length!=1)for(var Je=0;Je<f.length;Je++){var Ue;(Ue=f[Je]).rect.width*Ue.rect.height}return f},UPNG.encode._updateFrame=function(n,e,r,s,a,l,f){for(var c=Uint8Array,d=Uint32Array,g=new c(n[a-1]),b=new d(n[a-1]),m=a+1<n.length?new c(n[a+1]):null,_=new c(n[a]),x=new d(_.buffer),k=e,q=r,j=-1,ne=-1,se=0;se<l.height;se++)for(var le=0;le<l.width;le++){var ue=l.x+le,he=l.y+se,ge=he*e+ue,ve=x[ge];ve==0||s[a-1].dispose==0&&b[ge]==ve&&(m==null||m[4*ge+3]!=0)||(ue<k&&(k=ue),ue>j&&(j=ue),he<q&&(q=he),he>ne&&(ne=he))}j==-1&&(k=q=j=ne=0),f&&((1&k)==1&&k--,(1&q)==1&&q--),l={x:k,y:q,width:j-k+1,height:ne-q+1};var _e=s[a];_e.rect=l,_e.blend=1,_e.img=new Uint8Array(l.width*l.height*4),s[a-1].dispose==0?(UPNG._copyTile(g,e,r,_e.img,l.width,l.height,-l.x,-l.y,0),UPNG.encode._prepareDiff(_,e,r,_e.img,l)):UPNG._copyTile(_,e,r,_e.img,l.width,l.height,-l.x,-l.y,0)},UPNG.encode._prepareDiff=function(n,e,r,s,a){UPNG._copyTile(n,e,r,s,a.width,a.height,-a.x,-a.y,2)},UPNG.encode._filterZero=function(n,e,r,s,a,l,f){var c,d=[],g=[0,1,2,3,4];l!=-1?g=[l]:(e*s>5e5||r==1)&&(g=[0]),f&&(c={level:0});for(var b,m=UZIP,_=0;_<g.length;_++){for(var x=0;x<e;x++)UPNG.encode._filterLine(a,n,x,s,r,g[_]);d.push(m.deflate(a,c))}var k=1e9;for(_=0;_<d.length;_++)d[_].length<k&&(b=_,k=d[_].length);return d[b]},UPNG.encode._filterLine=function(n,e,r,s,a,l){var f=r*s,c=f+r,d=UPNG.decode._paeth;if(n[c]=l,c++,l==0)if(s<500)for(var g=0;g<s;g++)n[c+g]=e[f+g];else n.set(new Uint8Array(e.buffer,f,s),c);else if(l==1){for(g=0;g<a;g++)n[c+g]=e[f+g];for(g=a;g<s;g++)n[c+g]=e[f+g]-e[f+g-a]+256&255}else if(r==0){for(g=0;g<a;g++)n[c+g]=e[f+g];if(l==2)for(g=a;g<s;g++)n[c+g]=e[f+g];if(l==3)for(g=a;g<s;g++)n[c+g]=e[f+g]-(e[f+g-a]>>1)+256&255;if(l==4)for(g=a;g<s;g++)n[c+g]=e[f+g]-d(e[f+g-a],0,0)+256&255}else{if(l==2)for(g=0;g<s;g++)n[c+g]=e[f+g]+256-e[f+g-s]&255;if(l==3){for(g=0;g<a;g++)n[c+g]=e[f+g]+256-(e[f+g-s]>>1)&255;for(g=a;g<s;g++)n[c+g]=e[f+g]+256-(e[f+g-s]+e[f+g-a]>>1)&255}if(l==4){for(g=0;g<a;g++)n[c+g]=e[f+g]+256-d(0,e[f+g-s],0)&255;for(g=a;g<s;g++)n[c+g]=e[f+g]+256-d(e[f+g-a],e[f+g-s],e[f+g-a-s])&255}}},UPNG.crc={table:function(){for(var n=new Uint32Array(256),e=0;e<256;e++){for(var r=e,s=0;s<8;s++)1&r?r=3988292384^r>>>1:r>>>=1;n[e]=r}return n}(),update:function(e,r,s,a){for(var l=0;l<a;l++)e=UPNG.crc.table[255&(e^r[s+l])]^e>>>8;return e},crc:function(e,r,s){return 4294967295^UPNG.crc.update(4294967295,e,r,s)}},UPNG.quantize=function(n,e){var r,s=new Uint8Array(n),a=s.slice(0),l=new Uint32Array(a.buffer),f=UPNG.quantize.getKDtree(a,e),c=f[0],d=f[1],g=UPNG.quantize.planeDst,b=s,m=l,_=b.length,x=new Uint8Array(s.length>>2);if(s.length<2e7)for(var k=0;k<_;k+=4){var q=b[k]*.00392156862745098,j=b[k+1]*(1/255),ne=b[k+2]*(1/255),se=b[k+3]*(1/255);r=UPNG.quantize.getNearest(c,q,j,ne,se),x[k>>2]=r.ind,m[k>>2]=r.est.rgba}else for(k=0;k<_;k+=4){for(q=b[k]*(1/255),j=b[k+1]*(1/255),ne=b[k+2]*(1/255),se=b[k+3]*(1/255),r=c;r.left;)r=g(r.est,q,j,ne,se)<=0?r.left:r.right;x[k>>2]=r.ind,m[k>>2]=r.est.rgba}return{abuf:a.buffer,inds:x,plte:d}},UPNG.quantize.getKDtree=function(n,e,r){r==null&&(r=1e-4);var s=new Uint32Array(n.buffer),a={i0:0,i1:n.length,bst:null,est:null,tdst:0,left:null,right:null};a.bst=UPNG.quantize.stats(n,a.i0,a.i1),a.est=UPNG.quantize.estats(a.bst);for(var l=[a];l.length<e;){for(var f=0,c=0,d=0;d<l.length;d++)l[d].est.L>f&&(f=l[d].est.L,c=d);if(f<r)break;var g=l[c],b=UPNG.quantize.splitPixels(n,s,g.i0,g.i1,g.est.e,g.est.eMq255);if(g.i0>=b||g.i1<=b)g.est.L=0;else{var m={i0:g.i0,i1:b,bst:null,est:null,tdst:0,left:null,right:null};m.bst=UPNG.quantize.stats(n,m.i0,m.i1),m.est=UPNG.quantize.estats(m.bst);var _={i0:b,i1:g.i1,bst:null,est:null,tdst:0,left:null,right:null};for(_.bst={R:[],m:[],N:g.bst.N-m.bst.N},d=0;d<16;d++)_.bst.R[d]=g.bst.R[d]-m.bst.R[d];for(d=0;d<4;d++)_.bst.m[d]=g.bst.m[d]-m.bst.m[d];_.est=UPNG.quantize.estats(_.bst),g.left=m,g.right=_,l[c]=m,l.push(_)}}for(l.sort(function(x,k){return k.bst.N-x.bst.N}),d=0;d<l.length;d++)l[d].ind=d;return[a,l]},UPNG.quantize.getNearest=function(n,e,r,s,a){if(n.left==null)return n.tdst=UPNG.quantize.dist(n.est.q,e,r,s,a),n;var l=UPNG.quantize.planeDst(n.est,e,r,s,a),f=n.left,c=n.right;l>0&&(f=n.right,c=n.left);var d=UPNG.quantize.getNearest(f,e,r,s,a);if(d.tdst<=l*l)return d;var g=UPNG.quantize.getNearest(c,e,r,s,a);return g.tdst<d.tdst?g:d},UPNG.quantize.planeDst=function(n,e,r,s,a){var l=n.e;return l[0]*e+l[1]*r+l[2]*s+l[3]*a-n.eMq},UPNG.quantize.dist=function(n,e,r,s,a){var l=e-n[0],f=r-n[1],c=s-n[2],d=a-n[3];return l*l+f*f+c*c+d*d},UPNG.quantize.splitPixels=function(n,e,r,s,a,l){var f=UPNG.quantize.vecDot;for(s-=4;r<s;){for(;f(n,r,a)<=l;)r+=4;for(;f(n,s,a)>l;)s-=4;if(r>=s)break;var c=e[r>>2];e[r>>2]=e[s>>2],e[s>>2]=c,r+=4,s-=4}for(;f(n,r,a)>l;)r-=4;return r+4},UPNG.quantize.vecDot=function(n,e,r){return n[e]*r[0]+n[e+1]*r[1]+n[e+2]*r[2]+n[e+3]*r[3]},UPNG.quantize.stats=function(n,e,r){for(var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=[0,0,0,0],l=r-e>>2,f=e;f<r;f+=4){var c=n[f]*.00392156862745098,d=n[f+1]*(1/255),g=n[f+2]*(1/255),b=n[f+3]*(1/255);a[0]+=c,a[1]+=d,a[2]+=g,a[3]+=b,s[0]+=c*c,s[1]+=c*d,s[2]+=c*g,s[3]+=c*b,s[5]+=d*d,s[6]+=d*g,s[7]+=d*b,s[10]+=g*g,s[11]+=g*b,s[15]+=b*b}return s[4]=s[1],s[8]=s[2],s[9]=s[6],s[12]=s[3],s[13]=s[7],s[14]=s[11],{R:s,m:a,N:l}},UPNG.quantize.estats=function(n){var e=n.R,r=n.m,s=n.N,a=r[0],l=r[1],f=r[2],c=r[3],d=s==0?0:1/s,g=[e[0]-a*a*d,e[1]-a*l*d,e[2]-a*f*d,e[3]-a*c*d,e[4]-l*a*d,e[5]-l*l*d,e[6]-l*f*d,e[7]-l*c*d,e[8]-f*a*d,e[9]-f*l*d,e[10]-f*f*d,e[11]-f*c*d,e[12]-c*a*d,e[13]-c*l*d,e[14]-c*f*d,e[15]-c*c*d],b=g,m=UPNG.M4,_=[Math.random(),Math.random(),Math.random(),Math.random()],x=0,k=0;if(s!=0)for(var q=0;q<16&&(_=m.multVec(b,_),k=Math.sqrt(m.dot(_,_)),_=m.sml(1/k,_),!(q!=0&&Math.abs(k-x)<1e-9));q++)x=k;var j=[a*d,l*d,f*d,c*d];return{Cov:g,q:j,e:_,L:x,eMq255:m.dot(m.sml(255,j),_),eMq:m.dot(_,j),rgba:(Math.round(255*j[3])<<24|Math.round(255*j[2])<<16|Math.round(255*j[1])<<8|Math.round(255*j[0])<<0)>>>0}},UPNG.M4={multVec:function(e,r){return[e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3],e[4]*r[0]+e[5]*r[1]+e[6]*r[2]+e[7]*r[3],e[8]*r[0]+e[9]*r[1]+e[10]*r[2]+e[11]*r[3],e[12]*r[0]+e[13]*r[1]+e[14]*r[2]+e[15]*r[3]]},dot:function(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3]},sml:function(e,r){return[e*r[0],e*r[1],e*r[2],e*r[3]]}},UPNG.encode.concatRGBA=function(n){for(var e=0,r=0;r<n.length;r++)e+=n[r].byteLength;var s=new Uint8Array(e),a=0;for(r=0;r<n.length;r++){for(var l=new Uint8Array(n[r]),f=l.length,c=0;c<f;c+=4){var d=l[c],g=l[c+1],b=l[c+2],m=l[c+3];m==0&&(d=g=b=0),s[a+c]=d,s[a+c+1]=g,s[a+c+2]=b,s[a+c+3]=m}a+=f}return s.buffer};var BROWSER_NAME={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",MOBILE_SAFARI:"MOBILE_SAFARI",ETC:"ETC"},_BROWSER_NAME$CHROME$,MAX_CANVAS_SIZE=(_BROWSER_NAME$CHROME$={},_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.CHROME,16384),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.FIREFOX,11180),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.DESKTOP_SAFARI,16384),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.IE,8192),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.MOBILE_SAFARI,4096),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.ETC,8192),_BROWSER_NAME$CHROME$),isBrowser=typeof window<"u",moduleMapper=isBrowser&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),CustomFile=isBrowser&&(moduleMapper&&moduleMapper.getOriginalSymbol(window,"File")||window.File!==void 0&&File),CustomFileReader=isBrowser&&(moduleMapper&&moduleMapper.getOriginalSymbol(window,"FileReader")||window.FileReader!==void 0&&FileReader);function getFilefromDataUrl(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Date.now();return new Promise(function(s){for(var a=n.split(","),l=a[0].match(/:(.*?);/)[1],f=globalThis.atob(a[1]),c=f.length,d=new Uint8Array(c);c--;)d[c]=f.charCodeAt(c);var g=new Blob([d],{type:l});g.name=e,g.lastModified=r,s(g)})}function getDataUrlFromFile(n){return new Promise(function(e,r){var s=new CustomFileReader;s.onload=function(){return e(s.result)},s.onerror=function(a){return r(a)},s.readAsDataURL(n)})}function loadImage(n){return new Promise(function(e,r){var s=new Image;s.onload=function(){return e(s)},s.onerror=function(a){return r(a)},s.src=n})}function getBrowserName(){if(getBrowserName.cachedResult!==void 0)return getBrowserName.cachedResult;var n=BROWSER_NAME.ETC,e=navigator.userAgent;return/Chrom(e|ium)/i.test(e)?n=BROWSER_NAME.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)&&!/(CriOS|FxiOS|OPiOS|mercury)/i.test(e)?n=BROWSER_NAME.MOBILE_SAFARI:/Safari/i.test(e)?n=BROWSER_NAME.DESKTOP_SAFARI:/Firefox/i.test(e)?n=BROWSER_NAME.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(n=BROWSER_NAME.IE),getBrowserName.cachedResult=n,getBrowserName.cachedResult}function approximateBelowMaximumCanvasSizeOfBrowser(n,e){for(var r=getBrowserName(),s=MAX_CANVAS_SIZE[r],a=n,l=e,f=a*l,c=a>l?l/a:a/l;f>s*s;){var d=(s+a)/2,g=(s+l)/2;d<g?(l=g,a=g*c):(l=d*c,a=d),f=a*l}return{width:a,height:l}}function getNewCanvasAndCtx(n,e){var r,s;try{if((s=(r=new OffscreenCanvas(n,e)).getContext("2d"))===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{s=(r=document.createElement("canvas")).getContext("2d")}return r.width=n,r.height=e,[r,s]}function drawImageInCanvas(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=approximateBelowMaximumCanvasSizeOfBrowser(n.width,n.height),s=r.width,a=r.height,l=getNewCanvasAndCtx(s,a),f=_slicedToArray(l,2),c=f[0],d=f[1];return e&&/jpe?g/.test(e)&&(d.fillStyle="white",d.fillRect(0,0,c.width,c.height)),d.drawImage(n,0,0,c.width,c.height),c}function isIOS(){return isIOS.cachedResult!==void 0||(isIOS.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),isIOS.cachedResult}function drawFileInCanvas(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(r,s){var a,l,f=function(){try{return l=drawImageInCanvas(a,e.fileType||n.type),r([a,l])}catch(g){return s(g)}},c=function(g){try{var b=function(_){try{throw _}catch(x){return s(x)}};try{return getDataUrlFromFile(n).then(function(m){try{return loadImage(m).then(function(_){try{return a=_,function(){try{return f()}catch(k){return s(k)}}()}catch(x){return b(x)}},b)}catch(_){return b(_)}},b)}catch(m){b(m)}}catch(m){return s(m)}};try{if(isIOS()||[BROWSER_NAME.DESKTOP_SAFARI,BROWSER_NAME.MOBILE_SAFARI].includes(getBrowserName()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(n).then(function(d){try{return a=d,f()}catch{return c()}},c)}catch{c()}})}function canvasToFile(n,e,r,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;return new Promise(function(l,f){var c,d,g;if(e==="image/png")return d=n.getContext("2d").getImageData(0,0,n.width,n.height).data,g=UPNG.encode([d],n.width,n.height,256*a),(c=new Blob([g],{type:e})).name=r,c.lastModified=s,b.call(this);{let m=function(){return b.call(this)};return typeof OffscreenCanvas=="function"&&n instanceof OffscreenCanvas?n.convertToBlob({type:e,quality:a}).then(function(_){try{return(c=_).name=r,c.lastModified=s,m.call(this)}catch(x){return f(x)}}.bind(this),f):getFilefromDataUrl(n.toDataURL(e,a),r,s).then(function(_){try{return c=_,m.call(this)}catch(x){return f(x)}}.bind(this),f)}function b(){return l(c)}})}function cleanupCanvasMemory(n){n.width=0,n.height=0}function isAutoOrientationInBrowser(){return new Promise(function(n,e){var r,s,a,l;return isAutoOrientationInBrowser.cachedResult!==void 0?n(isAutoOrientationInBrowser.cachedResult):getFilefromDataUrl("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(f){try{return drawFileInCanvas(r=f).then(function(c){try{return canvasToFile(s=c[1],r.type,r.name,r.lastModified).then(function(d){try{return a=d,cleanupCanvasMemory(s),drawFileInCanvas(a).then(function(g){try{return l=g[0],isAutoOrientationInBrowser.cachedResult=l.width===1&&l.height===2,n(isAutoOrientationInBrowser.cachedResult)}catch(b){return e(b)}},e)}catch(g){return e(g)}},e)}catch(d){return e(d)}},e)}catch(c){return e(c)}},e)})}function getExifOrientation(n){return new Promise(function(e,r){var s=new CustomFileReader;s.onload=function(a){var l=new DataView(a.target.result);if(l.getUint16(0,!1)!=65496)return e(-2);for(var f=l.byteLength,c=2;c<f;){if(l.getUint16(c+2,!1)<=8)return e(-1);var d=l.getUint16(c,!1);if(c+=2,d==65505){if(l.getUint32(c+=2,!1)!=1165519206)return e(-1);var g=l.getUint16(c+=6,!1)==18761;c+=l.getUint32(c+4,g);var b=l.getUint16(c,g);c+=2;for(var m=0;m<b;m++)if(l.getUint16(c+12*m,g)==274)return e(l.getUint16(c+12*m+8,g))}else{if((65280&d)!=65280)break;c+=l.getUint16(c,!1)}}return e(-1)},s.onerror=function(a){return r(a)},s.readAsArrayBuffer(n)})}function handleMaxWidthOrHeight(n,e){var r,s=n.width,a=n.height,l=e.maxWidthOrHeight,f=n;if(isFinite(l)&&(s>l||a>l)){var c=_slicedToArray(getNewCanvasAndCtx(s,a),2);f=c[0],r=c[1],s>a?(f.width=l,f.height=a/s*l):(f.width=s/a*l,f.height=l),r.drawImage(n,0,0,f.width,f.height),cleanupCanvasMemory(n)}return f}function followExifOrientation(n,e){var r=n.width,s=n.height,a=_slicedToArray(getNewCanvasAndCtx(r,s),2),l=a[0],f=a[1];switch(e>4&&e<9?(l.width=s,l.height=r):(l.width=r,l.height=s),e){case 2:f.transform(-1,0,0,1,r,0);break;case 3:f.transform(-1,0,0,-1,r,s);break;case 4:f.transform(1,0,0,-1,0,s);break;case 5:f.transform(0,1,1,0,0,0);break;case 6:f.transform(0,1,-1,0,s,0);break;case 7:f.transform(0,-1,-1,0,s,r);break;case 8:f.transform(0,-1,1,0,0,r)}return f.drawImage(n,0,0,r,s),cleanupCanvasMemory(n),l}function compress(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return new Promise(function(s,a){var l,f,c,d,g,b,m,_,x,k,q,j,ne,se,le,ue,he,ge,ve;function _e(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:5;if(e.signal&&e.signal.aborted)throw e.signal.reason;l+=be,e.onProgress(Math.min(l,100))}function ye(be){if(e.signal&&e.signal.aborted)throw e.signal.reason;l=Math.min(Math.max(be,l),100),e.onProgress(l)}return l=r,f=e.maxIteration||10,c=1024*e.maxSizeMB*1024,_e(),drawFileInCanvas(n,e).then(function(be){try{var He=_slicedToArray(be,2);return d=He[1],_e(),g=handleMaxWidthOrHeight(d,e),_e(),new Promise(function(Oe,Fe){var De;if(!(De=e.exifOrientation))return getExifOrientation(n).then(function(ze){try{return De=ze,We.call(this)}catch(Ge){return Fe(Ge)}}.bind(this),Fe);function We(){return Oe(De)}return We.call(this)}).then(function(Oe){try{return b=Oe,_e(),isAutoOrientationInBrowser().then(function(Fe){try{return m=Fe?g:followExifOrientation(g,b),_e(),_=e.initialQuality||1,x=e.fileType||n.type,canvasToFile(m,x,n.name,n.lastModified,_).then(function(De){try{{let ze=function(){if(f--&&(le>c||le>ne)){var Je,Ue,pe=_slicedToArray(getNewCanvasAndCtx(Je=ve?.95*ge.width:ge.width,Ue=ve?.95*ge.height:ge.height),2);return he=pe[0],pe[1].drawImage(ge,0,0,Je,Ue),_*=.95,canvasToFile(he,x,n.name,n.lastModified,_).then(function(ae){try{return ue=ae,cleanupCanvasMemory(ge),ge=he,le=ue.size,ye(Math.min(99,Math.floor((se-le)/(se-c)*100))),ze}catch(Se){return a(Se)}},a)}return[1]},Ge=function(){return cleanupCanvasMemory(ge),cleanupCanvasMemory(he),cleanupCanvasMemory(g),cleanupCanvasMemory(m),cleanupCanvasMemory(d),ye(100),s(ue)};if(k=De,_e(),q=k.size>c,j=k.size>n.size,!q&&!j)return ye(100),s(k);var We;return ne=n.size,se=k.size,le=se,ge=m,ve=!e.alwaysKeepResolution&&q,(We=function(Je){for(;Je;){if(Je.then)return void Je.then(We,a);try{if(Je.pop){if(Je.length)return Je.pop()?Ge.call(this):Je;Je=ze}else Je=Je.call(this)}catch(Ue){return a(Ue)}}}.bind(this))(ze)}}catch(ze){return a(ze)}}.bind(this),a)}catch(De){return a(De)}}.bind(this),a)}catch(Fe){return a(Fe)}}.bind(this),a)}catch(Oe){return a(Oe)}}.bind(this),a)})}var cnt=0,imageCompressionLibUrl,worker;function createWorker(n){var e=[];return typeof n=="function"?e.push("(".concat(n,")()")):e.push(n),new Worker(URL.createObjectURL(new Blob(e)))}function createSourceObject(n){return URL.createObjectURL(new Blob([n],{type:"application/javascript"}))}function stringify(n){return JSON.stringify(n,function(e,r){return typeof r=="function"?"BIC_FN:::(function () { return ".concat(r.toString()," })()"):r})}function parse(o){if(typeof o=="string")return o;var result={};return Object.entries(o).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];if(typeof value=="string"&&value.startsWith("BIC_FN:::"))try{result[key]=eval(value.replace(/^BIC_FN:::/,""))}catch(n){throw n}else result[key]=parse(value)}),result}function generateLib(){return createSourceObject(`
    // reconstruct library
    function imageCompression (){return (`.concat(imageCompression,`).apply(null, arguments)}

    imageCompression.getDataUrlFromFile = `).concat(imageCompression.getDataUrlFromFile,`
    imageCompression.getFilefromDataUrl = `).concat(imageCompression.getFilefromDataUrl,`
    imageCompression.loadImage = `).concat(imageCompression.loadImage,`
    imageCompression.drawImageInCanvas = `).concat(imageCompression.drawImageInCanvas,`
    imageCompression.drawFileInCanvas = `).concat(imageCompression.drawFileInCanvas,`
    imageCompression.canvasToFile = `).concat(imageCompression.canvasToFile,`
    imageCompression.getExifOrientation = `).concat(imageCompression.getExifOrientation,`
    imageCompression.handleMaxWidthOrHeight = `).concat(imageCompression.handleMaxWidthOrHeight,`
    imageCompression.followExifOrientation = `).concat(imageCompression.followExifOrientation,`
    imageCompression.cleanupCanvasMemory = `).concat(imageCompression.cleanupCanvasMemory,`
    imageCompression.isAutoOrientationInBrowser = `).concat(imageCompression.isAutoOrientationInBrowser,`
    imageCompression.approximateBelowMaximumCanvasSizeOfBrowser = `).concat(imageCompression.approximateBelowMaximumCanvasSizeOfBrowser,`
    imageCompression.getBrowserName = `).concat(imageCompression.getBrowserName,`

    // functions / objects
    getDataUrlFromFile = imageCompression.getDataUrlFromFile
    getFilefromDataUrl = imageCompression.getFilefromDataUrl
    loadImage = imageCompression.loadImage
    drawImageInCanvas = imageCompression.drawImageInCanvas
    drawFileInCanvas = imageCompression.drawFileInCanvas
    canvasToFile = imageCompression.canvasToFile
    getExifOrientation = imageCompression.getExifOrientation
    handleMaxWidthOrHeight = imageCompression.handleMaxWidthOrHeight
    followExifOrientation = imageCompression.followExifOrientation
    cleanupCanvasMemory = imageCompression.cleanupCanvasMemory
    isAutoOrientationInBrowser = imageCompression.isAutoOrientationInBrowser
    approximateBelowMaximumCanvasSizeOfBrowser = imageCompression.approximateBelowMaximumCanvasSizeOfBrowser
    getBrowserName = imageCompression.getBrowserName
    isIOS = `).concat(isIOS,`
    
    getNewCanvasAndCtx = `).concat(getNewCanvasAndCtx,`
    CustomFileReader = FileReader
    CustomFile = File
    MAX_CANVAS_SIZE = `).concat(JSON.stringify(MAX_CANVAS_SIZE),`
    BROWSER_NAME = `).concat(JSON.stringify(BROWSER_NAME),`
    function compress (){return (`).concat(compress,`).apply(null, arguments)}

    // core-js
    function _slicedToArray(arr, n) { return arr }
    function _typeof(a) { return typeof a }
    function _objectSpread2(target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i] != null ? arguments[i] : {};
  
        Object.assign(target, source)
      }
  
      return target;
    }

    // Libraries
    const parse = `).concat(parse,`
    const UPNG = {}
    UPNG.toRGBA8 = `).concat(UPNG.toRGBA8,`
    UPNG.toRGBA8.decodeImage = `).concat(UPNG.toRGBA8.decodeImage,`
    UPNG.decode = `).concat(UPNG.decode,`
    UPNG.decode._decompress = `).concat(UPNG.decode._decompress,`
    UPNG.decode._inflate = `).concat(UPNG.decode._inflate,`
    UPNG.decode._readInterlace = `).concat(UPNG.decode._readInterlace,`
    UPNG.decode._getBPP = `).concat(UPNG.decode._getBPP,` 
    UPNG.decode._filterZero = `).concat(UPNG.decode._filterZero,`
    UPNG.decode._paeth = `).concat(UPNG.decode._paeth,`
    UPNG.decode._IHDR = `).concat(UPNG.decode._IHDR,`
    UPNG._bin = parse(`).concat(stringify(UPNG._bin),`)
    UPNG._copyTile = `).concat(UPNG._copyTile,`
    UPNG.encode = `).concat(UPNG.encode,`
    UPNG.encodeLL = `).concat(UPNG.encodeLL,` 
    UPNG.encode._main = `).concat(UPNG.encode._main,`
    UPNG.encode.compressPNG = `).concat(UPNG.encode.compressPNG,` 
    UPNG.encode.compress = `).concat(UPNG.encode.compress,`
    UPNG.encode.framize = `).concat(UPNG.encode.framize,` 
    UPNG.encode._updateFrame = `).concat(UPNG.encode._updateFrame,` 
    UPNG.encode._prepareDiff = `).concat(UPNG.encode._prepareDiff,` 
    UPNG.encode._filterZero = `).concat(UPNG.encode._filterZero,` 
    UPNG.encode._filterLine = `).concat(UPNG.encode._filterLine,`
    UPNG.encode.concatRGBA = `).concat(UPNG.encode.concatRGBA,`
    UPNG.crc = parse(`).concat(stringify(UPNG.crc),`)
    UPNG.crc.table = ( function() {
    var tab = new Uint32Array(256);
    for (var n=0; n<256; n++) {
      var c = n;
      for (var k=0; k<8; k++) {
        if (c & 1)  c = 0xedb88320 ^ (c >>> 1);
        else        c = c >>> 1;
      }
      tab[n] = c;  }
    return tab;  })()
    UPNG.quantize = `).concat(UPNG.quantize,` 
    UPNG.quantize.getKDtree = `).concat(UPNG.quantize.getKDtree,` 
    UPNG.quantize.getNearest = `).concat(UPNG.quantize.getNearest,` 
    UPNG.quantize.planeDst = `).concat(UPNG.quantize.planeDst,` 
    UPNG.quantize.dist = `).concat(UPNG.quantize.dist,`     
    UPNG.quantize.splitPixels = `).concat(UPNG.quantize.splitPixels,` 
    UPNG.quantize.vecDot = `).concat(UPNG.quantize.vecDot,` 
    UPNG.quantize.stats = `).concat(UPNG.quantize.stats,` 
    UPNG.quantize.estats = `).concat(UPNG.quantize.estats,`
    UPNG.M4 = parse(`).concat(stringify(UPNG.M4),`)
    UPNG.encode.concatRGBA = `).concat(UPNG.encode.concatRGBA,`
    UPNG.inflateRaw=function(){
    var H={};H.H={};H.H.N=function(N,W){var R=Uint8Array,i=0,m=0,J=0,h=0,Q=0,X=0,u=0,w=0,d=0,v,C;
      if(N[0]==3&&N[1]==0)return W?W:new R(0);var V=H.H,n=V.b,A=V.e,l=V.R,M=V.n,I=V.A,e=V.Z,b=V.m,Z=W==null;
      if(Z)W=new R(N.length>>>2<<5);while(i==0){i=n(N,d,1);m=n(N,d+1,2);d+=3;if(m==0){if((d&7)!=0)d+=8-(d&7);
        var D=(d>>>3)+4,q=N[D-4]|N[D-3]<<8;if(Z)W=H.H.W(W,w+q);W.set(new R(N.buffer,N.byteOffset+D,q),w);d=D+q<<3;
        w+=q;continue}if(Z)W=H.H.W(W,w+(1<<17));if(m==1){v=b.J;C=b.h;X=(1<<9)-1;u=(1<<5)-1}if(m==2){J=A(N,d,5)+257;
        h=A(N,d+5,5)+1;Q=A(N,d+10,4)+4;d+=14;var E=d,j=1;for(var c=0;c<38;c+=2){b.Q[c]=0;b.Q[c+1]=0}for(var c=0;
                                                                                                        c<Q;c++){var K=A(N,d+c*3,3);b.Q[(b.X[c]<<1)+1]=K;if(K>j)j=K}d+=3*Q;M(b.Q,j);I(b.Q,j,b.u);v=b.w;C=b.d;
        d=l(b.u,(1<<j)-1,J+h,N,d,b.v);var r=V.V(b.v,0,J,b.C);X=(1<<r)-1;var S=V.V(b.v,J,h,b.D);u=(1<<S)-1;M(b.C,r);
        I(b.C,r,v);M(b.D,S);I(b.D,S,C)}while(!0){var T=v[e(N,d)&X];d+=T&15;var p=T>>>4;if(p>>>8==0){W[w++]=p}else if(p==256){break}else{var z=w+p-254;
        if(p>264){var _=b.q[p-257];z=w+(_>>>3)+A(N,d,_&7);d+=_&7}var $=C[e(N,d)&u];d+=$&15;var s=$>>>4,Y=b.c[s],a=(Y>>>4)+n(N,d,Y&15);
        d+=Y&15;while(w<z){W[w]=W[w++-a];W[w]=W[w++-a];W[w]=W[w++-a];W[w]=W[w++-a]}w=z}}}return W.length==w?W:W.slice(0,w)};
      H.H.W=function(N,W){var R=N.length;if(W<=R)return N;var V=new Uint8Array(R<<1);V.set(N,0);return V};
      H.H.R=function(N,W,R,V,n,A){var l=H.H.e,M=H.H.Z,I=0;while(I<R){var e=N[M(V,n)&W];n+=e&15;var b=e>>>4;
        if(b<=15){A[I]=b;I++}else{var Z=0,m=0;if(b==16){m=3+l(V,n,2);n+=2;Z=A[I-1]}else if(b==17){m=3+l(V,n,3);
          n+=3}else if(b==18){m=11+l(V,n,7);n+=7}var J=I+m;while(I<J){A[I]=Z;I++}}}return n};H.H.V=function(N,W,R,V){var n=0,A=0,l=V.length>>>1;
        while(A<R){var M=N[A+W];V[A<<1]=0;V[(A<<1)+1]=M;if(M>n)n=M;A++}while(A<l){V[A<<1]=0;V[(A<<1)+1]=0;A++}return n};
      H.H.n=function(N,W){var R=H.H.m,V=N.length,n,A,l,M,I,e=R.j;for(var M=0;M<=W;M++)e[M]=0;for(M=1;M<V;M+=2)e[N[M]]++;
        var b=R.K;n=0;e[0]=0;for(A=1;A<=W;A++){n=n+e[A-1]<<1;b[A]=n}for(l=0;l<V;l+=2){I=N[l+1];if(I!=0){N[l]=b[I];
          b[I]++}}};H.H.A=function(N,W,R){var V=N.length,n=H.H.m,A=n.r;for(var l=0;l<V;l+=2)if(N[l+1]!=0){var M=l>>1,I=N[l+1],e=M<<4|I,b=W-I,Z=N[l]<<b,m=Z+(1<<b);
        while(Z!=m){var J=A[Z]>>>15-W;R[J]=e;Z++}}};H.H.l=function(N,W){var R=H.H.m.r,V=15-W;for(var n=0;n<N.length;
                                                                                                 n+=2){var A=N[n]<<W-N[n+1];N[n]=R[A]>>>V}};H.H.M=function(N,W,R){R=R<<(W&7);var V=W>>>3;N[V]|=R;N[V+1]|=R>>>8};
      H.H.I=function(N,W,R){R=R<<(W&7);var V=W>>>3;N[V]|=R;N[V+1]|=R>>>8;N[V+2]|=R>>>16};H.H.e=function(N,W,R){return(N[W>>>3]|N[(W>>>3)+1]<<8)>>>(W&7)&(1<<R)-1};
      H.H.b=function(N,W,R){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16)>>>(W&7)&(1<<R)-1};H.H.Z=function(N,W){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16)>>>(W&7)};
      H.H.i=function(N,W){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16|N[(W>>>3)+3]<<24)>>>(W&7)};H.H.m=function(){var N=Uint16Array,W=Uint32Array;
        return{K:new N(16),j:new N(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new N(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new W(32),J:new N(512),_:[],h:new N(32),$:[],w:new N(32768),C:[],v:[],d:new N(32768),D:[],u:new N(512),Q:[],r:new N(1<<15),s:new W(286),Y:new W(30),a:new W(19),t:new W(15e3),k:new N(1<<16),g:new N(1<<15)}}();
      (function(){var N=H.H.m,W=1<<15;for(var R=0;R<W;R++){var V=R;V=(V&2863311530)>>>1|(V&1431655765)<<1;
        V=(V&3435973836)>>>2|(V&858993459)<<2;V=(V&4042322160)>>>4|(V&252645135)<<4;V=(V&4278255360)>>>8|(V&16711935)<<8;
        N.r[R]=(V>>>16|V<<16)>>>17}function n(A,l,M){while(l--!=0)A.push(0,M)}for(var R=0;R<32;R++){N.q[R]=N.S[R]<<3|N.T[R];
        N.c[R]=N.p[R]<<4|N.z[R]}n(N._,144,8);n(N._,255-143,9);n(N._,279-255,7);n(N._,287-279,8);H.H.n(N._,9);
        H.H.A(N._,9,N.J);H.H.l(N._,9);n(N.$,32,5);H.H.n(N.$,5);H.H.A(N.$,5,N.h);H.H.l(N.$,5);n(N.Q,19,0);n(N.C,286,0);
        n(N.D,30,0);n(N.v,320,0)}());return H.H.N}()
    
    const UZIP = {}
    UZIP["parse"] = `).concat(UZIP_1.parse,`
    UZIP._readLocal = `).concat(UZIP_1._readLocal,`
    UZIP.inflateRaw = `).concat(UZIP_1.inflateRaw,`
    UZIP.inflate = `).concat(UZIP_1.inflate,`
    UZIP.deflate = `).concat(UZIP_1.deflate,`
    UZIP.deflateRaw = `).concat(UZIP_1.deflateRaw,`
    UZIP.encode = `).concat(UZIP_1.encode,`
    UZIP._noNeed = `).concat(UZIP_1._noNeed,`
    UZIP._writeHeader = `).concat(UZIP_1._writeHeader,`
    UZIP.crc = parse(`).concat(stringify(UZIP_1.crc),`)
    UZIP.crc.table = ( function() {
      var tab = new Uint32Array(256);
      for (var n=0; n<256; n++) {
        var c = n;
        for (var k=0; k<8; k++) {
          if (c & 1)  c = 0xedb88320 ^ (c >>> 1);
          else        c = c >>> 1;
        }
        tab[n] = c;  }
      return tab;  })()
    
    UZIP.adler = `).concat(UZIP_1.adler,`
    UZIP.bin = parse(`).concat(stringify(UZIP_1.bin),`)
    UZIP.F = {}
    UZIP.F.deflateRaw = `).concat(UZIP_1.F.deflateRaw,`
    UZIP.F._bestMatch = `).concat(UZIP_1.F._bestMatch,`
    UZIP.F._howLong = `).concat(UZIP_1.F._howLong,`
    UZIP.F._hash = `).concat(UZIP_1.F._hash,`
    UZIP.saved = `).concat(UZIP_1.saved,`
    UZIP.F._writeBlock = `).concat(UZIP_1.F._writeBlock,`
    UZIP.F._copyExact = `).concat(UZIP_1.F._copyExact,`
    UZIP.F.getTrees = `).concat(UZIP_1.F.getTrees,`
    UZIP.F.getSecond = `).concat(UZIP_1.F.getSecond,`
    UZIP.F.nonZero = `).concat(UZIP_1.F.nonZero,`
    UZIP.F.contSize = `).concat(UZIP_1.F.contSize,`
    UZIP.F._codeTiny = `).concat(UZIP_1.F._codeTiny,` 
    UZIP.F._lenCodes = `).concat(UZIP_1.F._lenCodes,` 
    UZIP.F._hufTree = `).concat(UZIP_1.F._hufTree,` 
    UZIP.F.setDepth = `).concat(UZIP_1.F.setDepth,` 
    UZIP.F.restrictDepth = `).concat(UZIP_1.F.restrictDepth,`
    UZIP.F._goodIndex = `).concat(UZIP_1.F._goodIndex,` 
    UZIP.F._writeLit = `).concat(UZIP_1.F._writeLit,` 
    UZIP.F.inflate = `).concat(UZIP_1.F.inflate,` 
    UZIP.F._check = `).concat(UZIP_1.F._check,` 
    UZIP.F._decodeTiny = `).concat(UZIP_1.F._decodeTiny,` 
    UZIP.F._copyOut = `).concat(UZIP_1.F._copyOut,` 
    UZIP.F.makeCodes = `).concat(UZIP_1.F.makeCodes,` 
    UZIP.F.codes2map = `).concat(UZIP_1.F.codes2map,` 
    UZIP.F.revCodes = `).concat(UZIP_1.F.revCodes,` 

    // used only in deflate
    UZIP.F._putsE = `).concat(UZIP_1.F._putsE,`
    UZIP.F._putsF = `).concat(UZIP_1.F._putsF,`
  
    UZIP.F._bitsE = `).concat(UZIP_1.F._bitsE,`
    UZIP.F._bitsF = `).concat(UZIP_1.F._bitsF,`

    UZIP.F._get17 = `).concat(UZIP_1.F._get17,`
    UZIP.F._get25 = `).concat(UZIP_1.F._get25,`
    UZIP.F.U = function(){
      var u16=Uint16Array, u32=Uint32Array;
      return {
        next_code : new u16(16),
        bl_count  : new u16(16),
        ordr : [ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ],
        of0  : [3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],
        exb  : [0,0,0,0,0,0,0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4,  4,  5,  5,  5,  5,  0,  0,  0,  0],
        ldef : new u16(32),
        df0  : [1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577, 65535, 65535],
        dxb  : [0,0,0,0,1,1,2, 2, 3, 3, 4, 4, 5, 5,  6,  6,  7,  7,  8,  8,   9,   9,  10,  10,  11,  11,  12,   12,   13,   13,     0,     0],
        ddef : new u32(32),
        flmap: new u16(  512),  fltree: [],
        fdmap: new u16(   32),  fdtree: [],
        lmap : new u16(32768),  ltree : [],  ttree:[],
        dmap : new u16(32768),  dtree : [],
        imap : new u16(  512),  itree : [],
        //rev9 : new u16(  512)
        rev15: new u16(1<<15),
        lhst : new u32(286), dhst : new u32( 30), ihst : new u32(19),
        lits : new u32(15000),
        strt : new u16(1<<16),
        prev : new u16(1<<15)
      };
    } ();

    (function(){
      var U = UZIP.F.U;
      var len = 1<<15;
      for(var i=0; i<len; i++) {
        var x = i;
        x = (((x & 0xaaaaaaaa) >>> 1) | ((x & 0x55555555) << 1));
        x = (((x & 0xcccccccc) >>> 2) | ((x & 0x33333333) << 2));
        x = (((x & 0xf0f0f0f0) >>> 4) | ((x & 0x0f0f0f0f) << 4));
        x = (((x & 0xff00ff00) >>> 8) | ((x & 0x00ff00ff) << 8));
        U.rev15[i] = (((x >>> 16) | (x << 16)))>>>17;
      }
  
      function pushV(tgt, n, sv) {  while(n--!=0) tgt.push(0,sv);  }
  
      for(var i=0; i<32; i++) {  U.ldef[i]=(U.of0[i]<<3)|U.exb[i];  U.ddef[i]=(U.df0[i]<<4)|U.dxb[i];  }
  
      pushV(U.fltree, 144, 8);  pushV(U.fltree, 255-143, 9);  pushV(U.fltree, 279-255, 7);  pushV(U.fltree,287-279,8);
      /*
        var i = 0;
        for(; i<=143; i++) U.fltree.push(0,8);
        for(; i<=255; i++) U.fltree.push(0,9);
        for(; i<=279; i++) U.fltree.push(0,7);
        for(; i<=287; i++) U.fltree.push(0,8);
        */
      UZIP.F.makeCodes(U.fltree, 9);
      UZIP.F.codes2map(U.fltree, 9, U.flmap);
      UZIP.F.revCodes (U.fltree, 9)
  
      pushV(U.fdtree,32,5);
      //for(i=0;i<32; i++) U.fdtree.push(0,5);
      UZIP.F.makeCodes(U.fdtree, 5);
      UZIP.F.codes2map(U.fdtree, 5, U.fdmap);
      UZIP.F.revCodes (U.fdtree, 5)
  
      pushV(U.itree,19,0);  pushV(U.ltree,286,0);  pushV(U.dtree,30,0);  pushV(U.ttree,320,0);
      /*
        for(var i=0; i< 19; i++) U.itree.push(0,0);
        for(var i=0; i<286; i++) U.ltree.push(0,0);
        for(var i=0; i< 30; i++) U.dtree.push(0,0);
        for(var i=0; i<320; i++) U.ttree.push(0,0);
        */
    })()
    `))}function generateWorkerScript(){return createWorker(`
    let scriptImported = false
    self.addEventListener('message', async (e) => {
      const { file, id, imageCompressionLibUrl, options } = e.data
      options.onProgress = (progress) => self.postMessage({ progress, id })
      try {
        if (!scriptImported) {
          // console.log('[worker] importScripts', imageCompressionLibUrl)
          self.importScripts(imageCompressionLibUrl)
          scriptImported = true
        }
        // console.log('[worker] self', self)
        const compressedFile = await imageCompression(file, options)
        self.postMessage({ file: compressedFile, id })
      } catch (e) {
        // console.error('[worker] error', e)
        self.postMessage({ error: e.message + '\\n' + e.stack, id })
      }
    })
  `)}function compressOnWebWorker(n,e){return new Promise(function(r,s){var a=cnt+=1;imageCompressionLibUrl||(imageCompressionLibUrl=generateLib()),worker||(worker=generateWorkerScript()),worker.addEventListener("message",function l(f){if(f.data.id===a){if(e.signal&&e.signal.aborted)return;if(f.data.progress!==void 0)return void e.onProgress(f.data.progress);worker.removeEventListener("message",l),f.data.error&&s(new Error(f.data.error)),r(f.data.file)}}),worker.addEventListener("error",s),e.signal&&e.signal.addEventListener("abort",function(){worker.terminate(),s(e.signal.reason)}),worker.postMessage({file:n,id:a,imageCompressionLibUrl,options:_objectSpread2(_objectSpread2({},e),{},{onProgress:void 0,signal:void 0})})})}function imageCompression(n,e){return new Promise(function(r,s){var a,l,f,c,d,g;if(a=_objectSpread2({},e),f=0,c=a.onProgress,a.maxSizeMB=a.maxSizeMB||Number.POSITIVE_INFINITY,d=typeof a.useWebWorker!="boolean"||a.useWebWorker,delete a.useWebWorker,a.onProgress=function(x){f=x,typeof c=="function"&&c(f)},!(n instanceof Blob||n instanceof CustomFile))return s(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(n.type))return s(new Error("The file given is not an image"));if(g=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!d||typeof Worker!="function"||g)return compress(n,a).then(function(x){try{return l=x,_.call(this)}catch(k){return s(k)}}.bind(this),s);var b=function(){try{return _.call(this)}catch(x){return s(x)}}.bind(this),m=function(k){try{return compress(n,a).then(function(q){try{return l=q,b()}catch(j){return s(j)}},s)}catch(q){return s(q)}};try{return compressOnWebWorker(n,a).then(function(x){try{return l=x,b()}catch{return m()}},m)}catch{m()}function _(){try{l.name=n.name,l.lastModified=n.lastModified}catch{}return r(l)}})}imageCompression.getDataUrlFromFile=getDataUrlFromFile,imageCompression.getFilefromDataUrl=getFilefromDataUrl,imageCompression.loadImage=loadImage,imageCompression.drawImageInCanvas=drawImageInCanvas,imageCompression.drawFileInCanvas=drawFileInCanvas,imageCompression.canvasToFile=canvasToFile,imageCompression.getExifOrientation=getExifOrientation,imageCompression.handleMaxWidthOrHeight=handleMaxWidthOrHeight,imageCompression.followExifOrientation=followExifOrientation,imageCompression.cleanupCanvasMemory=cleanupCanvasMemory,imageCompression.isAutoOrientationInBrowser=isAutoOrientationInBrowser,imageCompression.approximateBelowMaximumCanvasSizeOfBrowser=approximateBelowMaximumCanvasSizeOfBrowser,imageCompression.getBrowserName=getBrowserName,imageCompression.version="2.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(n){const e=[];let r=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},byteArrayToString=function(n){const e=[];let r=0,s=0;for(;r<n.length;){const a=n[r++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[r++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[r++],f=n[r++],c=n[r++],d=((a&7)<<18|(l&63)<<12|(f&63)<<6|c&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const l=n[r++],f=n[r++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|f&63)}}return e.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],f=a+1<n.length,c=f?n[a+1]:0,d=a+2<n.length,g=d?n[a+2]:0,b=l>>2,m=(l&3)<<4|c>>4;let _=(c&15)<<2|g>>6,x=g&63;d||(x=64,f||(_=64)),s.push(r[b],r[m],r[_],r[x])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(stringToByteArray$1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):byteArrayToString(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=r[n.charAt(a++)],c=a<n.length?r[n.charAt(a)]:0;++a;const g=a<n.length?r[n.charAt(a)]:64;++a;const m=a<n.length?r[n.charAt(a)]:64;if(++a,l==null||c==null||g==null||m==null)throw new DecodeBase64StringError;const _=l<<2|c>>4;if(s.push(_),g!==64){const x=c<<4&240|g>>2;if(s.push(x),m!==64){const k=g<<6&192|m;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(n){const e=stringToByteArray$1(n);return base64.encodeByteArray(e,!0)},base64urlEncodeWithoutPadding=function(n){return base64Encode(n).replace(/\./g,"")},base64Decode=function(n){try{return base64.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof process.env>"u")return;const n={}.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&base64Decode(n[1]);return e&&JSON.parse(e)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},getDefaultAppConfig=()=>{var n;return(n=getDefaults())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((n,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(r){e(r)}})}function areCookiesEnabled(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},a=`${this.service}/${e}`,l=this.errors[e],f=l?replaceTemplate(l,s):"Error",c=`${this.serviceName}: ${f} (${a}).`;return new FirebaseError(a,c,s)}}function replaceTemplate(n,e){return n.replace(PATTERN,(r,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const PATTERN=/\{\$([^}]+)}/g;function deepEqual(n,e){if(n===e)return!0;const r=Object.keys(n),s=Object.keys(e);for(const a of r){if(!s.includes(a))return!1;const l=n[a],f=e[a];if(isObject(l)&&isObject(f)){if(!deepEqual(l,f))return!1}else if(l!==f)return!1}for(const a of s)if(!r.includes(a))return!1;return!0}function isObject(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(n){return n&&n._delegate?n._delegate:n}class Component{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new Deferred;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(isComponentEager(e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=DEFAULT_ENTRY_NAME$1){return this.instances.has(e)}getOptions(e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[l,f]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(l);s===c&&f.resolve(a)}return a}onInit(e,r){var s;const a=this.normalizeInstanceIdentifier(r),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const f=this.instances.get(a);return f&&e(f,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const a of s)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?e:DEFAULT_ENTRY_NAME$1:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(n){return n===DEFAULT_ENTRY_NAME$1?void 0:n}function isComponentEager(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Provider(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(n,e,...r)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=ConsoleMethod[e];if(a)console[a](`[${s}]  ${n.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Logger{constructor(e){this.name=e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?levelStringToEnum[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...e),this._logHandler(this,LogLevel.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...e),this._logHandler(this,LogLevel.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...e),this._logHandler(this,LogLevel.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...e),this._logHandler(this,LogLevel.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...e),this._logHandler(this,LogLevel.ERROR,...e)}}const instanceOfAny=(n,e)=>e.some(r=>n instanceof r);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(n){const e=new Promise((r,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",f)},l=()=>{r(wrap(n.result)),a()},f=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",f)});return e.then(r=>{r instanceof IDBCursor&&cursorRequestMap.set(r,n)}).catch(()=>{}),reverseTransformCache.set(e,n),e}function cacheDonePromiseForTransaction(n){if(transactionDoneMap.has(n))return;const e=new Promise((r,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",f),n.removeEventListener("abort",f)},l=()=>{r(),a()},f=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",f),n.addEventListener("abort",f)});transactionDoneMap.set(n,e)}let idbProxyTraps={get(n,e,r){if(n instanceof IDBTransaction){if(e==="done")return transactionDoneMap.get(n);if(e==="objectStoreNames")return n.objectStoreNames||transactionStoreNamesMap.get(n);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return wrap(n[e])},set(n,e,r){return n[e]=r,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function replaceTraps(n){idbProxyTraps=n(idbProxyTraps)}function wrapFunction(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=n.call(unwrap(this),e,...r);return transactionStoreNamesMap.set(s,e.sort?e.sort():[e]),wrap(s)}:getCursorAdvanceMethods().includes(n)?function(...e){return n.apply(unwrap(this),e),wrap(cursorRequestMap.get(this))}:function(...e){return wrap(n.apply(unwrap(this),e))}}function transformCachableValue(n){return typeof n=="function"?wrapFunction(n):(n instanceof IDBTransaction&&cacheDonePromiseForTransaction(n),instanceOfAny(n,getIdbProxyableTypes())?new Proxy(n,idbProxyTraps):n)}function wrap(n){if(n instanceof IDBRequest)return promisifyRequest(n);if(transformCache.has(n))return transformCache.get(n);const e=transformCachableValue(n);return e!==n&&(transformCache.set(n,e),reverseTransformCache.set(e,n)),e}const unwrap=n=>reverseTransformCache.get(n);function openDB(n,e,{blocked:r,upgrade:s,blocking:a,terminated:l}={}){const f=indexedDB.open(n,e),c=wrap(f);return s&&f.addEventListener("upgradeneeded",d=>{s(wrap(f.result),d.oldVersion,d.newVersion,wrap(f.transaction))}),r&&f.addEventListener("blocked",()=>r()),c.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",()=>a())}).catch(()=>{}),c}function deleteDB(n,{blocked:e}={}){const r=indexedDB.deleteDatabase(n);return e&&r.addEventListener("blocked",()=>e()),wrap(r).then(()=>{})}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(cachedMethods.get(e))return cachedMethods.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,a=writeMethods.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(a||readMethods.includes(r)))return;const l=async function(f,...c){const d=this.transaction(f,a?"readwrite":"readonly");let g=d.store;return s&&(g=g.index(c.shift())),(await Promise.all([g[r](...c),a&&d.done]))[0]};return cachedMethods.set(e,l),l}replaceTraps(n=>({...n,get:(e,r,s)=>getMethod(e,r)||n.get(e,r,s),has:(e,r)=>!!getMethod(e,r)||n.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(isVersionServiceProvider(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function isVersionServiceProvider(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const name$o="@firebase/app",version$1$1="0.9.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$n="@firebase/app-compat",name$m="@firebase/analytics-compat",name$l="@firebase/analytics",name$k="@firebase/app-check-compat",name$j="@firebase/app-check",name$i="@firebase/auth",name$h="@firebase/auth-compat",name$g="@firebase/database",name$f="@firebase/database-compat",name$e="@firebase/functions",name$d="@firebase/functions-compat",name$c="@firebase/installations",name$b="@firebase/installations-compat",name$a="@firebase/messaging",name$9="@firebase/messaging-compat",name$8="@firebase/performance",name$7="@firebase/performance-compat",name$6="@firebase/remote-config",name$5="@firebase/remote-config-compat",name$4="@firebase/storage",name$3="@firebase/storage-compat",name$2$1="@firebase/firestore",name$1$1="@firebase/firestore-compat",name$p="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core",[name$n]:"fire-core-compat",[name$l]:"fire-analytics",[name$m]:"fire-analytics-compat",[name$j]:"fire-app-check",[name$k]:"fire-app-check-compat",[name$i]:"fire-auth",[name$h]:"fire-auth-compat",[name$g]:"fire-rtdb",[name$f]:"fire-rtdb-compat",[name$e]:"fire-fn",[name$d]:"fire-fn-compat",[name$c]:"fire-iid",[name$b]:"fire-iid-compat",[name$a]:"fire-fcm",[name$9]:"fire-fcm-compat",[name$8]:"fire-perf",[name$7]:"fire-perf-compat",[name$6]:"fire-rc",[name$5]:"fire-rc-compat",[name$4]:"fire-gcs",[name$3]:"fire-gcs-compat",[name$2$1]:"fire-fst",[name$1$1]:"fire-fst-compat","fire-js":"fire-js",[name$p]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_components=new Map;function _addComponent(n,e){try{n.container.addComponent(e)}catch(r){logger.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,r)}}function _registerComponent(n){const e=n.name;if(_components.has(e))return logger.debug(`There were multiple attempts to register component ${e}.`),!1;_components.set(e,n);for(const r of _apps.values())_addComponent(r,n);return!0}function _getProvider(n,e){const r=n.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ERROR_FACTORY$2=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(e,r,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY$2.create("app-deleted",{appName:this._name})}}function initializeApp(n,e={}){let r=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw ERROR_FACTORY$2.create("bad-app-name",{appName:String(a)});if(r||(r=getDefaultAppConfig()),!r)throw ERROR_FACTORY$2.create("no-options");const l=_apps.get(a);if(l){if(deepEqual(r,l.options)&&deepEqual(s,l.config))return l;throw ERROR_FACTORY$2.create("duplicate-app",{appName:a})}const f=new ComponentContainer(a);for(const d of _components.values())f.addComponent(d);const c=new FirebaseAppImpl(r,s,f);return _apps.set(a,c),c}function getApp(n=DEFAULT_ENTRY_NAME){const e=_apps.get(n);if(!e&&n===DEFAULT_ENTRY_NAME)return initializeApp();if(!e)throw ERROR_FACTORY$2.create("no-app",{appName:n});return e}function registerVersion(n,e,r){var s;let a=(s=PLATFORM_LOG_STRING[n])!==null&&s!==void 0?s:n;r&&(a+=`-${r}`);const l=a.match(/\s|\//),f=e.match(/\s|\//);if(l||f){const c=[`Unable to register library "${a}" with version "${e}":`];l&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&f&&c.push("and"),f&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),logger.warn(c.join(" "));return}_registerComponent(new Component(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebase-heartbeat-database",DB_VERSION=1,STORE_NAME="firebase-heartbeat-store";let dbPromise$2=null;function getDbPromise$2(){return dbPromise$2||(dbPromise$2=openDB(DB_NAME,DB_VERSION,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(STORE_NAME)}}}).catch(n=>{throw ERROR_FACTORY$2.create("idb-open",{originalErrorMessage:n.message})})),dbPromise$2}async function readHeartbeatsFromIndexedDB(n){try{return(await getDbPromise$2()).transaction(STORE_NAME).objectStore(STORE_NAME).get(computeKey(n))}catch(e){if(e instanceof FirebaseError)logger.warn(e.message);else{const r=ERROR_FACTORY$2.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});logger.warn(r.message)}}}async function writeHeartbeatsToIndexedDB(n,e){try{const s=(await getDbPromise$2()).transaction(STORE_NAME,"readwrite");return await s.objectStore(STORE_NAME).put(e,computeKey(n)),s.done}catch(r){if(r instanceof FirebaseError)logger.warn(r.message);else{const s=ERROR_FACTORY$2.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});logger.warn(s.message)}}}function computeKey(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=getUTCDateString();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=getUTCDateString(),{heartbeatsToSend:r,unsentEntries:s}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),a=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(n,e=MAX_HEADER_BYTES){const r=[];let s=n.slice();for(const a of n){const l=r.find(f=>f.agent===a.agent);if(l){if(l.dates.push(a.date),countBytes(r)>e){l.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),countBytes(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await readHeartbeatsFromIndexedDB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function countBytes(n){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(n){_registerComponent(new Component("platform-logger",e=>new PlatformLoggerServiceImpl(e),"PRIVATE")),_registerComponent(new Component("heartbeat",e=>new HeartbeatServiceImpl(e),"PRIVATE")),registerVersion(name$o,version$1$1,n),registerVersion(name$o,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var name$2="firebase",version$2="9.17.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$2,version$2,"app");const name$1="@firebase/installations",version$1="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_TIMEOUT_MS=1e4,PACKAGE_VERSION=`w:${version$1}`,INTERNAL_AUTH_VERSION="FIS_v2",INSTALLATIONS_API_URL="https://firebaseinstallations.googleapis.com/v1",TOKEN_EXPIRATION_BUFFER=60*60*1e3,SERVICE="installations",SERVICE_NAME="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_DESCRIPTION_MAP={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},ERROR_FACTORY$1=new ErrorFactory(SERVICE,SERVICE_NAME,ERROR_DESCRIPTION_MAP);function isServerError(n){return n instanceof FirebaseError&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getInstallationsEndpoint({projectId:n}){return`${INSTALLATIONS_API_URL}/projects/${n}/installations`}function extractAuthTokenInfoFromResponse(n){return{token:n.token,requestStatus:2,expiresIn:getExpiresInFromResponseExpiresIn(n.expiresIn),creationTime:Date.now()}}async function getErrorFromResponse(n,e){const s=(await e.json()).error;return ERROR_FACTORY$1.create("request-failed",{requestName:n,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function getHeaders$1({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function getHeadersWithAuth(n,{refreshToken:e}){const r=getHeaders$1(n);return r.append("Authorization",getAuthorizationHeader(e)),r}async function retryIfServerError(n){const e=await n();return e.status>=500&&e.status<600?n():e}function getExpiresInFromResponseExpiresIn(n){return Number(n.replace("s","000"))}function getAuthorizationHeader(n){return`${INTERNAL_AUTH_VERSION} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function createInstallationRequest({appConfig:n,heartbeatServiceProvider:e},{fid:r}){const s=getInstallationsEndpoint(n),a=getHeaders$1(n),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const f={fid:r,authVersion:INTERNAL_AUTH_VERSION,appId:n.appId,sdkVersion:PACKAGE_VERSION},c={method:"POST",headers:a,body:JSON.stringify(f)},d=await retryIfServerError(()=>fetch(s,c));if(d.ok){const g=await d.json();return{fid:g.fid||r,registrationStatus:2,refreshToken:g.refreshToken,authToken:extractAuthTokenInfoFromResponse(g.authToken)}}else throw await getErrorFromResponse("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sleep(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bufferToBase64UrlSafe(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VALID_FID_PATTERN=/^[cdef][\w-]{21}$/,INVALID_FID="";function generateFid(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const r=encode(n);return VALID_FID_PATTERN.test(r)?r:INVALID_FID}catch{return INVALID_FID}}function encode(n){return bufferToBase64UrlSafe(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getKey$1(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fidChangeCallbacks=new Map;function fidChanged(n,e){const r=getKey$1(n);callFidChangeCallbacks(r,e),broadcastFidChange(r,e)}function callFidChangeCallbacks(n,e){const r=fidChangeCallbacks.get(n);if(r)for(const s of r)s(e)}function broadcastFidChange(n,e){const r=getBroadcastChannel();r&&r.postMessage({key:n,fid:e}),closeBroadcastChannel()}let broadcastChannel=null;function getBroadcastChannel(){return!broadcastChannel&&"BroadcastChannel"in self&&(broadcastChannel=new BroadcastChannel("[Firebase] FID Change"),broadcastChannel.onmessage=n=>{callFidChangeCallbacks(n.data.key,n.data.fid)}),broadcastChannel}function closeBroadcastChannel(){fidChangeCallbacks.size===0&&broadcastChannel&&(broadcastChannel.close(),broadcastChannel=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DATABASE_NAME$1="firebase-installations-database",DATABASE_VERSION$1=1,OBJECT_STORE_NAME$1="firebase-installations-store";let dbPromise$1=null;function getDbPromise$1(){return dbPromise$1||(dbPromise$1=openDB(DATABASE_NAME$1,DATABASE_VERSION$1,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(OBJECT_STORE_NAME$1)}}})),dbPromise$1}async function set(n,e){const r=getKey$1(n),a=(await getDbPromise$1()).transaction(OBJECT_STORE_NAME$1,"readwrite"),l=a.objectStore(OBJECT_STORE_NAME$1),f=await l.get(r);return await l.put(e,r),await a.done,(!f||f.fid!==e.fid)&&fidChanged(n,e.fid),e}async function remove(n){const e=getKey$1(n),s=(await getDbPromise$1()).transaction(OBJECT_STORE_NAME$1,"readwrite");await s.objectStore(OBJECT_STORE_NAME$1).delete(e),await s.done}async function update(n,e){const r=getKey$1(n),a=(await getDbPromise$1()).transaction(OBJECT_STORE_NAME$1,"readwrite"),l=a.objectStore(OBJECT_STORE_NAME$1),f=await l.get(r),c=e(f);return c===void 0?await l.delete(r):await l.put(c,r),await a.done,c&&(!f||f.fid!==c.fid)&&fidChanged(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getInstallationEntry(n){let e;const r=await update(n.appConfig,s=>{const a=updateOrCreateInstallationEntry(s),l=triggerRegistrationIfNecessary(n,a);return e=l.registrationPromise,l.installationEntry});return r.fid===INVALID_FID?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function updateOrCreateInstallationEntry(n){const e=n||{fid:generateFid(),registrationStatus:0};return clearTimedOutRequest(e)}function triggerRegistrationIfNecessary(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(ERROR_FACTORY$1.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=registerInstallation(n,r);return{installationEntry:r,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:waitUntilFidRegistration(n)}:{installationEntry:e}}async function registerInstallation(n,e){try{const r=await createInstallationRequest(n,e);return set(n.appConfig,r)}catch(r){throw isServerError(r)&&r.customData.serverCode===409?await remove(n.appConfig):await set(n.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function waitUntilFidRegistration(n){let e=await updateInstallationRequest(n.appConfig);for(;e.registrationStatus===1;)await sleep(100),e=await updateInstallationRequest(n.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:s}=await getInstallationEntry(n);return s||r}return e}function updateInstallationRequest(n){return update(n,e=>{if(!e)throw ERROR_FACTORY$1.create("installation-not-found");return clearTimedOutRequest(e)})}function clearTimedOutRequest(n){return hasInstallationRequestTimedOut(n)?{fid:n.fid,registrationStatus:0}:n}function hasInstallationRequestTimedOut(n){return n.registrationStatus===1&&n.registrationTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function generateAuthTokenRequest({appConfig:n,heartbeatServiceProvider:e},r){const s=getGenerateAuthTokenEndpoint(n,r),a=getHeadersWithAuth(n,r),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const f={installation:{sdkVersion:PACKAGE_VERSION,appId:n.appId}},c={method:"POST",headers:a,body:JSON.stringify(f)},d=await retryIfServerError(()=>fetch(s,c));if(d.ok){const g=await d.json();return extractAuthTokenInfoFromResponse(g)}else throw await getErrorFromResponse("Generate Auth Token",d)}function getGenerateAuthTokenEndpoint(n,{fid:e}){return`${getInstallationsEndpoint(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function refreshAuthToken(n,e=!1){let r;const s=await update(n.appConfig,l=>{if(!isEntryRegistered(l))throw ERROR_FACTORY$1.create("not-registered");const f=l.authToken;if(!e&&isAuthTokenValid(f))return l;if(f.requestStatus===1)return r=waitUntilAuthTokenRequest(n,e),l;{if(!navigator.onLine)throw ERROR_FACTORY$1.create("app-offline");const c=makeAuthTokenRequestInProgressEntry(l);return r=fetchAuthTokenFromServer(n,c),c}});return r?await r:s.authToken}async function waitUntilAuthTokenRequest(n,e){let r=await updateAuthTokenRequest(n.appConfig);for(;r.authToken.requestStatus===1;)await sleep(100),r=await updateAuthTokenRequest(n.appConfig);const s=r.authToken;return s.requestStatus===0?refreshAuthToken(n,e):s}function updateAuthTokenRequest(n){return update(n,e=>{if(!isEntryRegistered(e))throw ERROR_FACTORY$1.create("not-registered");const r=e.authToken;return hasAuthTokenRequestTimedOut(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function fetchAuthTokenFromServer(n,e){try{const r=await generateAuthTokenRequest(n,e),s=Object.assign(Object.assign({},e),{authToken:r});return await set(n.appConfig,s),r}catch(r){if(isServerError(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await remove(n.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await set(n.appConfig,s)}throw r}}function isEntryRegistered(n){return n!==void 0&&n.registrationStatus===2}function isAuthTokenValid(n){return n.requestStatus===2&&!isAuthTokenExpired(n)}function isAuthTokenExpired(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+TOKEN_EXPIRATION_BUFFER}function makeAuthTokenRequestInProgressEntry(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function hasAuthTokenRequestTimedOut(n){return n.requestStatus===1&&n.requestTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getId(n){const e=n,{installationEntry:r,registrationPromise:s}=await getInstallationEntry(e);return s?s.catch(console.error):refreshAuthToken(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getToken$2(n,e=!1){const r=n;return await completeInstallationRegistration(r),(await refreshAuthToken(r,e)).token}async function completeInstallationRegistration(n){const{registrationPromise:e}=await getInstallationEntry(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function extractAppConfig$1(n){if(!n||!n.options)throw getMissingValueError$1("App Configuration");if(!n.name)throw getMissingValueError$1("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!n.options[r])throw getMissingValueError$1(r);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function getMissingValueError$1(n){return ERROR_FACTORY$1.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INSTALLATIONS_NAME="installations",INSTALLATIONS_NAME_INTERNAL="installations-internal",publicFactory=n=>{const e=n.getProvider("app").getImmediate(),r=extractAppConfig$1(e),s=_getProvider(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},internalFactory=n=>{const e=n.getProvider("app").getImmediate(),r=_getProvider(e,INSTALLATIONS_NAME).getImmediate();return{getId:()=>getId(r),getToken:a=>getToken$2(r,a)}};function registerInstallations(){_registerComponent(new Component(INSTALLATIONS_NAME,publicFactory,"PUBLIC")),_registerComponent(new Component(INSTALLATIONS_NAME_INTERNAL,internalFactory,"PRIVATE"))}registerInstallations();registerVersion(name$1,version$1);registerVersion(name$1,version$1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_SW_PATH="/firebase-messaging-sw.js",DEFAULT_SW_SCOPE="/firebase-cloud-messaging-push-scope",DEFAULT_VAPID_KEY="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ENDPOINT="https://fcmregistrations.googleapis.com/v1",CONSOLE_CAMPAIGN_ID="google.c.a.c_id",CONSOLE_CAMPAIGN_NAME="google.c.a.c_l",CONSOLE_CAMPAIGN_TIME="google.c.a.ts",CONSOLE_CAMPAIGN_ANALYTICS_ENABLED="google.c.a.e";var MessageType$1;(function(n){n[n.DATA_MESSAGE=1]="DATA_MESSAGE",n[n.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(MessageType$1||(MessageType$1={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var MessageType;(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"})(MessageType||(MessageType={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function arrayToBase64(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function base64ToArray(n){const e="=".repeat((4-n.length%4)%4),r=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(r),a=new Uint8Array(s.length);for(let l=0;l<s.length;++l)a[l]=s.charCodeAt(l);return a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OLD_DB_NAME="fcm_token_details_db",OLD_DB_VERSION=5,OLD_OBJECT_STORE_NAME="fcm_token_object_Store";async function migrateOldDatabase(n){if("databases"in indexedDB&&!(await indexedDB.databases()).map(l=>l.name).includes(OLD_DB_NAME))return null;let e=null;return(await openDB(OLD_DB_NAME,OLD_DB_VERSION,{upgrade:async(s,a,l,f)=>{var c;if(a<2||!s.objectStoreNames.contains(OLD_OBJECT_STORE_NAME))return;const d=f.objectStore(OLD_OBJECT_STORE_NAME),g=await d.index("fcmSenderId").get(n);if(await d.clear(),!!g){if(a===2){const b=g;if(!b.auth||!b.p256dh||!b.endpoint)return;e={token:b.fcmToken,createTime:(c=b.createTime)!==null&&c!==void 0?c:Date.now(),subscriptionOptions:{auth:b.auth,p256dh:b.p256dh,endpoint:b.endpoint,swScope:b.swScope,vapidKey:typeof b.vapidKey=="string"?b.vapidKey:arrayToBase64(b.vapidKey)}}}else if(a===3){const b=g;e={token:b.fcmToken,createTime:b.createTime,subscriptionOptions:{auth:arrayToBase64(b.auth),p256dh:arrayToBase64(b.p256dh),endpoint:b.endpoint,swScope:b.swScope,vapidKey:arrayToBase64(b.vapidKey)}}}else if(a===4){const b=g;e={token:b.fcmToken,createTime:b.createTime,subscriptionOptions:{auth:arrayToBase64(b.auth),p256dh:arrayToBase64(b.p256dh),endpoint:b.endpoint,swScope:b.swScope,vapidKey:arrayToBase64(b.vapidKey)}}}}}})).close(),await deleteDB(OLD_DB_NAME),await deleteDB("fcm_vapid_details_db"),await deleteDB("undefined"),checkTokenDetails(e)?e:null}function checkTokenDetails(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DATABASE_NAME="firebase-messaging-database",DATABASE_VERSION=1,OBJECT_STORE_NAME="firebase-messaging-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DATABASE_NAME,DATABASE_VERSION,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(OBJECT_STORE_NAME)}}})),dbPromise}async function dbGet(n){const e=getKey(n),s=await(await getDbPromise()).transaction(OBJECT_STORE_NAME).objectStore(OBJECT_STORE_NAME).get(e);if(s)return s;{const a=await migrateOldDatabase(n.appConfig.senderId);if(a)return await dbSet(n,a),a}}async function dbSet(n,e){const r=getKey(n),a=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite");return await a.objectStore(OBJECT_STORE_NAME).put(e,r),await a.done,e}async function dbRemove(n){const e=getKey(n),s=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite");await s.objectStore(OBJECT_STORE_NAME).delete(e),await s.done}function getKey({appConfig:n}){return n.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_MAP={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["only-available-in-window"]:"This method is available in a Window context.",["only-available-in-sw"]:"This method is available in a service worker context.",["permission-default"]:"The notification permission was not granted and dismissed instead.",["permission-blocked"]:"The notification permission was not granted and blocked instead.",["unsupported-browser"]:"This browser doesn't support the API's required to use the Firebase SDK.",["indexed-db-unsupported"]:"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)",["failed-service-worker-registration"]:"We are unable to register the default service worker. {$browserErrorMessage}",["token-subscribe-failed"]:"A problem occurred while subscribing the user to FCM: {$errorInfo}",["token-subscribe-no-token"]:"FCM returned no token when subscribing the user to push.",["token-unsubscribe-failed"]:"A problem occurred while unsubscribing the user from FCM: {$errorInfo}",["token-update-failed"]:"A problem occurred while updating the user from FCM: {$errorInfo}",["token-update-no-token"]:"FCM returned no token when updating the user to push.",["use-sw-after-get-token"]:"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",["invalid-sw-registration"]:"The input to useServiceWorker() must be a ServiceWorkerRegistration.",["invalid-bg-handler"]:"The input to setBackgroundMessageHandler() must be a function.",["invalid-vapid-key"]:"The public VAPID key must be a string.",["use-vapid-key-after-get-token"]:"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ERROR_FACTORY=new ErrorFactory("messaging","Messaging",ERROR_MAP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestGetToken(n,e){const r=await getHeaders(n),s=getBody(e),a={method:"POST",headers:r,body:JSON.stringify(s)};let l;try{l=await(await fetch(getEndpoint(n.appConfig),a)).json()}catch(f){throw ERROR_FACTORY.create("token-subscribe-failed",{errorInfo:f==null?void 0:f.toString()})}if(l.error){const f=l.error.message;throw ERROR_FACTORY.create("token-subscribe-failed",{errorInfo:f})}if(!l.token)throw ERROR_FACTORY.create("token-subscribe-no-token");return l.token}async function requestUpdateToken(n,e){const r=await getHeaders(n),s=getBody(e.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(s)};let l;try{l=await(await fetch(`${getEndpoint(n.appConfig)}/${e.token}`,a)).json()}catch(f){throw ERROR_FACTORY.create("token-update-failed",{errorInfo:f==null?void 0:f.toString()})}if(l.error){const f=l.error.message;throw ERROR_FACTORY.create("token-update-failed",{errorInfo:f})}if(!l.token)throw ERROR_FACTORY.create("token-update-no-token");return l.token}async function requestDeleteToken(n,e){const s={method:"DELETE",headers:await getHeaders(n)};try{const l=await(await fetch(`${getEndpoint(n.appConfig)}/${e}`,s)).json();if(l.error){const f=l.error.message;throw ERROR_FACTORY.create("token-unsubscribe-failed",{errorInfo:f})}}catch(a){throw ERROR_FACTORY.create("token-unsubscribe-failed",{errorInfo:a==null?void 0:a.toString()})}}function getEndpoint({projectId:n}){return`${ENDPOINT}/projects/${n}/registrations`}async function getHeaders({appConfig:n,installations:e}){const r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function getBody({p256dh:n,auth:e,endpoint:r,vapidKey:s}){const a={web:{endpoint:r,auth:e,p256dh:n}};return s!==DEFAULT_VAPID_KEY&&(a.web.applicationPubKey=s),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TOKEN_EXPIRATION_MS=7*24*60*60*1e3;async function getTokenInternal(n){const e=await getPushSubscription(n.swRegistration,n.vapidKey),r={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:arrayToBase64(e.getKey("auth")),p256dh:arrayToBase64(e.getKey("p256dh"))},s=await dbGet(n.firebaseDependencies);if(s){if(isTokenValid(s.subscriptionOptions,r))return Date.now()>=s.createTime+TOKEN_EXPIRATION_MS?updateToken(n,{token:s.token,createTime:Date.now(),subscriptionOptions:r}):s.token;try{await requestDeleteToken(n.firebaseDependencies,s.token)}catch(a){console.warn(a)}return getNewToken(n.firebaseDependencies,r)}else return getNewToken(n.firebaseDependencies,r)}async function deleteTokenInternal(n){const e=await dbGet(n.firebaseDependencies);e&&(await requestDeleteToken(n.firebaseDependencies,e.token),await dbRemove(n.firebaseDependencies));const r=await n.swRegistration.pushManager.getSubscription();return r?r.unsubscribe():!0}async function updateToken(n,e){try{const r=await requestUpdateToken(n.firebaseDependencies,e),s=Object.assign(Object.assign({},e),{token:r,createTime:Date.now()});return await dbSet(n.firebaseDependencies,s),r}catch(r){throw await deleteTokenInternal(n),r}}async function getNewToken(n,e){const s={token:await requestGetToken(n,e),createTime:Date.now(),subscriptionOptions:e};return await dbSet(n,s),s.token}async function getPushSubscription(n,e){const r=await n.pushManager.getSubscription();return r||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:base64ToArray(e)})}function isTokenValid(n,e){const r=e.vapidKey===n.vapidKey,s=e.endpoint===n.endpoint,a=e.auth===n.auth,l=e.p256dh===n.p256dh;return r&&s&&a&&l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function externalizePayload(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return propagateNotificationPayload(e,n),propagateDataPayload(e,n),propagateFcmOptions(e,n),e}function propagateNotificationPayload(n,e){if(!e.notification)return;n.notification={};const r=e.notification.title;r&&(n.notification.title=r);const s=e.notification.body;s&&(n.notification.body=s);const a=e.notification.image;a&&(n.notification.image=a);const l=e.notification.icon;l&&(n.notification.icon=l)}function propagateDataPayload(n,e){e.data&&(n.data=e.data)}function propagateFcmOptions(n,e){var r,s,a,l,f;if(!e.fcmOptions&&!(!((r=e.notification)===null||r===void 0)&&r.click_action))return;n.fcmOptions={};const c=(a=(s=e.fcmOptions)===null||s===void 0?void 0:s.link)!==null&&a!==void 0?a:(l=e.notification)===null||l===void 0?void 0:l.click_action;c&&(n.fcmOptions.link=c);const d=(f=e.fcmOptions)===null||f===void 0?void 0:f.analytics_label;d&&(n.fcmOptions.analyticsLabel=d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isConsoleMessage(n){return typeof n=="object"&&!!n&&CONSOLE_CAMPAIGN_ID in n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_mergeStrings("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");_mergeStrings("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function _mergeStrings(n,e){const r=[];for(let s=0;s<n.length;s++)r.push(n.charAt(s)),s<e.length&&r.push(e.charAt(s));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function extractAppConfig(n){if(!n||!n.options)throw getMissingValueError("App Configuration Object");if(!n.name)throw getMissingValueError("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=n;for(const s of e)if(!r[s])throw getMissingValueError(s);return{appName:n.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function getMissingValueError(n){return ERROR_FACTORY.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MessagingService{constructor(e,r,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const a=extractAppConfig(e);this.firebaseDependencies={app:e,appConfig:a,installations:r,analyticsProvider:s}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function registerDefaultSw(n){try{n.swRegistration=await navigator.serviceWorker.register(DEFAULT_SW_PATH,{scope:DEFAULT_SW_SCOPE}),n.swRegistration.update().catch(()=>{})}catch(e){throw ERROR_FACTORY.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateSwReg(n,e){if(!e&&!n.swRegistration&&await registerDefaultSw(n),!(!e&&n.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw ERROR_FACTORY.create("invalid-sw-registration");n.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateVapidKey(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=DEFAULT_VAPID_KEY)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getToken$1(n,e){if(!navigator)throw ERROR_FACTORY.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw ERROR_FACTORY.create("permission-blocked");return await updateVapidKey(n,e==null?void 0:e.vapidKey),await updateSwReg(n,e==null?void 0:e.serviceWorkerRegistration),getTokenInternal(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function logToScion(n,e,r){const s=getEventType(e);(await n.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:r[CONSOLE_CAMPAIGN_ID],message_name:r[CONSOLE_CAMPAIGN_NAME],message_time:r[CONSOLE_CAMPAIGN_TIME],message_device_time:Math.floor(Date.now()/1e3)})}function getEventType(n){switch(n){case MessageType.NOTIFICATION_CLICKED:return"notification_open";case MessageType.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function messageEventListener(n,e){const r=e.data;if(!r.isFirebaseMessaging)return;n.onMessageHandler&&r.messageType===MessageType.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(externalizePayload(r)):n.onMessageHandler.next(externalizePayload(r)));const s=r.data;isConsoleMessage(s)&&s[CONSOLE_CAMPAIGN_ANALYTICS_ENABLED]==="1"&&await logToScion(n,r.messageType,s)}const name="@firebase/messaging",version="0.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WindowMessagingFactory=n=>{const e=new MessagingService(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>messageEventListener(e,r)),e},WindowMessagingInternalFactory=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:s=>getToken$1(e,s)}};function registerMessagingInWindow(){_registerComponent(new Component("messaging",WindowMessagingFactory,"PUBLIC")),_registerComponent(new Component("messaging-internal",WindowMessagingInternalFactory,"PRIVATE")),registerVersion(name,version),registerVersion(name,version,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function isWindowSupported(){try{await validateIndexedDBOpenable()}catch{return!1}return typeof window<"u"&&isIndexedDBAvailable()&&areCookiesEnabled()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getMessagingInWindow(n=getApp()){return isWindowSupported().then(e=>{if(!e)throw ERROR_FACTORY.create("unsupported-browser")},e=>{throw ERROR_FACTORY.create("indexed-db-unsupported")}),_getProvider(getModularInstance(n),"messaging").getImmediate()}async function getToken(n,e){return n=getModularInstance(n),getToken$1(n,e)}registerMessagingInWindow();let Node$1=class{constructor(e){Qn(this,"value");Qn(this,"next");this.value=e}};var Ht,rn,an;class Queue{constructor(){Pn(this,Ht,void 0);Pn(this,rn,void 0);Pn(this,an,void 0);this.clear()}enqueue(e){const r=new Node$1(e);Qt(this,Ht)?(Qt(this,rn).next=r,qt(this,rn,r)):(qt(this,Ht,r),qt(this,rn,r)),Yn(this,an)._++}dequeue(){const e=Qt(this,Ht);if(e)return qt(this,Ht,Qt(this,Ht).next),Yn(this,an)._--,e.value}clear(){qt(this,Ht,void 0),qt(this,rn,void 0),qt(this,an,0)}get size(){return Qt(this,an)}*[Symbol.iterator](){let e=Qt(this,Ht);for(;e;)yield e.value,e=e.next}}Ht=new WeakMap,rn=new WeakMap,an=new WeakMap;function pLimit(n){if(!((Number.isInteger(n)||n===Number.POSITIVE_INFINITY)&&n>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const e=new Queue;let r=0;const s=()=>{r--,e.size>0&&e.dequeue()()},a=async(c,d,g)=>{r++;const b=(async()=>c(...g))();d(b);try{await b}catch{}s()},l=(c,d,g)=>{e.enqueue(a.bind(void 0,c,d,g)),(async()=>(await Promise.resolve(),r<n&&e.size>0&&e.dequeue()()))()},f=(c,...d)=>new Promise(g=>{l(c,g,d)});return Object.defineProperties(f,{activeCount:{get:()=>r},pendingCount:{get:()=>e.size},clearQueue:{value:()=>{e.clear()}}}),f}var vClickOutside_umdExports={},vClickOutside_umd={get exports(){return vClickOutside_umdExports},set exports(n){vClickOutside_umdExports=n}};(function(n,e){(function(r,s){n.exports=s()})(commonjsGlobal,function(){var r="__v-click-outside",s=typeof window<"u",a=typeof navigator<"u",l=s&&("ontouchstart"in window||a&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"],f=function(b){var m=b.event,_=b.handler;(0,b.middleware)(m)&&_(m)},c=function(b,m){var _=function(se){var le=typeof se=="function";if(!le&&typeof se!="object")throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:le?se:se.handler,middleware:se.middleware||function(ue){return ue},events:se.events||l,isActive:se.isActive!==!1,detectIframe:se.detectIframe!==!1,capture:Boolean(se.capture)}}(m.value),x=_.handler,k=_.middleware,q=_.detectIframe,j=_.capture;if(_.isActive){if(b[r]=_.events.map(function(se){return{event:se,srcTarget:document.documentElement,handler:function(le){return function(ue){var he=ue.el,ge=ue.event,ve=ue.handler,_e=ue.middleware,ye=ge.path||ge.composedPath&&ge.composedPath();(ye?ye.indexOf(he)<0:!he.contains(ge.target))&&f({event:ge,handler:ve,middleware:_e})}({el:b,event:le,handler:x,middleware:k})},capture:j}}),q){var ne={event:"blur",srcTarget:window,handler:function(se){return function(le){var ue=le.el,he=le.event,ge=le.handler,ve=le.middleware;setTimeout(function(){var _e=document.activeElement;_e&&_e.tagName==="IFRAME"&&!ue.contains(_e)&&f({event:he,handler:ge,middleware:ve})},0)}({el:b,event:se,handler:x,middleware:k})},capture:j};b[r]=[].concat(b[r],[ne])}b[r].forEach(function(se){var le=se.event,ue=se.srcTarget,he=se.handler;return setTimeout(function(){b[r]&&ue.addEventListener(le,he,j)},0)})}},d=function(b){(b[r]||[]).forEach(function(m){return m.srcTarget.removeEventListener(m.event,m.handler,m.capture)}),delete b[r]},g=s?{beforeMount:c,updated:function(b,m){var _=m.value,x=m.oldValue;JSON.stringify(_)!==JSON.stringify(x)&&(d(b),c(b,{value:_}))},unmounted:d}:{};return{install:function(b){b.directive("click-outside",g)},directive:g}})})(vClickOutside_umd);const vClickOutside=vClickOutside_umdExports;export{$vfm as $,Autolinker as A,isYesterday as B,createVNode as C,resolveDirective as D,throttle$1 as E,Fragment as F,debounce$2 as G,pushScopeId as H,popScopeId as I,entry_esm as J,vShow as K,videojs as L,resolveDynamicComponent as M,fa as N,F as O,howler as P,sha1 as Q,axios$1 as R,reactive as S,Transition as T,onUnmounted as U,VirtualList as V,RecordRTCExports as W,getBlobDuration as X,withKeys as Y,Picker as Z,ModalsContainer as _,useStore as a,lookup as a0,_default as a1,imageCompression as a2,pLimit as a3,initializeApp as a4,getMessagingInWindow as a5,getToken as a6,AxiosHeaders as a7,createI18n as a8,vfmPlugin as a9,vClickOutside as aa,createStore$4 as ab,createApp as ac,defineComponent as b,createElementBlock as c,dayjs_minExports as d,resolveComponent as e,createBlock as f,withCtx as g,createBaseVNode as h,createTextVNode as i,renderList as j,withModifiers as k,createCommentVNode as l,withDirectives as m,normalizeStyle as n,openBlock as o,vModelText as p,normalizeClass as q,ref as r,mergeProps as s,toDisplayString$1 as t,useI18n as u,v4 as v,watch as w,computed as x,unref as y,localizedFormat as z};
